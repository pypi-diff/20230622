# Comparing `tmp/edgedb-1.5.0.tar.gz` & `tmp/edgedb-2.0.0a1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "edgedb-1.5.0.tar", last modified: Thu Jun 22 16:08:25 2023, max compression
+gzip compressed data, was "edgedb-2.0.0a1.tar", last modified: Tue Feb 28 01:45:47 2023, max compression
```

## Comparing `edgedb-1.5.0.tar` & `edgedb-2.0.0a1.tar`

### file list

```diff
@@ -1,199 +1,197 @@
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.362866 edgedb-1.5.0/
--rw-r--r--   0 runner    (1001) docker     (123)    11357 2023-06-22 16:08:12.000000 edgedb-1.5.0/LICENSE
--rw-r--r--   0 runner    (1001) docker     (123)      209 2023-06-22 16:08:12.000000 edgedb-1.5.0/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (123)     1723 2023-06-22 16:08:12.000000 edgedb-1.5.0/Makefile
--rw-r--r--   0 runner    (1001) docker     (123)     2545 2023-06-22 16:08:25.362866 edgedb-1.5.0/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (123)     2150 2023-06-22 16:08:12.000000 edgedb-1.5.0/README.rst
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.322866 edgedb-1.5.0/docs/
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.322866 edgedb-1.5.0/docs/api/
--rw-r--r--   0 runner    (1001) docker     (123)    10790 2023-06-22 16:08:12.000000 edgedb-1.5.0/docs/api/advanced.rst
--rw-r--r--   0 runner    (1001) docker     (123)    25179 2023-06-22 16:08:12.000000 edgedb-1.5.0/docs/api/asyncio_client.rst
--rw-r--r--   0 runner    (1001) docker     (123)    24415 2023-06-22 16:08:12.000000 edgedb-1.5.0/docs/api/blocking_client.rst
--rw-r--r--   0 runner    (1001) docker     (123)     2163 2023-06-22 16:08:12.000000 edgedb-1.5.0/docs/api/codegen.rst
--rw-r--r--   0 runner    (1001) docker     (123)    10518 2023-06-22 16:08:12.000000 edgedb-1.5.0/docs/api/types.rst
--rw-r--r--   0 runner    (1001) docker     (123)     2839 2023-06-22 16:08:12.000000 edgedb-1.5.0/docs/conf.py
--rw-r--r--   0 runner    (1001) docker     (123)     1213 2023-06-22 16:08:12.000000 edgedb-1.5.0/docs/index.rst
--rw-r--r--   0 runner    (1001) docker     (123)     1339 2023-06-22 16:08:12.000000 edgedb-1.5.0/docs/installation.rst
--rw-r--r--   0 runner    (1001) docker     (123)     5087 2023-06-22 16:08:12.000000 edgedb-1.5.0/docs/usage.rst
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.326866 edgedb-1.5.0/edgedb/
--rw-r--r--   0 runner    (1001) docker     (123)     7633 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)    10172 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/_taskgroup.py
--rw-r--r--   0 runner    (1001) docker     (123)    18317 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/_testbase.py
--rw-r--r--   0 runner    (1001) docker     (123)     1255 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/_version.py
--rw-r--r--   0 runner    (1001) docker     (123)     9184 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/abstract.py
--rw-r--r--   0 runner    (1001) docker     (123)    13279 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/asyncio_client.py
--rw-r--r--   0 runner    (1001) docker     (123)    24859 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/base_client.py
--rw-r--r--   0 runner    (1001) docker     (123)    14084 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/blocking_client.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.326866 edgedb-1.5.0/edgedb/codegen/
--rw-r--r--   0 runner    (1001) docker     (123)      679 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/codegen/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)      742 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/codegen/__main__.py
--rw-r--r--   0 runner    (1001) docker     (123)     3052 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/codegen/cli.py
--rw-r--r--   0 runner    (1001) docker     (123)    20892 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/codegen/generator.py
--rw-r--r--   0 runner    (1001) docker     (123)     1267 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/color.py
--rw-r--r--   0 runner    (1001) docker     (123)     1641 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/compat.py
--rw-r--r--   0 runner    (1001) docker     (123)    36916 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/con_utils.py
--rw-r--r--   0 runner    (1001) docker     (123)     1785 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/connresource.py
--rw-r--r--   0 runner    (1001) docker     (123)     3450 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/credentials.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.334866 edgedb-1.5.0/edgedb/datatypes/
--rw-r--r--   0 runner    (1001) docker     (123)      679 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (123)      679 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)     1096 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/args.c
--rw-r--r--   0 runner    (1001) docker     (123)     2500 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/comp.c
--rw-r--r--   0 runner    (1001) docker     (123)      838 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/config_memory.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     2005 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/config_memory.pyx
--rw-r--r--   0 runner    (1001) docker     (123)   638092 2023-06-22 16:08:20.000000 edgedb-1.5.0/edgedb/datatypes/datatypes.c
--rw-r--r--   0 runner    (1001) docker     (123)     4286 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/datatypes.h
--rw-r--r--   0 runner    (1001) docker     (123)     2471 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/datatypes.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     3752 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/datatypes.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      892 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/date_duration.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     2056 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/date_duration.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1846 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/enum.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     6484 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/freelist.h
--rw-r--r--   0 runner    (1001) docker     (123)      943 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/hash.c
--rw-r--r--   0 runner    (1001) docker     (123)     1926 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/internal.h
--rw-r--r--   0 runner    (1001) docker     (123)     8616 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/link.c
--rw-r--r--   0 runner    (1001) docker     (123)     7364 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/linkset.c
--rw-r--r--   0 runner    (1001) docker     (123)    12825 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/namedtuple.c
--rw-r--r--   0 runner    (1001) docker     (123)     9174 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/object.c
--rw-r--r--   0 runner    (1001) docker     (123)    14356 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/pythoncapi_compat.h
--rw-r--r--   0 runner    (1001) docker     (123)     3320 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/range.py
--rw-r--r--   0 runner    (1001) docker     (123)    14513 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/record_desc.c
--rw-r--r--   0 runner    (1001) docker     (123)      951 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/relative_duration.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     3581 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/relative_duration.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     4141 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/datatypes/repr.c
--rw-r--r--   0 runner    (1001) docker     (123)     2019 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/describe.py
--rw-r--r--   0 runner    (1001) docker     (123)     2117 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/enums.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.334866 edgedb-1.5.0/edgedb/errors/
--rw-r--r--   0 runner    (1001) docker     (123)    11219 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/errors/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)     9250 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/errors/_base.py
--rw-r--r--   0 runner    (1001) docker     (123)      484 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/errors/tags.py
--rw-r--r--   0 runner    (1001) docker     (123)     1772 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/introspect.py
--rw-r--r--   0 runner    (1001) docker     (123)    12964 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/options.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.338866 edgedb-1.5.0/edgedb/pgproto/
--rw-r--r--   0 runner    (1001) docker     (123)      213 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (123)      213 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)     4382 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/buffer.pxd
--rw-r--r--   0 runner    (1001) docker     (123)    25310 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/buffer.pyx
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.342866 edgedb-1.5.0/edgedb/pgproto/codecs/
--rw-r--r--   0 runner    (1001) docker     (123)     5883 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     1475 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/bits.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      997 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/bytea.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      375 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/context.pyx
--rw-r--r--   0 runner    (1001) docker     (123)    12831 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/datetime.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1031 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/float.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     4665 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/geometry.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     2018 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/hstore.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     4527 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/int.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      821 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/json.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      833 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/jsonpath.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      484 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/misc.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     3917 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/network.pyx
--rw-r--r--   0 runner    (1001) docker     (123)    10046 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/numeric.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1814 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/pg_snapshot.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1510 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/text.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1549 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/tid.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      855 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/codecs/uuid.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      375 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/consts.pxi
--rw-r--r--   0 runner    (1001) docker     (123)      736 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/cpythonx.pxd
--rw-r--r--   0 runner    (1001) docker     (123)       43 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/debug.h
--rw-r--r--   0 runner    (1001) docker     (123)      263 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/debug.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     1240 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/frb.pxd
--rw-r--r--   0 runner    (1001) docker     (123)      409 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/frb.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     4846 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/hton.h
--rw-r--r--   0 runner    (1001) docker     (123)      953 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/hton.pxd
--rw-r--r--   0 runner    (1001) docker     (123)  1739318 2023-06-22 16:08:21.000000 edgedb-1.5.0/edgedb/pgproto/pgproto.c
--rw-r--r--   0 runner    (1001) docker     (123)      430 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/pgproto.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     1249 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/pgproto.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1490 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/tohex.h
--rw-r--r--   0 runner    (1001) docker     (123)      361 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/tohex.pxd
--rw-r--r--   0 runner    (1001) docker     (123)    12939 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/types.py
--rw-r--r--   0 runner    (1001) docker     (123)     9614 2023-06-22 16:08:13.000000 edgedb-1.5.0/edgedb/pgproto/uuid.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1362 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/platform.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.350866 edgedb-1.5.0/edgedb/protocol/
--rw-r--r--   0 runner    (1001) docker     (123)      679 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)   561140 2023-06-22 16:08:21.000000 edgedb-1.5.0/edgedb/protocol/asyncio_proto.c
--rw-r--r--   0 runner    (1001) docker     (123)      968 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/asyncio_proto.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     4459 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/asyncio_proto.pyx
--rw-r--r--   0 runner    (1001) docker     (123)   609498 2023-06-22 16:08:22.000000 edgedb-1.5.0/edgedb/protocol/blocking_proto.c
--rw-r--r--   0 runner    (1001) docker     (123)      963 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/blocking_proto.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     4634 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/blocking_proto.pyx
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.354866 edgedb-1.5.0/edgedb/protocol/codecs/
--rw-r--r--   0 runner    (1001) docker     (123)      981 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/array.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     5645 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/array.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1721 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/base.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     7296 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/base.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1301 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/codecs.pxd
--rw-r--r--   0 runner    (1001) docker     (123)    24149 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/codecs.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1790 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/edb_types.pxi
--rw-r--r--   0 runner    (1001) docker     (123)      830 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/enum.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     2224 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/enum.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      871 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/namedtuple.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     3023 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/namedtuple.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1013 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/object.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     9510 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/object.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      842 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/range.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     4884 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/range.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1057 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/scalar.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     2060 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/scalar.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      862 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/set.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     3479 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/set.pyx
--rw-r--r--   0 runner    (1001) docker     (123)      809 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/tuple.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     2883 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/codecs/tuple.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1885 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/consts.pxi
--rw-r--r--   0 runner    (1001) docker     (123)      676 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/cpythonx.pxd
--rw-r--r--   0 runner    (1001) docker     (123)      849 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/lru.pxd
--rw-r--r--   0 runner    (1001) docker     (123)     2759 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/lru.pyx
--rw-r--r--   0 runner    (1001) docker     (123)  4187102 2023-06-22 16:08:25.000000 edgedb-1.5.0/edgedb/protocol/protocol.c
--rw-r--r--   0 runner    (1001) docker     (123)     3951 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/protocol.pxd
--rw-r--r--   0 runner    (1001) docker     (123)    43404 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/protocol.pyx
--rw-r--r--   0 runner    (1001) docker     (123)     1182 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/protocol_v0.pxd
--rw-r--r--   0 runner    (1001) docker     (123)    21060 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/protocol/protocol_v0.pyx
--rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/py.typed
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.354866 edgedb-1.5.0/edgedb/scram/
--rw-r--r--   0 runner    (1001) docker     (123)    13221 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/scram/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)     2971 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/scram/saslprep.py
--rw-r--r--   0 runner    (1001) docker     (123)     7602 2023-06-22 16:08:12.000000 edgedb-1.5.0/edgedb/transaction.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.326866 edgedb-1.5.0/edgedb.egg-info/
--rw-r--r--   0 runner    (1001) docker     (123)     2545 2023-06-22 16:08:18.000000 edgedb-1.5.0/edgedb.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (123)     4903 2023-06-22 16:08:25.000000 edgedb-1.5.0/edgedb.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (123)        1 2023-06-22 16:08:18.000000 edgedb-1.5.0/edgedb.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (123)       54 2023-06-22 16:08:18.000000 edgedb-1.5.0/edgedb.egg-info/entry_points.txt
--rw-r--r--   0 runner    (1001) docker     (123)        1 2023-06-22 16:08:18.000000 edgedb-1.5.0/edgedb.egg-info/not-zip-safe
--rw-r--r--   0 runner    (1001) docker     (123)      728 2023-06-22 16:08:18.000000 edgedb-1.5.0/edgedb.egg-info/requires.txt
--rw-r--r--   0 runner    (1001) docker     (123)       13 2023-06-22 16:08:18.000000 edgedb-1.5.0/edgedb.egg-info/top_level.txt
--rw-r--r--   0 runner    (1001) docker     (123)       81 2023-06-22 16:08:12.000000 edgedb-1.5.0/pyproject.toml
--rw-r--r--   0 runner    (1001) docker     (123)       38 2023-06-22 16:08:25.362866 edgedb-1.5.0/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (123)    11244 2023-06-22 16:08:12.000000 edgedb-1.5.0/setup.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.358866 edgedb-1.5.0/tests/
--rw-r--r--   0 runner    (1001) docker     (123)     1093 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)     4196 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/bench_uuid.py
--rw-r--r--   0 runner    (1001) docker     (123)      106 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/credentials1.json
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.362866 edgedb-1.5.0/tests/datatypes/
--rw-r--r--   0 runner    (1001) docker     (123)      679 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/datatypes/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)    27252 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/datatypes/test_datatypes.py
--rw-r--r--   0 runner    (1001) docker     (123)     6851 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/datatypes/test_uuid.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-22 16:08:25.362866 edgedb-1.5.0/tests/shared-client-testcases/
--rw-r--r--   0 runner    (1001) docker     (123)   115348 2023-06-22 16:08:13.000000 edgedb-1.5.0/tests/shared-client-testcases/connection_testcases.json
--rw-r--r--   0 runner    (1001) docker     (123)      923 2023-06-22 16:08:13.000000 edgedb-1.5.0/tests/shared-client-testcases/project_path_hashing_testcases.json
--rw-r--r--   0 runner    (1001) docker     (123)    37387 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_async_query.py
--rw-r--r--   0 runner    (1001) docker     (123)     8352 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_async_retry.py
--rw-r--r--   0 runner    (1001) docker     (123)     3598 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_async_tx.py
--rw-r--r--   0 runner    (1001) docker     (123)    16410 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_asyncio_client.py
--rw-r--r--   0 runner    (1001) docker     (123)    15477 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_blocking_client.py
--rw-r--r--   0 runner    (1001) docker     (123)     3127 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_codegen.py
--rw-r--r--   0 runner    (1001) docker     (123)    22289 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_con_utils.py
--rw-r--r--   0 runner    (1001) docker     (123)     2725 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_connect.py
--rw-r--r--   0 runner    (1001) docker     (123)     6869 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_credentials.py
--rw-r--r--   0 runner    (1001) docker     (123)     5412 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_datetime.py
--rw-r--r--   0 runner    (1001) docker     (123)     3646 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_enum.py
--rw-r--r--   0 runner    (1001) docker     (123)     2008 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_errors.py
--rw-r--r--   0 runner    (1001) docker     (123)     2908 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_globals.py
--rw-r--r--   0 runner    (1001) docker     (123)     2196 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_memory.py
--rw-r--r--   0 runner    (1001) docker     (123)     3513 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_proto.py
--rw-r--r--   0 runner    (1001) docker     (123)     3080 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_scram.py
--rw-r--r--   0 runner    (1001) docker     (123)     1987 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_sourcecode.py
--rw-r--r--   0 runner    (1001) docker     (123)     4798 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_state.py
--rw-r--r--   0 runner    (1001) docker     (123)    30238 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_sync_query.py
--rw-r--r--   0 runner    (1001) docker     (123)     8397 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_sync_retry.py
--rw-r--r--   0 runner    (1001) docker     (123)     3852 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_sync_tx.py
--rw-r--r--   0 runner    (1001) docker     (123)     4065 2023-06-22 16:08:12.000000 edgedb-1.5.0/tests/test_vector.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.137873 edgedb-2.0.0a1/
+-rw-r--r--   0 runner    (1001) docker     (123)    11357 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/LICENSE
+-rw-r--r--   0 runner    (1001) docker     (123)      209 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (123)     1723 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/Makefile
+-rw-r--r--   0 runner    (1001) docker     (123)     2524 2023-02-28 01:45:47.137873 edgedb-2.0.0a1/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)     2150 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/README.rst
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.101873 edgedb-2.0.0a1/docs/
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.101873 edgedb-2.0.0a1/docs/api/
+-rw-r--r--   0 runner    (1001) docker     (123)    10790 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/docs/api/advanced.rst
+-rw-r--r--   0 runner    (1001) docker     (123)    25179 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/docs/api/asyncio_client.rst
+-rw-r--r--   0 runner    (1001) docker     (123)    24415 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/docs/api/blocking_client.rst
+-rw-r--r--   0 runner    (1001) docker     (123)     2163 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/docs/api/codegen.rst
+-rw-r--r--   0 runner    (1001) docker     (123)    10518 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/docs/api/types.rst
+-rw-r--r--   0 runner    (1001) docker     (123)     2839 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/docs/conf.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1120 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/docs/index.rst
+-rw-r--r--   0 runner    (1001) docker     (123)     1339 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/docs/installation.rst
+-rw-r--r--   0 runner    (1001) docker     (123)     5087 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/docs/usage.rst
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.105873 edgedb-2.0.0a1/edgedb/
+-rw-r--r--   0 runner    (1001) docker     (123)     7633 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10172 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/_taskgroup.py
+-rw-r--r--   0 runner    (1001) docker     (123)    18102 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/_testbase.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1257 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/_version.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9184 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/abstract.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12516 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/asyncio_client.py
+-rw-r--r--   0 runner    (1001) docker     (123)    24709 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/base_client.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13511 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/blocking_client.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.105873 edgedb-2.0.0a1/edgedb/codegen/
+-rw-r--r--   0 runner    (1001) docker     (123)      679 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/codegen/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      742 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/codegen/__main__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2928 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/codegen/cli.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19039 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/codegen/generator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1267 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/color.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1641 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/compat.py
+-rw-r--r--   0 runner    (1001) docker     (123)    36033 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/con_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1785 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/connresource.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3450 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/credentials.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.109873 edgedb-2.0.0a1/edgedb/datatypes/
+-rw-r--r--   0 runner    (1001) docker     (123)      679 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)      679 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1096 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/args.c
+-rw-r--r--   0 runner    (1001) docker     (123)     2500 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/comp.c
+-rw-r--r--   0 runner    (1001) docker     (123)      838 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/config_memory.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     2005 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/config_memory.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)   636325 2023-02-28 01:45:43.000000 edgedb-2.0.0a1/edgedb/datatypes/datatypes.c
+-rw-r--r--   0 runner    (1001) docker     (123)     4286 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/datatypes.h
+-rw-r--r--   0 runner    (1001) docker     (123)     2471 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/datatypes.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     3752 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/datatypes.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      892 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/date_duration.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     2056 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/date_duration.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1846 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/enum.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     6484 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/freelist.h
+-rw-r--r--   0 runner    (1001) docker     (123)      943 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/hash.c
+-rw-r--r--   0 runner    (1001) docker     (123)     1926 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/internal.h
+-rw-r--r--   0 runner    (1001) docker     (123)     8616 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/link.c
+-rw-r--r--   0 runner    (1001) docker     (123)     7364 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/linkset.c
+-rw-r--r--   0 runner    (1001) docker     (123)    12825 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/namedtuple.c
+-rw-r--r--   0 runner    (1001) docker     (123)     9174 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/object.c
+-rw-r--r--   0 runner    (1001) docker     (123)    14356 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/pythoncapi_compat.h
+-rw-r--r--   0 runner    (1001) docker     (123)     3320 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/range.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14513 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/record_desc.c
+-rw-r--r--   0 runner    (1001) docker     (123)      951 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/relative_duration.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     3581 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/relative_duration.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     4141 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/datatypes/repr.c
+-rw-r--r--   0 runner    (1001) docker     (123)     2019 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/describe.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2117 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/enums.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.109873 edgedb-2.0.0a1/edgedb/errors/
+-rw-r--r--   0 runner    (1001) docker     (123)    10882 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/errors/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9250 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/errors/_base.py
+-rw-r--r--   0 runner    (1001) docker     (123)      484 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/errors/tags.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1772 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/introspect.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12964 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/options.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.113873 edgedb-2.0.0a1/edgedb/pgproto/
+-rw-r--r--   0 runner    (1001) docker     (123)      213 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)      213 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4382 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/buffer.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)    25310 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/buffer.pyx
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.117873 edgedb-2.0.0a1/edgedb/pgproto/codecs/
+-rw-r--r--   0 runner    (1001) docker     (123)     5883 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     1475 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/bits.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      997 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/bytea.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      375 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/context.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)    12831 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/datetime.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1031 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/float.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     4665 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/geometry.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     2018 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/hstore.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     4527 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/int.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      821 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/json.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      833 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/jsonpath.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      484 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/misc.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     3917 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/network.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)    10046 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/numeric.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1814 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/pg_snapshot.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1510 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/text.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1549 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/tid.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      855 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/codecs/uuid.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      375 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/consts.pxi
+-rw-r--r--   0 runner    (1001) docker     (123)      736 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/cpythonx.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)       43 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/debug.h
+-rw-r--r--   0 runner    (1001) docker     (123)      263 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/debug.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     1240 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/frb.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)      409 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/frb.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     4846 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/hton.h
+-rw-r--r--   0 runner    (1001) docker     (123)      953 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/hton.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)  1737054 2023-02-28 01:45:44.000000 edgedb-2.0.0a1/edgedb/pgproto/pgproto.c
+-rw-r--r--   0 runner    (1001) docker     (123)      430 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/pgproto.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     1249 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/pgproto.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1490 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/tohex.h
+-rw-r--r--   0 runner    (1001) docker     (123)      361 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/tohex.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)    12939 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/types.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9614 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/edgedb/pgproto/uuid.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1362 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/platform.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.125873 edgedb-2.0.0a1/edgedb/protocol/
+-rw-r--r--   0 runner    (1001) docker     (123)      679 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)   556435 2023-02-28 01:45:45.000000 edgedb-2.0.0a1/edgedb/protocol/asyncio_proto.c
+-rw-r--r--   0 runner    (1001) docker     (123)      968 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/asyncio_proto.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     4459 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/asyncio_proto.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)   604774 2023-02-28 01:45:45.000000 edgedb-2.0.0a1/edgedb/protocol/blocking_proto.c
+-rw-r--r--   0 runner    (1001) docker     (123)      963 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/blocking_proto.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     4634 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/blocking_proto.pyx
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.129873 edgedb-2.0.0a1/edgedb/protocol/codecs/
+-rw-r--r--   0 runner    (1001) docker     (123)      981 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/array.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     5634 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/array.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1721 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/base.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     7296 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/base.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1301 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/codecs.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)    21697 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/codecs.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1863 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/edb_types.pxi
+-rw-r--r--   0 runner    (1001) docker     (123)      830 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/enum.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     2224 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/enum.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      871 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/namedtuple.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     3023 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/namedtuple.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1013 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/object.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     9510 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/object.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      842 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/range.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     4884 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/range.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1057 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/scalar.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     2060 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/scalar.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      862 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/set.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     3479 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/set.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)      809 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/tuple.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     2883 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/codecs/tuple.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1885 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/consts.pxi
+-rw-r--r--   0 runner    (1001) docker     (123)      676 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/cpythonx.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)      849 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/lru.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)     2759 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/lru.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)  3577132 2023-02-28 01:45:47.000000 edgedb-2.0.0a1/edgedb/protocol/protocol.c
+-rw-r--r--   0 runner    (1001) docker     (123)     3951 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/protocol.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)    43404 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/protocol.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)     1182 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/protocol_v0.pxd
+-rw-r--r--   0 runner    (1001) docker     (123)    21060 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/protocol/protocol_v0.pyx
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/py.typed
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.129873 edgedb-2.0.0a1/edgedb/scram/
+-rw-r--r--   0 runner    (1001) docker     (123)    13221 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/scram/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2971 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/scram/saslprep.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7602 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/edgedb/transaction.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.105873 edgedb-2.0.0a1/edgedb.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (123)     2524 2023-02-28 01:45:42.000000 edgedb-2.0.0a1/edgedb.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)     4867 2023-02-28 01:45:47.000000 edgedb-2.0.0a1/edgedb.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        1 2023-02-28 01:45:42.000000 edgedb-2.0.0a1/edgedb.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       54 2023-02-28 01:45:42.000000 edgedb-2.0.0a1/edgedb.egg-info/entry_points.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        1 2023-02-28 01:45:42.000000 edgedb-2.0.0a1/edgedb.egg-info/not-zip-safe
+-rw-r--r--   0 runner    (1001) docker     (123)      728 2023-02-28 01:45:42.000000 edgedb-2.0.0a1/edgedb.egg-info/requires.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        7 2023-02-28 01:45:42.000000 edgedb-2.0.0a1/edgedb.egg-info/top_level.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       38 2023-02-28 01:45:47.137873 edgedb-2.0.0a1/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (123)    11199 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.133873 edgedb-2.0.0a1/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)     1093 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4196 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/bench_uuid.py
+-rw-r--r--   0 runner    (1001) docker     (123)      106 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/credentials1.json
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.133873 edgedb-2.0.0a1/tests/datatypes/
+-rw-r--r--   0 runner    (1001) docker     (123)      679 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/datatypes/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    27252 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/datatypes/test_datatypes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6851 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/datatypes/test_uuid.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-02-28 01:45:47.133873 edgedb-2.0.0a1/tests/shared-client-testcases/
+-rw-r--r--   0 runner    (1001) docker     (123)   104077 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/tests/shared-client-testcases/connection_testcases.json
+-rw-r--r--   0 runner    (1001) docker     (123)      923 2023-02-28 01:45:37.000000 edgedb-2.0.0a1/tests/shared-client-testcases/project_path_hashing_testcases.json
+-rw-r--r--   0 runner    (1001) docker     (123)    36742 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_async_query.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8352 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_async_retry.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2944 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_async_tx.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16410 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_asyncio_client.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15477 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_blocking_client.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3126 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_codegen.py
+-rw-r--r--   0 runner    (1001) docker     (123)    21990 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_con_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2725 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_connect.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6869 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_credentials.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5412 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_datetime.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3353 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_enum.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2008 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_errors.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2908 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_globals.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2196 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_memory.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3513 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_proto.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3080 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_scram.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1987 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_sourcecode.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4798 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_state.py
+-rw-r--r--   0 runner    (1001) docker     (123)    29635 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_sync_query.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8397 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_sync_retry.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3124 2023-02-28 01:45:36.000000 edgedb-2.0.0a1/tests/test_sync_tx.py
```

### Comparing `edgedb-1.5.0/LICENSE` & `edgedb-2.0.0a1/LICENSE`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/Makefile` & `edgedb-2.0.0a1/Makefile`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/PKG-INFO` & `edgedb-2.0.0a1/PKG-INFO`

 * *Files 6% similar despite different names*

```diff
@@ -1,20 +1,19 @@
 Metadata-Version: 2.1
 Name: edgedb
-Version: 1.5.0
+Version: 2.0.0a1
 Summary: EdgeDB Python driver
 Home-page: https://github.com/edgedb/edgedb-python
 Author: MagicStack Inc
 Author-email: hello@magic.io
 License: Apache License, Version 2.0
 Platform: macOS
 Platform: POSIX
 Platform: Windows
 Provides: edgedb
-Requires-Python: >=3.7
 Provides-Extra: docs
 Provides-Extra: test
 Provides-Extra: dev
 License-File: LICENSE
 
 The Python driver for EdgeDB
 ============================
```

### Comparing `edgedb-1.5.0/README.rst` & `edgedb-2.0.0a1/README.rst`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/docs/api/advanced.rst` & `edgedb-2.0.0a1/docs/api/advanced.rst`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/docs/api/asyncio_client.rst` & `edgedb-2.0.0a1/docs/api/asyncio_client.rst`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/docs/api/blocking_client.rst` & `edgedb-2.0.0a1/docs/api/blocking_client.rst`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/docs/api/codegen.rst` & `edgedb-2.0.0a1/docs/api/codegen.rst`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/docs/api/types.rst` & `edgedb-2.0.0a1/docs/api/types.rst`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/docs/conf.py` & `edgedb-2.0.0a1/docs/conf.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/docs/index.rst` & `edgedb-2.0.0a1/docs/index.rst`

 * *Files 6% similar despite different names*

```diff
@@ -28,18 +28,14 @@
 
   Synchronous API reference.
 
 * :ref:`edgedb-python-datatypes`
 
   EdgeDB Python types documentation.
 
-* :ref:`edgedb-python-codegen`
-
-  Python code generation command-line tool documentation.
-  
 * :ref:`edgedb-python-advanced`
 
   Advanced usages of the state and optional customization.
 
 
 .. toctree::
    :maxdepth: 3
```

### Comparing `edgedb-1.5.0/docs/installation.rst` & `edgedb-2.0.0a1/docs/installation.rst`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/docs/usage.rst` & `edgedb-2.0.0a1/docs/usage.rst`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/__init__.py` & `edgedb-2.0.0a1/edgedb/__init__.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/_taskgroup.py` & `edgedb-2.0.0a1/edgedb/_taskgroup.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/_testbase.py` & `edgedb-2.0.0a1/edgedb/_testbase.py`

 * *Files 1% similar despite different names*

```diff
@@ -131,15 +131,15 @@
             args,
             env=env,
             cwd=tmpdir.name,
             stdout=server_stdout,
             stderr=subprocess.STDOUT,
         )
 
-        for _ in range(600):
+        for _ in range(250):
             try:
                 with open(status_file, 'rb') as f:
                     for line in f:
                         if line.startswith(b'READY='):
                             break
                     else:
                         raise RuntimeError('not ready')
@@ -167,19 +167,14 @@
                     ]
                 )
             else:
                 con_args['tls_ca_file'] = data['tls_cert_file']
 
         client = edgedb.create_client(password='test', **con_args)
         client.ensure_connected()
-        client.execute("""
-            # Set session_idle_transaction_timeout to 5 minutes.
-            CONFIGURE INSTANCE SET session_idle_transaction_timeout :=
-                <duration>'5 minutes';
-        """)
         _default_cluster = {
             'proc': p,
             'client': client,
             'con_args': con_args,
         }
 
         if 'tls_cert_file' in data:
```

### Comparing `edgedb-1.5.0/edgedb/_version.py` & `edgedb-2.0.0a1/edgedb/_version.py`

 * *Files 8% similar despite different names*

```diff
@@ -24,8 +24,8 @@
 # The commit message MUST contain a properly formatted release
 # log, and the commit must be signed.
 #
 # The release automation will: build and test the packages for the
 # supported platforms, publish the packages on PyPI, merge the PR
 # to the target branch, create a Git tag pointing to the commit.
 
-__version__ = '1.5.0'
+__version__ = '2.0.0a1'
```

### Comparing `edgedb-1.5.0/edgedb/abstract.py` & `edgedb-2.0.0a1/edgedb/abstract.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/asyncio_client.py` & `edgedb-2.0.0a1/edgedb/asyncio_client.py`

 * *Files 6% similar despite different names*

```diff
@@ -14,15 +14,14 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
 
 
 import asyncio
-import contextlib
 import logging
 import socket
 import ssl
 import typing
 
 from . import abstract
 from . import base_client
@@ -270,62 +269,39 @@
             'Check if you have any unreleased connections left. '
             'Use asyncio.wait_for() to set a timeout for '
             'AsyncIOClient.aclose().')
 
 
 class AsyncIOIteration(transaction.BaseTransaction, abstract.AsyncIOExecutor):
 
-    __slots__ = ("_managed", "_locked")
+    __slots__ = ("_managed",)
 
     def __init__(self, retry, client, iteration):
         super().__init__(retry, client, iteration)
         self._managed = False
-        self._locked = False
 
     async def __aenter__(self):
         if self._managed:
             raise errors.InterfaceError(
                 'cannot enter context: already in an `async with` block')
         self._managed = True
         return self
 
     async def __aexit__(self, extype, ex, tb):
-        with self._exclusive():
-            self._managed = False
-            return await self._exit(extype, ex)
+        self._managed = False
+        return await self._exit(extype, ex)
 
     async def _ensure_transaction(self):
         if not self._managed:
             raise errors.InterfaceError(
                 "Only managed retriable transactions are supported. "
                 "Use `async with transaction:`"
             )
         await super()._ensure_transaction()
 
-    async def _query(self, query_context: abstract.QueryContext):
-        with self._exclusive():
-            return await super()._query(query_context)
-
-    async def _execute(self, execute_context: abstract.ExecuteContext) -> None:
-        with self._exclusive():
-            await super()._execute(execute_context)
-
-    @contextlib.contextmanager
-    def _exclusive(self):
-        if self._locked:
-            raise errors.InterfaceError(
-                "concurrent queries within the same transaction "
-                "are not allowed"
-            )
-        self._locked = True
-        try:
-            yield
-        finally:
-            self._locked = False
-
 
 class AsyncIORetry(transaction.BaseRetry):
 
     def __aiter__(self):
         return self
 
     async def __anext__(self):
```

### Comparing `edgedb-1.5.0/edgedb/base_client.py` & `edgedb-2.0.0a1/edgedb/base_client.py`

 * *Files 1% similar despite different names*

```diff
@@ -182,18 +182,14 @@
                 query=execute_context.query.query,
                 args=execute_context.query.args,
                 kwargs=execute_context.query.kwargs,
                 reg=execute_context.cache.codecs_registry,
                 qc=execute_context.cache.query_cache,
                 output_format=protocol.OutputFormat.NONE,
                 allow_capabilities=enums.Capability.ALL,
-                state=(
-                    execute_context.state.as_dict()
-                    if execute_context.state else None
-                ),
             )
 
     def is_in_transaction(self) -> bool:
         """Return True if Connection is currently inside a transaction.
 
         :return bool: True if inside transaction, False otherwise.
         """
```

### Comparing `edgedb-1.5.0/edgedb/blocking_client.py` & `edgedb-2.0.0a1/edgedb/blocking_client.py`

 * *Files 3% similar despite different names*

```diff
@@ -13,15 +13,14 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
 
 
-import contextlib
 import datetime
 import queue
 import socket
 import ssl
 import threading
 import time
 import typing
@@ -268,61 +267,44 @@
         finally:
             self._closed = True
             self._closing = False
 
 
 class Iteration(transaction.BaseTransaction, abstract.Executor):
 
-    __slots__ = ("_managed", "_lock")
+    __slots__ = ("_managed",)
 
     def __init__(self, retry, client, iteration):
         super().__init__(retry, client, iteration)
         self._managed = False
-        self._lock = threading.Lock()
 
     def __enter__(self):
-        with self._exclusive():
-            if self._managed:
-                raise errors.InterfaceError(
-                    'cannot enter context: already in a `with` block')
-            self._managed = True
-            return self
+        if self._managed:
+            raise errors.InterfaceError(
+                'cannot enter context: already in a `with` block')
+        self._managed = True
+        return self
 
     def __exit__(self, extype, ex, tb):
-        with self._exclusive():
-            self._managed = False
-            return self._client._iter_coroutine(self._exit(extype, ex))
+        self._managed = False
+        return self._client._iter_coroutine(self._exit(extype, ex))
 
     async def _ensure_transaction(self):
         if not self._managed:
             raise errors.InterfaceError(
                 "Only managed retriable transactions are supported. "
                 "Use `with transaction:`"
             )
         await super()._ensure_transaction()
 
     def _query(self, query_context: abstract.QueryContext):
-        with self._exclusive():
-            return self._client._iter_coroutine(super()._query(query_context))
+        return self._client._iter_coroutine(super()._query(query_context))
 
     def _execute(self, execute_context: abstract.ExecuteContext) -> None:
-        with self._exclusive():
-            self._client._iter_coroutine(super()._execute(execute_context))
-
-    @contextlib.contextmanager
-    def _exclusive(self):
-        if not self._lock.acquire(blocking=False):
-            raise errors.InterfaceError(
-                "concurrent queries within the same transaction "
-                "are not allowed"
-            )
-        try:
-            yield
-        finally:
-            self._lock.release()
+        self._client._iter_coroutine(super()._execute(execute_context))
 
 
 class Retry(transaction.BaseRetry):
 
     def __iter__(self):
         return self
```

### Comparing `edgedb-1.5.0/edgedb/codegen/__init__.py` & `edgedb-2.0.0a1/edgedb/codegen/__init__.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/codegen/__main__.py` & `edgedb-2.0.0a1/edgedb/codegen/__main__.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/codegen/cli.py` & `edgedb-2.0.0a1/edgedb/codegen/cli.py`

 * *Files 6% similar despite different names*

```diff
@@ -53,19 +53,14 @@
 parser.add_argument(
     "--file",
     action="append",
     nargs="?",
     help="Generate a single file instead of one per .edgeql file.",
 )
 parser.add_argument(
-    "--dir",
-    action="append",
-    help="Only search .edgeql files under specified directories.",
-)
-parser.add_argument(
     "--target",
     choices=["blocking", "async"],
     nargs="*",
     default=["async"],
     help="Choose one or more targets to generate code (default is async)."
 )
 if sys.version_info[:2] >= (3, 9):
```

### Comparing `edgedb-1.5.0/edgedb/codegen/generator.py` & `edgedb-2.0.0a1/edgedb/codegen/generator.py`

 * *Files 6% similar despite different names*

```diff
@@ -141,28 +141,14 @@
                 "Cannot find edgedb.toml: "
                 "codegen must be run under an EdgeDB project dir"
             )
             sys.exit(2)
         print_msg(f"Found EdgeDB project: {C.BOLD}{self._project_dir}{C.ENDC}")
         self._client = edgedb.create_client(**_get_conn_args(args))
         self._single_mode_files = args.file
-        self._search_dirs = []
-        for search_dir in args.dir or []:
-            search_dir = pathlib.Path(search_dir).absolute()
-            if (
-                search_dir == self._project_dir
-                or self._project_dir in search_dir.parents
-            ):
-                self._search_dirs.append(search_dir)
-            else:
-                print(
-                    f"--dir '{search_dir}' is not under "
-                    f"the project directory: {self._project_dir}"
-                )
-                sys.exit(1)
         self._method_names = set()
         self._describe_results = []
 
         self._cache = {}
         self._imports = set()
         self._aliases = {}
         self._defs = {}
@@ -180,19 +166,15 @@
     def run(self):
         try:
             self._client.ensure_connected()
         except edgedb.EdgeDBError as e:
             print(f"Failed to connect to EdgeDB instance: {e}")
             sys.exit(61)
         with self._client:
-            if self._search_dirs:
-                for search_dir in self._search_dirs:
-                    self._process_dir(search_dir)
-            else:
-                self._process_dir(self._project_dir)
+            self._process_dir(self._project_dir)
         for target, suffix, is_async in SUFFIXES:
             if target in self._targets:
                 self._async = is_async
                 if self._single_mode_files:
                     self._generate_single_file(suffix)
                 else:
                     self._generate_files(suffix)
@@ -497,16 +479,16 @@
             self._defs[rv] = buf.getvalue().strip()
 
         elif isinstance(type_, describe.EnumType):
             rv = self._find_name(type_.name or name_hint)
             buf = io.StringIO()
             self._imports.add("enum")
             print(f"class {rv}(enum.Enum):", file=buf)
-            for member, member_id in self._to_unique_idents(type_.members):
-                print(f'{INDENT}{member_id.upper()} = "{member}"', file=buf)
+            for member in type_.members:
+                print(f'{INDENT}{member.upper()} = "{member}"', file=buf)
             self._defs[rv] = buf.getvalue().strip()
 
         elif isinstance(type_, describe.RangeType):
             value = self._generate_code(type_.value_type, name_hint)
             rv = f"edgedb.Range[{value}]"
 
         else:
@@ -551,41 +533,7 @@
 
     def _snake_to_camel(self, name: str) -> str:
         parts = name.split("_")
         if len(parts) > 1 or name.islower():
             return "".join(map(str.title, parts))
         else:
             return name
-
-    def _to_unique_idents(
-        self, names: typing.Iterable[typing.Tuple[str, str]]
-    ) -> typing.Iterator[str]:
-        dedup = set()
-        for name in names:
-            if name.isidentifier():
-                name_id = name
-                sep = name.endswith("_")
-            else:
-                sep = True
-                result = []
-                for i, c in enumerate(name):
-                    if c.isdigit():
-                        if i == 0:
-                            result.append("e_")
-                        result.append(c)
-                        sep = False
-                    elif c.isidentifier():
-                        result.append(c)
-                        sep = c == "_"
-                    elif not sep:
-                        result.append("_")
-                        sep = True
-                name_id = "".join(result)
-            rv = name_id
-            if not sep:
-                name_id = name_id + "_"
-            i = 1
-            while rv in dedup:
-                rv = f"{name_id}{i}"
-                i += 1
-            dedup.add(rv)
-            yield name, rv
```

### Comparing `edgedb-1.5.0/edgedb/color.py` & `edgedb-2.0.0a1/edgedb/color.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/compat.py` & `edgedb-2.0.0a1/edgedb/compat.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/con_utils.py` & `edgedb-2.0.0a1/edgedb/con_utils.py`

 * *Files 3% similar despite different names*

```diff
@@ -70,26 +70,16 @@
 HUMAN_MS_RE = re.compile(
     r'((?:(?:\s|^)-\s*)?\d*\.?\d*)\s*(?i:ms(\s|\d|\.|$)|milliseconds?(\s|$))',
 )
 HUMAN_US_RE = re.compile(
     r'((?:(?:\s|^)-\s*)?\d*\.?\d*)\s*(?i:us(\s|\d|\.|$)|microseconds?(\s|$))',
 )
 INSTANCE_NAME_RE = re.compile(
-    r'^(\w(?:-?\w)*)$',
-    re.ASCII,
+    r'^([A-Za-z_]\w*)(?:/([A-Za-z_]\w*))?$',
 )
-CLOUD_INSTANCE_NAME_RE = re.compile(
-    r'^([A-Za-z0-9](?:-?[A-Za-z0-9])*)/([A-Za-z0-9](?:-?[A-Za-z0-9])*)$',
-    re.ASCII,
-)
-DSN_RE = re.compile(
-    r'^[a-z]+://',
-    re.IGNORECASE,
-)
-DOMAIN_LABEL_MAX_LENGTH = 63
 
 
 class ClientConfiguration(typing.NamedTuple):
 
     connect_timeout: float
     command_timeout: float
     wait_until_available: float
@@ -525,18 +515,19 @@
     tls_ca_file,
     tls_security,
     server_settings,
     wait_until_available,
 ):
     resolved_config = ResolvedConnectConfig()
 
-    if dsn and DSN_RE.match(dsn):
-        instance_name = None
-    else:
-        instance_name, dsn = dsn, None
+    dsn, instance_name = (
+        (dsn, None)
+        if dsn is not None and re.match('(?i)^[a-z]+://', dsn)
+        else (None, dsn)
+    )
 
     has_compound_options = _resolve_config_options(
         resolved_config,
         'Cannot have more than one of the following connection options: '
         + '"dsn", "credentials", "credentials_file" or "host"/"port"',
         dsn=(dsn, '"dsn" option') if dsn is not None else None,
         instance_name=(
@@ -702,20 +693,14 @@
                     f'project linked instance ("{instance_name}")'
                 ),
                 cloud_profile=(
                     cloud_profile,
                     f'project defined cloud profile ("{cloud_profile}")'
                 ),
             )
-
-            opt_database_file = os.path.join(stash_dir, 'database')
-            if os.path.exists(opt_database_file):
-                with open(opt_database_file, 'rt') as f:
-                    database = f.read().strip()
-                resolved_config.set_database(database, "project")
         else:
             raise errors.ClientConnectionError(
                 f'Found `edgedb.toml` but the project is not initialized. '
                 f'Run `edgedb project init`.'
             )
 
     return resolved_config
@@ -872,24 +857,14 @@
 
 def _parse_cloud_instance_name_into_config(
     resolved_config: ResolvedConnectConfig,
     source: str,
     org_slug: str,
     instance_name: str,
 ):
-    org_slug = org_slug.lower()
-    instance_name = instance_name.lower()
-
-    label = f"{instance_name}--{org_slug}"
-    if len(label) > DOMAIN_LABEL_MAX_LENGTH:
-        raise ValueError(
-            f"invalid instance name: cloud instance name length cannot exceed "
-            f"{DOMAIN_LABEL_MAX_LENGTH - 1} characters: "
-            f"{org_slug}/{instance_name}"
-        )
     secret_key = resolved_config.secret_key
     if secret_key is None:
         try:
             config_dir = platform.config_dir()
             if resolved_config._cloud_profile is None:
                 profile = profile_src = "default"
             else:
@@ -910,15 +885,15 @@
         dns_zone = _jwt_base64_decode(secret_key.split(".", 2)[1])["iss"]
     except errors.EdgeDBError:
         raise
     except Exception:
         raise errors.ClientConnectionError("Invalid secret key")
     payload = f"{org_slug}/{instance_name}".encode("utf-8")
     dns_bucket = binascii.crc_hqx(payload, 0) % 100
-    host = f"{label}.c-{dns_bucket:02d}.i.{dns_zone}"
+    host = f"{instance_name}--{org_slug}.c-{dns_bucket:02d}.i.{dns_zone}"
     resolved_config.set_host(host, source)
 
 
 def _resolve_config_options(
     resolved_config: ResolvedConnectConfig,
     compound_error: str,
     *,
@@ -994,31 +969,31 @@
                 try:
                     cred_data = json.loads(credentials[0])
                 except ValueError as e:
                     raise RuntimeError(f"cannot read credentials") from e
                 else:
                     creds = cred_utils.validate_credentials(cred_data)
                 source = "credentials"
-            elif INSTANCE_NAME_RE.match(instance_name[0]):
-                source = instance_name[1]
-                creds = cred_utils.read_credentials(
-                    cred_utils.get_credentials_path(instance_name[0]),
-                )
             else:
-                name_match = CLOUD_INSTANCE_NAME_RE.match(instance_name[0])
+                name_match = INSTANCE_NAME_RE.match(instance_name[0])
                 if name_match is None:
                     raise ValueError(
                         f'invalid DSN or instance name: "{instance_name[0]}"'
                     )
                 source = instance_name[1]
                 org, inst = name_match.groups()
-                _parse_cloud_instance_name_into_config(
-                    resolved_config, source, org, inst
+                if inst is not None:
+                    _parse_cloud_instance_name_into_config(
+                        resolved_config, source, org, inst
+                    )
+                    return True
+
+                creds = cred_utils.read_credentials(
+                    cred_utils.get_credentials_path(instance_name[0]),
                 )
-                return True
 
             resolved_config.set_host(creds.get('host'), source)
             resolved_config.set_port(creds.get('port'), source)
             resolved_config.set_database(creds.get('database'), source)
             resolved_config.set_user(creds.get('user'), source)
             resolved_config.set_password(creds.get('password'), source)
             resolved_config.set_tls_ca_data(creds.get('tls_ca'), source)
```

### Comparing `edgedb-1.5.0/edgedb/connresource.py` & `edgedb-2.0.0a1/edgedb/connresource.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/credentials.py` & `edgedb-2.0.0a1/edgedb/credentials.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/__init__.pxd` & `edgedb-2.0.0a1/edgedb/datatypes/__init__.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/__init__.py` & `edgedb-2.0.0a1/edgedb/datatypes/__init__.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/args.c` & `edgedb-2.0.0a1/edgedb/datatypes/args.c`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/comp.c` & `edgedb-2.0.0a1/edgedb/datatypes/comp.c`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/config_memory.pxd` & `edgedb-2.0.0a1/edgedb/datatypes/config_memory.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/config_memory.pyx` & `edgedb-2.0.0a1/edgedb/datatypes/config_memory.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/datatypes.c` & `edgedb-2.0.0a1/edgedb/datatypes/datatypes.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-/* Generated by Cython 0.29.35 */
+/* Generated by Cython 0.29.33 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "edgedb/datatypes/datatypes.h"
         ],
@@ -40,16 +40,16 @@
 #endif /* PY_SSIZE_T_CLEAN */
 #include "Python.h"
 #ifndef Py_PYTHON_H
     #error Python headers needed to compile C extensions, please install development version of Python.
 #elif PY_VERSION_HEX < 0x02060000 || (0x03000000 <= PY_VERSION_HEX && PY_VERSION_HEX < 0x03030000)
     #error Cython requires Python 2.6+ or Python 3.3+.
 #else
-#define CYTHON_ABI "0_29_35"
-#define CYTHON_HEX_VERSION 0x001D23F0
+#define CYTHON_ABI "0_29_33"
+#define CYTHON_HEX_VERSION 0x001D21F0
 #define CYTHON_FUTURE_DIVISION 1
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -109,20 +109,16 @@
   #define CYTHON_ASSUME_SAFE_MACROS 0
   #undef CYTHON_UNPACK_METHODS
   #define CYTHON_UNPACK_METHODS 0
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
-  #if PY_VERSION_HEX < 0x03090000
-    #undef CYTHON_PEP489_MULTI_PHASE_INIT
-    #define CYTHON_PEP489_MULTI_PHASE_INIT 0
-  #elif !defined(CYTHON_PEP489_MULTI_PHASE_INIT)
-    #define CYTHON_PEP489_MULTI_PHASE_INIT 1
-  #endif
+  #undef CYTHON_PEP489_MULTI_PHASE_INIT
+  #define CYTHON_PEP489_MULTI_PHASE_INIT 0
   #undef CYTHON_USE_TP_FINALIZE
   #define CYTHON_USE_TP_FINALIZE 0
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
@@ -238,15 +234,15 @@
   #elif !defined(CYTHON_USE_ASYNC_SLOTS)
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
   #if PY_VERSION_HEX < 0x02070000
     #undef CYTHON_USE_PYLONG_INTERNALS
     #define CYTHON_USE_PYLONG_INTERNALS 0
   #elif !defined(CYTHON_USE_PYLONG_INTERNALS)
-    #define CYTHON_USE_PYLONG_INTERNALS (PY_VERSION_HEX < 0x030C00A5)
+    #define CYTHON_USE_PYLONG_INTERNALS 1
   #endif
   #ifndef CYTHON_USE_PYLIST_INTERNALS
     #define CYTHON_USE_PYLIST_INTERNALS 1
   #endif
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
@@ -277,15 +273,15 @@
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT (PY_VERSION_HEX >= 0x03050000)
   #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE (PY_VERSION_HEX >= 0x030400a1)
   #endif
   #ifndef CYTHON_USE_DICT_VERSIONS
-    #define CYTHON_USE_DICT_VERSIONS ((PY_VERSION_HEX >= 0x030600B1) && (PY_VERSION_HEX < 0x030C00A5))
+    #define CYTHON_USE_DICT_VERSIONS (PY_VERSION_HEX >= 0x030600B1)
   #endif
   #if PY_VERSION_HEX >= 0x030B00A4
     #undef CYTHON_USE_EXC_INFO_STACK
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK (PY_VERSION_HEX >= 0x030700A3)
   #endif
@@ -999,17 +995,17 @@
   "edgedb/datatypes/./relative_duration.pxd",
   "stringsource",
   "edgedb/datatypes/./date_duration.pyx",
   "edgedb/datatypes/./date_duration.pxd",
   "edgedb/datatypes/./enum.pyx",
   "edgedb/datatypes/./config_memory.pyx",
   "edgedb/datatypes/./config_memory.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/type.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/bool.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/complex.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/type.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/bool.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/complex.pxd",
 };
 
 /*--- Type declarations ---*/
 struct __pyx_obj_6edgedb_9datatypes_9datatypes_RelativeDuration;
 struct __pyx_obj_6edgedb_9datatypes_9datatypes_DateDuration;
 struct __pyx_obj_6edgedb_9datatypes_9datatypes_ConfigMemory;
 struct __pyx_obj_6edgedb_9datatypes_9datatypes___pyx_scope_struct__create_object_factory;
@@ -1567,30 +1563,22 @@
 /* PyObjectGetAttrStrNoError.proto */
 static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStrNoError(PyObject* obj, PyObject* attr_name);
 
 /* SetupReduce.proto */
 static int __Pyx_setup_reduce(PyObject* type_obj);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_0_29_35
-#define __PYX_HAVE_RT_ImportType_proto_0_29_35
-#if __STDC_VERSION__ >= 201112L
-#include <stdalign.h>
-#endif
-#if __STDC_VERSION__ >= 201112L || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_0_29_35(s) alignof(s)
-#else
-#define __PYX_GET_STRUCT_ALIGNMENT_0_29_35(s) sizeof(void*)
-#endif
-enum __Pyx_ImportType_CheckSize_0_29_35 {
-   __Pyx_ImportType_CheckSize_Error_0_29_35 = 0,
-   __Pyx_ImportType_CheckSize_Warn_0_29_35 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_0_29_35 = 2
+#ifndef __PYX_HAVE_RT_ImportType_proto
+#define __PYX_HAVE_RT_ImportType_proto
+enum __Pyx_ImportType_CheckSize {
+   __Pyx_ImportType_CheckSize_Error = 0,
+   __Pyx_ImportType_CheckSize_Warn = 1,
+   __Pyx_ImportType_CheckSize_Ignore = 2
 };
-static PyTypeObject *__Pyx_ImportType_0_29_35(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_0_29_35 check_size);
+static PyTypeObject *__Pyx_ImportType(PyObject* module, const char *module_name, const char *class_name, size_t size, enum __Pyx_ImportType_CheckSize check_size);
 #endif
 
 /* CalculateMetaclass.proto */
 static PyObject *__Pyx_CalculateMetaclass(PyTypeObject *metaclass, PyObject *bases);
 
 /* SetNameInClass.proto */
 #if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX >= 0x030500A1
@@ -9914,15 +9902,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static PyObject *__pyx_tp_new_6edgedb_9datatypes_9datatypes_DateDuration(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   o = (*t->tp_alloc)(t, 0);
@@ -10039,15 +10027,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static PyObject *__pyx_tp_new_6edgedb_9datatypes_9datatypes_ConfigMemory(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   o = (*t->tp_alloc)(t, 0);
@@ -10160,15 +10148,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_9datatypes_9datatypes___pyx_scope_struct__create_object_factory *__pyx_freelist_6edgedb_9datatypes_9datatypes___pyx_scope_struct__create_object_factory[8];
 static int __pyx_freecount_6edgedb_9datatypes_9datatypes___pyx_scope_struct__create_object_factory = 0;
 
@@ -10285,15 +10273,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static PyMethodDef __pyx_methods[] = {
   {0, 0, 0, 0}
 };
@@ -10795,29 +10783,32 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
+  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
   #if defined(PYPY_VERSION_NUM) && PYPY_VERSION_NUM < 0x050B0000
-  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyTypeObject),
+  sizeof(PyTypeObject),
   #else
-  sizeof(PyHeapTypeObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyHeapTypeObject),
+  sizeof(PyHeapTypeObject),
   #endif
-  __Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(9, 9, __pyx_L1_error)
+  __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(9, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyBoolObject),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(10, 8, __pyx_L1_error)
+  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(10, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyComplexObject),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(11, 15, __pyx_L1_error)
+  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -11838,28 +11829,28 @@
                             "BaseException");
             goto bad;
         }
         PyException_SetCause(value, fixed_cause);
     }
     PyErr_SetObject(type, value);
     if (tb) {
-#if CYTHON_FAST_THREAD_STATE
+#if CYTHON_COMPILING_IN_PYPY
+        PyObject *tmp_type, *tmp_value, *tmp_tb;
+        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
+        Py_INCREF(tb);
+        PyErr_Restore(tmp_type, tmp_value, tb);
+        Py_XDECREF(tmp_tb);
+#else
         PyThreadState *tstate = __Pyx_PyThreadState_Current;
         PyObject* tmp_tb = tstate->curexc_traceback;
         if (tb != tmp_tb) {
             Py_INCREF(tb);
             tstate->curexc_traceback = tb;
             Py_XDECREF(tmp_tb);
         }
-#else
-        PyObject *tmp_type, *tmp_value, *tmp_tb;
-        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
-        Py_INCREF(tb);
-        PyErr_Restore(tmp_type, tmp_value, tb);
-        Py_XDECREF(tmp_tb);
 #endif
     }
 bad:
     Py_XDECREF(owned_instance);
     return;
 }
 #endif
@@ -13705,18 +13696,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
     0,
 #endif
 #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
     0,
 #endif
-#if PY_VERSION_HEX >= 0x030C0000
-    0,
-#endif
-#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
     0,
 #endif
 };
 static int __pyx_CyFunction_init(void) {
     __pyx_CyFunctionType = __Pyx_FetchCommonType(&__pyx_CyFunctionType_type);
     if (unlikely(__pyx_CyFunctionType == NULL)) {
         return -1;
@@ -13957,79 +13945,61 @@
     Py_XDECREF(reduce_cython);
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_0_29_35
-#define __PYX_HAVE_RT_ImportType_0_29_35
-static PyTypeObject *__Pyx_ImportType_0_29_35(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_0_29_35 check_size)
+#ifndef __PYX_HAVE_RT_ImportType
+#define __PYX_HAVE_RT_ImportType
+static PyTypeObject *__Pyx_ImportType(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, enum __Pyx_ImportType_CheckSize check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
-    Py_ssize_t itemsize;
 #ifdef Py_LIMITED_API
     PyObject *py_basicsize;
-    PyObject *py_itemsize;
 #endif
     result = PyObject_GetAttrString(module, class_name);
     if (!result)
         goto bad;
     if (!PyType_Check(result)) {
         PyErr_Format(PyExc_TypeError,
             "%.200s.%.200s is not a type object",
             module_name, class_name);
         goto bad;
     }
 #ifndef Py_LIMITED_API
     basicsize = ((PyTypeObject *)result)->tp_basicsize;
-    itemsize = ((PyTypeObject *)result)->tp_itemsize;
 #else
     py_basicsize = PyObject_GetAttrString(result, "__basicsize__");
     if (!py_basicsize)
         goto bad;
     basicsize = PyLong_AsSsize_t(py_basicsize);
     Py_DECREF(py_basicsize);
     py_basicsize = 0;
     if (basicsize == (Py_ssize_t)-1 && PyErr_Occurred())
         goto bad;
-    py_itemsize = PyObject_GetAttrString(result, "__itemsize__");
-    if (!py_itemsize)
-        goto bad;
-    itemsize = PyLong_AsSsize_t(py_itemsize);
-    Py_DECREF(py_itemsize);
-    py_itemsize = 0;
-    if (itemsize == (Py_ssize_t)-1 && PyErr_Occurred())
-        goto bad;
 #endif
-    if (itemsize) {
-        if (size % alignment) {
-            alignment = size % alignment;
-        }
-        if (itemsize < (Py_ssize_t)alignment)
-            itemsize = (Py_ssize_t)alignment;
-    }
-    if ((size_t)(basicsize + itemsize) < size) {
+    if ((size_t)basicsize < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_0_29_35 && (size_t)basicsize != size) {
+    if (check_size == __Pyx_ImportType_CheckSize_Error && (size_t)basicsize != size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_0_29_35 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -14490,15 +14460,15 @@
                         } else if (8 * sizeof(int32_t) >= 4 * PyLong_SHIFT) {
                             return (int32_t) (((((((((int32_t)digits[3]) << PyLong_SHIFT) | (int32_t)digits[2]) << PyLong_SHIFT) | (int32_t)digits[1]) << PyLong_SHIFT) | (int32_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -14724,15 +14694,15 @@
                         } else if (8 * sizeof(int64_t) >= 4 * PyLong_SHIFT) {
                             return (int64_t) (((((((((int64_t)digits[3]) << PyLong_SHIFT) | (int64_t)digits[2]) << PyLong_SHIFT) | (int64_t)digits[1]) << PyLong_SHIFT) | (int64_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -14958,15 +14928,15 @@
                         } else if (8 * sizeof(long) >= 4 * PyLong_SHIFT) {
                             return (long) (((((((((long)digits[3]) << PyLong_SHIFT) | (long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -15230,15 +15200,15 @@
                         } else if (8 * sizeof(int) >= 4 * PyLong_SHIFT) {
                             return (int) (((((((((int)digits[3]) << PyLong_SHIFT) | (int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
```

### Comparing `edgedb-1.5.0/edgedb/datatypes/datatypes.h` & `edgedb-2.0.0a1/edgedb/datatypes/datatypes.h`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/datatypes.pxd` & `edgedb-2.0.0a1/edgedb/datatypes/datatypes.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/datatypes.pyx` & `edgedb-2.0.0a1/edgedb/datatypes/datatypes.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/date_duration.pxd` & `edgedb-2.0.0a1/edgedb/datatypes/date_duration.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/date_duration.pyx` & `edgedb-2.0.0a1/edgedb/datatypes/date_duration.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/enum.pyx` & `edgedb-2.0.0a1/edgedb/datatypes/enum.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/freelist.h` & `edgedb-2.0.0a1/edgedb/datatypes/freelist.h`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/hash.c` & `edgedb-2.0.0a1/edgedb/datatypes/hash.c`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/internal.h` & `edgedb-2.0.0a1/edgedb/datatypes/internal.h`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/link.c` & `edgedb-2.0.0a1/edgedb/datatypes/link.c`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/linkset.c` & `edgedb-2.0.0a1/edgedb/datatypes/linkset.c`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/namedtuple.c` & `edgedb-2.0.0a1/edgedb/datatypes/namedtuple.c`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/object.c` & `edgedb-2.0.0a1/edgedb/datatypes/object.c`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/pythoncapi_compat.h` & `edgedb-2.0.0a1/edgedb/datatypes/pythoncapi_compat.h`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/range.py` & `edgedb-2.0.0a1/edgedb/datatypes/range.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/record_desc.c` & `edgedb-2.0.0a1/edgedb/datatypes/record_desc.c`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/relative_duration.pxd` & `edgedb-2.0.0a1/edgedb/datatypes/relative_duration.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/relative_duration.pyx` & `edgedb-2.0.0a1/edgedb/datatypes/relative_duration.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/datatypes/repr.c` & `edgedb-2.0.0a1/edgedb/datatypes/repr.c`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/describe.py` & `edgedb-2.0.0a1/edgedb/describe.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/enums.py` & `edgedb-2.0.0a1/edgedb/enums.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/errors/__init__.py` & `edgedb-2.0.0a1/edgedb/errors/__init__.py`

 * *Files 0% similar despite different names*

```diff
@@ -64,35 +64,32 @@
     'DuplicateUserDefinitionError',
     'DuplicateDatabaseDefinitionError',
     'DuplicateOperatorDefinitionError',
     'DuplicateViewDefinitionError',
     'DuplicateFunctionDefinitionError',
     'DuplicateConstraintDefinitionError',
     'DuplicateCastDefinitionError',
-    'DuplicateMigrationError',
     'SessionTimeoutError',
     'IdleSessionTimeoutError',
     'QueryTimeoutError',
     'TransactionTimeoutError',
     'IdleTransactionTimeoutError',
     'ExecutionError',
     'InvalidValueError',
     'DivisionByZeroError',
     'NumericOutOfRangeError',
     'AccessPolicyError',
-    'QueryAssertionError',
     'IntegrityError',
     'ConstraintViolationError',
     'CardinalityViolationError',
     'MissingRequiredError',
     'TransactionError',
     'TransactionConflictError',
     'TransactionSerializationError',
     'TransactionDeadlockError',
-    'WatchError',
     'ConfigurationError',
     'AccessError',
     'AuthenticationError',
     'AvailabilityError',
     'BackendUnavailableError',
     'BackendError',
     'UnsupportedBackendFeatureError',
@@ -327,25 +324,20 @@
     _code = 0x_04_05_02_09
 
 
 class DuplicateCastDefinitionError(DuplicateDefinitionError):
     _code = 0x_04_05_02_0A
 
 
-class DuplicateMigrationError(DuplicateDefinitionError):
-    _code = 0x_04_05_02_0B
-
-
 class SessionTimeoutError(QueryError):
     _code = 0x_04_06_00_00
 
 
 class IdleSessionTimeoutError(SessionTimeoutError):
     _code = 0x_04_06_01_00
-    tags = frozenset({SHOULD_RETRY})
 
 
 class QueryTimeoutError(SessionTimeoutError):
     _code = 0x_04_06_02_00
 
 
 class TransactionTimeoutError(SessionTimeoutError):
@@ -372,18 +364,14 @@
     _code = 0x_05_01_00_02
 
 
 class AccessPolicyError(InvalidValueError):
     _code = 0x_05_01_00_03
 
 
-class QueryAssertionError(InvalidValueError):
-    _code = 0x_05_01_00_04
-
-
 class IntegrityError(ExecutionError):
     _code = 0x_05_02_00_00
 
 
 class ConstraintViolationError(IntegrityError):
     _code = 0x_05_02_00_01
 
@@ -411,18 +399,14 @@
 
 
 class TransactionDeadlockError(TransactionConflictError):
     _code = 0x_05_03_01_02
     tags = frozenset({SHOULD_RETRY})
 
 
-class WatchError(ExecutionError):
-    _code = 0x_05_04_00_00
-
-
 class ConfigurationError(EdgeDBError):
     _code = 0x_06_00_00_00
 
 
 class AccessError(EdgeDBError):
     _code = 0x_07_00_00_00
```

### Comparing `edgedb-1.5.0/edgedb/errors/_base.py` & `edgedb-2.0.0a1/edgedb/errors/_base.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/introspect.py` & `edgedb-2.0.0a1/edgedb/introspect.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/options.py` & `edgedb-2.0.0a1/edgedb/options.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/buffer.pxd` & `edgedb-2.0.0a1/edgedb/pgproto/buffer.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/buffer.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/buffer.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/__init__.pxd` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/__init__.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/bits.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/bits.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/bytea.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/bytea.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/datetime.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/datetime.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/float.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/float.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/geometry.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/geometry.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/hstore.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/hstore.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/int.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/int.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/json.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/json.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/jsonpath.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/jsonpath.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/network.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/network.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/numeric.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/numeric.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/pg_snapshot.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/pg_snapshot.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/text.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/text.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/tid.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/tid.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/codecs/uuid.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/codecs/uuid.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/cpythonx.pxd` & `edgedb-2.0.0a1/edgedb/pgproto/cpythonx.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/frb.pxd` & `edgedb-2.0.0a1/edgedb/pgproto/frb.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/hton.h` & `edgedb-2.0.0a1/edgedb/pgproto/hton.h`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/hton.pxd` & `edgedb-2.0.0a1/edgedb/pgproto/hton.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/pgproto.c` & `edgedb-2.0.0a1/edgedb/pgproto/pgproto.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-/* Generated by Cython 0.29.35 */
+/* Generated by Cython 0.29.33 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "edgedb/pgproto/debug.h"
         ],
@@ -31,16 +31,16 @@
 #endif /* PY_SSIZE_T_CLEAN */
 #include "Python.h"
 #ifndef Py_PYTHON_H
     #error Python headers needed to compile C extensions, please install development version of Python.
 #elif PY_VERSION_HEX < 0x02060000 || (0x03000000 <= PY_VERSION_HEX && PY_VERSION_HEX < 0x03030000)
     #error Cython requires Python 2.6+ or Python 3.3+.
 #else
-#define CYTHON_ABI "0_29_35"
-#define CYTHON_HEX_VERSION 0x001D23F0
+#define CYTHON_ABI "0_29_33"
+#define CYTHON_HEX_VERSION 0x001D21F0
 #define CYTHON_FUTURE_DIVISION 1
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -100,20 +100,16 @@
   #define CYTHON_ASSUME_SAFE_MACROS 0
   #undef CYTHON_UNPACK_METHODS
   #define CYTHON_UNPACK_METHODS 0
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
-  #if PY_VERSION_HEX < 0x03090000
-    #undef CYTHON_PEP489_MULTI_PHASE_INIT
-    #define CYTHON_PEP489_MULTI_PHASE_INIT 0
-  #elif !defined(CYTHON_PEP489_MULTI_PHASE_INIT)
-    #define CYTHON_PEP489_MULTI_PHASE_INIT 1
-  #endif
+  #undef CYTHON_PEP489_MULTI_PHASE_INIT
+  #define CYTHON_PEP489_MULTI_PHASE_INIT 0
   #undef CYTHON_USE_TP_FINALIZE
   #define CYTHON_USE_TP_FINALIZE 0
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
@@ -229,15 +225,15 @@
   #elif !defined(CYTHON_USE_ASYNC_SLOTS)
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
   #if PY_VERSION_HEX < 0x02070000
     #undef CYTHON_USE_PYLONG_INTERNALS
     #define CYTHON_USE_PYLONG_INTERNALS 0
   #elif !defined(CYTHON_USE_PYLONG_INTERNALS)
-    #define CYTHON_USE_PYLONG_INTERNALS (PY_VERSION_HEX < 0x030C00A5)
+    #define CYTHON_USE_PYLONG_INTERNALS 1
   #endif
   #ifndef CYTHON_USE_PYLIST_INTERNALS
     #define CYTHON_USE_PYLIST_INTERNALS 1
   #endif
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
@@ -268,15 +264,15 @@
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT (PY_VERSION_HEX >= 0x03050000)
   #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE (PY_VERSION_HEX >= 0x030400a1)
   #endif
   #ifndef CYTHON_USE_DICT_VERSIONS
-    #define CYTHON_USE_DICT_VERSIONS ((PY_VERSION_HEX >= 0x030600B1) && (PY_VERSION_HEX < 0x030C00A5))
+    #define CYTHON_USE_DICT_VERSIONS (PY_VERSION_HEX >= 0x030600B1)
   #endif
   #if PY_VERSION_HEX >= 0x030B00A4
     #undef CYTHON_USE_EXC_INFO_STACK
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK (PY_VERSION_HEX >= 0x030700A3)
   #endif
@@ -1008,19 +1004,19 @@
   "edgedb/pgproto/./codecs/hstore.pyx",
   "edgedb/pgproto/./codecs/misc.pyx",
   "edgedb/pgproto/./codecs/network.pyx",
   "edgedb/pgproto/./codecs/tid.pyx",
   "edgedb/pgproto/./codecs/pg_snapshot.pyx",
   "edgedb/pgproto/./frb.pxd",
   "edgedb/pgproto/./buffer.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/datetime.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/datetime.pxd",
   "edgedb/pgproto/pgproto.pyx",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/type.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/bool.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/complex.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/type.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/bool.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/complex.pxd",
 };
 
 /*--- Type declarations ---*/
 struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer;
 struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer;
 struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext;
 struct __pyx_obj_6edgedb_7pgproto_7pgproto___UUIDReplaceMe;
@@ -1853,30 +1849,22 @@
 #if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
 static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name);
 #else
 #define __Pyx_PyObject_GenericGetAttr PyObject_GenericGetAttr
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_0_29_35
-#define __PYX_HAVE_RT_ImportType_proto_0_29_35
-#if __STDC_VERSION__ >= 201112L
-#include <stdalign.h>
-#endif
-#if __STDC_VERSION__ >= 201112L || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_0_29_35(s) alignof(s)
-#else
-#define __PYX_GET_STRUCT_ALIGNMENT_0_29_35(s) sizeof(void*)
-#endif
-enum __Pyx_ImportType_CheckSize_0_29_35 {
-   __Pyx_ImportType_CheckSize_Error_0_29_35 = 0,
-   __Pyx_ImportType_CheckSize_Warn_0_29_35 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_0_29_35 = 2
+#ifndef __PYX_HAVE_RT_ImportType_proto
+#define __PYX_HAVE_RT_ImportType_proto
+enum __Pyx_ImportType_CheckSize {
+   __Pyx_ImportType_CheckSize_Error = 0,
+   __Pyx_ImportType_CheckSize_Warn = 1,
+   __Pyx_ImportType_CheckSize_Ignore = 2
 };
-static PyTypeObject *__Pyx_ImportType_0_29_35(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_0_29_35 check_size);
+static PyTypeObject *__Pyx_ImportType(PyObject* module, const char *module_name, const char *class_name, size_t size, enum __Pyx_ImportType_CheckSize check_size);
 #endif
 
 /* CalculateMetaclass.proto */
 static PyObject *__Pyx_CalculateMetaclass(PyTypeObject *metaclass, PyObject *bases);
 
 /* Py3ClassCreate.proto */
 static PyObject *__Pyx_Py3MetaclassPrepare(PyObject *metaclass, PyObject *bases, PyObject *name, PyObject *qualname,
@@ -34761,15 +34749,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 static struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_ReadBuffer __pyx_vtable_6edgedb_7pgproto_7pgproto_ReadBuffer;
 
 static struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer *__pyx_freelist_6edgedb_7pgproto_7pgproto_ReadBuffer[256];
 static int __pyx_freecount_6edgedb_7pgproto_7pgproto_ReadBuffer = 0;
@@ -34899,15 +34887,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 static struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_CodecContext __pyx_vtable_6edgedb_7pgproto_7pgproto_CodecContext;
 
 static PyObject *__pyx_tp_new_6edgedb_7pgproto_7pgproto_CodecContext(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *p;
@@ -35002,15 +34990,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static PyObject *__pyx_tp_new_6edgedb_7pgproto_7pgproto___UUIDReplaceMe(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
@@ -35100,15 +35088,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static PyObject *__pyx_tp_new_6edgedb_7pgproto_7pgproto_UUID(PyTypeObject *t, PyObject *a, PyObject *k) {
   struct __pyx_obj_6edgedb_7pgproto_7pgproto_UUID *p;
   PyObject *o = __pyx_tp_new_6edgedb_7pgproto_7pgproto___UUIDReplaceMe(t, a, k);
@@ -35125,15 +35113,18 @@
 
 static void __pyx_tp_dealloc_6edgedb_7pgproto_7pgproto_UUID(PyObject *o) {
   struct __pyx_obj_6edgedb_7pgproto_7pgproto_UUID *p = (struct __pyx_obj_6edgedb_7pgproto_7pgproto_UUID *)o;
   PyObject_GC_UnTrack(o);
   if (p->__weakref__) PyObject_ClearWeakRefs(o);
   Py_CLEAR(p->_int);
   Py_CLEAR(p->_hash);
-  if (PyType_IS_GC(__pyx_ptype_6edgedb_7pgproto_7pgproto___UUIDReplaceMe)) PyObject_GC_Track(o);
+  #if CYTHON_USE_TYPE_SLOTS
+  if (PyType_IS_GC(Py_TYPE(o)->tp_base))
+  #endif
+  PyObject_GC_Track(o);
   __pyx_tp_dealloc_6edgedb_7pgproto_7pgproto___UUIDReplaceMe(o);
 }
 
 static int __pyx_tp_traverse_6edgedb_7pgproto_7pgproto_UUID(PyObject *o, visitproc v, void *a) {
   int e;
   struct __pyx_obj_6edgedb_7pgproto_7pgproto_UUID *p = (struct __pyx_obj_6edgedb_7pgproto_7pgproto_UUID *)o;
   e = ((likely(__pyx_ptype_6edgedb_7pgproto_7pgproto___UUIDReplaceMe)) ? ((__pyx_ptype_6edgedb_7pgproto_7pgproto___UUIDReplaceMe->tp_traverse) ? __pyx_ptype_6edgedb_7pgproto_7pgproto___UUIDReplaceMe->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_7pgproto_7pgproto_UUID)); if (e) return e;
@@ -35391,15 +35382,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static PyMethodDef __pyx_methods[] = {
   {0, 0, 0, 0}
 };
@@ -36383,37 +36374,45 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(25, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
+  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
   #if defined(PYPY_VERSION_NUM) && PYPY_VERSION_NUM < 0x050B0000
-  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyTypeObject),
+  sizeof(PyTypeObject),
   #else
-  sizeof(PyHeapTypeObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyHeapTypeObject),
+  sizeof(PyHeapTypeObject),
   #endif
-  __Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(25, 9, __pyx_L1_error)
+  __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(25, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(26, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyBoolObject),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(26, 8, __pyx_L1_error)
+  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(26, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(27, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyComplexObject),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(27, 15, __pyx_L1_error)
+  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(27, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("datetime"); if (unlikely(!__pyx_t_1)) __PYX_ERR(23, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_8datetime_date = __Pyx_ImportType_0_29_35(__pyx_t_1, "datetime", "date", sizeof(PyDateTime_Date), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyDateTime_Date),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_8datetime_date) __PYX_ERR(23, 9, __pyx_L1_error)
-  __pyx_ptype_7cpython_8datetime_time = __Pyx_ImportType_0_29_35(__pyx_t_1, "datetime", "time", sizeof(PyDateTime_Time), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyDateTime_Time),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_8datetime_time) __PYX_ERR(23, 12, __pyx_L1_error)
-  __pyx_ptype_7cpython_8datetime_datetime = __Pyx_ImportType_0_29_35(__pyx_t_1, "datetime", "datetime", sizeof(PyDateTime_DateTime), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyDateTime_DateTime),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_8datetime_datetime) __PYX_ERR(23, 15, __pyx_L1_error)
-  __pyx_ptype_7cpython_8datetime_timedelta = __Pyx_ImportType_0_29_35(__pyx_t_1, "datetime", "timedelta", sizeof(PyDateTime_Delta), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyDateTime_Delta),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_8datetime_timedelta) __PYX_ERR(23, 18, __pyx_L1_error)
-  __pyx_ptype_7cpython_8datetime_tzinfo = __Pyx_ImportType_0_29_35(__pyx_t_1, "datetime", "tzinfo", sizeof(PyDateTime_TZInfo), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyDateTime_TZInfo),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_8datetime_tzinfo) __PYX_ERR(23, 21, __pyx_L1_error)
+  __pyx_ptype_7cpython_8datetime_date = __Pyx_ImportType(__pyx_t_1, "datetime", "date", sizeof(PyDateTime_Date), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_8datetime_date) __PYX_ERR(23, 9, __pyx_L1_error)
+  __pyx_ptype_7cpython_8datetime_time = __Pyx_ImportType(__pyx_t_1, "datetime", "time", sizeof(PyDateTime_Time), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_8datetime_time) __PYX_ERR(23, 12, __pyx_L1_error)
+  __pyx_ptype_7cpython_8datetime_datetime = __Pyx_ImportType(__pyx_t_1, "datetime", "datetime", sizeof(PyDateTime_DateTime), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_8datetime_datetime) __PYX_ERR(23, 15, __pyx_L1_error)
+  __pyx_ptype_7cpython_8datetime_timedelta = __Pyx_ImportType(__pyx_t_1, "datetime", "timedelta", sizeof(PyDateTime_Delta), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_8datetime_timedelta) __PYX_ERR(23, 18, __pyx_L1_error)
+  __pyx_ptype_7cpython_8datetime_tzinfo = __Pyx_ImportType(__pyx_t_1, "datetime", "tzinfo", sizeof(PyDateTime_TZInfo), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_8datetime_tzinfo) __PYX_ERR(23, 21, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -38483,28 +38482,28 @@
                             "BaseException");
             goto bad;
         }
         PyException_SetCause(value, fixed_cause);
     }
     PyErr_SetObject(type, value);
     if (tb) {
-#if CYTHON_FAST_THREAD_STATE
+#if CYTHON_COMPILING_IN_PYPY
+        PyObject *tmp_type, *tmp_value, *tmp_tb;
+        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
+        Py_INCREF(tb);
+        PyErr_Restore(tmp_type, tmp_value, tb);
+        Py_XDECREF(tmp_tb);
+#else
         PyThreadState *tstate = __Pyx_PyThreadState_Current;
         PyObject* tmp_tb = tstate->curexc_traceback;
         if (tb != tmp_tb) {
             Py_INCREF(tb);
             tstate->curexc_traceback = tb;
             Py_XDECREF(tmp_tb);
         }
-#else
-        PyObject *tmp_type, *tmp_value, *tmp_tb;
-        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
-        Py_INCREF(tb);
-        PyErr_Restore(tmp_type, tmp_value, tb);
-        Py_XDECREF(tmp_tb);
 #endif
     }
 bad:
     Py_XDECREF(owned_instance);
     return;
 }
 #endif
@@ -40350,79 +40349,61 @@
         return PyObject_GenericGetAttr(obj, attr_name);
     }
     return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_0_29_35
-#define __PYX_HAVE_RT_ImportType_0_29_35
-static PyTypeObject *__Pyx_ImportType_0_29_35(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_0_29_35 check_size)
+#ifndef __PYX_HAVE_RT_ImportType
+#define __PYX_HAVE_RT_ImportType
+static PyTypeObject *__Pyx_ImportType(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, enum __Pyx_ImportType_CheckSize check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
-    Py_ssize_t itemsize;
 #ifdef Py_LIMITED_API
     PyObject *py_basicsize;
-    PyObject *py_itemsize;
 #endif
     result = PyObject_GetAttrString(module, class_name);
     if (!result)
         goto bad;
     if (!PyType_Check(result)) {
         PyErr_Format(PyExc_TypeError,
             "%.200s.%.200s is not a type object",
             module_name, class_name);
         goto bad;
     }
 #ifndef Py_LIMITED_API
     basicsize = ((PyTypeObject *)result)->tp_basicsize;
-    itemsize = ((PyTypeObject *)result)->tp_itemsize;
 #else
     py_basicsize = PyObject_GetAttrString(result, "__basicsize__");
     if (!py_basicsize)
         goto bad;
     basicsize = PyLong_AsSsize_t(py_basicsize);
     Py_DECREF(py_basicsize);
     py_basicsize = 0;
     if (basicsize == (Py_ssize_t)-1 && PyErr_Occurred())
         goto bad;
-    py_itemsize = PyObject_GetAttrString(result, "__itemsize__");
-    if (!py_itemsize)
-        goto bad;
-    itemsize = PyLong_AsSsize_t(py_itemsize);
-    Py_DECREF(py_itemsize);
-    py_itemsize = 0;
-    if (itemsize == (Py_ssize_t)-1 && PyErr_Occurred())
-        goto bad;
 #endif
-    if (itemsize) {
-        if (size % alignment) {
-            alignment = size % alignment;
-        }
-        if (itemsize < (Py_ssize_t)alignment)
-            itemsize = (Py_ssize_t)alignment;
-    }
-    if ((size_t)(basicsize + itemsize) < size) {
+    if ((size_t)basicsize < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_0_29_35 && (size_t)basicsize != size) {
+    if (check_size == __Pyx_ImportType_CheckSize_Error && (size_t)basicsize != size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_0_29_35 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -40845,15 +40826,15 @@
                         } else if (8 * sizeof(int) >= 4 * PyLong_SHIFT) {
                             return (int) (((((((((int)digits[3]) << PyLong_SHIFT) | (int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -41079,15 +41060,15 @@
                         } else if (8 * sizeof(int64_t) >= 4 * PyLong_SHIFT) {
                             return (int64_t) (((((((((int64_t)digits[3]) << PyLong_SHIFT) | (int64_t)digits[2]) << PyLong_SHIFT) | (int64_t)digits[1]) << PyLong_SHIFT) | (int64_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -41275,15 +41256,15 @@
                         } else if (8 * sizeof(int32_t) >= 4 * PyLong_SHIFT) {
                             return (int32_t) (((((((((int32_t)digits[3]) << PyLong_SHIFT) | (int32_t)digits[2]) << PyLong_SHIFT) | (int32_t)digits[1]) << PyLong_SHIFT) | (int32_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -41471,15 +41452,15 @@
                         } else if (8 * sizeof(long) >= 4 * PyLong_SHIFT) {
                             return (long) (((((((((long)digits[3]) << PyLong_SHIFT) | (long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -41781,15 +41762,15 @@
                         } else if (8 * sizeof(uint8_t) >= 4 * PyLong_SHIFT) {
                             return (uint8_t) (((((((((uint8_t)digits[3]) << PyLong_SHIFT) | (uint8_t)digits[2]) << PyLong_SHIFT) | (uint8_t)digits[1]) << PyLong_SHIFT) | (uint8_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -41977,15 +41958,15 @@
                         } else if (8 * sizeof(unsigned char) >= 4 * PyLong_SHIFT) {
                             return (unsigned char) (((((((((unsigned char)digits[3]) << PyLong_SHIFT) | (unsigned char)digits[2]) << PyLong_SHIFT) | (unsigned char)digits[1]) << PyLong_SHIFT) | (unsigned char)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -42287,15 +42268,15 @@
                         } else if (8 * sizeof(int16_t) >= 4 * PyLong_SHIFT) {
                             return (int16_t) (((((((((int16_t)digits[3]) << PyLong_SHIFT) | (int16_t)digits[2]) << PyLong_SHIFT) | (int16_t)digits[1]) << PyLong_SHIFT) | (int16_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -42521,15 +42502,15 @@
                         } else if (8 * sizeof(char) >= 4 * PyLong_SHIFT) {
                             return (char) (((((((((char)digits[3]) << PyLong_SHIFT) | (char)digits[2]) << PyLong_SHIFT) | (char)digits[1]) << PyLong_SHIFT) | (char)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -42717,15 +42698,15 @@
                         } else if (8 * sizeof(int8_t) >= 4 * PyLong_SHIFT) {
                             return (int8_t) (((((((((int8_t)digits[3]) << PyLong_SHIFT) | (int8_t)digits[2]) << PyLong_SHIFT) | (int8_t)digits[1]) << PyLong_SHIFT) | (int8_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -42951,15 +42932,15 @@
                         } else if (8 * sizeof(uint32_t) >= 4 * PyLong_SHIFT) {
                             return (uint32_t) (((((((((uint32_t)digits[3]) << PyLong_SHIFT) | (uint32_t)digits[2]) << PyLong_SHIFT) | (uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -43147,15 +43128,15 @@
                         } else if (8 * sizeof(uint64_t) >= 4 * PyLong_SHIFT) {
                             return (uint64_t) (((((((((uint64_t)digits[3]) << PyLong_SHIFT) | (uint64_t)digits[2]) << PyLong_SHIFT) | (uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
```

### Comparing `edgedb-1.5.0/edgedb/pgproto/pgproto.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/pgproto.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/tohex.h` & `edgedb-2.0.0a1/edgedb/pgproto/tohex.h`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/types.py` & `edgedb-2.0.0a1/edgedb/pgproto/types.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/pgproto/uuid.pyx` & `edgedb-2.0.0a1/edgedb/pgproto/uuid.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/platform.py` & `edgedb-2.0.0a1/edgedb/platform.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/__init__.py` & `edgedb-2.0.0a1/edgedb/protocol/__init__.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/asyncio_proto.c` & `edgedb-2.0.0a1/edgedb/protocol/asyncio_proto.c`

 * *Files 2% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-/* Generated by Cython 0.29.35 */
+/* Generated by Cython 0.29.33 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "edgedb/pgproto/debug.h"
         ],
@@ -33,16 +33,16 @@
 #endif /* PY_SSIZE_T_CLEAN */
 #include "Python.h"
 #ifndef Py_PYTHON_H
     #error Python headers needed to compile C extensions, please install development version of Python.
 #elif PY_VERSION_HEX < 0x02060000 || (0x03000000 <= PY_VERSION_HEX && PY_VERSION_HEX < 0x03030000)
     #error Cython requires Python 2.6+ or Python 3.3+.
 #else
-#define CYTHON_ABI "0_29_35"
-#define CYTHON_HEX_VERSION 0x001D23F0
+#define CYTHON_ABI "0_29_33"
+#define CYTHON_HEX_VERSION 0x001D21F0
 #define CYTHON_FUTURE_DIVISION 1
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -102,20 +102,16 @@
   #define CYTHON_ASSUME_SAFE_MACROS 0
   #undef CYTHON_UNPACK_METHODS
   #define CYTHON_UNPACK_METHODS 0
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
-  #if PY_VERSION_HEX < 0x03090000
-    #undef CYTHON_PEP489_MULTI_PHASE_INIT
-    #define CYTHON_PEP489_MULTI_PHASE_INIT 0
-  #elif !defined(CYTHON_PEP489_MULTI_PHASE_INIT)
-    #define CYTHON_PEP489_MULTI_PHASE_INIT 1
-  #endif
+  #undef CYTHON_PEP489_MULTI_PHASE_INIT
+  #define CYTHON_PEP489_MULTI_PHASE_INIT 0
   #undef CYTHON_USE_TP_FINALIZE
   #define CYTHON_USE_TP_FINALIZE 0
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
@@ -231,15 +227,15 @@
   #elif !defined(CYTHON_USE_ASYNC_SLOTS)
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
   #if PY_VERSION_HEX < 0x02070000
     #undef CYTHON_USE_PYLONG_INTERNALS
     #define CYTHON_USE_PYLONG_INTERNALS 0
   #elif !defined(CYTHON_USE_PYLONG_INTERNALS)
-    #define CYTHON_USE_PYLONG_INTERNALS (PY_VERSION_HEX < 0x030C00A5)
+    #define CYTHON_USE_PYLONG_INTERNALS 1
   #endif
   #ifndef CYTHON_USE_PYLIST_INTERNALS
     #define CYTHON_USE_PYLIST_INTERNALS 1
   #endif
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
@@ -270,15 +266,15 @@
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT (PY_VERSION_HEX >= 0x03050000)
   #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE (PY_VERSION_HEX >= 0x030400a1)
   #endif
   #ifndef CYTHON_USE_DICT_VERSIONS
-    #define CYTHON_USE_DICT_VERSIONS ((PY_VERSION_HEX >= 0x030600B1) && (PY_VERSION_HEX < 0x030C00A5))
+    #define CYTHON_USE_DICT_VERSIONS (PY_VERSION_HEX >= 0x030600B1)
   #endif
   #if PY_VERSION_HEX >= 0x030B00A4
     #undef CYTHON_USE_EXC_INFO_STACK
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK (PY_VERSION_HEX >= 0x030700A3)
   #endif
@@ -987,17 +983,17 @@
 
 
 static const char *__pyx_f[] = {
   "edgedb/protocol/asyncio_proto.pyx",
   "stringsource",
   "edgedb/pgproto/./frb.pxd",
   "edgedb/pgproto/./buffer.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/type.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/bool.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/complex.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/type.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/bool.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/complex.pxd",
   "edgedb/pgproto/./codecs/__init__.pxd",
   "edgedb/protocol/./lru.pxd",
   "edgedb/protocol/./codecs/./base.pxd",
   "edgedb/protocol/./codecs/./scalar.pxd",
   "edgedb/protocol/./codecs/./tuple.pxd",
   "edgedb/protocol/./codecs/./namedtuple.pxd",
   "edgedb/protocol/./codecs/./object.pxd",
@@ -2558,30 +2554,22 @@
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_dealloc);
 
 /* IncludeStringH.proto */
 #include <string.h>
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_0_29_35
-#define __PYX_HAVE_RT_ImportType_proto_0_29_35
-#if __STDC_VERSION__ >= 201112L
-#include <stdalign.h>
-#endif
-#if __STDC_VERSION__ >= 201112L || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_0_29_35(s) alignof(s)
-#else
-#define __PYX_GET_STRUCT_ALIGNMENT_0_29_35(s) sizeof(void*)
-#endif
-enum __Pyx_ImportType_CheckSize_0_29_35 {
-   __Pyx_ImportType_CheckSize_Error_0_29_35 = 0,
-   __Pyx_ImportType_CheckSize_Warn_0_29_35 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_0_29_35 = 2
+#ifndef __PYX_HAVE_RT_ImportType_proto
+#define __PYX_HAVE_RT_ImportType_proto
+enum __Pyx_ImportType_CheckSize {
+   __Pyx_ImportType_CheckSize_Error = 0,
+   __Pyx_ImportType_CheckSize_Warn = 1,
+   __Pyx_ImportType_CheckSize_Ignore = 2
 };
-static PyTypeObject *__Pyx_ImportType_0_29_35(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_0_29_35 check_size);
+static PyTypeObject *__Pyx_ImportType(PyObject* module, const char *module_name, const char *class_name, size_t size, enum __Pyx_ImportType_CheckSize check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyObject *dict);
 
 /* PyObject_GenericGetAttr.proto */
 #if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
@@ -2654,15 +2642,15 @@
 /* CIntFromPy.proto */
 static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *);
 
 /* CheckBinaryVersion.proto */
 static int __Pyx_check_binary_version(void);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_0_29_35(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 static PyObject *__pyx_f_6edgedb_8protocol_13asyncio_proto_15AsyncIOProtocol_abort(struct __pyx_obj_6edgedb_8protocol_13asyncio_proto_AsyncIOProtocol *__pyx_v_self, int __pyx_skip_dispatch); /* proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_13asyncio_proto_15AsyncIOProtocol_write(struct __pyx_obj_6edgedb_8protocol_13asyncio_proto_AsyncIOProtocol *__pyx_v_self, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *__pyx_v_buf); /* proto*/
 static CYTHON_INLINE PyObject *__pyx_f_6edgedb_7pgproto_7pgproto_11WriteBuffer_len(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *__pyx_v_self); /* proto*/
@@ -7338,15 +7326,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct__wait_for_message *__pyx_freelist_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct__wait_for_message[8];
 static int __pyx_freecount_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct__wait_for_message = 0;
 
@@ -7459,15 +7447,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct_1_try_recv_eagerly *__pyx_freelist_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct_1_try_recv_eagerly[8];
 static int __pyx_freecount_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct_1_try_recv_eagerly = 0;
 
@@ -7568,15 +7556,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct_2_wait_for_connect *__pyx_freelist_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct_2_wait_for_connect[8];
 static int __pyx_freecount_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct_2_wait_for_connect = 0;
 
@@ -7677,15 +7665,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct_3_wait_for_disconnect *__pyx_freelist_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct_3_wait_for_disconnect[8];
 static int __pyx_freecount_6edgedb_8protocol_13asyncio_proto___pyx_scope_struct_3_wait_for_disconnect = 0;
 
@@ -7798,15 +7786,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static PyMethodDef __pyx_methods[] = {
   {0, 0, 0, 0}
 };
@@ -8019,15 +8007,16 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("edgedb.protocol.protocol"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "SansIOProtocolBackwardsCompatible", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "SansIOProtocolBackwardsCompatible", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_13asyncio_proto_AsyncIOProtocol = &__pyx_vtable_6edgedb_8protocol_13asyncio_proto_AsyncIOProtocol;
   __pyx_vtable_6edgedb_8protocol_13asyncio_proto_AsyncIOProtocol.__pyx_base = *__pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible;
   __pyx_vtable_6edgedb_8protocol_13asyncio_proto_AsyncIOProtocol.__pyx_base.__pyx_base.write = (PyObject *(*)(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *))__pyx_f_6edgedb_8protocol_13asyncio_proto_15AsyncIOProtocol_write;
   __pyx_vtable_6edgedb_8protocol_13asyncio_proto_AsyncIOProtocol.__pyx_base.__pyx_base.abort = (PyObject *(*)(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol *, int __pyx_skip_dispatch))__pyx_f_6edgedb_8protocol_13asyncio_proto_15AsyncIOProtocol_abort;
   __pyx_type_6edgedb_8protocol_13asyncio_proto_AsyncIOProtocol.tp_base = __pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible;
   if (PyType_Ready(&__pyx_type_6edgedb_8protocol_13asyncio_proto_AsyncIOProtocol) < 0) __PYX_ERR(0, 32, __pyx_L1_error)
@@ -8088,80 +8077,106 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
+  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
   #if defined(PYPY_VERSION_NUM) && PYPY_VERSION_NUM < 0x050B0000
-  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyTypeObject),
+  sizeof(PyTypeObject),
   #else
-  sizeof(PyHeapTypeObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyHeapTypeObject),
+  sizeof(PyHeapTypeObject),
   #endif
-  __Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(4, 9, __pyx_L1_error)
+  __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(4, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyBoolObject),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(5, 8, __pyx_L1_error)
+  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyComplexObject),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(6, 15, __pyx_L1_error)
+  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(6, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("edgedb.pgproto.pgproto"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.pgproto.pgproto", "WriteBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer) __PYX_ERR(3, 8, __pyx_L1_error)
+  __pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer = __Pyx_ImportType(__pyx_t_1, "edgedb.pgproto.pgproto", "WriteBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer) __PYX_ERR(3, 8, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_7pgproto_7pgproto_WriteBuffer = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer*)__Pyx_GetVtable(__pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_7pgproto_7pgproto_WriteBuffer)) __PYX_ERR(3, 8, __pyx_L1_error)
-  __pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.pgproto.pgproto", "ReadBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer) __PYX_ERR(3, 68, __pyx_L1_error)
+  __pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer = __Pyx_ImportType(__pyx_t_1, "edgedb.pgproto.pgproto", "ReadBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer) __PYX_ERR(3, 68, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_7pgproto_7pgproto_ReadBuffer = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_ReadBuffer*)__Pyx_GetVtable(__pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_7pgproto_7pgproto_ReadBuffer)) __PYX_ERR(3, 68, __pyx_L1_error)
-  __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.pgproto.pgproto", "CodecContext", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext) __PYX_ERR(7, 8, __pyx_L1_error)
+  __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext = __Pyx_ImportType(__pyx_t_1, "edgedb.pgproto.pgproto", "CodecContext", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext) __PYX_ERR(7, 8, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_7pgproto_7pgproto_CodecContext = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_CodecContext*)__Pyx_GetVtable(__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_7pgproto_7pgproto_CodecContext)) __PYX_ERR(7, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("edgedb.protocol.protocol"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 20, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "LRUMapping", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping) __PYX_ERR(8, 20, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "LRUMapping", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping) __PYX_ERR(8, 20, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_LRUMapping = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_LRUMapping*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_LRUMapping)) __PYX_ERR(8, 20, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "BaseCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec) __PYX_ERR(9, 20, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "BaseCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec) __PYX_ERR(9, 20, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseCodec)) __PYX_ERR(9, 20, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_CodecPythonOverride = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "CodecPythonOverride", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_CodecPythonOverride) __PYX_ERR(9, 36, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_CodecPythonOverride = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "CodecPythonOverride", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_CodecPythonOverride) __PYX_ERR(9, 36, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_CodecPythonOverride = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_CodecPythonOverride*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_CodecPythonOverride->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_CodecPythonOverride)) __PYX_ERR(9, 36, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_BaseRecordCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "BaseRecordCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseRecordCodec) __PYX_ERR(9, 50, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_BaseRecordCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "BaseRecordCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseRecordCodec) __PYX_ERR(9, 50, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseRecordCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseRecordCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_BaseRecordCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseRecordCodec)) __PYX_ERR(9, 50, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "EmptyTupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec) __PYX_ERR(9, 59, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "EmptyTupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec) __PYX_ERR(9, 59, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_EmptyTupleCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EmptyTupleCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_EmptyTupleCodec)) __PYX_ERR(9, 59, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_NullCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "NullCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_NullCodec) __PYX_ERR(9, 65, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_NullCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "NullCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_NullCodec) __PYX_ERR(9, 65, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_NullCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_NullCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_NullCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_NullCodec)) __PYX_ERR(9, 65, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "BaseNamedRecordCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec) __PYX_ERR(9, 69, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "BaseNamedRecordCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec) __PYX_ERR(9, 69, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseNamedRecordCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseNamedRecordCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseNamedRecordCodec)) __PYX_ERR(9, 69, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "EdegDBCodecContext", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext) __PYX_ERR(9, 76, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "EdegDBCodecContext", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext) __PYX_ERR(9, 76, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_EdegDBCodecContext = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EdegDBCodecContext*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_EdegDBCodecContext)) __PYX_ERR(9, 76, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "ScalarCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec) __PYX_ERR(10, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "ScalarCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec) __PYX_ERR(10, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_ScalarCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ScalarCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_ScalarCodec)) __PYX_ERR(10, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "TupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec) __PYX_ERR(11, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "TupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec) __PYX_ERR(11, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_TupleCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_TupleCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_TupleCodec)) __PYX_ERR(11, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "NamedTupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec) __PYX_ERR(12, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "NamedTupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec) __PYX_ERR(12, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_NamedTupleCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_NamedTupleCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_NamedTupleCodec)) __PYX_ERR(12, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_ObjectCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "ObjectCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_ObjectCodec) __PYX_ERR(13, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_ObjectCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "ObjectCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_ObjectCodec) __PYX_ERR(13, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_ObjectCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ObjectCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_ObjectCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_ObjectCodec)) __PYX_ERR(13, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_BaseArrayCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "BaseArrayCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseArrayCodec) __PYX_ERR(14, 20, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_BaseArrayCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "BaseArrayCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseArrayCodec) __PYX_ERR(14, 20, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseArrayCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseArrayCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_BaseArrayCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseArrayCodec)) __PYX_ERR(14, 20, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_ArrayCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "ArrayCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_ArrayCodec) __PYX_ERR(14, 30, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_ArrayCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "ArrayCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_ArrayCodec) __PYX_ERR(14, 30, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_ArrayCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ArrayCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_ArrayCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_ArrayCodec)) __PYX_ERR(14, 30, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "RangeCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec) __PYX_ERR(15, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "RangeCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec) __PYX_ERR(15, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_RangeCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_RangeCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_RangeCodec)) __PYX_ERR(15, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_SetCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "SetCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_SetCodec) __PYX_ERR(16, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_SetCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "SetCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_SetCodec) __PYX_ERR(16, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_SetCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SetCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_SetCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_SetCodec)) __PYX_ERR(16, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "EnumCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec) __PYX_ERR(17, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "EnumCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec) __PYX_ERR(17, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_EnumCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EnumCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_EnumCodec)) __PYX_ERR(17, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "CodecsRegistry", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry) __PYX_ERR(18, 31, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "CodecsRegistry", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry) __PYX_ERR(18, 31, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_CodecsRegistry = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_CodecsRegistry*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_CodecsRegistry)) __PYX_ERR(18, 31, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_QueryCodecsCache = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "QueryCodecsCache", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_QueryCodecsCache) __PYX_ERR(19, 70, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_QueryCodecsCache = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "QueryCodecsCache", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_QueryCodecsCache) __PYX_ERR(19, 70, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_QueryCodecsCache = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_QueryCodecsCache*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_QueryCodecsCache->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_QueryCodecsCache)) __PYX_ERR(19, 70, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocol = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "SansIOProtocol", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocol) __PYX_ERR(19, 81, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocol = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "SansIOProtocol", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocol) __PYX_ERR(19, 81, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocol = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SansIOProtocol*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocol->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocol)) __PYX_ERR(19, 81, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -8182,15 +8197,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("edgedb.pgproto.pgproto"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "frb_check", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_frb_check, "PyObject *(struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *, Py_ssize_t)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "frb_check", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_frb_check, "PyObject *(struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *, Py_ssize_t)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -9154,28 +9169,28 @@
                             "BaseException");
             goto bad;
         }
         PyException_SetCause(value, fixed_cause);
     }
     PyErr_SetObject(type, value);
     if (tb) {
-#if CYTHON_FAST_THREAD_STATE
+#if CYTHON_COMPILING_IN_PYPY
+        PyObject *tmp_type, *tmp_value, *tmp_tb;
+        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
+        Py_INCREF(tb);
+        PyErr_Restore(tmp_type, tmp_value, tb);
+        Py_XDECREF(tmp_tb);
+#else
         PyThreadState *tstate = __Pyx_PyThreadState_Current;
         PyObject* tmp_tb = tstate->curexc_traceback;
         if (tb != tmp_tb) {
             Py_INCREF(tb);
             tstate->curexc_traceback = tb;
             Py_XDECREF(tmp_tb);
         }
-#else
-        PyObject *tmp_type, *tmp_value, *tmp_tb;
-        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
-        Py_INCREF(tb);
-        PyErr_Restore(tmp_type, tmp_value, tb);
-        Py_XDECREF(tmp_tb);
 #endif
     }
 bad:
     Py_XDECREF(owned_instance);
     return;
 }
 #endif
@@ -10486,18 +10501,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
     0,
 #endif
 #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
     0,
 #endif
-#if PY_VERSION_HEX >= 0x030C0000
-    0,
-#endif
-#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
     0,
 #endif
 };
 #if PY_VERSION_HEX < 0x030500B1 || defined(__Pyx_IterableCoroutine_USED) || CYTHON_USE_ASYNC_SLOTS
 static CYTHON_INLINE PyObject *__Pyx__Coroutine_await(PyObject *coroutine) {
     __pyx_CoroutineAwaitObject *await = PyObject_GC_New(__pyx_CoroutineAwaitObject, __pyx_CoroutineAwaitType);
     if (unlikely(!await)) return NULL;
@@ -10641,18 +10653,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
     0,
 #endif
 #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
     0,
 #endif
-#if PY_VERSION_HEX >= 0x030C0000
-    0,
-#endif
-#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
     0,
 #endif
 };
 static int __pyx_Coroutine_init(void) {
     __pyx_CoroutineType_type.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
     __pyx_CoroutineType = __Pyx_FetchCommonType(&__pyx_CoroutineType_type);
     if (unlikely(!__pyx_CoroutineType))
@@ -10719,19 +10728,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030500B2 || defined(PyCoro_CheckExact)
     if (PyCoro_CheckExact(obj)) {
         return __Pyx_NewRef(obj);
     } else
 #endif
 #if CYTHON_COMPILING_IN_CPYTHON && defined(CO_ITERABLE_COROUTINE)
-#if PY_VERSION_HEX >= 0x030C00A6
-    if (PyGen_CheckExact(obj) && (PyGen_GetCode((PyGenObject*)obj)->co_flags & CO_ITERABLE_COROUTINE)) {
-#else
     if (PyGen_CheckExact(obj) && ((PyGenObject*)obj)->gi_code && ((PyCodeObject *)((PyGenObject*)obj)->gi_code)->co_flags & CO_ITERABLE_COROUTINE) {
-#endif
         return __Pyx_NewRef(obj);
     } else
 #endif
     {
         PyObject *method = NULL;
         int is_method = __Pyx_PyObject_GetMethod(obj, __pyx_n_s_await, &method);
         if (likely(is_method)) {
@@ -10773,15 +10778,15 @@
                  "object %.100s can't be used in 'await' expression",
                  Py_TYPE(obj)->tp_name);
 bad:
     return NULL;
 }
 
 /* CoroutineYieldFrom */
-  static PyObject* __Pyx__Coroutine_Yield_From_Generic(__pyx_CoroutineObject *gen, PyObject *source) {
+static PyObject* __Pyx__Coroutine_Yield_From_Generic(__pyx_CoroutineObject *gen, PyObject *source) {
     PyObject *retval;
     PyObject *source_gen = __Pyx__Coroutine_GetAwaitableIter(source);
     if (unlikely(!source_gen)) {
         return NULL;
     }
     if (__Pyx_Coroutine_Check(source_gen)) {
         retval = __Pyx_Generator_Next(source_gen);
@@ -10820,15 +10825,15 @@
         Py_INCREF(source);
         gen->yieldfrom = source;
     }
     return retval;
 }
 
 /* FastTypeChecks */
-  #if CYTHON_COMPILING_IN_CPYTHON
+#if CYTHON_COMPILING_IN_CPYTHON
 static int __Pyx_InBases(PyTypeObject *a, PyTypeObject *b) {
     while (a) {
         a = a->tp_base;
         if (a == b)
             return 1;
     }
     return b == &PyBaseObject_Type;
@@ -10920,15 +10925,15 @@
         return __Pyx_inner_PyErr_GivenExceptionMatches2(err, exc_type1, exc_type2);
     }
     return (PyErr_GivenExceptionMatches(err, exc_type1) || PyErr_GivenExceptionMatches(err, exc_type2));
 }
 #endif
 
 /* GetException */
-  #if CYTHON_FAST_THREAD_STATE
+#if CYTHON_FAST_THREAD_STATE
 static int __Pyx__GetException(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb)
 #else
 static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb)
 #endif
 {
     PyObject *local_type, *local_value, *local_tb;
 #if CYTHON_FAST_THREAD_STATE
@@ -10994,15 +10999,15 @@
     Py_XDECREF(local_type);
     Py_XDECREF(local_value);
     Py_XDECREF(local_tb);
     return -1;
 }
 
 /* PyErrExceptionMatches */
-  #if CYTHON_FAST_THREAD_STATE
+#if CYTHON_FAST_THREAD_STATE
 static int __Pyx_PyErr_ExceptionMatchesTuple(PyObject *exc_type, PyObject *tuple) {
     Py_ssize_t i, n;
     n = PyTuple_GET_SIZE(tuple);
 #if PY_MAJOR_VERSION >= 3
     for (i=0; i<n; i++) {
         if (exc_type == PyTuple_GET_ITEM(tuple, i)) return 1;
     }
@@ -11019,43 +11024,43 @@
     if (unlikely(PyTuple_Check(err)))
         return __Pyx_PyErr_ExceptionMatchesTuple(exc_type, err);
     return __Pyx_PyErr_GivenExceptionMatches(exc_type, err);
 }
 #endif
 
 /* GetAttr */
-  static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
+static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
 #if CYTHON_USE_TYPE_SLOTS
 #if PY_MAJOR_VERSION >= 3
     if (likely(PyUnicode_Check(n)))
 #else
     if (likely(PyString_Check(n)))
 #endif
         return __Pyx_PyObject_GetAttrStr(o, n);
 #endif
     return PyObject_GetAttr(o, n);
 }
 
 /* GetAttr3 */
-  static PyObject *__Pyx_GetAttr3Default(PyObject *d) {
+static PyObject *__Pyx_GetAttr3Default(PyObject *d) {
     __Pyx_PyThreadState_declare
     __Pyx_PyThreadState_assign
     if (unlikely(!__Pyx_PyErr_ExceptionMatches(PyExc_AttributeError)))
         return NULL;
     __Pyx_PyErr_Clear();
     Py_INCREF(d);
     return d;
 }
 static CYTHON_INLINE PyObject *__Pyx_GetAttr3(PyObject *o, PyObject *n, PyObject *d) {
     PyObject *r = __Pyx_GetAttr(o, n);
     return (likely(r)) ? r : __Pyx_GetAttr3Default(d);
 }
 
 /* Import */
-  static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level) {
+static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level) {
     PyObject *empty_list = 0;
     PyObject *module = 0;
     PyObject *global_dict = 0;
     PyObject *empty_dict = 0;
     PyObject *list;
     #if PY_MAJOR_VERSION < 3
     PyObject *py_import;
@@ -11112,29 +11117,29 @@
     #endif
     Py_XDECREF(empty_list);
     Py_XDECREF(empty_dict);
     return module;
 }
 
 /* ImportFrom */
-  static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name) {
+static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name) {
     PyObject* value = __Pyx_PyObject_GetAttrStr(module, name);
     if (unlikely(!value) && PyErr_ExceptionMatches(PyExc_AttributeError)) {
         PyErr_Format(PyExc_ImportError,
         #if PY_MAJOR_VERSION < 3
             "cannot import name %.230s", PyString_AS_STRING(name));
         #else
             "cannot import name %S", name);
         #endif
     }
     return value;
 }
 
 /* GetItemInt */
-  static PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j) {
+static PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j) {
     PyObject *r;
     if (!j) return NULL;
     r = PyObject_GetItem(o, j);
     Py_DECREF(j);
     return r;
 }
 static CYTHON_INLINE PyObject *__Pyx_GetItemInt_List_Fast(PyObject *o, Py_ssize_t i,
@@ -11213,28 +11218,28 @@
         return PySequence_GetItem(o, i);
     }
 #endif
     return __Pyx_GetItemInt_Generic(o, PyInt_FromSsize_t(i));
 }
 
 /* ExtTypeTest */
-  static CYTHON_INLINE int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
+static CYTHON_INLINE int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
     if (unlikely(!type)) {
         PyErr_SetString(PyExc_SystemError, "Missing type object");
         return 0;
     }
     if (likely(__Pyx_TypeCheck(obj, type)))
         return 1;
     PyErr_Format(PyExc_TypeError, "Cannot convert %.200s to %.200s",
                  Py_TYPE(obj)->tp_name, type->tp_name);
     return 0;
 }
 
 /* HasAttr */
-  static CYTHON_INLINE int __Pyx_HasAttr(PyObject *o, PyObject *n) {
+static CYTHON_INLINE int __Pyx_HasAttr(PyObject *o, PyObject *n) {
     PyObject *r;
     if (unlikely(!__Pyx_PyBaseString_Check(n))) {
         PyErr_SetString(PyExc_TypeError,
                         "hasattr(): attribute name must be string");
         return -1;
     }
     r = __Pyx_GetAttr(o, n);
@@ -11244,15 +11249,15 @@
     } else {
         Py_DECREF(r);
         return 1;
     }
 }
 
 /* WriteUnraisableException */
-  static void __Pyx_WriteUnraisable(const char *name, CYTHON_UNUSED int clineno,
+static void __Pyx_WriteUnraisable(const char *name, CYTHON_UNUSED int clineno,
                                   CYTHON_UNUSED int lineno, CYTHON_UNUSED const char *filename,
                                   int full_traceback, CYTHON_UNUSED int nogil) {
     PyObject *old_exc, *old_val, *old_tb;
     PyObject *ctx;
     __Pyx_PyThreadState_declare
 #ifdef WITH_THREAD
     PyGILState_STATE state;
@@ -11284,128 +11289,110 @@
 #ifdef WITH_THREAD
     if (nogil)
         PyGILState_Release(state);
 #endif
 }
 
 /* CallNextTpDealloc */
-  static void __Pyx_call_next_tp_dealloc(PyObject* obj, destructor current_tp_dealloc) {
+static void __Pyx_call_next_tp_dealloc(PyObject* obj, destructor current_tp_dealloc) {
     PyTypeObject* type = Py_TYPE(obj);
     while (type && type->tp_dealloc != current_tp_dealloc)
         type = type->tp_base;
     while (type && type->tp_dealloc == current_tp_dealloc)
         type = type->tp_base;
     if (type)
         type->tp_dealloc(obj);
 }
 
 /* CallNextTpTraverse */
-  static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse) {
+static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse) {
     PyTypeObject* type = Py_TYPE(obj);
     while (type && type->tp_traverse != current_tp_traverse)
         type = type->tp_base;
     while (type && type->tp_traverse == current_tp_traverse)
         type = type->tp_base;
     if (type && type->tp_traverse)
         return type->tp_traverse(obj, v, a);
     return 0;
 }
 
 /* CallNextTpClear */
-  static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear) {
+static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear) {
     PyTypeObject* type = Py_TYPE(obj);
     while (type && type->tp_clear != current_tp_clear)
         type = type->tp_base;
     while (type && type->tp_clear == current_tp_clear)
         type = type->tp_base;
     if (type && type->tp_clear)
         type->tp_clear(obj);
 }
 
 /* TypeImport */
-  #ifndef __PYX_HAVE_RT_ImportType_0_29_35
-#define __PYX_HAVE_RT_ImportType_0_29_35
-static PyTypeObject *__Pyx_ImportType_0_29_35(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_0_29_35 check_size)
+#ifndef __PYX_HAVE_RT_ImportType
+#define __PYX_HAVE_RT_ImportType
+static PyTypeObject *__Pyx_ImportType(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, enum __Pyx_ImportType_CheckSize check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
-    Py_ssize_t itemsize;
 #ifdef Py_LIMITED_API
     PyObject *py_basicsize;
-    PyObject *py_itemsize;
 #endif
     result = PyObject_GetAttrString(module, class_name);
     if (!result)
         goto bad;
     if (!PyType_Check(result)) {
         PyErr_Format(PyExc_TypeError,
             "%.200s.%.200s is not a type object",
             module_name, class_name);
         goto bad;
     }
 #ifndef Py_LIMITED_API
     basicsize = ((PyTypeObject *)result)->tp_basicsize;
-    itemsize = ((PyTypeObject *)result)->tp_itemsize;
 #else
     py_basicsize = PyObject_GetAttrString(result, "__basicsize__");
     if (!py_basicsize)
         goto bad;
     basicsize = PyLong_AsSsize_t(py_basicsize);
     Py_DECREF(py_basicsize);
     py_basicsize = 0;
     if (basicsize == (Py_ssize_t)-1 && PyErr_Occurred())
         goto bad;
-    py_itemsize = PyObject_GetAttrString(result, "__itemsize__");
-    if (!py_itemsize)
-        goto bad;
-    itemsize = PyLong_AsSsize_t(py_itemsize);
-    Py_DECREF(py_itemsize);
-    py_itemsize = 0;
-    if (itemsize == (Py_ssize_t)-1 && PyErr_Occurred())
-        goto bad;
 #endif
-    if (itemsize) {
-        if (size % alignment) {
-            alignment = size % alignment;
-        }
-        if (itemsize < (Py_ssize_t)alignment)
-            itemsize = (Py_ssize_t)alignment;
-    }
-    if ((size_t)(basicsize + itemsize) < size) {
+    if ((size_t)basicsize < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_0_29_35 && (size_t)basicsize != size) {
+    if (check_size == __Pyx_ImportType_CheckSize_Error && (size_t)basicsize != size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_0_29_35 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
 bad:
     Py_XDECREF(result);
     return NULL;
 }
 #endif
 
 /* GetVTable */
-  static void* __Pyx_GetVtable(PyObject *dict) {
+static void* __Pyx_GetVtable(PyObject *dict) {
     void* ptr;
     PyObject *ob = PyObject_GetItem(dict, __pyx_n_s_pyx_vtable);
     if (!ob)
         goto bad;
 #if PY_VERSION_HEX >= 0x02070000
     ptr = PyCapsule_GetPointer(ob, 0);
 #else
@@ -11417,25 +11404,25 @@
     return ptr;
 bad:
     Py_XDECREF(ob);
     return NULL;
 }
 
 /* PyObject_GenericGetAttr */
-  #if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
 static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
     if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
         return PyObject_GenericGetAttr(obj, attr_name);
     }
     return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
 }
 #endif
 
 /* SetVTable */
-  static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
+static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
 #if PY_VERSION_HEX >= 0x02070000
     PyObject *ob = PyCapsule_New(vtable, 0, 0);
 #else
     PyObject *ob = PyCObject_FromVoidPtr(vtable, 0);
 #endif
     if (!ob)
         goto bad;
@@ -11445,15 +11432,15 @@
     return 0;
 bad:
     Py_XDECREF(ob);
     return -1;
 }
 
 /* PyObjectGetAttrStrNoError */
-  static void __Pyx_PyObject_GetAttrStr_ClearAttributeError(void) {
+static void __Pyx_PyObject_GetAttrStr_ClearAttributeError(void) {
     __Pyx_PyThreadState_declare
     __Pyx_PyThreadState_assign
     if (likely(__Pyx_PyErr_ExceptionMatches(PyExc_AttributeError)))
         __Pyx_PyErr_Clear();
 }
 static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStrNoError(PyObject* obj, PyObject* attr_name) {
     PyObject *result;
@@ -11467,15 +11454,15 @@
     if (unlikely(!result)) {
         __Pyx_PyObject_GetAttrStr_ClearAttributeError();
     }
     return result;
 }
 
 /* SetupReduce */
-  static int __Pyx_setup_reduce_is_named(PyObject* meth, PyObject* name) {
+static int __Pyx_setup_reduce_is_named(PyObject* meth, PyObject* name) {
   int ret;
   PyObject *name_attr;
   name_attr = __Pyx_PyObject_GetAttrStr(meth, __pyx_n_s_name);
   if (likely(name_attr)) {
       ret = PyObject_RichCompareBool(name_attr, name, Py_EQ);
   } else {
       ret = -1;
@@ -11571,15 +11558,15 @@
     Py_XDECREF(reduce_cython);
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 
 /* PatchInspect */
-  static PyObject* __Pyx_patch_inspect(PyObject* module) {
+static PyObject* __Pyx_patch_inspect(PyObject* module) {
 #if defined(__Pyx_Generator_USED) && (!defined(CYTHON_PATCH_INSPECT) || CYTHON_PATCH_INSPECT)
     static int inspect_patched = 0;
     if (unlikely((!inspect_patched) && module)) {
         module = __Pyx_Coroutine_patch_module(
             module, ""
 "old_types = getattr(_module.isgenerator, '_cython_generator_types', None)\n"
 "if old_types is None or not isinstance(old_types, set):\n"
@@ -11596,15 +11583,15 @@
 #else
     if ((0)) return __Pyx_Coroutine_patch_module(module, NULL);
 #endif
     return module;
 }
 
 /* PatchAsyncIO */
-  static PyObject* __Pyx_patch_asyncio(PyObject* module) {
+static PyObject* __Pyx_patch_asyncio(PyObject* module) {
 #if PY_VERSION_HEX < 0x030500B2 &&\
         (defined(__Pyx_Coroutine_USED) || defined(__Pyx_Generator_USED)) &&\
         (!defined(CYTHON_PATCH_ASYNCIO) || CYTHON_PATCH_ASYNCIO)
     PyObject *patch_module = NULL;
     static int asyncio_patched = 0;
     if (unlikely((!asyncio_patched) && module)) {
         PyObject *package;
@@ -11679,15 +11666,15 @@
 #else
     if ((0)) return __Pyx_patch_inspect(__Pyx_Coroutine_patch_module(module, NULL));
 #endif
     return module;
 }
 
 /* CLineInTraceback */
-  #ifndef CYTHON_CLINE_IN_TRACEBACK
+#ifndef CYTHON_CLINE_IN_TRACEBACK
 static int __Pyx_CLineForTraceback(CYTHON_UNUSED PyThreadState *tstate, int c_line) {
     PyObject *use_cline;
     PyObject *ptype, *pvalue, *ptraceback;
 #if CYTHON_COMPILING_IN_CPYTHON
     PyObject **cython_runtime_dict;
 #endif
     if (unlikely(!__pyx_cython_runtime)) {
@@ -11721,15 +11708,15 @@
     }
     __Pyx_ErrRestoreInState(tstate, ptype, pvalue, ptraceback);
     return c_line;
 }
 #endif
 
 /* CodeObjectCache */
-  static int __pyx_bisect_code_objects(__Pyx_CodeObjectCacheEntry* entries, int count, int code_line) {
+static int __pyx_bisect_code_objects(__Pyx_CodeObjectCacheEntry* entries, int count, int code_line) {
     int start = 0, mid = 0, end = count - 1;
     if (end >= 0 && code_line > entries[end].code_line) {
         return count;
     }
     while (start < end) {
         mid = start + (end - start) / 2;
         if (code_line < entries[mid].code_line) {
@@ -11801,15 +11788,15 @@
     entries[pos].code_line = code_line;
     entries[pos].code_object = code_object;
     __pyx_code_cache.count++;
     Py_INCREF(code_object);
 }
 
 /* AddTraceback */
-  #include "compile.h"
+#include "compile.h"
 #include "frameobject.h"
 #include "traceback.h"
 #if PY_VERSION_HEX >= 0x030b00a6
   #ifndef Py_BUILD_CORE
     #define Py_BUILD_CORE 1
   #endif
   #include "internal/pycore_frame.h"
@@ -11908,15 +11895,15 @@
     PyTraceBack_Here(py_frame);
 bad:
     Py_XDECREF(py_code);
     Py_XDECREF(py_frame);
 }
 
 /* CIntFromPyVerify */
-  #define __PYX_VERIFY_RETURN_INT(target_type, func_type, func_value)\
+#define __PYX_VERIFY_RETURN_INT(target_type, func_type, func_value)\
     __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, 0)
 #define __PYX_VERIFY_RETURN_INT_EXC(target_type, func_type, func_value)\
     __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, 1)
 #define __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, exc)\
     {\
         func_type value = func_value;\
         if (sizeof(target_type) < sizeof(func_type)) {\
@@ -11930,15 +11917,15 @@
                     goto raise_overflow;\
             }\
         }\
         return (target_type) value;\
     }
 
 /* CIntToPy */
-  static CYTHON_INLINE PyObject* __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus neg_one = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) -1, const_zero = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -11968,15 +11955,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-  static CYTHON_INLINE enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus __Pyx_PyInt_As_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(PyObject *x) {
+static CYTHON_INLINE enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus __Pyx_PyInt_As_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus neg_one = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) -1, const_zero = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -12027,15 +12014,15 @@
                         } else if (8 * sizeof(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) >= 4 * PyLong_SHIFT) {
                             return (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) (((((((((enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[3]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[2]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[1]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -12164,15 +12151,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus");
     return (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) -1;
 }
 
 /* CIntFromPy */
-  static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *x) {
+static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const long neg_one = (long) -1, const_zero = (long) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -12223,15 +12210,15 @@
                         } else if (8 * sizeof(long) >= 4 * PyLong_SHIFT) {
                             return (long) (((((((((long)digits[3]) << PyLong_SHIFT) | (long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -12360,15 +12347,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to long");
     return (long) -1;
 }
 
 /* CIntToPy */
-  static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int32_t(int32_t value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int32_t(int32_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int32_t neg_one = (int32_t) -1, const_zero = (int32_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -12398,15 +12385,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(int32_t),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntToPy */
-  static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const long neg_one = (long) -1, const_zero = (long) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -12436,15 +12423,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(long),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-  static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *x) {
+static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int neg_one = (int) -1, const_zero = (int) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -12495,15 +12482,15 @@
                         } else if (8 * sizeof(int) >= 4 * PyLong_SHIFT) {
                             return (int) (((((((((int)digits[3]) << PyLong_SHIFT) | (int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -12632,15 +12619,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to int");
     return (int) -1;
 }
 
 /* CheckBinaryVersion */
-  static int __Pyx_check_binary_version(void) {
+static int __Pyx_check_binary_version(void) {
     char ctversion[5];
     int same=1, i, found_dot;
     const char* rt_from_call = Py_GetVersion();
     PyOS_snprintf(ctversion, 5, "%d.%d", PY_MAJOR_VERSION, PY_MINOR_VERSION);
     found_dot = 0;
     for (i = 0; i < 4; i++) {
         if (!ctversion[i]) {
@@ -12670,17 +12657,17 @@
                       ctversion, __Pyx_MODULE_NAME, rtversion);
         return PyErr_WarnEx(NULL, message, 1);
     }
     return 0;
 }
 
 /* FunctionImport */
-  #ifndef __PYX_HAVE_RT_ImportFunction_0_29_35
-#define __PYX_HAVE_RT_ImportFunction_0_29_35
-static int __Pyx_ImportFunction_0_29_35(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction
+#define __PYX_HAVE_RT_ImportFunction
+static int __Pyx_ImportFunction(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
@@ -12724,15 +12711,15 @@
 bad:
     Py_XDECREF(d);
     return -1;
 }
 #endif
 
 /* InitStrings */
-  static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
+static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
     while (t->p) {
         #if PY_MAJOR_VERSION < 3
         if (t->is_unicode) {
             *t->p = PyUnicode_DecodeUTF8(t->s, t->n - 1, NULL);
         } else if (t->intern) {
             *t->p = PyString_InternFromString(t->s);
         } else {
```

### Comparing `edgedb-1.5.0/edgedb/protocol/asyncio_proto.pxd` & `edgedb-2.0.0a1/edgedb/protocol/asyncio_proto.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/asyncio_proto.pyx` & `edgedb-2.0.0a1/edgedb/protocol/asyncio_proto.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/blocking_proto.c` & `edgedb-2.0.0a1/edgedb/protocol/blocking_proto.c`

 * *Files 2% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-/* Generated by Cython 0.29.35 */
+/* Generated by Cython 0.29.33 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "edgedb/pgproto/debug.h"
         ],
@@ -33,16 +33,16 @@
 #endif /* PY_SSIZE_T_CLEAN */
 #include "Python.h"
 #ifndef Py_PYTHON_H
     #error Python headers needed to compile C extensions, please install development version of Python.
 #elif PY_VERSION_HEX < 0x02060000 || (0x03000000 <= PY_VERSION_HEX && PY_VERSION_HEX < 0x03030000)
     #error Cython requires Python 2.6+ or Python 3.3+.
 #else
-#define CYTHON_ABI "0_29_35"
-#define CYTHON_HEX_VERSION 0x001D23F0
+#define CYTHON_ABI "0_29_33"
+#define CYTHON_HEX_VERSION 0x001D21F0
 #define CYTHON_FUTURE_DIVISION 1
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -102,20 +102,16 @@
   #define CYTHON_ASSUME_SAFE_MACROS 0
   #undef CYTHON_UNPACK_METHODS
   #define CYTHON_UNPACK_METHODS 0
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
-  #if PY_VERSION_HEX < 0x03090000
-    #undef CYTHON_PEP489_MULTI_PHASE_INIT
-    #define CYTHON_PEP489_MULTI_PHASE_INIT 0
-  #elif !defined(CYTHON_PEP489_MULTI_PHASE_INIT)
-    #define CYTHON_PEP489_MULTI_PHASE_INIT 1
-  #endif
+  #undef CYTHON_PEP489_MULTI_PHASE_INIT
+  #define CYTHON_PEP489_MULTI_PHASE_INIT 0
   #undef CYTHON_USE_TP_FINALIZE
   #define CYTHON_USE_TP_FINALIZE 0
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
@@ -231,15 +227,15 @@
   #elif !defined(CYTHON_USE_ASYNC_SLOTS)
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
   #if PY_VERSION_HEX < 0x02070000
     #undef CYTHON_USE_PYLONG_INTERNALS
     #define CYTHON_USE_PYLONG_INTERNALS 0
   #elif !defined(CYTHON_USE_PYLONG_INTERNALS)
-    #define CYTHON_USE_PYLONG_INTERNALS (PY_VERSION_HEX < 0x030C00A5)
+    #define CYTHON_USE_PYLONG_INTERNALS 1
   #endif
   #ifndef CYTHON_USE_PYLIST_INTERNALS
     #define CYTHON_USE_PYLIST_INTERNALS 1
   #endif
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
@@ -270,15 +266,15 @@
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT (PY_VERSION_HEX >= 0x03050000)
   #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE (PY_VERSION_HEX >= 0x030400a1)
   #endif
   #ifndef CYTHON_USE_DICT_VERSIONS
-    #define CYTHON_USE_DICT_VERSIONS ((PY_VERSION_HEX >= 0x030600B1) && (PY_VERSION_HEX < 0x030C00A5))
+    #define CYTHON_USE_DICT_VERSIONS (PY_VERSION_HEX >= 0x030600B1)
   #endif
   #if PY_VERSION_HEX >= 0x030B00A4
     #undef CYTHON_USE_EXC_INFO_STACK
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK (PY_VERSION_HEX >= 0x030700A3)
   #endif
@@ -987,17 +983,17 @@
 
 
 static const char *__pyx_f[] = {
   "edgedb/protocol/blocking_proto.pyx",
   "stringsource",
   "edgedb/pgproto/./frb.pxd",
   "edgedb/pgproto/./buffer.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/type.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/bool.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/complex.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/type.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/bool.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/complex.pxd",
   "edgedb/pgproto/./codecs/__init__.pxd",
   "edgedb/protocol/./lru.pxd",
   "edgedb/protocol/./codecs/./base.pxd",
   "edgedb/protocol/./codecs/./scalar.pxd",
   "edgedb/protocol/./codecs/./tuple.pxd",
   "edgedb/protocol/./codecs/./namedtuple.pxd",
   "edgedb/protocol/./codecs/./object.pxd",
@@ -2580,30 +2576,22 @@
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_dealloc);
 
 /* IncludeStringH.proto */
 #include <string.h>
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_0_29_35
-#define __PYX_HAVE_RT_ImportType_proto_0_29_35
-#if __STDC_VERSION__ >= 201112L
-#include <stdalign.h>
-#endif
-#if __STDC_VERSION__ >= 201112L || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_0_29_35(s) alignof(s)
-#else
-#define __PYX_GET_STRUCT_ALIGNMENT_0_29_35(s) sizeof(void*)
-#endif
-enum __Pyx_ImportType_CheckSize_0_29_35 {
-   __Pyx_ImportType_CheckSize_Error_0_29_35 = 0,
-   __Pyx_ImportType_CheckSize_Warn_0_29_35 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_0_29_35 = 2
+#ifndef __PYX_HAVE_RT_ImportType_proto
+#define __PYX_HAVE_RT_ImportType_proto
+enum __Pyx_ImportType_CheckSize {
+   __Pyx_ImportType_CheckSize_Error = 0,
+   __Pyx_ImportType_CheckSize_Warn = 1,
+   __Pyx_ImportType_CheckSize_Ignore = 2
 };
-static PyTypeObject *__Pyx_ImportType_0_29_35(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_0_29_35 check_size);
+static PyTypeObject *__Pyx_ImportType(PyObject* module, const char *module_name, const char *class_name, size_t size, enum __Pyx_ImportType_CheckSize check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyObject *dict);
 
 /* PyObject_GenericGetAttr.proto */
 #if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
@@ -2667,15 +2655,15 @@
 /* CIntFromPy.proto */
 static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *);
 
 /* CheckBinaryVersion.proto */
 static int __Pyx_check_binary_version(void);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_0_29_35(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 static PyObject *__pyx_f_6edgedb_8protocol_14blocking_proto_18BlockingIOProtocol_abort(struct __pyx_obj_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol *__pyx_v_self, int __pyx_skip_dispatch); /* proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_14blocking_proto_18BlockingIOProtocol__disconnect(struct __pyx_obj_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol *__pyx_v_self); /* proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_14blocking_proto_18BlockingIOProtocol_write(struct __pyx_obj_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol *__pyx_v_self, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *__pyx_v_buf); /* proto*/
@@ -8257,15 +8245,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_14blocking_proto___pyx_scope_struct__wait_for_message *__pyx_freelist_6edgedb_8protocol_14blocking_proto___pyx_scope_struct__wait_for_message[8];
 static int __pyx_freecount_6edgedb_8protocol_14blocking_proto___pyx_scope_struct__wait_for_message = 0;
 
@@ -8374,15 +8362,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_1_try_recv_eagerly *__pyx_freelist_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_1_try_recv_eagerly[8];
 static int __pyx_freecount_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_1_try_recv_eagerly = 0;
 
@@ -8491,15 +8479,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_2_wait_for_connect *__pyx_freelist_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_2_wait_for_connect[8];
 static int __pyx_freecount_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_2_wait_for_connect = 0;
 
@@ -8600,15 +8588,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_3_wait_for_disconnect *__pyx_freelist_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_3_wait_for_disconnect[8];
 static int __pyx_freecount_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_3_wait_for_disconnect = 0;
 
@@ -8721,15 +8709,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_4_wait_for *__pyx_freelist_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_4_wait_for[8];
 static int __pyx_freecount_6edgedb_8protocol_14blocking_proto___pyx_scope_struct_4_wait_for = 0;
 
@@ -8838,15 +8826,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static PyMethodDef __pyx_methods[] = {
   {0, 0, 0, 0}
 };
@@ -9048,15 +9036,16 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("edgedb.protocol.protocol"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "SansIOProtocolBackwardsCompatible", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "SansIOProtocolBackwardsCompatible", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol = &__pyx_vtable_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol;
   __pyx_vtable_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol.__pyx_base = *__pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible;
   __pyx_vtable_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol.__pyx_base.__pyx_base.write = (PyObject *(*)(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *))__pyx_f_6edgedb_8protocol_14blocking_proto_18BlockingIOProtocol_write;
   __pyx_vtable_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol.__pyx_base.__pyx_base.abort = (PyObject *(*)(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol *, int __pyx_skip_dispatch))__pyx_f_6edgedb_8protocol_14blocking_proto_18BlockingIOProtocol_abort;
   __pyx_vtable_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol._disconnect = (PyObject *(*)(struct __pyx_obj_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol *))__pyx_f_6edgedb_8protocol_14blocking_proto_18BlockingIOProtocol__disconnect;
   __pyx_type_6edgedb_8protocol_14blocking_proto_BlockingIOProtocol.tp_base = __pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible;
@@ -9126,80 +9115,106 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
+  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
   #if defined(PYPY_VERSION_NUM) && PYPY_VERSION_NUM < 0x050B0000
-  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyTypeObject),
+  sizeof(PyTypeObject),
   #else
-  sizeof(PyHeapTypeObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyHeapTypeObject),
+  sizeof(PyHeapTypeObject),
   #endif
-  __Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(4, 9, __pyx_L1_error)
+  __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(4, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyBoolObject),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(5, 8, __pyx_L1_error)
+  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyComplexObject),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(6, 15, __pyx_L1_error)
+  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(6, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("edgedb.pgproto.pgproto"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.pgproto.pgproto", "WriteBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer) __PYX_ERR(3, 8, __pyx_L1_error)
+  __pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer = __Pyx_ImportType(__pyx_t_1, "edgedb.pgproto.pgproto", "WriteBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer) __PYX_ERR(3, 8, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_7pgproto_7pgproto_WriteBuffer = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer*)__Pyx_GetVtable(__pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_7pgproto_7pgproto_WriteBuffer)) __PYX_ERR(3, 8, __pyx_L1_error)
-  __pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.pgproto.pgproto", "ReadBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer) __PYX_ERR(3, 68, __pyx_L1_error)
+  __pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer = __Pyx_ImportType(__pyx_t_1, "edgedb.pgproto.pgproto", "ReadBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer) __PYX_ERR(3, 68, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_7pgproto_7pgproto_ReadBuffer = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_ReadBuffer*)__Pyx_GetVtable(__pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_7pgproto_7pgproto_ReadBuffer)) __PYX_ERR(3, 68, __pyx_L1_error)
-  __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.pgproto.pgproto", "CodecContext", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext) __PYX_ERR(7, 8, __pyx_L1_error)
+  __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext = __Pyx_ImportType(__pyx_t_1, "edgedb.pgproto.pgproto", "CodecContext", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext) __PYX_ERR(7, 8, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_7pgproto_7pgproto_CodecContext = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_CodecContext*)__Pyx_GetVtable(__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_7pgproto_7pgproto_CodecContext)) __PYX_ERR(7, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("edgedb.protocol.protocol"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 20, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "LRUMapping", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping) __PYX_ERR(8, 20, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "LRUMapping", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping) __PYX_ERR(8, 20, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_LRUMapping = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_LRUMapping*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_LRUMapping)) __PYX_ERR(8, 20, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "BaseCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec) __PYX_ERR(9, 20, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "BaseCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec) __PYX_ERR(9, 20, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseCodec)) __PYX_ERR(9, 20, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_CodecPythonOverride = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "CodecPythonOverride", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_CodecPythonOverride) __PYX_ERR(9, 36, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_CodecPythonOverride = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "CodecPythonOverride", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_CodecPythonOverride) __PYX_ERR(9, 36, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_CodecPythonOverride = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_CodecPythonOverride*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_CodecPythonOverride->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_CodecPythonOverride)) __PYX_ERR(9, 36, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_BaseRecordCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "BaseRecordCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseRecordCodec) __PYX_ERR(9, 50, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_BaseRecordCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "BaseRecordCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseRecordCodec) __PYX_ERR(9, 50, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseRecordCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseRecordCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_BaseRecordCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseRecordCodec)) __PYX_ERR(9, 50, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "EmptyTupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec) __PYX_ERR(9, 59, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "EmptyTupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec) __PYX_ERR(9, 59, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_EmptyTupleCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EmptyTupleCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_EmptyTupleCodec)) __PYX_ERR(9, 59, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_NullCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "NullCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_NullCodec) __PYX_ERR(9, 65, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_NullCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "NullCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_NullCodec) __PYX_ERR(9, 65, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_NullCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_NullCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_NullCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_NullCodec)) __PYX_ERR(9, 65, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "BaseNamedRecordCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec) __PYX_ERR(9, 69, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "BaseNamedRecordCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec) __PYX_ERR(9, 69, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseNamedRecordCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseNamedRecordCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseNamedRecordCodec)) __PYX_ERR(9, 69, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "EdegDBCodecContext", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext) __PYX_ERR(9, 76, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "EdegDBCodecContext", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext) __PYX_ERR(9, 76, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_EdegDBCodecContext = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EdegDBCodecContext*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_EdegDBCodecContext)) __PYX_ERR(9, 76, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "ScalarCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec) __PYX_ERR(10, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "ScalarCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec) __PYX_ERR(10, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_ScalarCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ScalarCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_ScalarCodec)) __PYX_ERR(10, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "TupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec) __PYX_ERR(11, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "TupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec) __PYX_ERR(11, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_TupleCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_TupleCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_TupleCodec)) __PYX_ERR(11, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "NamedTupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec) __PYX_ERR(12, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "NamedTupleCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec) __PYX_ERR(12, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_NamedTupleCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_NamedTupleCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_NamedTupleCodec)) __PYX_ERR(12, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_ObjectCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "ObjectCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_ObjectCodec) __PYX_ERR(13, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_ObjectCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "ObjectCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_ObjectCodec) __PYX_ERR(13, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_ObjectCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ObjectCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_ObjectCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_ObjectCodec)) __PYX_ERR(13, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_BaseArrayCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "BaseArrayCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseArrayCodec) __PYX_ERR(14, 20, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_BaseArrayCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "BaseArrayCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_BaseArrayCodec) __PYX_ERR(14, 20, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseArrayCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseArrayCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_BaseArrayCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseArrayCodec)) __PYX_ERR(14, 20, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_ArrayCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "ArrayCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_ArrayCodec) __PYX_ERR(14, 30, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_ArrayCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "ArrayCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_ArrayCodec) __PYX_ERR(14, 30, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_ArrayCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ArrayCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_ArrayCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_ArrayCodec)) __PYX_ERR(14, 30, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "RangeCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec) __PYX_ERR(15, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "RangeCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec) __PYX_ERR(15, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_RangeCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_RangeCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_RangeCodec)) __PYX_ERR(15, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_SetCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "SetCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_SetCodec) __PYX_ERR(16, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_SetCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "SetCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_SetCodec) __PYX_ERR(16, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_SetCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SetCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_SetCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_SetCodec)) __PYX_ERR(16, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "EnumCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec) __PYX_ERR(17, 21, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "EnumCodec", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec) __PYX_ERR(17, 21, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_EnumCodec = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EnumCodec*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_EnumCodec)) __PYX_ERR(17, 21, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "CodecsRegistry", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry) __PYX_ERR(18, 31, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "CodecsRegistry", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry) __PYX_ERR(18, 31, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_CodecsRegistry = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_CodecsRegistry*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_CodecsRegistry)) __PYX_ERR(18, 31, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_QueryCodecsCache = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "QueryCodecsCache", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_QueryCodecsCache) __PYX_ERR(19, 70, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_QueryCodecsCache = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "QueryCodecsCache", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_QueryCodecsCache) __PYX_ERR(19, 70, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_QueryCodecsCache = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_QueryCodecsCache*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_QueryCodecsCache->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_QueryCodecsCache)) __PYX_ERR(19, 70, __pyx_L1_error)
-  __pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocol = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.protocol.protocol", "SansIOProtocol", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocol) __PYX_ERR(19, 81, __pyx_L1_error)
+  __pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocol = __Pyx_ImportType(__pyx_t_1, "edgedb.protocol.protocol", "SansIOProtocol", sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocol) __PYX_ERR(19, 81, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocol = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SansIOProtocol*)__Pyx_GetVtable(__pyx_ptype_6edgedb_8protocol_8protocol_SansIOProtocol->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocol)) __PYX_ERR(19, 81, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -9220,15 +9235,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("edgedb.pgproto.pgproto"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "frb_check", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_frb_check, "PyObject *(struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *, Py_ssize_t)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "frb_check", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_frb_check, "PyObject *(struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *, Py_ssize_t)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -10388,28 +10403,28 @@
                             "BaseException");
             goto bad;
         }
         PyException_SetCause(value, fixed_cause);
     }
     PyErr_SetObject(type, value);
     if (tb) {
-#if CYTHON_FAST_THREAD_STATE
+#if CYTHON_COMPILING_IN_PYPY
+        PyObject *tmp_type, *tmp_value, *tmp_tb;
+        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
+        Py_INCREF(tb);
+        PyErr_Restore(tmp_type, tmp_value, tb);
+        Py_XDECREF(tmp_tb);
+#else
         PyThreadState *tstate = __Pyx_PyThreadState_Current;
         PyObject* tmp_tb = tstate->curexc_traceback;
         if (tb != tmp_tb) {
             Py_INCREF(tb);
             tstate->curexc_traceback = tb;
             Py_XDECREF(tmp_tb);
         }
-#else
-        PyObject *tmp_type, *tmp_value, *tmp_tb;
-        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
-        Py_INCREF(tb);
-        PyErr_Restore(tmp_type, tmp_value, tb);
-        Py_XDECREF(tmp_tb);
 #endif
     }
 bad:
     Py_XDECREF(owned_instance);
     return;
 }
 #endif
@@ -11777,18 +11792,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
     0,
 #endif
 #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
     0,
 #endif
-#if PY_VERSION_HEX >= 0x030C0000
-    0,
-#endif
-#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
     0,
 #endif
 };
 #if PY_VERSION_HEX < 0x030500B1 || defined(__Pyx_IterableCoroutine_USED) || CYTHON_USE_ASYNC_SLOTS
 static CYTHON_INLINE PyObject *__Pyx__Coroutine_await(PyObject *coroutine) {
     __pyx_CoroutineAwaitObject *await = PyObject_GC_New(__pyx_CoroutineAwaitObject, __pyx_CoroutineAwaitType);
     if (unlikely(!await)) return NULL;
@@ -11932,18 +11944,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
     0,
 #endif
 #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
     0,
 #endif
-#if PY_VERSION_HEX >= 0x030C0000
-    0,
-#endif
-#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
     0,
 #endif
 };
 static int __pyx_Coroutine_init(void) {
     __pyx_CoroutineType_type.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
     __pyx_CoroutineType = __Pyx_FetchCommonType(&__pyx_CoroutineType_type);
     if (unlikely(!__pyx_CoroutineType))
@@ -12010,19 +12019,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030500B2 || defined(PyCoro_CheckExact)
     if (PyCoro_CheckExact(obj)) {
         return __Pyx_NewRef(obj);
     } else
 #endif
 #if CYTHON_COMPILING_IN_CPYTHON && defined(CO_ITERABLE_COROUTINE)
-#if PY_VERSION_HEX >= 0x030C00A6
-    if (PyGen_CheckExact(obj) && (PyGen_GetCode((PyGenObject*)obj)->co_flags & CO_ITERABLE_COROUTINE)) {
-#else
     if (PyGen_CheckExact(obj) && ((PyGenObject*)obj)->gi_code && ((PyCodeObject *)((PyGenObject*)obj)->gi_code)->co_flags & CO_ITERABLE_COROUTINE) {
-#endif
         return __Pyx_NewRef(obj);
     } else
 #endif
     {
         PyObject *method = NULL;
         int is_method = __Pyx_PyObject_GetMethod(obj, __pyx_n_s_await, &method);
         if (likely(is_method)) {
@@ -12064,15 +12069,15 @@
                  "object %.100s can't be used in 'await' expression",
                  Py_TYPE(obj)->tp_name);
 bad:
     return NULL;
 }
 
 /* CoroutineYieldFrom */
-  static PyObject* __Pyx__Coroutine_Yield_From_Generic(__pyx_CoroutineObject *gen, PyObject *source) {
+static PyObject* __Pyx__Coroutine_Yield_From_Generic(__pyx_CoroutineObject *gen, PyObject *source) {
     PyObject *retval;
     PyObject *source_gen = __Pyx__Coroutine_GetAwaitableIter(source);
     if (unlikely(!source_gen)) {
         return NULL;
     }
     if (__Pyx_Coroutine_Check(source_gen)) {
         retval = __Pyx_Generator_Next(source_gen);
@@ -12111,43 +12116,43 @@
         Py_INCREF(source);
         gen->yieldfrom = source;
     }
     return retval;
 }
 
 /* GetAttr */
-  static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
+static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
 #if CYTHON_USE_TYPE_SLOTS
 #if PY_MAJOR_VERSION >= 3
     if (likely(PyUnicode_Check(n)))
 #else
     if (likely(PyString_Check(n)))
 #endif
         return __Pyx_PyObject_GetAttrStr(o, n);
 #endif
     return PyObject_GetAttr(o, n);
 }
 
 /* GetAttr3 */
-  static PyObject *__Pyx_GetAttr3Default(PyObject *d) {
+static PyObject *__Pyx_GetAttr3Default(PyObject *d) {
     __Pyx_PyThreadState_declare
     __Pyx_PyThreadState_assign
     if (unlikely(!__Pyx_PyErr_ExceptionMatches(PyExc_AttributeError)))
         return NULL;
     __Pyx_PyErr_Clear();
     Py_INCREF(d);
     return d;
 }
 static CYTHON_INLINE PyObject *__Pyx_GetAttr3(PyObject *o, PyObject *n, PyObject *d) {
     PyObject *r = __Pyx_GetAttr(o, n);
     return (likely(r)) ? r : __Pyx_GetAttr3Default(d);
 }
 
 /* Import */
-  static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level) {
+static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level) {
     PyObject *empty_list = 0;
     PyObject *module = 0;
     PyObject *global_dict = 0;
     PyObject *empty_dict = 0;
     PyObject *list;
     #if PY_MAJOR_VERSION < 3
     PyObject *py_import;
@@ -12204,29 +12209,29 @@
     #endif
     Py_XDECREF(empty_list);
     Py_XDECREF(empty_dict);
     return module;
 }
 
 /* ImportFrom */
-  static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name) {
+static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name) {
     PyObject* value = __Pyx_PyObject_GetAttrStr(module, name);
     if (unlikely(!value) && PyErr_ExceptionMatches(PyExc_AttributeError)) {
         PyErr_Format(PyExc_ImportError,
         #if PY_MAJOR_VERSION < 3
             "cannot import name %.230s", PyString_AS_STRING(name));
         #else
             "cannot import name %S", name);
         #endif
     }
     return value;
 }
 
 /* GetItemInt */
-  static PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j) {
+static PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j) {
     PyObject *r;
     if (!j) return NULL;
     r = PyObject_GetItem(o, j);
     Py_DECREF(j);
     return r;
 }
 static CYTHON_INLINE PyObject *__Pyx_GetItemInt_List_Fast(PyObject *o, Py_ssize_t i,
@@ -12305,28 +12310,28 @@
         return PySequence_GetItem(o, i);
     }
 #endif
     return __Pyx_GetItemInt_Generic(o, PyInt_FromSsize_t(i));
 }
 
 /* ExtTypeTest */
-  static CYTHON_INLINE int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
+static CYTHON_INLINE int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
     if (unlikely(!type)) {
         PyErr_SetString(PyExc_SystemError, "Missing type object");
         return 0;
     }
     if (likely(__Pyx_TypeCheck(obj, type)))
         return 1;
     PyErr_Format(PyExc_TypeError, "Cannot convert %.200s to %.200s",
                  Py_TYPE(obj)->tp_name, type->tp_name);
     return 0;
 }
 
 /* HasAttr */
-  static CYTHON_INLINE int __Pyx_HasAttr(PyObject *o, PyObject *n) {
+static CYTHON_INLINE int __Pyx_HasAttr(PyObject *o, PyObject *n) {
     PyObject *r;
     if (unlikely(!__Pyx_PyBaseString_Check(n))) {
         PyErr_SetString(PyExc_TypeError,
                         "hasattr(): attribute name must be string");
         return -1;
     }
     r = __Pyx_GetAttr(o, n);
@@ -12336,15 +12341,15 @@
     } else {
         Py_DECREF(r);
         return 1;
     }
 }
 
 /* WriteUnraisableException */
-  static void __Pyx_WriteUnraisable(const char *name, CYTHON_UNUSED int clineno,
+static void __Pyx_WriteUnraisable(const char *name, CYTHON_UNUSED int clineno,
                                   CYTHON_UNUSED int lineno, CYTHON_UNUSED const char *filename,
                                   int full_traceback, CYTHON_UNUSED int nogil) {
     PyObject *old_exc, *old_val, *old_tb;
     PyObject *ctx;
     __Pyx_PyThreadState_declare
 #ifdef WITH_THREAD
     PyGILState_STATE state;
@@ -12376,128 +12381,110 @@
 #ifdef WITH_THREAD
     if (nogil)
         PyGILState_Release(state);
 #endif
 }
 
 /* CallNextTpDealloc */
-  static void __Pyx_call_next_tp_dealloc(PyObject* obj, destructor current_tp_dealloc) {
+static void __Pyx_call_next_tp_dealloc(PyObject* obj, destructor current_tp_dealloc) {
     PyTypeObject* type = Py_TYPE(obj);
     while (type && type->tp_dealloc != current_tp_dealloc)
         type = type->tp_base;
     while (type && type->tp_dealloc == current_tp_dealloc)
         type = type->tp_base;
     if (type)
         type->tp_dealloc(obj);
 }
 
 /* CallNextTpTraverse */
-  static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse) {
+static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse) {
     PyTypeObject* type = Py_TYPE(obj);
     while (type && type->tp_traverse != current_tp_traverse)
         type = type->tp_base;
     while (type && type->tp_traverse == current_tp_traverse)
         type = type->tp_base;
     if (type && type->tp_traverse)
         return type->tp_traverse(obj, v, a);
     return 0;
 }
 
 /* CallNextTpClear */
-  static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear) {
+static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear) {
     PyTypeObject* type = Py_TYPE(obj);
     while (type && type->tp_clear != current_tp_clear)
         type = type->tp_base;
     while (type && type->tp_clear == current_tp_clear)
         type = type->tp_base;
     if (type && type->tp_clear)
         type->tp_clear(obj);
 }
 
 /* TypeImport */
-  #ifndef __PYX_HAVE_RT_ImportType_0_29_35
-#define __PYX_HAVE_RT_ImportType_0_29_35
-static PyTypeObject *__Pyx_ImportType_0_29_35(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_0_29_35 check_size)
+#ifndef __PYX_HAVE_RT_ImportType
+#define __PYX_HAVE_RT_ImportType
+static PyTypeObject *__Pyx_ImportType(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, enum __Pyx_ImportType_CheckSize check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
-    Py_ssize_t itemsize;
 #ifdef Py_LIMITED_API
     PyObject *py_basicsize;
-    PyObject *py_itemsize;
 #endif
     result = PyObject_GetAttrString(module, class_name);
     if (!result)
         goto bad;
     if (!PyType_Check(result)) {
         PyErr_Format(PyExc_TypeError,
             "%.200s.%.200s is not a type object",
             module_name, class_name);
         goto bad;
     }
 #ifndef Py_LIMITED_API
     basicsize = ((PyTypeObject *)result)->tp_basicsize;
-    itemsize = ((PyTypeObject *)result)->tp_itemsize;
 #else
     py_basicsize = PyObject_GetAttrString(result, "__basicsize__");
     if (!py_basicsize)
         goto bad;
     basicsize = PyLong_AsSsize_t(py_basicsize);
     Py_DECREF(py_basicsize);
     py_basicsize = 0;
     if (basicsize == (Py_ssize_t)-1 && PyErr_Occurred())
         goto bad;
-    py_itemsize = PyObject_GetAttrString(result, "__itemsize__");
-    if (!py_itemsize)
-        goto bad;
-    itemsize = PyLong_AsSsize_t(py_itemsize);
-    Py_DECREF(py_itemsize);
-    py_itemsize = 0;
-    if (itemsize == (Py_ssize_t)-1 && PyErr_Occurred())
-        goto bad;
 #endif
-    if (itemsize) {
-        if (size % alignment) {
-            alignment = size % alignment;
-        }
-        if (itemsize < (Py_ssize_t)alignment)
-            itemsize = (Py_ssize_t)alignment;
-    }
-    if ((size_t)(basicsize + itemsize) < size) {
+    if ((size_t)basicsize < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_0_29_35 && (size_t)basicsize != size) {
+    if (check_size == __Pyx_ImportType_CheckSize_Error && (size_t)basicsize != size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_0_29_35 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
 bad:
     Py_XDECREF(result);
     return NULL;
 }
 #endif
 
 /* GetVTable */
-  static void* __Pyx_GetVtable(PyObject *dict) {
+static void* __Pyx_GetVtable(PyObject *dict) {
     void* ptr;
     PyObject *ob = PyObject_GetItem(dict, __pyx_n_s_pyx_vtable);
     if (!ob)
         goto bad;
 #if PY_VERSION_HEX >= 0x02070000
     ptr = PyCapsule_GetPointer(ob, 0);
 #else
@@ -12509,25 +12496,25 @@
     return ptr;
 bad:
     Py_XDECREF(ob);
     return NULL;
 }
 
 /* PyObject_GenericGetAttr */
-  #if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
 static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
     if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
         return PyObject_GenericGetAttr(obj, attr_name);
     }
     return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
 }
 #endif
 
 /* SetVTable */
-  static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
+static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
 #if PY_VERSION_HEX >= 0x02070000
     PyObject *ob = PyCapsule_New(vtable, 0, 0);
 #else
     PyObject *ob = PyCObject_FromVoidPtr(vtable, 0);
 #endif
     if (!ob)
         goto bad;
@@ -12537,15 +12524,15 @@
     return 0;
 bad:
     Py_XDECREF(ob);
     return -1;
 }
 
 /* PyObjectGetAttrStrNoError */
-  static void __Pyx_PyObject_GetAttrStr_ClearAttributeError(void) {
+static void __Pyx_PyObject_GetAttrStr_ClearAttributeError(void) {
     __Pyx_PyThreadState_declare
     __Pyx_PyThreadState_assign
     if (likely(__Pyx_PyErr_ExceptionMatches(PyExc_AttributeError)))
         __Pyx_PyErr_Clear();
 }
 static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStrNoError(PyObject* obj, PyObject* attr_name) {
     PyObject *result;
@@ -12559,15 +12546,15 @@
     if (unlikely(!result)) {
         __Pyx_PyObject_GetAttrStr_ClearAttributeError();
     }
     return result;
 }
 
 /* SetupReduce */
-  static int __Pyx_setup_reduce_is_named(PyObject* meth, PyObject* name) {
+static int __Pyx_setup_reduce_is_named(PyObject* meth, PyObject* name) {
   int ret;
   PyObject *name_attr;
   name_attr = __Pyx_PyObject_GetAttrStr(meth, __pyx_n_s_name);
   if (likely(name_attr)) {
       ret = PyObject_RichCompareBool(name_attr, name, Py_EQ);
   } else {
       ret = -1;
@@ -12663,15 +12650,15 @@
     Py_XDECREF(reduce_cython);
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 
 /* CLineInTraceback */
-  #ifndef CYTHON_CLINE_IN_TRACEBACK
+#ifndef CYTHON_CLINE_IN_TRACEBACK
 static int __Pyx_CLineForTraceback(CYTHON_UNUSED PyThreadState *tstate, int c_line) {
     PyObject *use_cline;
     PyObject *ptype, *pvalue, *ptraceback;
 #if CYTHON_COMPILING_IN_CPYTHON
     PyObject **cython_runtime_dict;
 #endif
     if (unlikely(!__pyx_cython_runtime)) {
@@ -12705,15 +12692,15 @@
     }
     __Pyx_ErrRestoreInState(tstate, ptype, pvalue, ptraceback);
     return c_line;
 }
 #endif
 
 /* CodeObjectCache */
-  static int __pyx_bisect_code_objects(__Pyx_CodeObjectCacheEntry* entries, int count, int code_line) {
+static int __pyx_bisect_code_objects(__Pyx_CodeObjectCacheEntry* entries, int count, int code_line) {
     int start = 0, mid = 0, end = count - 1;
     if (end >= 0 && code_line > entries[end].code_line) {
         return count;
     }
     while (start < end) {
         mid = start + (end - start) / 2;
         if (code_line < entries[mid].code_line) {
@@ -12785,15 +12772,15 @@
     entries[pos].code_line = code_line;
     entries[pos].code_object = code_object;
     __pyx_code_cache.count++;
     Py_INCREF(code_object);
 }
 
 /* AddTraceback */
-  #include "compile.h"
+#include "compile.h"
 #include "frameobject.h"
 #include "traceback.h"
 #if PY_VERSION_HEX >= 0x030b00a6
   #ifndef Py_BUILD_CORE
     #define Py_BUILD_CORE 1
   #endif
   #include "internal/pycore_frame.h"
@@ -12892,15 +12879,15 @@
     PyTraceBack_Here(py_frame);
 bad:
     Py_XDECREF(py_code);
     Py_XDECREF(py_frame);
 }
 
 /* CIntFromPyVerify */
-  #define __PYX_VERIFY_RETURN_INT(target_type, func_type, func_value)\
+#define __PYX_VERIFY_RETURN_INT(target_type, func_type, func_value)\
     __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, 0)
 #define __PYX_VERIFY_RETURN_INT_EXC(target_type, func_type, func_value)\
     __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, 1)
 #define __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, exc)\
     {\
         func_type value = func_value;\
         if (sizeof(target_type) < sizeof(func_type)) {\
@@ -12914,15 +12901,15 @@
                     goto raise_overflow;\
             }\
         }\
         return (target_type) value;\
     }
 
 /* CIntToPy */
-  static CYTHON_INLINE PyObject* __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus neg_one = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) -1, const_zero = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -12952,15 +12939,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-  static CYTHON_INLINE enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus __Pyx_PyInt_As_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(PyObject *x) {
+static CYTHON_INLINE enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus __Pyx_PyInt_As_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus neg_one = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) -1, const_zero = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -13011,15 +12998,15 @@
                         } else if (8 * sizeof(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) >= 4 * PyLong_SHIFT) {
                             return (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) (((((((((enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[3]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[2]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[1]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -13148,15 +13135,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus");
     return (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) -1;
 }
 
 /* CIntFromPy */
-  static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *x) {
+static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const long neg_one = (long) -1, const_zero = (long) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -13207,15 +13194,15 @@
                         } else if (8 * sizeof(long) >= 4 * PyLong_SHIFT) {
                             return (long) (((((((((long)digits[3]) << PyLong_SHIFT) | (long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -13344,15 +13331,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to long");
     return (long) -1;
 }
 
 /* CIntToPy */
-  static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const long neg_one = (long) -1, const_zero = (long) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -13382,15 +13369,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(long),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-  static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *x) {
+static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int neg_one = (int) -1, const_zero = (int) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -13441,15 +13428,15 @@
                         } else if (8 * sizeof(int) >= 4 * PyLong_SHIFT) {
                             return (int) (((((((((int)digits[3]) << PyLong_SHIFT) | (int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -13578,15 +13565,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to int");
     return (int) -1;
 }
 
 /* CheckBinaryVersion */
-  static int __Pyx_check_binary_version(void) {
+static int __Pyx_check_binary_version(void) {
     char ctversion[5];
     int same=1, i, found_dot;
     const char* rt_from_call = Py_GetVersion();
     PyOS_snprintf(ctversion, 5, "%d.%d", PY_MAJOR_VERSION, PY_MINOR_VERSION);
     found_dot = 0;
     for (i = 0; i < 4; i++) {
         if (!ctversion[i]) {
@@ -13616,17 +13603,17 @@
                       ctversion, __Pyx_MODULE_NAME, rtversion);
         return PyErr_WarnEx(NULL, message, 1);
     }
     return 0;
 }
 
 /* FunctionImport */
-  #ifndef __PYX_HAVE_RT_ImportFunction_0_29_35
-#define __PYX_HAVE_RT_ImportFunction_0_29_35
-static int __Pyx_ImportFunction_0_29_35(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction
+#define __PYX_HAVE_RT_ImportFunction
+static int __Pyx_ImportFunction(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
@@ -13670,15 +13657,15 @@
 bad:
     Py_XDECREF(d);
     return -1;
 }
 #endif
 
 /* InitStrings */
-  static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
+static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
     while (t->p) {
         #if PY_MAJOR_VERSION < 3
         if (t->is_unicode) {
             *t->p = PyUnicode_DecodeUTF8(t->s, t->n - 1, NULL);
         } else if (t->intern) {
             *t->p = PyString_InternFromString(t->s);
         } else {
```

### Comparing `edgedb-1.5.0/edgedb/protocol/blocking_proto.pxd` & `edgedb-2.0.0a1/edgedb/protocol/blocking_proto.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/blocking_proto.pyx` & `edgedb-2.0.0a1/edgedb/protocol/blocking_proto.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/array.pxd` & `edgedb-2.0.0a1/edgedb/protocol/codecs/array.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/array.pyx` & `edgedb-2.0.0a1/edgedb/protocol/codecs/array.pyx`

 * *Files 0% similar despite different names*

```diff
@@ -35,15 +35,15 @@
             WriteBuffer elem_data
             int32_t ndims = 1
             Py_ssize_t objlen
             Py_ssize_t i
 
         if not isinstance(
             self.sub_codec,
-            (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)
+            (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)
         ):
             raise TypeError(
                 'only arrays of scalars are supported (got type {!r})'.format(
                     type(self.sub_codec).__name__
                 )
             )
```

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/base.pxd` & `edgedb-2.0.0a1/edgedb/protocol/codecs/base.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/base.pyx` & `edgedb-2.0.0a1/edgedb/protocol/codecs/base.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/codecs.pxd` & `edgedb-2.0.0a1/edgedb/protocol/codecs/codecs.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/codecs.pyx` & `edgedb-2.0.0a1/edgedb/protocol/codecs/codecs.pyx`

 * *Files 9% similar despite different names*

```diff
@@ -13,24 +13,21 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
 
 
-import array
 import decimal
 import uuid
 import datetime
 from edgedb import describe
 from edgedb import enums
 from edgedb.datatypes import datatypes
 
-from libc.string cimport memcpy
-
 
 include "./edb_types.pxi"
 
 
 include "./base.pyx"
 include "./scalar.pyx"
 include "./tuple.pyx"
@@ -346,24 +343,22 @@
 
 cdef dict BASE_SCALAR_CODECS = {}
 
 
 cdef register_base_scalar_codec(
         str name,
         pgproto.encode_func encoder,
-        pgproto.decode_func decoder,
-        object tid = None):
+        pgproto.decode_func decoder):
 
     cdef:
         BaseCodec codec
 
+    tid = TYPE_IDS.get(name)
     if tid is None:
-        tid = TYPE_IDS.get(name)
-        if tid is None:
-            raise RuntimeError(f'cannot find known ID for type {name!r}')
+        raise RuntimeError(f'cannot find known ID for type {name!r}')
     tid = tid.bytes
 
     if tid in BASE_SCALAR_CODECS:
         raise RuntimeError(f'base scalar codec for {id} is already registered')
 
     codec = ScalarCodec.new(tid, name, encoder, decoder)
     BASE_SCALAR_CODECS[tid] = codec
@@ -511,102 +506,14 @@
         int64_t bytes
 
     bytes = hton.unpack_int64(frb_read(buf, 8))
 
     return datatypes.ConfigMemory(bytes=bytes)
 
 
-DEF PGVECTOR_MAX_DIM = (1 << 16) - 1
-
-
-cdef pgvector_encode_memview(pgproto.CodecContext settings, WriteBuffer buf,
-                             float[:] obj):
-    cdef:
-        float item
-        Py_ssize_t objlen
-        Py_ssize_t i
-
-    objlen = len(obj)
-    if objlen > PGVECTOR_MAX_DIM:
-        raise ValueError('too many elements in vector value')
-
-    buf.write_int32(4 + objlen*4)
-    buf.write_int16(objlen)
-    buf.write_int16(0)
-    for i in range(objlen):
-        buf.write_float(obj[i])
-
-
-cdef pgvector_encode(pgproto.CodecContext settings, WriteBuffer buf,
-                     object obj):
-    cdef:
-        float item
-        Py_ssize_t objlen
-        float[:] memview
-        Py_ssize_t i
-
-    # If we can take a typed memview of the object, we use that.
-    # That is good, because it means we can consume array.array and
-    # numpy.ndarray without needing to unbox.
-    # Otherwise we take the slow path, indexing into the array using
-    # the normal protocol.
-    try:
-        memview = obj
-    except (ValueError, TypeError) as e:
-        pass
-    else:
-        pgvector_encode_memview(settings, buf, memview)
-        return
-
-    if not _is_array_iterable(obj):
-        raise TypeError(
-            'a sized iterable container expected (got type {!r})'.format(
-                type(obj).__name__))
-
-    # Annoyingly, this is literally identical code to the fast path...
-    # but the types are different in critical ways.
-    objlen = len(obj)
-    if objlen > PGVECTOR_MAX_DIM:
-        raise ValueError('too many elements in vector value')
-
-    buf.write_int32(4 + objlen*4)
-    buf.write_int16(objlen)
-    buf.write_int16(0)
-    for i in range(objlen):
-        buf.write_float(obj[i])
-
-
-cdef object ONE_EL_ARRAY = array.array('f', [0.0])
-
-
-cdef pgvector_decode(pgproto.CodecContext settings, FRBuffer *buf):
-    cdef:
-        int32_t dim
-        Py_ssize_t size
-        Py_buffer view
-        char *p
-        float[:] array_view
-
-    dim = hton.unpack_uint16(frb_read(buf, 2))
-    frb_read(buf, 2)
-
-    size = dim * 4
-    p = frb_read(buf, size)
-
-    # Create a float array with size dim
-    val = ONE_EL_ARRAY * dim
-
-    # And fill it with the buffer contents
-    array_view = val
-    memcpy(&array_view[0], p, size)
-    val.byteswap()
-
-    return val
-
-
 cdef checked_decimal_encode(
     pgproto.CodecContext settings, WriteBuffer buf, obj
 ):
     if not isinstance(obj, decimal.Decimal) and not isinstance(obj, int):
         raise TypeError('expected a Decimal or an int')
     pgproto.numeric_encode_binary(settings, buf, obj)
 
@@ -796,17 +703,13 @@
         date_duration_decode)
 
     register_base_scalar_codec(
         'cfg::memory',
         config_memory_encode,
         config_memory_decode)
 
-
     register_base_scalar_codec(
-        'ext::pgvector::vector',
-        pgvector_encode,
-        pgvector_decode,
-        uuid.UUID('9565dd88-04f5-11ee-a691-0b6ebe179825'),
-    )
-
+        'fts::language',
+        pgproto.text_encode,
+        pgproto.text_decode)
 
 register_base_scalar_codecs()
```

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/edb_types.pxi` & `edgedb-2.0.0a1/edgedb/protocol/codecs/edb_types.pxi`

 * *Files 2% similar despite different names*

```diff
@@ -25,9 +25,10 @@
     'cal::local_date': uuid.UUID('00000000-0000-0000-0000-00000000010c'),
     'cal::local_time': uuid.UUID('00000000-0000-0000-0000-00000000010d'),
     'std::duration': uuid.UUID('00000000-0000-0000-0000-00000000010e'),
     'std::json': uuid.UUID('00000000-0000-0000-0000-00000000010f'),
     'std::bigint': uuid.UUID('00000000-0000-0000-0000-000000000110'),
     'cal::relative_duration': uuid.UUID('00000000-0000-0000-0000-000000000111'),
     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),
-    'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130')
+    'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130'),
+    'fts::language': uuid.UUID('00000000-0000-0000-0000-000000000140'),
 }
```

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/enum.pxd` & `edgedb-2.0.0a1/edgedb/protocol/codecs/enum.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/enum.pyx` & `edgedb-2.0.0a1/edgedb/protocol/codecs/enum.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/namedtuple.pxd` & `edgedb-2.0.0a1/edgedb/protocol/codecs/namedtuple.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/namedtuple.pyx` & `edgedb-2.0.0a1/edgedb/protocol/codecs/namedtuple.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/object.pxd` & `edgedb-2.0.0a1/edgedb/protocol/codecs/object.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/object.pyx` & `edgedb-2.0.0a1/edgedb/protocol/codecs/object.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/range.pxd` & `edgedb-2.0.0a1/edgedb/protocol/codecs/range.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/range.pyx` & `edgedb-2.0.0a1/edgedb/protocol/codecs/range.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/scalar.pxd` & `edgedb-2.0.0a1/edgedb/protocol/codecs/scalar.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/scalar.pyx` & `edgedb-2.0.0a1/edgedb/protocol/codecs/scalar.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/set.pxd` & `edgedb-2.0.0a1/edgedb/protocol/codecs/set.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/set.pyx` & `edgedb-2.0.0a1/edgedb/protocol/codecs/set.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/tuple.pxd` & `edgedb-2.0.0a1/edgedb/protocol/codecs/tuple.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/codecs/tuple.pyx` & `edgedb-2.0.0a1/edgedb/protocol/codecs/tuple.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/consts.pxi` & `edgedb-2.0.0a1/edgedb/protocol/consts.pxi`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/cpythonx.pxd` & `edgedb-2.0.0a1/edgedb/protocol/cpythonx.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/lru.pxd` & `edgedb-2.0.0a1/edgedb/protocol/lru.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/lru.pyx` & `edgedb-2.0.0a1/edgedb/protocol/lru.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/protocol.c` & `edgedb-2.0.0a1/edgedb/protocol/protocol.c`

 * *Files 9% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-/* Generated by Cython 0.29.35 */
+/* Generated by Cython 0.29.33 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "edgedb/pgproto/debug.h"
         ],
@@ -33,16 +33,16 @@
 #endif /* PY_SSIZE_T_CLEAN */
 #include "Python.h"
 #ifndef Py_PYTHON_H
     #error Python headers needed to compile C extensions, please install development version of Python.
 #elif PY_VERSION_HEX < 0x02060000 || (0x03000000 <= PY_VERSION_HEX && PY_VERSION_HEX < 0x03030000)
     #error Cython requires Python 2.6+ or Python 3.3+.
 #else
-#define CYTHON_ABI "0_29_35"
-#define CYTHON_HEX_VERSION 0x001D23F0
+#define CYTHON_ABI "0_29_33"
+#define CYTHON_HEX_VERSION 0x001D21F0
 #define CYTHON_FUTURE_DIVISION 1
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -102,20 +102,16 @@
   #define CYTHON_ASSUME_SAFE_MACROS 0
   #undef CYTHON_UNPACK_METHODS
   #define CYTHON_UNPACK_METHODS 0
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
-  #if PY_VERSION_HEX < 0x03090000
-    #undef CYTHON_PEP489_MULTI_PHASE_INIT
-    #define CYTHON_PEP489_MULTI_PHASE_INIT 0
-  #elif !defined(CYTHON_PEP489_MULTI_PHASE_INIT)
-    #define CYTHON_PEP489_MULTI_PHASE_INIT 1
-  #endif
+  #undef CYTHON_PEP489_MULTI_PHASE_INIT
+  #define CYTHON_PEP489_MULTI_PHASE_INIT 0
   #undef CYTHON_USE_TP_FINALIZE
   #define CYTHON_USE_TP_FINALIZE 0
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
@@ -231,15 +227,15 @@
   #elif !defined(CYTHON_USE_ASYNC_SLOTS)
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
   #if PY_VERSION_HEX < 0x02070000
     #undef CYTHON_USE_PYLONG_INTERNALS
     #define CYTHON_USE_PYLONG_INTERNALS 0
   #elif !defined(CYTHON_USE_PYLONG_INTERNALS)
-    #define CYTHON_USE_PYLONG_INTERNALS (PY_VERSION_HEX < 0x030C00A5)
+    #define CYTHON_USE_PYLONG_INTERNALS 1
   #endif
   #ifndef CYTHON_USE_PYLIST_INTERNALS
     #define CYTHON_USE_PYLIST_INTERNALS 1
   #endif
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
@@ -270,15 +266,15 @@
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT (PY_VERSION_HEX >= 0x03050000)
   #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE (PY_VERSION_HEX >= 0x030400a1)
   #endif
   #ifndef CYTHON_USE_DICT_VERSIONS
-    #define CYTHON_USE_DICT_VERSIONS ((PY_VERSION_HEX >= 0x030600B1) && (PY_VERSION_HEX < 0x030C00A5))
+    #define CYTHON_USE_DICT_VERSIONS (PY_VERSION_HEX >= 0x030600B1)
   #endif
   #if PY_VERSION_HEX >= 0x030B00A4
     #undef CYTHON_USE_EXC_INFO_STACK
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK (PY_VERSION_HEX >= 0x030700A3)
   #endif
@@ -777,16 +773,14 @@
 #include <stdio.h>
 #include "pythread.h"
 #include <stdint.h>
 #include "debug.h"
 #include "datetime.h"
 #include "./hton.h"
 #include "datatypes.h"
-#include <stdlib.h>
-#include "pystate.h"
 #ifdef _OPENMP
 #include <omp.h>
 #endif /* _OPENMP */
 
 #if defined(PYREX_WITHOUT_ASSERTIONS) && !defined(CYTHON_WITHOUT_ASSERTIONS)
 #define CYTHON_WITHOUT_ASSERTIONS
 #endif
@@ -1005,127 +999,23 @@
   "edgedb/protocol/./codecs/./range.pyx",
   "edgedb/protocol/./codecs/./set.pyx",
   "edgedb/protocol/./codecs/./enum.pyx",
   "edgedb/protocol/protocol.pxd",
   "edgedb/protocol/protocol_v0.pyx",
   "edgedb/pgproto/./frb.pxd",
   "edgedb/pgproto/./buffer.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/datetime.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/type.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/bool.pxd",
-  ".eggs/Cython-0.29.35-py3.11-linux-x86_64.egg/Cython/Includes/cpython/complex.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/datetime.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/type.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/bool.pxd",
+  ".eggs/Cython-0.29.33-py3.11-linux-x86_64.egg/Cython/Includes/cpython/complex.pxd",
   "edgedb/datatypes/./relative_duration.pxd",
   "edgedb/datatypes/./date_duration.pxd",
   "edgedb/datatypes/./config_memory.pxd",
   "edgedb/protocol/./codecs/./edb_types.pxi",
 };
-/* MemviewSliceStruct.proto */
-struct __pyx_memoryview_obj;
-typedef struct {
-  struct __pyx_memoryview_obj *memview;
-  char *data;
-  Py_ssize_t shape[8];
-  Py_ssize_t strides[8];
-  Py_ssize_t suboffsets[8];
-} __Pyx_memviewslice;
-#define __Pyx_MemoryView_Len(m)  (m.shape[0])
-
-/* Atomics.proto */
-#include <pythread.h>
-#ifndef CYTHON_ATOMICS
-    #define CYTHON_ATOMICS 1
-#endif
-#define __PYX_CYTHON_ATOMICS_ENABLED() CYTHON_ATOMICS
-#define __pyx_atomic_int_type int
-#if CYTHON_ATOMICS && (__GNUC__ >= 5 || (__GNUC__ == 4 &&\
-                    (__GNUC_MINOR__ > 1 ||\
-                    (__GNUC_MINOR__ == 1 && __GNUC_PATCHLEVEL__ >= 2))))
-    #define __pyx_atomic_incr_aligned(value) __sync_fetch_and_add(value, 1)
-    #define __pyx_atomic_decr_aligned(value) __sync_fetch_and_sub(value, 1)
-    #ifdef __PYX_DEBUG_ATOMICS
-        #warning "Using GNU atomics"
-    #endif
-#elif CYTHON_ATOMICS && defined(_MSC_VER) && CYTHON_COMPILING_IN_NOGIL
-    #include <intrin.h>
-    #undef __pyx_atomic_int_type
-    #define __pyx_atomic_int_type long
-    #pragma intrinsic (_InterlockedExchangeAdd)
-    #define __pyx_atomic_incr_aligned(value) _InterlockedExchangeAdd(value, 1)
-    #define __pyx_atomic_decr_aligned(value) _InterlockedExchangeAdd(value, -1)
-    #ifdef __PYX_DEBUG_ATOMICS
-        #pragma message ("Using MSVC atomics")
-    #endif
-#else
-    #undef CYTHON_ATOMICS
-    #define CYTHON_ATOMICS 0
-    #ifdef __PYX_DEBUG_ATOMICS
-        #warning "Not using atomics"
-    #endif
-#endif
-typedef volatile __pyx_atomic_int_type __pyx_atomic_int;
-#if CYTHON_ATOMICS
-    #define __pyx_add_acquisition_count(memview)\
-             __pyx_atomic_incr_aligned(__pyx_get_slice_count_pointer(memview))
-    #define __pyx_sub_acquisition_count(memview)\
-            __pyx_atomic_decr_aligned(__pyx_get_slice_count_pointer(memview))
-#else
-    #define __pyx_add_acquisition_count(memview)\
-            __pyx_add_acquisition_count_locked(__pyx_get_slice_count_pointer(memview), memview->lock)
-    #define __pyx_sub_acquisition_count(memview)\
-            __pyx_sub_acquisition_count_locked(__pyx_get_slice_count_pointer(memview), memview->lock)
-#endif
-
-/* ForceInitThreads.proto */
-#ifndef __PYX_FORCE_INIT_THREADS
-  #define __PYX_FORCE_INIT_THREADS 0
-#endif
-
-/* NoFastGil.proto */
-#define __Pyx_PyGILState_Ensure PyGILState_Ensure
-#define __Pyx_PyGILState_Release PyGILState_Release
-#define __Pyx_FastGIL_Remember()
-#define __Pyx_FastGIL_Forget()
-#define __Pyx_FastGilFuncInit()
-
-/* BufferFormatStructs.proto */
-#define IS_UNSIGNED(type) (((type) -1) > 0)
-struct __Pyx_StructField_;
-#define __PYX_BUF_FLAGS_PACKED_STRUCT (1 << 0)
-typedef struct {
-  const char* name;
-  struct __Pyx_StructField_* fields;
-  size_t size;
-  size_t arraysize[8];
-  int ndim;
-  char typegroup;
-  char is_unsigned;
-  int flags;
-} __Pyx_TypeInfo;
-typedef struct __Pyx_StructField_ {
-  __Pyx_TypeInfo* type;
-  const char* name;
-  size_t offset;
-} __Pyx_StructField;
-typedef struct {
-  __Pyx_StructField* field;
-  size_t parent_offset;
-} __Pyx_BufFmt_StackElem;
-typedef struct {
-  __Pyx_StructField root;
-  __Pyx_BufFmt_StackElem* head;
-  size_t fmt_offset;
-  size_t new_count, enc_count;
-  size_t struct_alignment;
-  int is_complex;
-  char enc_type;
-  char new_packmode;
-  char enc_packmode;
-  char is_valid_array;
-} __Pyx_BufFmt_Context;
-
 
 /*--- Type declarations ---*/
 struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer;
 struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer;
 struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext;
 struct __pyx_obj_6edgedb_9datatypes_9datatypes_RelativeDuration;
 struct __pyx_obj_6edgedb_9datatypes_9datatypes_DateDuration;
@@ -1171,18 +1061,14 @@
 struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_17__auth_sasl;
 struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_18__legacy_parse;
 struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_19__legacy_execute;
 struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_20__legacy_optimistic_execute;
 struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_21_legacy_execute_anonymous;
 struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_22_legacy_simple_query;
 struct __pyx_obj___Pyx_EnumMeta;
-struct __pyx_array_obj;
-struct __pyx_MemviewEnum_obj;
-struct __pyx_memoryview_obj;
-struct __pyx_memoryviewslice_obj;
 struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer;
 struct __pyx_opt_args_6edgedb_7pgproto_7pgproto_10ReadBuffer_redirect_messages;
 
 /* "edgedb/pgproto/frb.pxd":10
  * cdef:
  * 
  *     struct FRBuffer:             # <<<<<<<<<<<<<<
@@ -1261,15 +1147,14 @@
 typedef PyObject *(*__pyx_t_6edgedb_7pgproto_7pgproto_decode_func)(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *);
 struct __pyx_opt_args_6edgedb_8protocol_8protocol_9BaseCodec_dump;
 struct __pyx_opt_args_6edgedb_8protocol_8protocol_19CodecPythonOverride_dump;
 struct __pyx_opt_args_6edgedb_8protocol_8protocol_20BaseNamedRecordCodec_dump;
 struct __pyx_opt_args_6edgedb_8protocol_8protocol_10TupleCodec_dump;
 struct __pyx_opt_args_6edgedb_8protocol_8protocol_14BaseArrayCodec_dump;
 struct __pyx_opt_args_6edgedb_8protocol_8protocol_10RangeCodec_dump;
-struct __pyx_opt_args_6edgedb_8protocol_8protocol_register_base_scalar_codec;
 
 /* "edgedb/protocol/protocol.pxd":43
  * 
  * 
  * cpdef enum OutputFormat:             # <<<<<<<<<<<<<<
  *     BINARY = b'b'
  *     JSON = b'j'
@@ -1415,26 +1300,14 @@
  * 
  */
 struct __pyx_opt_args_6edgedb_8protocol_8protocol_10RangeCodec_dump {
   int __pyx_n;
   int level;
 };
 
-/* "edgedb/protocol/codecs/codecs.pyx":351
- * 
- * cdef register_base_scalar_codec(
- *         str name,             # <<<<<<<<<<<<<<
- *         pgproto.encode_func encoder,
- *         pgproto.decode_func decoder,
- */
-struct __pyx_opt_args_6edgedb_8protocol_8protocol_register_base_scalar_codec {
-  int __pyx_n;
-  PyObject *tid;
-};
-
 /* "edgedb/pgproto/buffer.pxd":8
  * 
  * 
  * cdef class WriteBuffer:             # <<<<<<<<<<<<<<
  *     cdef:
  *         # Preallocated small buffer
  */
@@ -2360,91 +2233,14 @@
  *         type.__init__(cls, name, parents, dct)
  */
 struct __pyx_obj___Pyx_EnumMeta {
   PyHeapTypeObject __pyx_base;
 };
 
 
-/* "View.MemoryView":106
- * 
- * @cname("__pyx_array")
- * cdef class array:             # <<<<<<<<<<<<<<
- * 
- *     cdef:
- */
-struct __pyx_array_obj {
-  PyObject_HEAD
-  struct __pyx_vtabstruct_array *__pyx_vtab;
-  char *data;
-  Py_ssize_t len;
-  char *format;
-  int ndim;
-  Py_ssize_t *_shape;
-  Py_ssize_t *_strides;
-  Py_ssize_t itemsize;
-  PyObject *mode;
-  PyObject *_format;
-  void (*callback_free_data)(void *);
-  int free_data;
-  int dtype_is_object;
-};
-
-
-/* "View.MemoryView":280
- * 
- * @cname('__pyx_MemviewEnum')
- * cdef class Enum(object):             # <<<<<<<<<<<<<<
- *     cdef object name
- *     def __init__(self, name):
- */
-struct __pyx_MemviewEnum_obj {
-  PyObject_HEAD
-  PyObject *name;
-};
-
-
-/* "View.MemoryView":331
- * 
- * @cname('__pyx_memoryview')
- * cdef class memoryview(object):             # <<<<<<<<<<<<<<
- * 
- *     cdef object obj
- */
-struct __pyx_memoryview_obj {
-  PyObject_HEAD
-  struct __pyx_vtabstruct_memoryview *__pyx_vtab;
-  PyObject *obj;
-  PyObject *_size;
-  PyObject *_array_interface;
-  PyThread_type_lock lock;
-  __pyx_atomic_int acquisition_count[2];
-  __pyx_atomic_int *acquisition_count_aligned_p;
-  Py_buffer view;
-  int flags;
-  int dtype_is_object;
-  __Pyx_TypeInfo *typeinfo;
-};
-
-
-/* "View.MemoryView":967
- * 
- * @cname('__pyx_memoryviewslice')
- * cdef class _memoryviewslice(memoryview):             # <<<<<<<<<<<<<<
- *     "Internal class for passing memoryview slices to Python"
- * 
- */
-struct __pyx_memoryviewslice_obj {
-  struct __pyx_memoryview_obj __pyx_base;
-  __Pyx_memviewslice from_slice;
-  PyObject *from_object;
-  PyObject *(*to_object_func)(char *);
-  int (*to_dtype_func)(char *, PyObject *);
-};
-
-
 
 /* "edgedb/pgproto/buffer.pxd":8
  * 
  * 
  * cdef class WriteBuffer:             # <<<<<<<<<<<<<<
  *     cdef:
  *         # Preallocated small buffer
@@ -2805,15 +2601,15 @@
   struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec __pyx_base;
   struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *(*new)(PyObject *, PyObject *);
 };
 static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EnumCodec *__pyx_vtabptr_6edgedb_8protocol_8protocol_EnumCodec;
 static struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *__pyx_f_6edgedb_8protocol_8protocol_9EnumCodec_new(PyObject *, PyObject *);
 
 
-/* "edgedb/protocol/codecs/codecs.pyx":67
+/* "edgedb/protocol/codecs/codecs.pyx":64
  * 
  * 
  * cdef class CodecsRegistry:             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, *, cache_size=1000):
  */
 
@@ -2888,62 +2684,14 @@
   PyObject *(*parse_legacy_command_complete_message)(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible *);
   PyObject *(*legacy_write_headers)(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *);
   PyObject *(*legacy_write_execute_headers)(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, int, int, int, uint64_t);
   PyObject *(*legacy_parse_headers)(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible *);
 };
 static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible *__pyx_vtabptr_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible;
 
-
-/* "View.MemoryView":106
- * 
- * @cname("__pyx_array")
- * cdef class array:             # <<<<<<<<<<<<<<
- * 
- *     cdef:
- */
-
-struct __pyx_vtabstruct_array {
-  PyObject *(*get_memview)(struct __pyx_array_obj *);
-};
-static struct __pyx_vtabstruct_array *__pyx_vtabptr_array;
-
-
-/* "View.MemoryView":331
- * 
- * @cname('__pyx_memoryview')
- * cdef class memoryview(object):             # <<<<<<<<<<<<<<
- * 
- *     cdef object obj
- */
-
-struct __pyx_vtabstruct_memoryview {
-  char *(*get_item_pointer)(struct __pyx_memoryview_obj *, PyObject *);
-  PyObject *(*is_slice)(struct __pyx_memoryview_obj *, PyObject *);
-  PyObject *(*setitem_slice_assignment)(struct __pyx_memoryview_obj *, PyObject *, PyObject *);
-  PyObject *(*setitem_slice_assign_scalar)(struct __pyx_memoryview_obj *, struct __pyx_memoryview_obj *, PyObject *);
-  PyObject *(*setitem_indexed)(struct __pyx_memoryview_obj *, PyObject *, PyObject *);
-  PyObject *(*convert_item_to_object)(struct __pyx_memoryview_obj *, char *);
-  PyObject *(*assign_item_from_object)(struct __pyx_memoryview_obj *, char *, PyObject *);
-};
-static struct __pyx_vtabstruct_memoryview *__pyx_vtabptr_memoryview;
-
-
-/* "View.MemoryView":967
- * 
- * @cname('__pyx_memoryviewslice')
- * cdef class _memoryviewslice(memoryview):             # <<<<<<<<<<<<<<
- *     "Internal class for passing memoryview slices to Python"
- * 
- */
-
-struct __pyx_vtabstruct__memoryviewslice {
-  struct __pyx_vtabstruct_memoryview __pyx_base;
-};
-static struct __pyx_vtabstruct__memoryviewslice *__pyx_vtabptr__memoryviewslice;
-
 /* --- Runtime support code (head) --- */
 /* Refnanny.proto */
 #ifndef CYTHON_REFNANNY
   #define CYTHON_REFNANNY 0
 #endif
 #if CYTHON_REFNANNY
   typedef struct {
@@ -3453,43 +3201,14 @@
     return unlikely(result < 0) ? result : (result == (eq == Py_EQ));
 }
 
 /* PyObjectFormatAndDecref.proto */
 static CYTHON_INLINE PyObject* __Pyx_PyObject_FormatSimpleAndDecref(PyObject* s, PyObject* f);
 static CYTHON_INLINE PyObject* __Pyx_PyObject_FormatAndDecref(PyObject* s, PyObject* f);
 
-/* BufferIndexError.proto */
-static void __Pyx_RaiseBufferIndexError(int axis);
-
-/* MemviewSliceInit.proto */
-#define __Pyx_BUF_MAX_NDIMS %(BUF_MAX_NDIMS)d
-#define __Pyx_MEMVIEW_DIRECT   1
-#define __Pyx_MEMVIEW_PTR      2
-#define __Pyx_MEMVIEW_FULL     4
-#define __Pyx_MEMVIEW_CONTIG   8
-#define __Pyx_MEMVIEW_STRIDED  16
-#define __Pyx_MEMVIEW_FOLLOW   32
-#define __Pyx_IS_C_CONTIG 1
-#define __Pyx_IS_F_CONTIG 2
-static int __Pyx_init_memviewslice(
-                struct __pyx_memoryview_obj *memview,
-                int ndim,
-                __Pyx_memviewslice *memviewslice,
-                int memview_is_new_reference);
-static CYTHON_INLINE int __pyx_add_acquisition_count_locked(
-    __pyx_atomic_int *acquisition_count, PyThread_type_lock lock);
-static CYTHON_INLINE int __pyx_sub_acquisition_count_locked(
-    __pyx_atomic_int *acquisition_count, PyThread_type_lock lock);
-#define __pyx_get_slice_count_pointer(memview) (memview->acquisition_count_aligned_p)
-#define __pyx_get_slice_count(memview) (*__pyx_get_slice_count_pointer(memview))
-#define __PYX_INC_MEMVIEW(slice, have_gil) __Pyx_INC_MEMVIEW(slice, have_gil, __LINE__)
-#define __PYX_XDEC_MEMVIEW(slice, have_gil) __Pyx_XDEC_MEMVIEW(slice, have_gil, __LINE__)
-static CYTHON_INLINE void __Pyx_INC_MEMVIEW(__Pyx_memviewslice *, int, int);
-static CYTHON_INLINE void __Pyx_XDEC_MEMVIEW(__Pyx_memviewslice *, int, int);
-
 /* PyIntCompare.proto */
 static CYTHON_INLINE PyObject* __Pyx_PyInt_EqObjC(PyObject *op1, PyObject *op2, long intval, long inplace);
 
 /* PyIntBinop.proto */
 #if !CYTHON_COMPILING_IN_PYPY
 static PyObject* __Pyx_PyInt_RemainderObjC(PyObject *op1, PyObject *op2, long intval, int inplace, int zerodivision_check);
 #else
@@ -3689,70 +3408,14 @@
 static CYTHON_INLINE int __Pyx_HasAttr(PyObject *, PyObject *);
 
 /* WriteUnraisableException.proto */
 static void __Pyx_WriteUnraisable(const char *name, int clineno,
                                   int lineno, const char *filename,
                                   int full_traceback, int nogil);
 
-/* StrEquals.proto */
-#if PY_MAJOR_VERSION >= 3
-#define __Pyx_PyString_Equals __Pyx_PyUnicode_Equals
-#else
-#define __Pyx_PyString_Equals __Pyx_PyBytes_Equals
-#endif
-
-/* DivInt[Py_ssize_t].proto */
-static CYTHON_INLINE Py_ssize_t __Pyx_div_Py_ssize_t(Py_ssize_t, Py_ssize_t);
-
-/* UnaryNegOverflows.proto */
-#define UNARY_NEG_WOULD_OVERFLOW(x)\
-        (((x) < 0) & ((unsigned long)(x) == 0-(unsigned long)(x)))
-
-static CYTHON_UNUSED int __pyx_array_getbuffer(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /*proto*/
-static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *); /*proto*/
-/* decode_c_string.proto */
-static CYTHON_INLINE PyObject* __Pyx_decode_c_string(
-         const char* cstring, Py_ssize_t start, Py_ssize_t stop,
-         const char* encoding, const char* errors,
-         PyObject* (*decode_func)(const char *s, Py_ssize_t size, const char *errors));
-
-static CYTHON_UNUSED int __pyx_memoryview_getbuffer(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /*proto*/
-/* ListCompAppend.proto */
-#if CYTHON_USE_PYLIST_INTERNALS && CYTHON_ASSUME_SAFE_MACROS
-static CYTHON_INLINE int __Pyx_ListComp_Append(PyObject* list, PyObject* x) {
-    PyListObject* L = (PyListObject*) list;
-    Py_ssize_t len = Py_SIZE(list);
-    if (likely(L->allocated > len)) {
-        Py_INCREF(x);
-        PyList_SET_ITEM(list, len, x);
-        __Pyx_SET_SIZE(list, len + 1);
-        return 0;
-    }
-    return PyList_Append(list, x);
-}
-#else
-#define __Pyx_ListComp_Append(L,x) PyList_Append(L,x)
-#endif
-
-/* ListExtend.proto */
-static CYTHON_INLINE int __Pyx_PyList_Extend(PyObject* L, PyObject* v) {
-#if CYTHON_COMPILING_IN_CPYTHON
-    PyObject* none = _PyList_Extend((PyListObject*)L, v);
-    if (unlikely(!none))
-        return -1;
-    Py_DECREF(none);
-    return 0;
-#else
-    return PyList_SetSlice(L, PY_SSIZE_T_MAX, PY_SSIZE_T_MAX, v);
-#endif
-}
-
-/* DivInt[long].proto */
-static CYTHON_INLINE long __Pyx_div_long(long, long);
-
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_dealloc);
 
 /* CallNextTpDealloc.proto */
@@ -3771,30 +3434,22 @@
 /* PyObjectGetAttrStrNoError.proto */
 static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStrNoError(PyObject* obj, PyObject* attr_name);
 
 /* SetupReduce.proto */
 static int __Pyx_setup_reduce(PyObject* type_obj);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_0_29_35
-#define __PYX_HAVE_RT_ImportType_proto_0_29_35
-#if __STDC_VERSION__ >= 201112L
-#include <stdalign.h>
-#endif
-#if __STDC_VERSION__ >= 201112L || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_0_29_35(s) alignof(s)
-#else
-#define __PYX_GET_STRUCT_ALIGNMENT_0_29_35(s) sizeof(void*)
-#endif
-enum __Pyx_ImportType_CheckSize_0_29_35 {
-   __Pyx_ImportType_CheckSize_Error_0_29_35 = 0,
-   __Pyx_ImportType_CheckSize_Warn_0_29_35 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_0_29_35 = 2
+#ifndef __PYX_HAVE_RT_ImportType_proto
+#define __PYX_HAVE_RT_ImportType_proto
+enum __Pyx_ImportType_CheckSize {
+   __Pyx_ImportType_CheckSize_Error = 0,
+   __Pyx_ImportType_CheckSize_Warn = 1,
+   __Pyx_ImportType_CheckSize_Ignore = 2
 };
-static PyTypeObject *__Pyx_ImportType_0_29_35(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_0_29_35 check_size);
+static PyTypeObject *__Pyx_ImportType(PyObject* module, const char *module_name, const char *class_name, size_t size, enum __Pyx_ImportType_CheckSize check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyObject *dict);
 
 /* PatchInspect.proto */
 static PyObject* __Pyx_patch_inspect(PyObject* module);
@@ -3907,85 +3562,14 @@
 static PyCodeObject *__pyx_find_code_object(int code_line);
 static void __pyx_insert_code_object(int code_line, PyCodeObject* code_object);
 
 /* AddTraceback.proto */
 static void __Pyx_AddTraceback(const char *funcname, int c_line,
                                int py_line, const char *filename);
 
-#if PY_MAJOR_VERSION < 3
-    static int __Pyx_GetBuffer(PyObject *obj, Py_buffer *view, int flags);
-    static void __Pyx_ReleaseBuffer(Py_buffer *view);
-#else
-    #define __Pyx_GetBuffer PyObject_GetBuffer
-    #define __Pyx_ReleaseBuffer PyBuffer_Release
-#endif
-
-
-/* BufferStructDeclare.proto */
-typedef struct {
-  Py_ssize_t shape, strides, suboffsets;
-} __Pyx_Buf_DimInfo;
-typedef struct {
-  size_t refcount;
-  Py_buffer pybuffer;
-} __Pyx_Buffer;
-typedef struct {
-  __Pyx_Buffer *rcbuffer;
-  char *data;
-  __Pyx_Buf_DimInfo diminfo[8];
-} __Pyx_LocalBuf_ND;
-
-/* MemviewSliceIsContig.proto */
-static int __pyx_memviewslice_is_contig(const __Pyx_memviewslice mvs, char order, int ndim);
-
-/* OverlappingSlices.proto */
-static int __pyx_slices_overlap(__Pyx_memviewslice *slice1,
-                                __Pyx_memviewslice *slice2,
-                                int ndim, size_t itemsize);
-
-/* Capsule.proto */
-static CYTHON_INLINE PyObject *__pyx_capsule_create(void *p, const char *sig);
-
-/* MemviewDtypeToObject.proto */
-static CYTHON_INLINE PyObject *__pyx_memview_get_float(const char *itemp);
-static CYTHON_INLINE int __pyx_memview_set_float(const char *itemp, PyObject *obj);
-
-/* IsLittleEndian.proto */
-static CYTHON_INLINE int __Pyx_Is_Little_Endian(void);
-
-/* BufferFormatCheck.proto */
-static const char* __Pyx_BufFmt_CheckString(__Pyx_BufFmt_Context* ctx, const char* ts);
-static void __Pyx_BufFmt_Init(__Pyx_BufFmt_Context* ctx,
-                              __Pyx_BufFmt_StackElem* stack,
-                              __Pyx_TypeInfo* type);
-
-/* TypeInfoCompare.proto */
-static int __pyx_typeinfo_cmp(__Pyx_TypeInfo *a, __Pyx_TypeInfo *b);
-
-/* MemviewSliceValidateAndInit.proto */
-static int __Pyx_ValidateAndInit_memviewslice(
-                int *axes_specs,
-                int c_or_f_flag,
-                int buf_flags,
-                int ndim,
-                __Pyx_TypeInfo *dtype,
-                __Pyx_BufFmt_StackElem stack[],
-                __Pyx_memviewslice *memviewslice,
-                PyObject *original_obj);
-
-/* ObjectToMemviewSlice.proto */
-static CYTHON_INLINE __Pyx_memviewslice __Pyx_PyObject_to_MemoryviewSlice_ds_float(PyObject *, int writable_flag);
-
-/* MemviewSliceCopyTemplate.proto */
-static __Pyx_memviewslice
-__pyx_memoryview_copy_new_contig(const __Pyx_memviewslice *from_mvs,
-                                 const char *mode, int ndim,
-                                 size_t sizeof_dtype, int contig_flag,
-                                 int dtype_is_object);
-
 /* CIntToPy.proto */
 static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int(int value);
 
 /* CIntFromPy.proto */
 static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *);
 
 /* CIntToPy.proto */
@@ -4063,15 +3647,15 @@
 static PyObject *__Pyx_Generator_Next(PyObject *self);
 static int __pyx_Generator_init(void);
 
 /* CheckBinaryVersion.proto */
 static int __Pyx_check_binary_version(void);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_0_29_35(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_10LRUMapping_get(struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *__pyx_v_self, PyObject *__pyx_v_key, PyObject *__pyx_v_default); /* proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_9BaseCodec_encode(CYTHON_UNUSED struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *__pyx_v_self, CYTHON_UNUSED struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *__pyx_v_buf, CYTHON_UNUSED PyObject *__pyx_v_obj); /* proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_9BaseCodec_decode(CYTHON_UNUSED struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *__pyx_v_self, CYTHON_UNUSED struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *__pyx_v_buf); /* proto*/
@@ -4147,26 +3731,14 @@
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_33SansIOProtocolBackwardsCompatible_legacy_parse_headers(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible *__pyx_v_self); /* proto*/
 static CYTHON_INLINE PyObject *__pyx_f_6edgedb_7pgproto_7pgproto_11WriteBuffer_len(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *__pyx_v_self); /* proto*/
 static CYTHON_INLINE PyObject *__pyx_f_6edgedb_7pgproto_7pgproto_11WriteBuffer_write_len_prefixed_utf8(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *__pyx_v_self, PyObject *__pyx_v_s); /* proto*/
 static CYTHON_INLINE PyObject *__pyx_f_6edgedb_7pgproto_7pgproto_10ReadBuffer_len(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer *__pyx_v_self); /* proto*/
 static CYTHON_INLINE char __pyx_f_6edgedb_7pgproto_7pgproto_10ReadBuffer_get_message_type(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer *__pyx_v_self); /* proto*/
 static CYTHON_INLINE int32_t __pyx_f_6edgedb_7pgproto_7pgproto_10ReadBuffer_get_message_length(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer *__pyx_v_self); /* proto*/
 static CYTHON_INLINE PyObject *__pyx_f_6edgedb_8protocol_8protocol_9BaseCodec_get_tid(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *__pyx_v_self); /* proto*/
-static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *__pyx_v_self); /* proto*/
-static char *__pyx_memoryview_get_item_pointer(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index); /* proto*/
-static PyObject *__pyx_memoryview_is_slice(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_obj); /* proto*/
-static PyObject *__pyx_memoryview_setitem_slice_assignment(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_dst, PyObject *__pyx_v_src); /* proto*/
-static PyObject *__pyx_memoryview_setitem_slice_assign_scalar(struct __pyx_memoryview_obj *__pyx_v_self, struct __pyx_memoryview_obj *__pyx_v_dst, PyObject *__pyx_v_value); /* proto*/
-static PyObject *__pyx_memoryview_setitem_indexed(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index, PyObject *__pyx_v_value); /* proto*/
-static PyObject *__pyx_memoryview_convert_item_to_object(struct __pyx_memoryview_obj *__pyx_v_self, char *__pyx_v_itemp); /* proto*/
-static PyObject *__pyx_memoryview_assign_item_from_object(struct __pyx_memoryview_obj *__pyx_v_self, char *__pyx_v_itemp, PyObject *__pyx_v_value); /* proto*/
-static PyObject *__pyx_memoryviewslice_convert_item_to_object(struct __pyx_memoryviewslice_obj *__pyx_v_self, char *__pyx_v_itemp); /* proto*/
-static PyObject *__pyx_memoryviewslice_assign_item_from_object(struct __pyx_memoryviewslice_obj *__pyx_v_self, char *__pyx_v_itemp, PyObject *__pyx_v_value); /* proto*/
-
-/* Module declarations from 'cython.view' */
 
 /* Module declarations from 'cython' */
 
 /* Module declarations from 'cpython.version' */
 
 /* Module declarations from '__builtin__' */
 
@@ -4373,18 +3945,14 @@
 static PyTypeObject *__pyx_ptype_6edgedb_8protocol_8protocol___pyx_scope_struct_17__auth_sasl = 0;
 static PyTypeObject *__pyx_ptype_6edgedb_8protocol_8protocol___pyx_scope_struct_18__legacy_parse = 0;
 static PyTypeObject *__pyx_ptype_6edgedb_8protocol_8protocol___pyx_scope_struct_19__legacy_execute = 0;
 static PyTypeObject *__pyx_ptype_6edgedb_8protocol_8protocol___pyx_scope_struct_20__legacy_optimistic_execute = 0;
 static PyTypeObject *__pyx_ptype_6edgedb_8protocol_8protocol___pyx_scope_struct_21_legacy_execute_anonymous = 0;
 static PyTypeObject *__pyx_ptype_6edgedb_8protocol_8protocol___pyx_scope_struct_22_legacy_simple_query = 0;
 static PyTypeObject *__pyx_ptype___Pyx_EnumMeta = 0;
-static PyTypeObject *__pyx_array_type = 0;
-static PyTypeObject *__pyx_MemviewEnum_type = 0;
-static PyTypeObject *__pyx_memoryview_type = 0;
-static PyTypeObject *__pyx_memoryviewslice_type = 0;
 static PyObject *__pyx_v_6edgedb_8protocol_8protocol__LRU_MARKER = 0;
 static uint64_t __pyx_v_6edgedb_8protocol_8protocol_RECORD_ENCODER_CHECKED;
 static uint64_t __pyx_v_6edgedb_8protocol_8protocol_RECORD_ENCODER_INVALID;
 static PyObject *__pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC_ID = 0;
 static PyObject *__pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC_ID = 0;
 static struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *__pyx_v_6edgedb_8protocol_8protocol_DEFAULT_CODEC_CONTEXT = 0;
 static PyObject *__pyx_v_6edgedb_8protocol_8protocol_CARDS_MAP = 0;
@@ -4392,48 +3960,37 @@
 static uint8_t __pyx_v_6edgedb_8protocol_8protocol_RANGE_LB_INC;
 static uint8_t __pyx_v_6edgedb_8protocol_8protocol_RANGE_UB_INC;
 static uint8_t __pyx_v_6edgedb_8protocol_8protocol_RANGE_LB_INF;
 static uint8_t __pyx_v_6edgedb_8protocol_8protocol_RANGE_UB_INF;
 static struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *__pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC = 0;
 static struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *__pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC = 0;
 static PyObject *__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS = 0;
-static PyObject *__pyx_v_6edgedb_8protocol_8protocol_ONE_EL_ARRAY = 0;
 static PyObject *__pyx_v_6edgedb_8protocol_8protocol_OLD_ERROR_CODES = 0;
 static PyObject *__pyx_v_6edgedb_8protocol_8protocol_result_cardinality_mismatch_code = 0;
 static PyObject *__pyx_v_6edgedb_8protocol_8protocol_parameter_type_mismatch_code = 0;
 static PyObject *__pyx_v_6edgedb_8protocol_8protocol_SYNC_MESSAGE = 0;
 static PyObject *__pyx_v_6edgedb_8protocol_8protocol_FLUSH_MESSAGE = 0;
 static PyObject *__Pyx_OrderedDict = 0;
 static PyObject *__Pyx_EnumBase = 0;
-static PyObject *generic = 0;
-static PyObject *strided = 0;
-static PyObject *indirect = 0;
-static PyObject *contiguous = 0;
-static PyObject *indirect_contiguous = 0;
-static int __pyx_memoryview_thread_locks_used;
-static PyThread_type_lock __pyx_memoryview_thread_locks[8];
 static PyObject *__Pyx_globals = 0;
 static CYTHON_INLINE int __pyx_f_6edgedb_8protocol_8protocol__is_trivial_container(PyObject *); /*proto*/
 static CYTHON_INLINE PyObject *__pyx_f_6edgedb_8protocol_8protocol__is_array_iterable(PyObject *); /*proto*/
-static PyObject *__pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(PyObject *, __pyx_t_6edgedb_7pgproto_7pgproto_encode_func, __pyx_t_6edgedb_7pgproto_7pgproto_decode_func, struct __pyx_opt_args_6edgedb_8protocol_8protocol_register_base_scalar_codec *__pyx_optional_args); /*proto*/
+static PyObject *__pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(PyObject *, __pyx_t_6edgedb_7pgproto_7pgproto_encode_func, __pyx_t_6edgedb_7pgproto_7pgproto_decode_func); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_time_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_date_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_timestamp_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_timestamptz_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_duration_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_duration_decode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_relative_duration_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_relative_duration_decode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_date_duration_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_date_duration_decode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_config_memory_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_config_memory_decode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *); /*proto*/
-static PyObject *__pyx_f_6edgedb_8protocol_8protocol_pgvector_encode_memview(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, __Pyx_memviewslice); /*proto*/
-static PyObject *__pyx_f_6edgedb_8protocol_8protocol_pgvector_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
-static PyObject *__pyx_f_6edgedb_8protocol_8protocol_pgvector_decode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_checked_decimal_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_decimal_decode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_ensure_is_int(PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_checked_int2_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_checked_int4_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_checked_int8_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_bigint_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *); /*proto*/
@@ -4441,48 +3998,14 @@
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codecs(void); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol___pyx_unpickle_LRUMapping__set_state(struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol___pyx_unpickle_CodecsRegistry__set_state(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol___pyx_unpickle_QueryCodecsCache__set_state(struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol___pyx_unpickle_SansIOProtocol__set_state(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol *, PyObject *); /*proto*/
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol___pyx_unpickle_SansIOProtocolBackwardsCompatible__set_state(struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible *, PyObject *); /*proto*/
 static PyObject *__pyx_unpickle___Pyx_EnumMeta__set_state(struct __pyx_obj___Pyx_EnumMeta *, PyObject *); /*proto*/
-static struct __pyx_array_obj *__pyx_array_new(PyObject *, Py_ssize_t, char *, char *, char *); /*proto*/
-static void *__pyx_align_pointer(void *, size_t); /*proto*/
-static PyObject *__pyx_memoryview_new(PyObject *, int, int, __Pyx_TypeInfo *); /*proto*/
-static CYTHON_INLINE int __pyx_memoryview_check(PyObject *); /*proto*/
-static PyObject *_unellipsify(PyObject *, int); /*proto*/
-static PyObject *assert_direct_dimensions(Py_ssize_t *, int); /*proto*/
-static struct __pyx_memoryview_obj *__pyx_memview_slice(struct __pyx_memoryview_obj *, PyObject *); /*proto*/
-static int __pyx_memoryview_slice_memviewslice(__Pyx_memviewslice *, Py_ssize_t, Py_ssize_t, Py_ssize_t, int, int, int *, Py_ssize_t, Py_ssize_t, Py_ssize_t, int, int, int, int); /*proto*/
-static char *__pyx_pybuffer_index(Py_buffer *, char *, Py_ssize_t, Py_ssize_t); /*proto*/
-static int __pyx_memslice_transpose(__Pyx_memviewslice *); /*proto*/
-static PyObject *__pyx_memoryview_fromslice(__Pyx_memviewslice, int, PyObject *(*)(char *), int (*)(char *, PyObject *), int); /*proto*/
-static __Pyx_memviewslice *__pyx_memoryview_get_slice_from_memoryview(struct __pyx_memoryview_obj *, __Pyx_memviewslice *); /*proto*/
-static void __pyx_memoryview_slice_copy(struct __pyx_memoryview_obj *, __Pyx_memviewslice *); /*proto*/
-static PyObject *__pyx_memoryview_copy_object(struct __pyx_memoryview_obj *); /*proto*/
-static PyObject *__pyx_memoryview_copy_object_from_slice(struct __pyx_memoryview_obj *, __Pyx_memviewslice *); /*proto*/
-static Py_ssize_t abs_py_ssize_t(Py_ssize_t); /*proto*/
-static char __pyx_get_best_slice_order(__Pyx_memviewslice *, int); /*proto*/
-static void _copy_strided_to_strided(char *, Py_ssize_t *, char *, Py_ssize_t *, Py_ssize_t *, Py_ssize_t *, int, size_t); /*proto*/
-static void copy_strided_to_strided(__Pyx_memviewslice *, __Pyx_memviewslice *, int, size_t); /*proto*/
-static Py_ssize_t __pyx_memoryview_slice_get_size(__Pyx_memviewslice *, int); /*proto*/
-static Py_ssize_t __pyx_fill_contig_strides_array(Py_ssize_t *, Py_ssize_t *, Py_ssize_t, int, char); /*proto*/
-static void *__pyx_memoryview_copy_data_to_temp(__Pyx_memviewslice *, __Pyx_memviewslice *, char, int); /*proto*/
-static int __pyx_memoryview_err_extents(int, Py_ssize_t, Py_ssize_t); /*proto*/
-static int __pyx_memoryview_err_dim(PyObject *, char *, int); /*proto*/
-static int __pyx_memoryview_err(PyObject *, char *); /*proto*/
-static int __pyx_memoryview_copy_contents(__Pyx_memviewslice, __Pyx_memviewslice, int, int, int); /*proto*/
-static void __pyx_memoryview_broadcast_leading(__Pyx_memviewslice *, int, int); /*proto*/
-static void __pyx_memoryview_refcount_copying(__Pyx_memviewslice *, int, int, int); /*proto*/
-static void __pyx_memoryview_refcount_objects_in_slice_with_gil(char *, Py_ssize_t *, Py_ssize_t *, int, int); /*proto*/
-static void __pyx_memoryview_refcount_objects_in_slice(char *, Py_ssize_t *, Py_ssize_t *, int, int); /*proto*/
-static void __pyx_memoryview_slice_assign_scalar(__Pyx_memviewslice *, int, size_t, void *, int); /*proto*/
-static void __pyx_memoryview__slice_assign_scalar(char *, Py_ssize_t *, Py_ssize_t *, int, size_t, void *); /*proto*/
-static PyObject *__pyx_unpickle_Enum__set_state(struct __pyx_MemviewEnum_obj *, PyObject *); /*proto*/
-static __Pyx_TypeInfo __Pyx_TypeInfo_float = { "float", NULL, sizeof(float), { 0 }, 0, 'R', 0, 0 };
 #define __Pyx_MODULE_NAME "edgedb.protocol.protocol"
 extern int __pyx_module_is_main_edgedb__protocol__protocol;
 int __pyx_module_is_main_edgedb__protocol__protocol = 0;
 
 /* Implementation of 'edgedb.protocol.protocol' */
 static PyObject *__pyx_builtin_object;
 static PyObject *__pyx_builtin_ValueError;
@@ -4493,20 +4016,14 @@
 static PyObject *__pyx_builtin_enumerate;
 static PyObject *__pyx_builtin_zip;
 static PyObject *__pyx_builtin_LookupError;
 static PyObject *__pyx_builtin_KeyError;
 static PyObject *__pyx_builtin_id;
 static PyObject *__pyx_builtin_reversed;
 static PyObject *__pyx_builtin_chr;
-static PyObject *__pyx_builtin_MemoryError;
-static PyObject *__pyx_builtin_Ellipsis;
-static PyObject *__pyx_builtin_IndexError;
-static const char __pyx_k_O[] = "O";
-static const char __pyx_k_c[] = "c";
-static const char __pyx_k_f[] = "f";
 static const char __pyx_k_n[] = "n";
 static const char __pyx_k_v[] = "v";
 static const char __pyx_k__2[] = " ";
 static const char __pyx_k_id[] = "id";
 static const char __pyx_k_qc[] = "qc";
 static const char __pyx_k_ALL[] = "ALL";
 static const char __pyx_k_ONE[] = "ONE";
@@ -4515,29 +4032,28 @@
 static const char __pyx_k__17[] = "{}{} := {}";
 static const char __pyx_k__18[] = "\n";
 static const char __pyx_k__29[] = " := ";
 static const char __pyx_k__30[] = " (";
 static const char __pyx_k__31[] = ")";
 static const char __pyx_k__32[] = ": ";
 static const char __pyx_k__53[] = "@";
-static const char __pyx_k__65[] = "";
-static const char __pyx_k__66[] = "-";
-static const char __pyx_k__77[] = "[]";
-static const char __pyx_k__83[] = ".";
-static const char __pyx_k__86[] = ", ";
+static const char __pyx_k__64[] = "";
+static const char __pyx_k__65[] = "-";
+static const char __pyx_k__76[] = "[]";
+static const char __pyx_k__82[] = ".";
+static const char __pyx_k__85[] = ", ";
 static const char __pyx_k_big[] = "big";
 static const char __pyx_k_chr[] = "chr";
 static const char __pyx_k_cls[] = "cls";
 static const char __pyx_k_dct[] = "dct";
 static const char __pyx_k_doc[] = "__doc__";
 static const char __pyx_k_get[] = "get";
 static const char __pyx_k_got[] = ", got ";
 static const char __pyx_k_msg[] = "msg";
 static const char __pyx_k_new[] = "__new__";
-static const char __pyx_k_obj[] = "obj";
 static const char __pyx_k_ref[] = "ref";
 static const char __pyx_k_reg[] = "reg";
 static const char __pyx_k_res[] = "res";
 static const char __pyx_k_s_s[] = "%s.%s";
 static const char __pyx_k_std[] = "std";
 static const char __pyx_k_str[] = "__str__";
 static const char __pyx_k_tid[] = "__tid__";
@@ -4546,82 +4062,69 @@
 static const char __pyx_k_Enum[] = "Enum";
 static const char __pyx_k_JSON[] = "JSON";
 static const char __pyx_k_LINK[] = "LINK";
 static const char __pyx_k_MANY[] = "MANY";
 static const char __pyx_k_NONE[] = "NONE";
 static const char __pyx_k_None[] = "None";
 static const char __pyx_k_UUID[] = "UUID";
-static const char __pyx_k__141[] = "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000";
-static const char __pyx_k__143[] = "\000\000\000\000";
-static const char __pyx_k__144[] = "\000\000\000\004\000\000\000\000";
+static const char __pyx_k__122[] = "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000";
+static const char __pyx_k__124[] = "\000\000\000\000";
+static const char __pyx_k__125[] = "\000\000\000\004\000\000\000\000";
 static const char __pyx_k_args[] = "args";
-static const char __pyx_k_base[] = "base";
 static const char __pyx_k_code[] = "_code";
 static const char __pyx_k_days[] = "days";
 static const char __pyx_k_dict[] = "__dict__";
 static const char __pyx_k_dump[] = "dump";
 static const char __pyx_k_enum[] = "enum";
 static const char __pyx_k_init[] = "__init__";
 static const char __pyx_k_json[] = "json";
 static const char __pyx_k_keys[] = "keys";
 static const char __pyx_k_kind[] = "kind";
 static const char __pyx_k_last[] = "last";
 static const char __pyx_k_main[] = "__main__";
-static const char __pyx_k_mode[] = "mode";
 static const char __pyx_k_name[] = "__name__";
-static const char __pyx_k_ndim[] = "ndim";
 static const char __pyx_k_null[] = "null";
-static const char __pyx_k_pack[] = "pack";
 static const char __pyx_k_ping[] = "ping";
 static const char __pyx_k_repr[] = "__repr__";
 static const char __pyx_k_self[] = "self";
 static const char __pyx_k_send[] = "send";
-static const char __pyx_k_size[] = "size";
-static const char __pyx_k_step[] = "step";
-static const char __pyx_k_stop[] = "stop";
 static const char __pyx_k_sync[] = "_sync";
 static const char __pyx_k_test[] = "__test__";
 static const char __pyx_k_time[] = "time";
 static const char __pyx_k_type[] = "type";
 static const char __pyx_k_user[] = "user";
 static const char __pyx_k_uuid[] = "uuid";
-static const char __pyx_k_ASCII[] = "ASCII";
 static const char __pyx_k_Array[] = "Array";
 static const char __pyx_k_FIELD[] = "_FIELD";
 static const char __pyx_k_Range[] = "Range";
 static const char __pyx_k_Sized[] = "Sized";
 static const char __pyx_k_Tuple[] = "Tuple";
 static const char __pyx_k_abort[] = "abort";
 static const char __pyx_k_aiter[] = "__aiter__";
 static const char __pyx_k_anext[] = "__anext__";
-static const char __pyx_k_array[] = "array";
 static const char __pyx_k_attrs[] = "_attrs";
 static const char __pyx_k_await[] = "__await__";
 static const char __pyx_k_bytes[] = "bytes";
 static const char __pyx_k_cause[] = "__cause__";
 static const char __pyx_k_class[] = "__class__";
 static const char __pyx_k_clear[] = "clear";
 static const char __pyx_k_close[] = "close";
 static const char __pyx_k_empty[] = "empty";
 static const char __pyx_k_enums[] = "enums";
-static const char __pyx_k_error[] = "error";
 static const char __pyx_k_extra[] = ", extra ";
 static const char __pyx_k_field[] = "field";
-static const char __pyx_k_flags[] = "flags";
 static const char __pyx_k_in_dc[] = "in_dc";
 static const char __pyx_k_index[] = "_index_";
 static const char __pyx_k_items[] = "items";
 static const char __pyx_k_lower[] = "lower";
 static const char __pyx_k_parse[] = "_parse";
 static const char __pyx_k_query[] = "query";
 static const char __pyx_k_range[] = "range";
 static const char __pyx_k_s_s_d[] = "<%s.%s: %d>";
 static const char __pyx_k_scram[] = "scram";
-static const char __pyx_k_shape[] = "shape";
-static const char __pyx_k_start[] = "start";
 static const char __pyx_k_state[] = "state";
 static const char __pyx_k_strip[] = "strip";
 static const char __pyx_k_throw[] = "throw";
 static const char __pyx_k_tname[] = "__tname__";
 static const char __pyx_k_types[] = "types";
 static const char __pyx_k_upper[] = "upper";
 static const char __pyx_k_utf_8[] = "utf-8";
@@ -4645,19 +4148,17 @@
 static const char __pyx_k_months[] = "months";
 static const char __pyx_k_name_2[] = "name";
 static const char __pyx_k_object[] = "object";
 static const char __pyx_k_out_dc[] = "out_dc";
 static const char __pyx_k_pickle[] = "pickle";
 static const char __pyx_k_python[] = "python";
 static const char __pyx_k_reduce[] = "__reduce__";
-static const char __pyx_k_struct[] = "struct";
 static const char __pyx_k_typeid[] = "typeid";
 static const char __pyx_k_typing[] = "typing";
 static const char __pyx_k_tzinfo[] = "tzinfo";
-static const char __pyx_k_unpack[] = "unpack";
 static const char __pyx_k_update[] = "update";
 static const char __pyx_k_values[] = "values";
 static const char __pyx_k_Decimal[] = "Decimal";
 static const char __pyx_k_Element[] = "Element";
 static const char __pyx_k_IntEnum[] = "IntEnum";
 static const char __pyx_k_Mapping[] = "Mapping";
 static const char __pyx_k_anytype[] = "anytype";
@@ -4665,53 +4166,48 @@
 static const char __pyx_k_bytes_2[] = "_bytes";
 static const char __pyx_k_connect[] = "connect";
 static const char __pyx_k_decimal[] = "decimal";
 static const char __pyx_k_decoder[] = "decoder";
 static const char __pyx_k_desc_id[] = "desc_id";
 static const char __pyx_k_encoder[] = "encoder";
 static const char __pyx_k_execute[] = "_execute";
-static const char __pyx_k_fortran[] = "fortran";
 static const char __pyx_k_genexpr[] = "genexpr";
 static const char __pyx_k_get_pos[] = "get_pos";
 static const char __pyx_k_inspect[] = "inspect";
 static const char __pyx_k_maxsize[] = "maxsize";
 static const char __pyx_k_members[] = "__members__";
-static const char __pyx_k_memview[] = "memview";
 static const char __pyx_k_nothing[] = "nothing";
 static const char __pyx_k_parents[] = "parents";
 static const char __pyx_k_pgproto[] = "pgproto";
 static const char __pyx_k_popitem[] = "popitem";
 static const char __pyx_k_prepare[] = "__prepare__";
 static const char __pyx_k_query_2[] = "_query";
 static const char __pyx_k_restore[] = "restore";
 static const char __pyx_k_std_str[] = "std::str";
 static const char __pyx_k_weakref[] = "weakref";
-static const char __pyx_k_Ellipsis[] = "Ellipsis";
 static const char __pyx_k_EnumBase[] = "EnumBase";
 static const char __pyx_k_EnumMeta[] = "EnumMeta";
 static const char __pyx_k_EnumType[] = "EnumType";
 static const char __pyx_k_Iterable[] = "Iterable";
 static const char __pyx_k_KeyError[] = "KeyError";
 static const char __pyx_k_PROPERTY[] = "PROPERTY";
 static const char __pyx_k_SetCodec[] = "SetCodec";
 static const char __pyx_k_SizedABC[] = "SizedABC";
 static const char __pyx_k_TYPE_IDS[] = "TYPE_IDS";
 static const char __pyx_k_anytuple[] = "anytuple";
 static const char __pyx_k_argument[] = "argument $";
-static const char __pyx_k_byteswap[] = "byteswap";
 static const char __pyx_k_data_gen[] = "data_gen";
 static const char __pyx_k_database[] = "database";
 static const char __pyx_k_datetime[] = "datetime";
 static const char __pyx_k_describe[] = "describe";
 static const char __pyx_k_elements[] = "elements";
 static const char __pyx_k_expected[] = "expected ";
 static const char __pyx_k_get_code[] = "get_code";
 static const char __pyx_k_getstate[] = "__getstate__";
 static const char __pyx_k_is_empty[] = "is_empty";
-static const char __pyx_k_itemsize[] = "itemsize";
 static const char __pyx_k_no_input[] = "no-input";
 static const char __pyx_k_password[] = "password";
 static const char __pyx_k_pyx_type[] = "__pyx_type";
 static const char __pyx_k_qualname[] = "__qualname__";
 static const char __pyx_k_reversed[] = "reversed";
 static const char __pyx_k_setstate[] = "__setstate__";
 static const char __pyx_k_std_bool[] = "std::bool";
@@ -4745,15 +4241,14 @@
 static const char __pyx_k_std_bytes[] = "std::bytes";
 static const char __pyx_k_std_int16[] = "std::int16";
 static const char __pyx_k_std_int32[] = "std::int32";
 static const char __pyx_k_std_int64[] = "std::int64";
 static const char __pyx_k_timedelta[] = "timedelta";
 static const char __pyx_k_ArrayCodec[] = "ArrayCodec";
 static const char __pyx_k_Capability[] = "Capability";
-static const char __pyx_k_IndexError[] = "IndexError";
 static const char __pyx_k_LRUMapping[] = "LRUMapping";
 static const char __pyx_k_MappingABC[] = "MappingABC";
 static const char __pyx_k_NamedTuple[] = "NamedTuple";
 static const char __pyx_k_ObjectType[] = "ObjectType";
 static const char __pyx_k_RangeCodec[] = "RangeCodec";
 static const char __pyx_k_ScalarType[] = "ScalarType";
 static const char __pyx_k_TupleCodec[] = "TupleCodec";
@@ -4776,15 +4271,14 @@
 static const char __pyx_k_AT_MOST_ONE[] = "AT_MOST_ONE";
 static const char __pyx_k_Cardinality[] = "Cardinality";
 static const char __pyx_k_ClientError[] = "ClientError";
 static const char __pyx_k_EdgeDBError[] = "EdgeDBError";
 static const char __pyx_k_ElementKind[] = "ElementKind";
 static const char __pyx_k_IterableABC[] = "IterableABC";
 static const char __pyx_k_LookupError[] = "LookupError";
-static const char __pyx_k_MemoryError[] = "MemoryError";
 static const char __pyx_k_NoDataError[] = "NoDataError";
 static const char __pyx_k_ObjectCodec[] = "ObjectCodec";
 static const char __pyx_k_OrderedDict[] = "OrderedDict";
 static const char __pyx_k_PickleError[] = "PickleError";
 static const char __pyx_k_ScalarCodec[] = "ScalarCodec";
 static const char __pyx_k_cardinality[] = "cardinality";
 static const char __pyx_k_collections[] = "collections";
@@ -4799,14 +4293,15 @@
 static const char __pyx_k_OutputFormat[] = "OutputFormat";
 static const char __pyx_k_Pyx_EnumBase[] = "__Pyx_EnumBase";
 static const char __pyx_k_RuntimeError[] = "RuntimeError";
 static const char __pyx_k_SparseObject[] = "SparseObject";
 static const char __pyx_k_capabilities[] = "capabilities";
 static const char __pyx_k_element_type[] = "element_type";
 static const char __pyx_k_elements_got[] = " elements, got ";
+static const char __pyx_k_fts_language[] = "fts::language";
 static const char __pyx_k_legacy_parse[] = "_legacy_parse";
 static const char __pyx_k_microseconds[] = "microseconds";
 static const char __pyx_k_pyx_checksum[] = "__pyx_checksum";
 static const char __pyx_k_query_single[] = "query_single";
 static const char __pyx_k_required_one[] = "required_one";
 static const char __pyx_k_std_datetime[] = "std::datetime";
 static const char __pyx_k_std_duration[] = "std::duration";
@@ -4816,15 +4311,14 @@
 static const char __pyx_k_LINK_PROPERTY[] = "LINK_PROPERTY";
 static const char __pyx_k_ProtocolError[] = "ProtocolError";
 static const char __pyx_k_SCRAM_SHA_256[] = "SCRAM-SHA-256";
 static const char __pyx_k_asyncio_tasks[] = "asyncio.tasks";
 static const char __pyx_k_element_types[] = "element_types";
 static const char __pyx_k_not_connected[] = "not connected";
 static const char __pyx_k_output_format[] = "output_format";
-static const char __pyx_k_pyx_getbuffer[] = "__pyx_getbuffer";
 static const char __pyx_k_reduce_cython[] = "__reduce_cython__";
 static const char __pyx_k_system_config[] = "system_config";
 static const char __pyx_k_BaseArrayCodec[] = "BaseArrayCodec";
 static const char __pyx_k_BaseScalarType[] = "BaseScalarType";
 static const char __pyx_k_CodecsRegistry[] = "CodecsRegistry";
 static const char __pyx_k_InterfaceError[] = "InterfaceError";
 static const char __pyx_k_NamedTupleType[] = "NamedTupleType";
@@ -4840,18 +4334,15 @@
 static const char __pyx_k_on_log_message[] = "_on_log_message";
 static const char __pyx_k_BaseRecordCodec[] = "BaseRecordCodec";
 static const char __pyx_k_CompilationFlag[] = "CompilationFlag";
 static const char __pyx_k_EMPTY_NULL_DATA[] = "EMPTY_NULL_DATA";
 static const char __pyx_k_EmptyTupleCodec[] = "EmptyTupleCodec";
 static const char __pyx_k_NamedTupleCodec[] = "NamedTupleCodec";
 static const char __pyx_k_Python_override[] = "<Python override>";
-static const char __pyx_k_View_MemoryView[] = "View.MemoryView";
-static const char __pyx_k_allocate_buffer[] = "allocate_buffer";
 static const char __pyx_k_collections_abc[] = "collections.abc";
-static const char __pyx_k_dtype_is_object[] = "dtype_is_object";
 static const char __pyx_k_expected_an_int[] = "expected an int";
 static const char __pyx_k_header_callback[] = "header_callback";
 static const char __pyx_k_pyx_PickleError[] = "__pyx_PickleError";
 static const char __pyx_k_setstate_cython[] = "__setstate_cython__";
 static const char __pyx_k_ALL_CAPABILITIES[] = "ALL_CAPABILITIES";
 static const char __pyx_k_DerivedEnumValue[] = "DerivedEnumValue";
 static const char __pyx_k_MappingProxyType[] = "MappingProxyType";
@@ -4861,75 +4352,65 @@
 static const char __pyx_k_returned_no_data[] = "() returned no data";
 static const char __pyx_k_try_recv_eagerly[] = "try_recv_eagerly";
 static const char __pyx_k_wait_for_connect[] = "wait_for_connect";
 static const char __pyx_k_wait_for_message[] = "wait_for_message";
 static const char __pyx_k_EMPTY_RECORD_DATA[] = "EMPTY_RECORD_DATA";
 static const char __pyx_k_already_connected[] = "already connected";
 static const char __pyx_k_cal_date_duration[] = "cal::date_duration";
-static const char __pyx_k_pyx_unpickle_Enum[] = "__pyx_unpickle_Enum";
 static const char __pyx_k_query_single_json[] = "query_single_json";
 static const char __pyx_k_EdegDBCodecContext[] = "EdegDBCodecContext";
 static const char __pyx_k_Pyx_EnumBase___new[] = "__Pyx_EnumBase.__new__";
 static const char __pyx_k_Pyx_EnumBase___str[] = "__Pyx_EnumBase.__str__";
 static const char __pyx_k_QueryArgumentError[] = "QueryArgumentError";
 static const char __pyx_k_allow_capabilities[] = "allow_capabilities";
 static const char __pyx_k_asyncio_coroutines[] = "asyncio.coroutines";
 static const char __pyx_k_cal_local_datetime[] = "cal::local_datetime";
 static const char __pyx_k_cline_in_traceback[] = "cline_in_traceback";
 static const char __pyx_k_query_executed_via[] = "query executed via ";
-static const char __pyx_k_strided_and_direct[] = "<strided and direct>";
 static const char __pyx_k_CodecPythonOverride[] = "CodecPythonOverride";
 static const char __pyx_k_NotImplementedError[] = "NotImplementedError";
 static const char __pyx_k_Pyx_EnumBase___repr[] = "__Pyx_EnumBase.__repr__";
 static const char __pyx_k_QUERY_SINGLE_METHOD[] = "_QUERY_SINGLE_METHOD";
 static const char __pyx_k_SansIOProtocol_dump[] = "SansIOProtocol.dump";
 static const char __pyx_k_SansIOProtocol_ping[] = "SansIOProtocol.ping";
-static const char __pyx_k_ext_pgvector_vector[] = "ext::pgvector::vector";
 static const char __pyx_k_legacy_simple_query[] = "legacy_simple_query";
 static const char __pyx_k_wait_for_disconnect[] = "wait_for_disconnect";
 static const char __pyx_k_BaseNamedRecordCodec[] = "BaseNamedRecordCodec";
 static const char __pyx_k_InvalidArgumentError[] = "InvalidArgumentError";
 static const char __pyx_k_SansIOProtocol__sync[] = "SansIOProtocol._sync";
 static const char __pyx_k_SansIOProtocol_query[] = "SansIOProtocol.query";
 static const char __pyx_k_Unknown_enum_value_s[] = "Unknown enum value: '%s'";
 static const char __pyx_k_bad_bigint_sign_data[] = "bad bigint sign data";
 static const char __pyx_k_get_dataclass_fields[] = "get_dataclass_fields";
-static const char __pyx_k_strided_and_indirect[] = "<strided and indirect>";
 static const char __pyx_k_ClientConnectionError[] = "ClientConnectionError";
 static const char __pyx_k_SansIOProtocol__parse[] = "SansIOProtocol._parse";
 static const char __pyx_k_base_scalar_codec_for[] = "base scalar codec for ";
 static const char __pyx_k_cal_relative_duration[] = "cal::relative_duration";
-static const char __pyx_k_contiguous_and_direct[] = "<contiguous and direct>";
 static const char __pyx_k_invalid_array_element[] = "invalid array element: {}";
 static const char __pyx_k_invalid_buffer_length[] = "invalid buffer length";
 static const char __pyx_k_is_already_registered[] = " is already registered";
 static const char __pyx_k_neither_are_supported[] = ", neither are supported.";
 static const char __pyx_k_query_required_single[] = "query_required_single";
 static const char __pyx_k_typeid_must_be_a_UUID[] = "typeid must be a UUID";
 static const char __pyx_k_INJECT_OUTPUT_TYPE_IDS[] = "INJECT_OUTPUT_TYPE_IDS";
-static const char __pyx_k_MemoryView_of_r_object[] = "<MemoryView of %r object>";
 static const char __pyx_k_SansIOProtocol_connect[] = "SansIOProtocol.connect";
 static const char __pyx_k_SansIOProtocol_execute[] = "SansIOProtocol.execute";
 static const char __pyx_k_SansIOProtocol_restore[] = "SansIOProtocol.restore";
 static const char __pyx_k_edgedb_pgproto_pgproto[] = "edgedb.pgproto.pgproto";
-static const char __pyx_k_MemoryView_of_r_at_0x_x[] = "<MemoryView of %r at 0x%x>";
 static const char __pyx_k_SansIOProtocol__execute[] = "SansIOProtocol._execute";
-static const char __pyx_k_contiguous_and_indirect[] = "<contiguous and indirect>";
 static const char __pyx_k_edgedb_DerivedEnumValue[] = "edgedb.DerivedEnumValue";
 static const char __pyx_k_pyx_unpickle_LRUMapping[] = "__pyx_unpickle_LRUMapping";
 static const char __pyx_k_unexpected_message_type[] = "unexpected message type ";
-static const char __pyx_k_Cannot_index_with_type_s[] = "Cannot index with type '%s'";
 static const char __pyx_k_EDGE_POINTER_IS_LINKPROP[] = "_EDGE_POINTER_IS_LINKPROP";
 static const char __pyx_k_INJECT_OUTPUT_OBJECT_IDS[] = "INJECT_OUTPUT_OBJECT_IDS";
 static const char __pyx_k_INJECT_OUTPUT_TYPE_NAMES[] = "INJECT_OUTPUT_TYPE_NAMES";
 static const char __pyx_k_edgedb_protocol_protocol[] = "edgedb.protocol.protocol";
 static const char __pyx_k_legacy_execute_anonymous[] = "legacy_execute_anonymous";
 static const char __pyx_k_make_type_locals_genexpr[] = "make_type.<locals>.genexpr";
 static const char __pyx_k_result_is_not_a_list_but[] = "result is not a list, but ";
-static const char __pyx_k_Invalid_shape_in_axis_d_d[] = "Invalid shape in axis %d: %d.";
 static const char __pyx_k_SansIOProtocol__auth_sasl[] = "SansIOProtocol._auth_sasl";
 static const char __pyx_k_elements_in_the_tuple_got[] = " elements in the tuple, got ";
 static const char __pyx_k_invalid_range_lower_bound[] = "invalid range lower bound: {}";
 static const char __pyx_k_invalid_range_upper_bound[] = "invalid range upper bound: {}";
 static const char __pyx_k_legacy_optimistic_execute[] = "_legacy_optimistic_execute";
 static const char __pyx_k_set_dataclass_fields_func[] = "set_dataclass_fields_func";
 static const char __pyx_k_ParameterTypeMismatchError[] = "ParameterTypeMismatchError";
@@ -4939,15 +4420,14 @@
 static const char __pyx_k_parse_server_final_message[] = "parse_server_final_message";
 static const char __pyx_k_parse_server_first_message[] = "parse_server_first_message";
 static const char __pyx_k_query_required_single_json[] = "query_required_single_json";
 static const char __pyx_k_suggested_pool_concurrency[] = "suggested_pool_concurrency";
 static const char __pyx_k_ClientConnectionClosedError[] = "ClientConnectionClosedError";
 static const char __pyx_k_expected_no_named_arguments[] = "expected no named arguments";
 static const char __pyx_k_invalid_array_size_received[] = "invalid array size: received ";
-static const char __pyx_k_itemsize_0_for_cython_array[] = "itemsize <= 0 for cython.array";
 static const char __pyx_k_pyx_unpickle_CodecsRegistry[] = "__pyx_unpickle_CodecsRegistry";
 static const char __pyx_k_pyx_unpickle_SansIOProtocol[] = "__pyx_unpickle_SansIOProtocol";
 static const char __pyx_k_pyx_unpickle___Pyx_EnumMeta[] = "__pyx_unpickle___Pyx_EnumMeta";
 static const char __pyx_k_cannot_decode_Tuple_expected[] = "cannot decode Tuple: expected ";
 static const char __pyx_k_expected_a_Decimal_or_an_int[] = "expected a Decimal or an int";
 static const char __pyx_k_first_message_is_not_DataMsg[] = "first message is not \"DataMsg\"";
 static const char __pyx_k_cannot_decode_Object_expected[] = "cannot decode Object: expected ";
@@ -4955,48 +4435,36 @@
 static const char __pyx_k_header_block_after_data_block[] = "header block after data block";
 static const char __pyx_k_header_block_was_not_received[] = "header block was not received";
 static const char __pyx_k_is_required_but_received_None[] = " is required, but received None";
 static const char __pyx_k_non_idle_status_after_connect[] = "non-idle status after connect";
 static const char __pyx_k_pyx_unpickle_QueryCodecsCache[] = "__pyx_unpickle_QueryCodecsCache";
 static const char __pyx_k_query_cannot_be_executed_with[] = "query cannot be executed with ";
 static const char __pyx_k_too_many_elements_for_a_tuple[] = "too many elements for a tuple";
-static const char __pyx_k_unable_to_allocate_array_data[] = "unable to allocate array data.";
 static const char __pyx_k_ResultCardinalityMismatchError[] = "ResultCardinalityMismatchError";
 static const char __pyx_k_as_it_does_not_return_any_data[] = "() as it does not return any data";
 static const char __pyx_k_as_it_may_return_more_than_one[] = "() as it may return more than one element";
 static const char __pyx_k_data_block_before_header_block[] = "data block before header block";
 static const char __pyx_k_pyx_unpickle_SansIOProtocolBac[] = "__pyx_unpickle_SansIOProtocolBackwardsCompatible";
-static const char __pyx_k_strided_and_direct_or_indirect[] = "<strided and direct or indirect>";
 static const char __pyx_k_the_connection_has_been_closed[] = "the connection has been closed";
 static const char __pyx_k_SansIOProtocol_try_recv_eagerly[] = "SansIOProtocol.try_recv_eagerly";
 static const char __pyx_k_SansIOProtocol_wait_for_connect[] = "SansIOProtocol.wait_for_connect";
 static const char __pyx_k_SansIOProtocol_wait_for_message[] = "SansIOProtocol.wait_for_message";
 static const char __pyx_k_a_str_or_edgedb_EnumValue___tid[] = "a str or edgedb.EnumValue(__tid__=";
 static const char __pyx_k_bigint_data_has_fractional_part[] = "bigint data has fractional part";
 static const char __pyx_k_does_not_correspond_to_any_know[] = " does not correspond to any known base type";
 static const char __pyx_k_expected_a_record_with_a_single[] = "expected a record with a single element as an array set element envelope";
 static const char __pyx_k_is_expected_as_a_valid_enum_arg[] = ") is expected as a valid enum argument, got ";
 static const char __pyx_k_make_missing_args_error_message[] = "_make_missing_args_error_message";
 static const char __pyx_k_python_is_the_only_valid_format[] = "\"python\" is the only valid format";
 static const char __pyx_k_unable_to_decode_data_to_Python[] = "unable to decode data to Python objects";
 static const char __pyx_k_unexpected_query_argument_codec[] = "unexpected query argument codec";
 static const char __pyx_k_00000000_0000_0000_0000_00000000[] = "00000000-0000-0000-0000-000000000001";
-static const char __pyx_k_9565dd88_04f5_11ee_a691_0b6ebe17[] = "9565dd88-04f5-11ee-a691-0b6ebe179825";
-static const char __pyx_k_Buffer_view_does_not_expose_stri[] = "Buffer view does not expose strides";
-static const char __pyx_k_Can_only_create_a_buffer_that_is[] = "Can only create a buffer that is contiguous in memory.";
-static const char __pyx_k_Cannot_assign_to_read_only_memor[] = "Cannot assign to read-only memoryview";
-static const char __pyx_k_Cannot_create_writable_memory_vi[] = "Cannot create writable memory view from read-only memoryview";
-static const char __pyx_k_Empty_shape_tuple_for_cython_arr[] = "Empty shape tuple for cython.array";
 static const char __pyx_k_Incompatible_checksums_0x_x_vs_0[] = "Incompatible checksums (0x%x vs (0x53368d7, 0x0e1f4d2, 0x737459e) = (_dict, _dict_get, _dict_move_to_end, _maxsize))";
-static const char __pyx_k_Indirect_dimensions_not_supporte[] = "Indirect dimensions not supported";
-static const char __pyx_k_Invalid_mode_expected_c_or_fortr[] = "Invalid mode, expected 'c' or 'fortran', got %s";
-static const char __pyx_k_Out_of_bounds_on_buffer_access_a[] = "Out of bounds on buffer access (axis %d)";
 static const char __pyx_k_SansIOProtocolBackwardsCompatibl[] = "SansIOProtocolBackwardsCompatible._legacy_parse";
 static const char __pyx_k_SansIOProtocol_wait_for_disconne[] = "SansIOProtocol.wait_for_disconnect";
-static const char __pyx_k_Unable_to_convert_item_to_object[] = "Unable to convert item to object";
 static const char __pyx_k_a_datetime_datetime_object_was_e[] = "a datetime.datetime object was expected, got ";
 static const char __pyx_k_a_naive_date_object_tzinfo_is_No[] = "a naive date object (tzinfo is None) was expected";
 static const char __pyx_k_a_naive_datetime_object_tzinfo_i[] = "a naive datetime object (tzinfo is None) was expected";
 static const char __pyx_k_a_naive_time_object_tzinfo_is_No[] = "a naive time object (tzinfo is None) was expected";
 static const char __pyx_k_a_scalar_codec_expected_for_base[] = "a scalar codec expected for base scalar type, got ";
 static const char __pyx_k_a_sized_iterable_container_expec[] = "a sized iterable container expected (got type {!r})";
 static const char __pyx_k_a_timezone_aware_datetime_object[] = "a timezone-aware datetime object (tzinfo is not None) was expected";
@@ -5009,15 +4477,14 @@
 static const char __pyx_k_codecs_are_not_supposed_to_be_in[] = "codecs are not supposed to be instantiated directly";
 static const char __pyx_k_date_duration_has_non_zero_micro[] = "date duration has non-zero microseconds";
 static const char __pyx_k_either_positional_or_named_argum[] = "either positional or named arguments are supported; not both";
 static const char __pyx_k_expected_SASLContinue_from_the_s[] = "expected SASLContinue from the server, received ";
 static const char __pyx_k_expected_SASLFinal_from_the_serv[] = "expected SASLFinal from the server, received ";
 static const char __pyx_k_expected_a_two_dimensional_array[] = "expected a two-dimensional array for a set of arrays";
 static const char __pyx_k_expected_no_positional_arguments[] = "expected no positional arguments";
-static const char __pyx_k_got_differing_extents_in_dimensi[] = "got differing extents in dimension %d (got %d and %d)";
 static const char __pyx_k_invalid_array_element_at_index_N[] = "invalid array element at index {}: None is not allowed";
 static const char __pyx_k_invalid_input_for_query_argument[] = "invalid input for query argument ${n}: {v} ({msg})";
 static const char __pyx_k_invalid_input_for_state_argument[] = "invalid input for state argument  ";
 static const char __pyx_k_invalid_number_of_columns_expect[] = "invalid number of columns: expected 1 got ";
 static const char __pyx_k_maxsize_is_expected_to_be_greate[] = "maxsize is expected to be greater than 0, got ";
 static const char __pyx_k_no_codec_implementation_for_Edge[] = "no codec implementation for EdgeDB data class ";
 static const char __pyx_k_no_default___reduce___due_to_non[] = "no default __reduce__ due to non-trivial __cinit__";
@@ -5027,16 +4494,14 @@
 static const char __pyx_k_only_scalar_ranges_are_supported[] = "only scalar ranges are supported (got type {!r})";
 static const char __pyx_k_server_SCRAM_proof_does_not_matc[] = "server SCRAM proof does not match";
 static const char __pyx_k_the_connection_has_been_closed_b[] = "the connection has been closed because an operation was cancelled on it";
 static const char __pyx_k_the_server_offered_the_following[] = "the server offered the following SASL authentication methods: ";
 static const char __pyx_k_the_server_requested_SASL_authen[] = "the server requested SASL authentication but did not offer any methods";
 static const char __pyx_k_the_server_requested_an_unsuppor[] = "the server requested an unsupported version of the protocol: ";
 static const char __pyx_k_too_many_elements_in_array_value[] = "too many elements in array value";
-static const char __pyx_k_too_many_elements_in_vector_valu[] = "too many elements in vector value";
-static const char __pyx_k_unable_to_allocate_shape_and_str[] = "unable to allocate shape and strides.";
 static const char __pyx_k_unexpected_NULL_value_in_array_s[] = "unexpected NULL value in array set element ";
 static const char __pyx_k_unexpected_trailing_data_in_buff[] = "unexpected trailing data in buffer after tuple element decoding: ";
 static const char __pyx_k_unsupported_authentication_metho[] = "unsupported authentication method requested by the server: ";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_2[] = "00000000-0000-0000-0000-000000000002";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_3[] = "00000000-0000-0000-0000-0000000000f0";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_4[] = "00000000-0000-0000-0000-0000000000ff";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_5[] = "00000000-0000-0000-0000-000000000100";
@@ -5044,15 +4509,14 @@
 static const char __pyx_k_00000000_0000_0000_0000_00000000_7[] = "00000000-0000-0000-0000-000000000102";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_8[] = "00000000-0000-0000-0000-000000000103";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_9[] = "00000000-0000-0000-0000-000000000104";
 static const char __pyx_k_Incompatible_checksums_0x_x_vs_0_2[] = "Incompatible checksums (0x%x vs (0x324635c, 0xd998748, 0x6ca3226) = (base_codec_overrides, codecs, codecs_build_cache))";
 static const char __pyx_k_Incompatible_checksums_0x_x_vs_0_3[] = "Incompatible checksums (0x%x vs (0x5da7eb4, 0x07193df, 0xb9bc9eb) = (queries))";
 static const char __pyx_k_Incompatible_checksums_0x_x_vs_0_4[] = "Incompatible checksums (0x%x vs (0xaca005c, 0x59f3fd8, 0xfa99196) = (backend_secret, buffer, cancelled, con, con_params, connected, internal_reg, is_legacy, last_capabilities, last_details, last_status, protocol_version, server_settings, state_cache, state_codec, state_type_id, xact_status))";
 static const char __pyx_k_Incompatible_checksums_0x_x_vs_0_5[] = "Incompatible checksums (0x%x vs (0xd41d8cd, 0xe3b0c44, 0xda39a3e) = ())";
-static const char __pyx_k_Incompatible_checksums_0x_x_vs_0_6[] = "Incompatible checksums (0x%x vs (0xb068931, 0x82a3537, 0x6ae9995) = (name))";
 static const char __pyx_k_SansIOProtocolBackwardsCompatibl_2[] = "SansIOProtocolBackwardsCompatible._legacy_execute";
 static const char __pyx_k_SansIOProtocolBackwardsCompatibl_3[] = "SansIOProtocolBackwardsCompatible._legacy_optimistic_execute";
 static const char __pyx_k_SansIOProtocolBackwardsCompatibl_4[] = "SansIOProtocolBackwardsCompatible.legacy_execute_anonymous";
 static const char __pyx_k_SansIOProtocolBackwardsCompatibl_5[] = "SansIOProtocolBackwardsCompatible.legacy_simple_query";
 static const char __pyx_k_SansIOProtocolBackwardsCompatibl_6[] = "SansIOProtocolBackwardsCompatible";
 static const char __pyx_k_a_datetime_datetime_object_was_e_2[] = "a datetime.datetime object was expected";
 static const char __pyx_k_cannot_encode_empty_Tuple_expect_2[] = "cannot encode empty Tuple: expected 0 elements, got ";
@@ -5074,14 +4538,15 @@
 static const char __pyx_k_00000000_0000_0000_0000_00000000_18[] = "00000000-0000-0000-0000-00000000010d";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_19[] = "00000000-0000-0000-0000-00000000010e";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_20[] = "00000000-0000-0000-0000-00000000010f";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_21[] = "00000000-0000-0000-0000-000000000110";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_22[] = "00000000-0000-0000-0000-000000000111";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_23[] = "00000000-0000-0000-0000-000000000112";
 static const char __pyx_k_00000000_0000_0000_0000_00000000_24[] = "00000000-0000-0000-0000-000000000130";
+static const char __pyx_k_00000000_0000_0000_0000_00000000_25[] = "00000000-0000-0000-0000-000000000140";
 static PyObject *__pyx_kp_u_0000;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_10;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_11;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_12;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_13;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_14;
@@ -5092,41 +4557,35 @@
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_19;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_2;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_20;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_21;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_22;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_23;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_24;
+static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_25;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_3;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_4;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_5;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_6;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_7;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_8;
 static PyObject *__pyx_kp_u_00000000_0000_0000_0000_00000000_9;
-static PyObject *__pyx_kp_u_9565dd88_04f5_11ee_a691_0b6ebe17;
 static PyObject *__pyx_n_s_ALL;
 static PyObject *__pyx_n_s_ALL_CAPABILITIES;
-static PyObject *__pyx_n_s_ASCII;
 static PyObject *__pyx_n_s_AT_LEAST_ONE;
 static PyObject *__pyx_n_s_AT_MOST_ONE;
 static PyObject *__pyx_n_u_Array;
 static PyObject *__pyx_n_s_ArrayCodec;
 static PyObject *__pyx_n_s_ArrayType;
 static PyObject *__pyx_n_s_BINARY;
 static PyObject *__pyx_n_s_BaseArrayCodec;
 static PyObject *__pyx_n_s_BaseCodec;
 static PyObject *__pyx_n_s_BaseNamedRecordCodec;
 static PyObject *__pyx_n_s_BaseRecordCodec;
 static PyObject *__pyx_n_s_BaseScalarType;
-static PyObject *__pyx_kp_s_Buffer_view_does_not_expose_stri;
-static PyObject *__pyx_kp_s_Can_only_create_a_buffer_that_is;
-static PyObject *__pyx_kp_s_Cannot_assign_to_read_only_memor;
-static PyObject *__pyx_kp_s_Cannot_create_writable_memory_vi;
-static PyObject *__pyx_kp_s_Cannot_index_with_type_s;
 static PyObject *__pyx_n_s_Capability;
 static PyObject *__pyx_n_s_Cardinality;
 static PyObject *__pyx_n_s_ClientConnectionClosedError;
 static PyObject *__pyx_n_s_ClientConnectionError;
 static PyObject *__pyx_n_s_ClientError;
 static PyObject *__pyx_n_s_CodecPythonOverride;
 static PyObject *__pyx_n_s_CodecsRegistry;
@@ -5137,17 +4596,15 @@
 static PyObject *__pyx_n_s_EMPTY_NULL_DATA;
 static PyObject *__pyx_n_s_EMPTY_RECORD_DATA;
 static PyObject *__pyx_n_s_EdegDBCodecContext;
 static PyObject *__pyx_n_s_EdgeDBError;
 static PyObject *__pyx_n_s_EdgeDBMessage;
 static PyObject *__pyx_n_s_Element;
 static PyObject *__pyx_n_s_ElementKind;
-static PyObject *__pyx_n_s_Ellipsis;
 static PyObject *__pyx_n_s_EmptyTupleCodec;
-static PyObject *__pyx_kp_s_Empty_shape_tuple_for_cython_arr;
 static PyObject *__pyx_n_u_Enum;
 static PyObject *__pyx_n_s_EnumBase;
 static PyObject *__pyx_n_s_EnumCodec;
 static PyObject *__pyx_n_s_EnumMeta;
 static PyObject *__pyx_n_s_EnumType;
 static PyObject *__pyx_n_s_EnumValue;
 static PyObject *__pyx_n_s_FIELD;
@@ -5155,54 +4612,44 @@
 static PyObject *__pyx_n_s_INJECT_OUTPUT_TYPE_IDS;
 static PyObject *__pyx_n_s_INJECT_OUTPUT_TYPE_NAMES;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_2;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_3;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_4;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_5;
-static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_6;
-static PyObject *__pyx_n_s_IndexError;
-static PyObject *__pyx_kp_s_Indirect_dimensions_not_supporte;
 static PyObject *__pyx_n_s_IntEnum;
 static PyObject *__pyx_n_s_InterfaceError;
 static PyObject *__pyx_n_s_InvalidArgumentError;
-static PyObject *__pyx_kp_s_Invalid_mode_expected_c_or_fortr;
-static PyObject *__pyx_kp_s_Invalid_shape_in_axis_d_d;
 static PyObject *__pyx_n_s_Iterable;
 static PyObject *__pyx_n_s_IterableABC;
 static PyObject *__pyx_n_s_JSON;
 static PyObject *__pyx_n_s_JSON_ELEMENTS;
 static PyObject *__pyx_n_s_KeyError;
 static PyObject *__pyx_n_s_LINK;
 static PyObject *__pyx_n_s_LINK_PROPERTY;
 static PyObject *__pyx_n_s_LRUMapping;
 static PyObject *__pyx_n_s_LookupError;
 static PyObject *__pyx_n_s_MANY;
 static PyObject *__pyx_n_s_Mapping;
 static PyObject *__pyx_n_s_MappingABC;
 static PyObject *__pyx_n_s_MappingProxyType;
-static PyObject *__pyx_n_s_MemoryError;
-static PyObject *__pyx_kp_s_MemoryView_of_r_at_0x_x;
-static PyObject *__pyx_kp_s_MemoryView_of_r_object;
 static PyObject *__pyx_n_s_NONE;
 static PyObject *__pyx_n_s_NO_RESULT;
 static PyObject *__pyx_n_u_NamedTuple;
 static PyObject *__pyx_n_s_NamedTupleCodec;
 static PyObject *__pyx_n_s_NamedTupleType;
 static PyObject *__pyx_n_s_NoDataError;
 static PyObject *__pyx_kp_u_None;
 static PyObject *__pyx_n_s_NotImplementedError;
 static PyObject *__pyx_n_s_NullCodec;
-static PyObject *__pyx_n_b_O;
 static PyObject *__pyx_n_s_ONE;
 static PyObject *__pyx_n_u_Object;
 static PyObject *__pyx_n_s_ObjectCodec;
 static PyObject *__pyx_n_s_ObjectType;
 static PyObject *__pyx_n_s_OrderedDict;
-static PyObject *__pyx_kp_s_Out_of_bounds_on_buffer_access_a;
 static PyObject *__pyx_n_s_OutputFormat;
 static PyObject *__pyx_n_s_PROPERTY;
 static PyObject *__pyx_n_s_ParameterTypeMismatchError;
 static PyObject *__pyx_n_s_PickleError;
 static PyObject *__pyx_n_s_ProtocolError;
 static PyObject *__pyx_kp_u_Python_override;
 static PyObject *__pyx_n_s_Pyx_EnumBase;
@@ -5249,82 +4696,74 @@
 static PyObject *__pyx_n_u_SparseObject;
 static PyObject *__pyx_n_s_TYPE_IDS;
 static PyObject *__pyx_n_u_Tuple;
 static PyObject *__pyx_n_s_TupleCodec;
 static PyObject *__pyx_n_s_TupleType;
 static PyObject *__pyx_n_s_TypeError;
 static PyObject *__pyx_n_s_UUID;
-static PyObject *__pyx_kp_s_Unable_to_convert_item_to_object;
 static PyObject *__pyx_kp_s_Unknown_enum_value_s;
 static PyObject *__pyx_n_s_ValueError;
-static PyObject *__pyx_n_s_View_MemoryView;
+static PyObject *__pyx_kp_b__122;
+static PyObject *__pyx_kp_b__124;
+static PyObject *__pyx_kp_b__125;
 static PyObject *__pyx_kp_u__14;
-static PyObject *__pyx_kp_b__141;
-static PyObject *__pyx_kp_b__143;
-static PyObject *__pyx_kp_b__144;
 static PyObject *__pyx_kp_u__17;
 static PyObject *__pyx_kp_u__18;
 static PyObject *__pyx_kp_u__2;
 static PyObject *__pyx_kp_u__29;
 static PyObject *__pyx_kp_u__30;
 static PyObject *__pyx_kp_u__31;
 static PyObject *__pyx_kp_u__32;
 static PyObject *__pyx_kp_u__53;
-static PyObject *__pyx_kp_b__65;
+static PyObject *__pyx_kp_b__64;
+static PyObject *__pyx_kp_u__64;
 static PyObject *__pyx_kp_u__65;
-static PyObject *__pyx_kp_u__66;
-static PyObject *__pyx_kp_u__77;
-static PyObject *__pyx_kp_u__83;
-static PyObject *__pyx_kp_u__86;
+static PyObject *__pyx_kp_u__76;
+static PyObject *__pyx_kp_u__82;
+static PyObject *__pyx_kp_u__85;
 static PyObject *__pyx_kp_u_a_datetime_datetime_object_was_e;
 static PyObject *__pyx_kp_u_a_datetime_datetime_object_was_e_2;
 static PyObject *__pyx_kp_u_a_naive_date_object_tzinfo_is_No;
 static PyObject *__pyx_kp_u_a_naive_datetime_object_tzinfo_i;
 static PyObject *__pyx_kp_u_a_naive_time_object_tzinfo_is_No;
 static PyObject *__pyx_kp_u_a_scalar_codec_expected_for_base;
 static PyObject *__pyx_kp_u_a_sized_iterable_container_expec;
 static PyObject *__pyx_kp_u_a_str_or_edgedb_EnumValue___tid;
 static PyObject *__pyx_kp_u_a_timezone_aware_datetime_object;
 static PyObject *__pyx_n_s_abort;
 static PyObject *__pyx_n_u_acceptable;
 static PyObject *__pyx_n_s_aiter;
-static PyObject *__pyx_n_s_allocate_buffer;
 static PyObject *__pyx_n_s_allow_capabilities;
 static PyObject *__pyx_kp_u_already_connected;
 static PyObject *__pyx_n_s_anext;
 static PyObject *__pyx_n_u_anytuple;
 static PyObject *__pyx_n_u_anytype;
 static PyObject *__pyx_n_s_append;
 static PyObject *__pyx_n_s_args;
 static PyObject *__pyx_kp_u_argument;
 static PyObject *__pyx_kp_u_argument_tuples_do_not_support_o;
 static PyObject *__pyx_kp_u_arguments;
-static PyObject *__pyx_n_s_array;
 static PyObject *__pyx_kp_u_as_it_does_not_return_any_data;
 static PyObject *__pyx_kp_u_as_it_may_return_more_than_one;
 static PyObject *__pyx_n_s_asyncio;
 static PyObject *__pyx_n_s_asyncio_coroutines;
 static PyObject *__pyx_n_s_asyncio_tasks;
 static PyObject *__pyx_n_s_attrs;
 static PyObject *__pyx_n_s_auth_sasl;
 static PyObject *__pyx_n_s_await;
 static PyObject *__pyx_kp_u_bad_bigint_sign_data;
-static PyObject *__pyx_n_s_base;
 static PyObject *__pyx_kp_u_base_scalar_codec_for;
 static PyObject *__pyx_n_s_base_type;
 static PyObject *__pyx_n_u_big;
 static PyObject *__pyx_kp_u_bigint_data_has_fractional_part;
 static PyObject *__pyx_n_s_block_callback;
 static PyObject *__pyx_n_s_build_client_final_message;
 static PyObject *__pyx_n_s_build_client_first_message;
 static PyObject *__pyx_n_s_bytes;
 static PyObject *__pyx_n_s_bytes_2;
-static PyObject *__pyx_n_s_byteswap;
-static PyObject *__pyx_n_s_c;
-static PyObject *__pyx_n_u_c;
 static PyObject *__pyx_n_s_cache_size;
 static PyObject *__pyx_kp_u_cal_date_duration;
 static PyObject *__pyx_kp_u_cal_local_date;
 static PyObject *__pyx_kp_u_cal_local_datetime;
 static PyObject *__pyx_kp_u_cal_local_time;
 static PyObject *__pyx_kp_u_cal_relative_duration;
 static PyObject *__pyx_kp_u_cannot_decode_NamedTuple_expecte;
@@ -5349,16 +4788,14 @@
 static PyObject *__pyx_n_s_code;
 static PyObject *__pyx_n_s_codecs;
 static PyObject *__pyx_kp_u_codecs_are_not_supposed_to_be_in;
 static PyObject *__pyx_n_s_collections;
 static PyObject *__pyx_n_s_collections_abc;
 static PyObject *__pyx_n_s_con_params;
 static PyObject *__pyx_n_s_connect;
-static PyObject *__pyx_kp_s_contiguous_and_direct;
-static PyObject *__pyx_kp_s_contiguous_and_indirect;
 static PyObject *__pyx_kp_u_data_block_before_header_block;
 static PyObject *__pyx_n_s_data_gen;
 static PyObject *__pyx_n_s_database;
 static PyObject *__pyx_n_u_database;
 static PyObject *__pyx_n_s_dataclasses;
 static PyObject *__pyx_n_s_datatypes;
 static PyObject *__pyx_kp_u_date_duration_has_non_zero_micro;
@@ -5368,15 +4805,14 @@
 static PyObject *__pyx_n_s_decimal;
 static PyObject *__pyx_n_s_decoder;
 static PyObject *__pyx_n_s_desc_id;
 static PyObject *__pyx_n_s_describe;
 static PyObject *__pyx_n_s_dict;
 static PyObject *__pyx_n_s_doc;
 static PyObject *__pyx_kp_u_does_not_correspond_to_any_know;
-static PyObject *__pyx_n_s_dtype_is_object;
 static PyObject *__pyx_n_s_dump;
 static PyObject *__pyx_n_s_edgedb;
 static PyObject *__pyx_n_u_edgedb;
 static PyObject *__pyx_kp_u_edgedb_DerivedEnumValue;
 static PyObject *__pyx_n_s_edgedb_datatypes;
 static PyObject *__pyx_n_s_edgedb_pgproto;
 static PyObject *__pyx_n_s_edgedb_pgproto_pgproto;
@@ -5390,15 +4826,14 @@
 static PyObject *__pyx_n_s_empty;
 static PyObject *__pyx_kp_u_empty_tuple;
 static PyObject *__pyx_n_s_encode;
 static PyObject *__pyx_n_s_encoder;
 static PyObject *__pyx_n_s_enum;
 static PyObject *__pyx_n_s_enumerate;
 static PyObject *__pyx_n_s_enums;
-static PyObject *__pyx_n_s_error;
 static PyObject *__pyx_n_s_errors;
 static PyObject *__pyx_n_s_execute;
 static PyObject *__pyx_n_s_execute_2;
 static PyObject *__pyx_n_s_expect_one;
 static PyObject *__pyx_kp_u_expected;
 static PyObject *__pyx_n_u_expected_2;
 static PyObject *__pyx_kp_u_expected_3;
@@ -5406,36 +4841,31 @@
 static PyObject *__pyx_kp_u_expected_SASLFinal_from_the_serv;
 static PyObject *__pyx_kp_u_expected_a_Decimal_or_an_int;
 static PyObject *__pyx_kp_u_expected_a_record_with_a_single;
 static PyObject *__pyx_kp_u_expected_a_two_dimensional_array;
 static PyObject *__pyx_kp_u_expected_an_int;
 static PyObject *__pyx_kp_u_expected_no_named_arguments;
 static PyObject *__pyx_kp_u_expected_no_positional_arguments;
-static PyObject *__pyx_kp_u_ext_pgvector_vector;
 static PyObject *__pyx_kp_u_extra;
-static PyObject *__pyx_n_u_f;
 static PyObject *__pyx_n_s_field;
 static PyObject *__pyx_n_s_field_type;
 static PyObject *__pyx_n_s_fields;
 static PyObject *__pyx_kp_u_first_message_is_not_DataMsg;
-static PyObject *__pyx_n_s_flags;
 static PyObject *__pyx_n_s_format;
-static PyObject *__pyx_n_s_fortran;
-static PyObject *__pyx_n_u_fortran;
 static PyObject *__pyx_n_s_from_bytes;
 static PyObject *__pyx_n_s_from_code;
+static PyObject *__pyx_kp_u_fts_language;
 static PyObject *__pyx_n_s_generate_nonce;
 static PyObject *__pyx_n_s_genexpr;
 static PyObject *__pyx_n_s_get;
 static PyObject *__pyx_n_s_get_code;
 static PyObject *__pyx_n_s_get_dataclass_fields;
 static PyObject *__pyx_n_s_get_pos;
 static PyObject *__pyx_n_s_getstate;
 static PyObject *__pyx_kp_u_got;
-static PyObject *__pyx_kp_s_got_differing_extents_in_dimensi;
 static PyObject *__pyx_n_s_header;
 static PyObject *__pyx_kp_u_header_block_after_data_block;
 static PyObject *__pyx_kp_u_header_block_was_not_received;
 static PyObject *__pyx_n_s_header_callback;
 static PyObject *__pyx_n_s_id;
 static PyObject *__pyx_n_s_implicit_limit;
 static PyObject *__pyx_n_s_import;
@@ -5459,16 +4889,14 @@
 static PyObject *__pyx_kp_u_invalid_range_upper_bound;
 static PyObject *__pyx_kp_u_is_already_registered;
 static PyObject *__pyx_n_s_is_empty;
 static PyObject *__pyx_kp_u_is_expected_as_a_valid_enum_arg;
 static PyObject *__pyx_n_s_is_implicit;
 static PyObject *__pyx_kp_u_is_required_but_received_None;
 static PyObject *__pyx_n_s_items;
-static PyObject *__pyx_n_s_itemsize;
-static PyObject *__pyx_kp_s_itemsize_0_for_cython_array;
 static PyObject *__pyx_n_s_json;
 static PyObject *__pyx_n_s_keys;
 static PyObject *__pyx_n_s_kind;
 static PyObject *__pyx_n_s_kwargs;
 static PyObject *__pyx_n_s_last;
 static PyObject *__pyx_n_s_legacy_execute;
 static PyObject *__pyx_n_s_legacy_execute_anonymous;
@@ -5481,70 +4909,63 @@
 static PyObject *__pyx_n_s_make_missing_args_error_message;
 static PyObject *__pyx_n_s_make_type;
 static PyObject *__pyx_n_s_make_type_locals_genexpr;
 static PyObject *__pyx_n_s_maxsize;
 static PyObject *__pyx_kp_u_maxsize_is_expected_to_be_greate;
 static PyObject *__pyx_n_s_members;
 static PyObject *__pyx_n_s_members_2;
-static PyObject *__pyx_n_s_memview;
 static PyObject *__pyx_n_s_metaclass;
 static PyObject *__pyx_n_s_microseconds;
 static PyObject *__pyx_kp_u_missed;
-static PyObject *__pyx_n_s_mode;
 static PyObject *__pyx_n_s_module;
 static PyObject *__pyx_n_u_module;
 static PyObject *__pyx_n_s_months;
 static PyObject *__pyx_kp_u_more_than_one_header_block;
 static PyObject *__pyx_n_s_move_to_end;
 static PyObject *__pyx_n_s_msg;
 static PyObject *__pyx_n_b_n;
 static PyObject *__pyx_n_s_n;
 static PyObject *__pyx_n_s_name;
 static PyObject *__pyx_n_s_name_2;
-static PyObject *__pyx_n_s_ndim;
 static PyObject *__pyx_kp_u_neither_are_supported;
 static PyObject *__pyx_n_s_new;
 static PyObject *__pyx_kp_u_no_codec_implementation_for_Edge;
 static PyObject *__pyx_kp_s_no_default___reduce___due_to_non;
 static PyObject *__pyx_kp_u_no_input;
 static PyObject *__pyx_kp_u_non_idle_status_after_connect;
 static PyObject *__pyx_kp_u_non_zero_reserved_bytes_in_durat;
 static PyObject *__pyx_kp_u_not_connected;
 static PyObject *__pyx_n_u_nothing;
 static PyObject *__pyx_n_u_null;
 static PyObject *__pyx_kp_u_null_codec;
-static PyObject *__pyx_n_s_obj;
 static PyObject *__pyx_n_s_object;
 static PyObject *__pyx_n_s_on_log_message;
 static PyObject *__pyx_kp_u_only_1_dimensional_arrays_are_su;
 static PyObject *__pyx_kp_u_only_arrays_of_scalars_are_suppo;
 static PyObject *__pyx_kp_u_only_scalar_ranges_are_supported;
 static PyObject *__pyx_n_s_out_dc;
 static PyObject *__pyx_n_s_output_format;
-static PyObject *__pyx_n_s_pack;
 static PyObject *__pyx_n_s_parents;
 static PyObject *__pyx_n_s_parse;
 static PyObject *__pyx_n_s_parse_server_final_message;
 static PyObject *__pyx_n_s_parse_server_first_message;
 static PyObject *__pyx_n_s_password;
 static PyObject *__pyx_n_s_pgproto;
 static PyObject *__pyx_n_s_pickle;
 static PyObject *__pyx_n_s_ping;
 static PyObject *__pyx_n_s_popitem;
 static PyObject *__pyx_n_s_prepare;
 static PyObject *__pyx_n_u_python;
 static PyObject *__pyx_kp_u_python_is_the_only_valid_format;
 static PyObject *__pyx_n_s_pyx_PickleError;
 static PyObject *__pyx_n_s_pyx_checksum;
-static PyObject *__pyx_n_s_pyx_getbuffer;
 static PyObject *__pyx_n_s_pyx_result;
 static PyObject *__pyx_n_s_pyx_state;
 static PyObject *__pyx_n_s_pyx_type;
 static PyObject *__pyx_n_s_pyx_unpickle_CodecsRegistry;
-static PyObject *__pyx_n_s_pyx_unpickle_Enum;
 static PyObject *__pyx_n_s_pyx_unpickle_LRUMapping;
 static PyObject *__pyx_n_s_pyx_unpickle_QueryCodecsCache;
 static PyObject *__pyx_n_s_pyx_unpickle_SansIOProtocol;
 static PyObject *__pyx_n_s_pyx_unpickle_SansIOProtocolBac;
 static PyObject *__pyx_n_s_pyx_unpickle___Pyx_EnumMeta;
 static PyObject *__pyx_n_s_pyx_vtable;
 static PyObject *__pyx_n_s_qc;
@@ -5580,17 +5001,14 @@
 static PyObject *__pyx_n_u_secret_key;
 static PyObject *__pyx_n_s_self;
 static PyObject *__pyx_n_s_send;
 static PyObject *__pyx_kp_u_server_SCRAM_proof_does_not_matc;
 static PyObject *__pyx_n_s_set_dataclass_fields_func;
 static PyObject *__pyx_n_s_setstate;
 static PyObject *__pyx_n_s_setstate_cython;
-static PyObject *__pyx_n_s_shape;
-static PyObject *__pyx_n_s_size;
-static PyObject *__pyx_n_s_start;
 static PyObject *__pyx_n_s_state;
 static PyObject *__pyx_n_u_std;
 static PyObject *__pyx_kp_u_std_bigint;
 static PyObject *__pyx_kp_u_std_bool;
 static PyObject *__pyx_kp_u_std_bytes;
 static PyObject *__pyx_kp_u_std_datetime;
 static PyObject *__pyx_kp_u_std_decimal;
@@ -5599,23 +5017,17 @@
 static PyObject *__pyx_kp_u_std_float64;
 static PyObject *__pyx_kp_u_std_int16;
 static PyObject *__pyx_kp_u_std_int32;
 static PyObject *__pyx_kp_u_std_int64;
 static PyObject *__pyx_kp_u_std_json;
 static PyObject *__pyx_kp_u_std_str;
 static PyObject *__pyx_kp_u_std_uuid;
-static PyObject *__pyx_n_s_step;
-static PyObject *__pyx_n_s_stop;
 static PyObject *__pyx_n_s_str;
-static PyObject *__pyx_kp_s_strided_and_direct;
-static PyObject *__pyx_kp_s_strided_and_direct_or_indirect;
-static PyObject *__pyx_kp_s_strided_and_indirect;
 static PyObject *__pyx_kp_s_stringsource;
 static PyObject *__pyx_n_s_strip;
-static PyObject *__pyx_n_s_struct;
 static PyObject *__pyx_n_u_suggested_pool_concurrency;
 static PyObject *__pyx_n_s_sync;
 static PyObject *__pyx_n_u_system_config;
 static PyObject *__pyx_n_s_test;
 static PyObject *__pyx_kp_u_the_connection_has_been_closed;
 static PyObject *__pyx_kp_u_the_connection_has_been_closed_b;
 static PyObject *__pyx_kp_u_the_server_offered_the_following;
@@ -5625,36 +5037,32 @@
 static PyObject *__pyx_n_s_tid;
 static PyObject *__pyx_n_u_tid;
 static PyObject *__pyx_n_s_time;
 static PyObject *__pyx_n_s_timedelta;
 static PyObject *__pyx_n_u_tname;
 static PyObject *__pyx_kp_u_too_many_elements_for_a_tuple;
 static PyObject *__pyx_kp_u_too_many_elements_in_array_value;
-static PyObject *__pyx_kp_u_too_many_elements_in_vector_valu;
 static PyObject *__pyx_n_s_try_recv_eagerly;
 static PyObject *__pyx_n_s_type;
 static PyObject *__pyx_n_s_typeid;
 static PyObject *__pyx_kp_u_typeid_must_be_a_UUID;
 static PyObject *__pyx_n_s_types;
 static PyObject *__pyx_n_s_typing;
 static PyObject *__pyx_n_u_tzinfo;
-static PyObject *__pyx_kp_s_unable_to_allocate_array_data;
-static PyObject *__pyx_kp_s_unable_to_allocate_shape_and_str;
 static PyObject *__pyx_kp_u_unable_to_decode_data_to_Python;
 static PyObject *__pyx_kp_u_unexpected_NULL_value_in_array_s;
 static PyObject *__pyx_kp_u_unexpected_message_type;
 static PyObject *__pyx_kp_u_unexpected_query_argument_codec;
 static PyObject *__pyx_kp_u_unexpected_trailing_data_in_buff;
 static PyObject *__pyx_kp_u_unexpected_trailing_data_in_buff_2;
 static PyObject *__pyx_kp_u_unexpected_trailing_data_in_buff_3;
 static PyObject *__pyx_kp_u_unexpected_trailing_data_in_buff_4;
 static PyObject *__pyx_kp_u_unexpected_trailing_data_in_buff_5;
 static PyObject *__pyx_kp_u_unexpected_trailing_data_in_buff_6;
 static PyObject *__pyx_kp_u_unexpected_trailing_data_in_buff_7;
-static PyObject *__pyx_n_s_unpack;
 static PyObject *__pyx_kp_u_unsupported_authentication_metho;
 static PyObject *__pyx_n_s_update;
 static PyObject *__pyx_n_s_upper;
 static PyObject *__pyx_n_s_user;
 static PyObject *__pyx_n_u_user;
 static PyObject *__pyx_kp_u_utf_8;
 static PyObject *__pyx_n_s_uuid;
@@ -5794,56 +5202,14 @@
 static PyObject *__pyx_pf_8EnumBase_14__Pyx_EnumMeta_4__getitem__(struct __pyx_obj___Pyx_EnumMeta *__pyx_v_cls, PyObject *__pyx_v_name); /* proto */
 static PyObject *__pyx_pf_8EnumBase_14__Pyx_EnumMeta_6__reduce_cython__(struct __pyx_obj___Pyx_EnumMeta *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_8EnumBase_14__Pyx_EnumMeta_8__setstate_cython__(struct __pyx_obj___Pyx_EnumMeta *__pyx_v_self, PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_pf_8EnumBase_14__Pyx_EnumBase___new__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_cls, PyObject *__pyx_v_value, PyObject *__pyx_v_name); /* proto */
 static PyObject *__pyx_pf_8EnumBase_14__Pyx_EnumBase_2__repr__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_8EnumBase_14__Pyx_EnumBase_4__str__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_8EnumBase___pyx_unpickle___Pyx_EnumMeta(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
-static int __pyx_array___pyx_pf_15View_dot_MemoryView_5array___cinit__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_shape, Py_ssize_t __pyx_v_itemsize, PyObject *__pyx_v_format, PyObject *__pyx_v_mode, int __pyx_v_allocate_buffer); /* proto */
-static int __pyx_array___pyx_pf_15View_dot_MemoryView_5array_2__getbuffer__(struct __pyx_array_obj *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /* proto */
-static void __pyx_array___pyx_pf_15View_dot_MemoryView_5array_4__dealloc__(struct __pyx_array_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_5array_7memview___get__(struct __pyx_array_obj *__pyx_v_self); /* proto */
-static Py_ssize_t __pyx_array___pyx_pf_15View_dot_MemoryView_5array_6__len__(struct __pyx_array_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_array___pyx_pf_15View_dot_MemoryView_5array_8__getattr__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_attr); /* proto */
-static PyObject *__pyx_array___pyx_pf_15View_dot_MemoryView_5array_10__getitem__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_item); /* proto */
-static int __pyx_array___pyx_pf_15View_dot_MemoryView_5array_12__setitem__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_item, PyObject *__pyx_v_value); /* proto */
-static PyObject *__pyx_pf___pyx_array___reduce_cython__(CYTHON_UNUSED struct __pyx_array_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf___pyx_array_2__setstate_cython__(CYTHON_UNUSED struct __pyx_array_obj *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
-static int __pyx_MemviewEnum___pyx_pf_15View_dot_MemoryView_4Enum___init__(struct __pyx_MemviewEnum_obj *__pyx_v_self, PyObject *__pyx_v_name); /* proto */
-static PyObject *__pyx_MemviewEnum___pyx_pf_15View_dot_MemoryView_4Enum_2__repr__(struct __pyx_MemviewEnum_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf___pyx_MemviewEnum___reduce_cython__(struct __pyx_MemviewEnum_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf___pyx_MemviewEnum_2__setstate_cython__(struct __pyx_MemviewEnum_obj *__pyx_v_self, PyObject *__pyx_v___pyx_state); /* proto */
-static int __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview___cinit__(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_obj, int __pyx_v_flags, int __pyx_v_dtype_is_object); /* proto */
-static void __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_2__dealloc__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_4__getitem__(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index); /* proto */
-static int __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_6__setitem__(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index, PyObject *__pyx_v_value); /* proto */
-static int __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_8__getbuffer__(struct __pyx_memoryview_obj *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_1T___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_4base___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_5shape___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_7strides___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_10suboffsets___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_4ndim___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_8itemsize___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_6nbytes___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_4size___get__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static Py_ssize_t __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_10__len__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_12__repr__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_14__str__(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_16is_c_contig(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_18is_f_contig(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_20copy(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_22copy_fortran(struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf___pyx_memoryview___reduce_cython__(CYTHON_UNUSED struct __pyx_memoryview_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf___pyx_memoryview_2__setstate_cython__(CYTHON_UNUSED struct __pyx_memoryview_obj *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
-static void __pyx_memoryviewslice___pyx_pf_15View_dot_MemoryView_16_memoryviewslice___dealloc__(struct __pyx_memoryviewslice_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView_16_memoryviewslice_4base___get__(struct __pyx_memoryviewslice_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf___pyx_memoryviewslice___reduce_cython__(CYTHON_UNUSED struct __pyx_memoryviewslice_obj *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf___pyx_memoryviewslice_2__setstate_cython__(CYTHON_UNUSED struct __pyx_memoryviewslice_obj *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
-static PyObject *__pyx_pf_15View_dot_MemoryView___pyx_unpickle_Enum(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_LRUMapping(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_CodecPythonOverride(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseRecordCodec(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_EmptyTupleCodec(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_NullCodec(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
@@ -5881,20 +5247,15 @@
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol___pyx_scope_struct_17__auth_sasl(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol___pyx_scope_struct_18__legacy_parse(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol___pyx_scope_struct_19__legacy_execute(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol___pyx_scope_struct_20__legacy_optimistic_execute(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol___pyx_scope_struct_21_legacy_execute_anonymous(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol___pyx_scope_struct_22_legacy_simple_query(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new___Pyx_EnumMeta(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_array(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_Enum(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_memoryview(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new__memoryviewslice(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static __Pyx_CachedCFunction __pyx_umethod_PyDict_Type_get = {0, &__pyx_n_s_get, 0, 0, 0};
-static PyObject *__pyx_float_0_0;
 static PyObject *__pyx_int_0;
 static PyObject *__pyx_int_1;
 static PyObject *__pyx_int_4;
 static PyObject *__pyx_int_14;
 static PyObject *__pyx_int_40;
 static PyObject *__pyx_int_200;
 static PyObject *__pyx_int_1000;
@@ -5910,35 +5271,31 @@
 static PyObject *__pyx_int_84082689;
 static PyObject *__pyx_int_84082690;
 static PyObject *__pyx_int_84082945;
 static PyObject *__pyx_int_84082946;
 static PyObject *__pyx_int_87255255;
 static PyObject *__pyx_int_94322648;
 static PyObject *__pyx_int_98205364;
-static PyObject *__pyx_int_112105877;
 static PyObject *__pyx_int_113914406;
 static PyObject *__pyx_int_121062814;
-static PyObject *__pyx_int_136983863;
 static PyObject *__pyx_int_181010524;
-static PyObject *__pyx_int_184977713;
 static PyObject *__pyx_int_194759147;
 static PyObject *__pyx_int_222419149;
 static PyObject *__pyx_int_228165448;
 static PyObject *__pyx_int_228825662;
 static PyObject *__pyx_int_238750788;
 static PyObject *__pyx_int_262771094;
 static PyObject *__pyx_int_18446744073709551615;
-static PyObject *__pyx_int_neg_1;
-static PyObject *__pyx_k__71;
-static enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat __pyx_k__72;
+static PyObject *__pyx_k__70;
+static enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat __pyx_k__71;
+static PyObject *__pyx_k__73;
 static PyObject *__pyx_k__74;
 static PyObject *__pyx_k__75;
-static PyObject *__pyx_k__76;
-static enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat __pyx_k__90;
-static PyObject *__pyx_k__92;
+static enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat __pyx_k__89;
+static PyObject *__pyx_k__91;
 static PyObject *__pyx_tuple_;
 static PyObject *__pyx_tuple__3;
 static PyObject *__pyx_tuple__4;
 static PyObject *__pyx_tuple__5;
 static PyObject *__pyx_tuple__6;
 static PyObject *__pyx_tuple__7;
 static PyObject *__pyx_tuple__8;
@@ -5985,106 +5342,80 @@
 static PyObject *__pyx_tuple__57;
 static PyObject *__pyx_tuple__58;
 static PyObject *__pyx_tuple__59;
 static PyObject *__pyx_tuple__60;
 static PyObject *__pyx_tuple__61;
 static PyObject *__pyx_tuple__62;
 static PyObject *__pyx_tuple__63;
-static PyObject *__pyx_tuple__64;
+static PyObject *__pyx_tuple__66;
 static PyObject *__pyx_tuple__67;
 static PyObject *__pyx_tuple__68;
 static PyObject *__pyx_tuple__69;
-static PyObject *__pyx_tuple__70;
-static PyObject *__pyx_tuple__73;
+static PyObject *__pyx_tuple__72;
+static PyObject *__pyx_tuple__77;
 static PyObject *__pyx_tuple__78;
 static PyObject *__pyx_tuple__79;
 static PyObject *__pyx_tuple__80;
 static PyObject *__pyx_tuple__81;
-static PyObject *__pyx_tuple__82;
+static PyObject *__pyx_tuple__83;
 static PyObject *__pyx_tuple__84;
-static PyObject *__pyx_tuple__85;
+static PyObject *__pyx_tuple__86;
 static PyObject *__pyx_tuple__87;
 static PyObject *__pyx_tuple__88;
-static PyObject *__pyx_tuple__89;
-static PyObject *__pyx_tuple__91;
+static PyObject *__pyx_tuple__90;
+static PyObject *__pyx_tuple__92;
 static PyObject *__pyx_tuple__93;
 static PyObject *__pyx_tuple__94;
 static PyObject *__pyx_tuple__95;
 static PyObject *__pyx_tuple__96;
 static PyObject *__pyx_tuple__97;
 static PyObject *__pyx_tuple__98;
 static PyObject *__pyx_tuple__99;
-static PyObject *__pyx_slice__112;
 static PyObject *__pyx_tuple__100;
 static PyObject *__pyx_tuple__101;
 static PyObject *__pyx_tuple__102;
 static PyObject *__pyx_tuple__103;
 static PyObject *__pyx_tuple__104;
 static PyObject *__pyx_tuple__105;
 static PyObject *__pyx_tuple__106;
 static PyObject *__pyx_tuple__107;
 static PyObject *__pyx_tuple__108;
 static PyObject *__pyx_tuple__109;
 static PyObject *__pyx_tuple__110;
 static PyObject *__pyx_tuple__111;
+static PyObject *__pyx_tuple__112;
 static PyObject *__pyx_tuple__113;
 static PyObject *__pyx_tuple__114;
 static PyObject *__pyx_tuple__115;
 static PyObject *__pyx_tuple__116;
 static PyObject *__pyx_tuple__117;
 static PyObject *__pyx_tuple__118;
 static PyObject *__pyx_tuple__119;
 static PyObject *__pyx_tuple__120;
 static PyObject *__pyx_tuple__121;
-static PyObject *__pyx_tuple__122;
 static PyObject *__pyx_tuple__123;
-static PyObject *__pyx_tuple__124;
-static PyObject *__pyx_tuple__125;
 static PyObject *__pyx_tuple__126;
-static PyObject *__pyx_tuple__127;
 static PyObject *__pyx_tuple__128;
-static PyObject *__pyx_tuple__129;
 static PyObject *__pyx_tuple__130;
-static PyObject *__pyx_tuple__131;
 static PyObject *__pyx_tuple__132;
-static PyObject *__pyx_tuple__133;
 static PyObject *__pyx_tuple__134;
-static PyObject *__pyx_tuple__135;
 static PyObject *__pyx_tuple__136;
-static PyObject *__pyx_tuple__137;
 static PyObject *__pyx_tuple__138;
 static PyObject *__pyx_tuple__139;
-static PyObject *__pyx_tuple__140;
-static PyObject *__pyx_tuple__142;
-static PyObject *__pyx_tuple__145;
-static PyObject *__pyx_tuple__147;
-static PyObject *__pyx_tuple__149;
-static PyObject *__pyx_tuple__151;
-static PyObject *__pyx_tuple__153;
-static PyObject *__pyx_tuple__155;
-static PyObject *__pyx_tuple__157;
-static PyObject *__pyx_tuple__158;
-static PyObject *__pyx_tuple__160;
-static PyObject *__pyx_tuple__162;
-static PyObject *__pyx_tuple__164;
-static PyObject *__pyx_tuple__165;
-static PyObject *__pyx_tuple__166;
-static PyObject *__pyx_tuple__167;
-static PyObject *__pyx_tuple__168;
-static PyObject *__pyx_tuple__169;
-static PyObject *__pyx_codeobj__146;
-static PyObject *__pyx_codeobj__148;
-static PyObject *__pyx_codeobj__150;
-static PyObject *__pyx_codeobj__152;
-static PyObject *__pyx_codeobj__154;
-static PyObject *__pyx_codeobj__156;
-static PyObject *__pyx_codeobj__159;
-static PyObject *__pyx_codeobj__161;
-static PyObject *__pyx_codeobj__163;
-static PyObject *__pyx_codeobj__170;
+static PyObject *__pyx_tuple__141;
+static PyObject *__pyx_tuple__143;
+static PyObject *__pyx_codeobj__127;
+static PyObject *__pyx_codeobj__129;
+static PyObject *__pyx_codeobj__131;
+static PyObject *__pyx_codeobj__133;
+static PyObject *__pyx_codeobj__135;
+static PyObject *__pyx_codeobj__137;
+static PyObject *__pyx_codeobj__140;
+static PyObject *__pyx_codeobj__142;
+static PyObject *__pyx_codeobj__144;
 /* Late includes */
 
 /* "edgedb/protocol/lru.pyx":46
  *     # beginning of it.
  * 
  *     def __init__(self, *, maxsize):             # <<<<<<<<<<<<<<
  *         if maxsize <= 0:
@@ -17636,24 +16967,24 @@
  */
   __pyx_v_ndims = 1;
 
   /* "edgedb/protocol/codecs/array.pyx":41
  * 
  *         if not isinstance(
  *             self.sub_codec,             # <<<<<<<<<<<<<<
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)
  *         ):
  */
   __pyx_t_2 = ((PyObject *)__pyx_v_self->sub_codec);
   __Pyx_INCREF(__pyx_t_2);
 
   /* "edgedb/protocol/codecs/array.pyx":42
  *         if not isinstance(
  *             self.sub_codec,
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)             # <<<<<<<<<<<<<<
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)             # <<<<<<<<<<<<<<
  *         ):
  *             raise TypeError(
  */
   __pyx_t_3 = __Pyx_TypeCheck(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec); 
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_4 = (__pyx_t_3 != 0);
   if (!__pyx_t_4) {
@@ -17662,24 +16993,24 @@
     goto __pyx_L4_bool_binop_done;
   }
 
   /* "edgedb/protocol/codecs/array.pyx":41
  * 
  *         if not isinstance(
  *             self.sub_codec,             # <<<<<<<<<<<<<<
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)
  *         ):
  */
   __pyx_t_2 = ((PyObject *)__pyx_v_self->sub_codec);
   __Pyx_INCREF(__pyx_t_2);
 
   /* "edgedb/protocol/codecs/array.pyx":42
  *         if not isinstance(
  *             self.sub_codec,
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)             # <<<<<<<<<<<<<<
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)             # <<<<<<<<<<<<<<
  *         ):
  *             raise TypeError(
  */
   __pyx_t_4 = __Pyx_TypeCheck(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_TupleCodec); 
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_3 = (__pyx_t_4 != 0);
   if (!__pyx_t_3) {
@@ -17688,24 +17019,24 @@
     goto __pyx_L4_bool_binop_done;
   }
 
   /* "edgedb/protocol/codecs/array.pyx":41
  * 
  *         if not isinstance(
  *             self.sub_codec,             # <<<<<<<<<<<<<<
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)
  *         ):
  */
   __pyx_t_2 = ((PyObject *)__pyx_v_self->sub_codec);
   __Pyx_INCREF(__pyx_t_2);
 
   /* "edgedb/protocol/codecs/array.pyx":42
  *         if not isinstance(
  *             self.sub_codec,
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)             # <<<<<<<<<<<<<<
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)             # <<<<<<<<<<<<<<
  *         ):
  *             raise TypeError(
  */
   __pyx_t_3 = __Pyx_TypeCheck(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_NamedTupleCodec); 
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_4 = (__pyx_t_3 != 0);
   if (!__pyx_t_4) {
@@ -17714,68 +17045,42 @@
     goto __pyx_L4_bool_binop_done;
   }
 
   /* "edgedb/protocol/codecs/array.pyx":41
  * 
  *         if not isinstance(
  *             self.sub_codec,             # <<<<<<<<<<<<<<
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)
  *         ):
  */
   __pyx_t_2 = ((PyObject *)__pyx_v_self->sub_codec);
   __Pyx_INCREF(__pyx_t_2);
 
   /* "edgedb/protocol/codecs/array.pyx":42
  *         if not isinstance(
  *             self.sub_codec,
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)             # <<<<<<<<<<<<<<
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)             # <<<<<<<<<<<<<<
  *         ):
  *             raise TypeError(
  */
   __pyx_t_4 = __Pyx_TypeCheck(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_RangeCodec); 
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_3 = (__pyx_t_4 != 0);
-  if (!__pyx_t_3) {
-  } else {
-    __pyx_t_1 = __pyx_t_3;
-    goto __pyx_L4_bool_binop_done;
-  }
-
-  /* "edgedb/protocol/codecs/array.pyx":41
- * 
- *         if not isinstance(
- *             self.sub_codec,             # <<<<<<<<<<<<<<
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)
- *         ):
- */
-  __pyx_t_2 = ((PyObject *)__pyx_v_self->sub_codec);
-  __Pyx_INCREF(__pyx_t_2);
-
-  /* "edgedb/protocol/codecs/array.pyx":42
- *         if not isinstance(
- *             self.sub_codec,
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)             # <<<<<<<<<<<<<<
- *         ):
- *             raise TypeError(
- */
-  __pyx_t_3 = __Pyx_TypeCheck(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec); 
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_4 = (__pyx_t_3 != 0);
-  __pyx_t_1 = __pyx_t_4;
+  __pyx_t_1 = __pyx_t_3;
   __pyx_L4_bool_binop_done:;
 
   /* "edgedb/protocol/codecs/array.pyx":40
  *             Py_ssize_t i
  * 
  *         if not isinstance(             # <<<<<<<<<<<<<<
  *             self.sub_codec,
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)
  */
-  __pyx_t_4 = ((!(__pyx_t_1 != 0)) != 0);
-  if (unlikely(__pyx_t_4)) {
+  __pyx_t_3 = ((!(__pyx_t_1 != 0)) != 0);
+  if (unlikely(__pyx_t_3)) {
 
     /* "edgedb/protocol/codecs/array.pyx":45
  *         ):
  *             raise TypeError(
  *                 'only arrays of scalars are supported (got type {!r})'.format(             # <<<<<<<<<<<<<<
  *                     type(self.sub_codec).__name__
  *                 )
@@ -17806,15 +17111,15 @@
     __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 45, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
     /* "edgedb/protocol/codecs/array.pyx":44
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)
  *         ):
  *             raise TypeError(             # <<<<<<<<<<<<<<
  *                 'only arrays of scalars are supported (got type {!r})'.format(
  *                     type(self.sub_codec).__name__
  */
     __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_builtin_TypeError, __pyx_t_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(9, 44, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
@@ -17824,30 +17129,30 @@
     __PYX_ERR(9, 44, __pyx_L1_error)
 
     /* "edgedb/protocol/codecs/array.pyx":40
  *             Py_ssize_t i
  * 
  *         if not isinstance(             # <<<<<<<<<<<<<<
  *             self.sub_codec,
- *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec, EnumCodec)
+ *             (ScalarCodec, TupleCodec, NamedTupleCodec, RangeCodec)
  */
   }
 
   /* "edgedb/protocol/codecs/array.pyx":50
  *             )
  * 
  *         if not _is_array_iterable(obj):             # <<<<<<<<<<<<<<
  *             raise TypeError(
  *                 'a sized iterable container expected (got type {!r})'.format(
  */
   __pyx_t_5 = __pyx_f_6edgedb_8protocol_8protocol__is_array_iterable(__pyx_v_obj); if (unlikely(!__pyx_t_5)) __PYX_ERR(9, 50, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
-  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_5); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(9, 50, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_5); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(9, 50, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  __pyx_t_1 = ((!__pyx_t_4) != 0);
+  __pyx_t_1 = ((!__pyx_t_3) != 0);
   if (unlikely(__pyx_t_1)) {
 
     /* "edgedb/protocol/codecs/array.pyx":52
  *         if not _is_array_iterable(obj):
  *             raise TypeError(
  *                 'a sized iterable container expected (got type {!r})'.format(             # <<<<<<<<<<<<<<
  *                     type(obj).__name__))
@@ -17987,16 +17292,16 @@
  *         for i in range(objlen):
  *             item = obj[i]
  *             if item is None:             # <<<<<<<<<<<<<<
  *                 raise ValueError(
  *                     "invalid array element at index {}: "
  */
     __pyx_t_1 = (__pyx_v_item == Py_None);
-    __pyx_t_4 = (__pyx_t_1 != 0);
-    if (unlikely(__pyx_t_4)) {
+    __pyx_t_3 = (__pyx_t_1 != 0);
+    if (unlikely(__pyx_t_3)) {
 
       /* "edgedb/protocol/codecs/array.pyx":65
  *                 raise ValueError(
  *                     "invalid array element at index {}: "
  *                     "None is not allowed".format(i)             # <<<<<<<<<<<<<<
  *                 )
  *             else:
@@ -18065,31 +17370,31 @@
           /* "edgedb/protocol/codecs/array.pyx":69
  *             else:
  *                 try:
  *                     self.sub_codec.encode(elem_data, item)             # <<<<<<<<<<<<<<
  *                 except TypeError as e:
  *                     raise ValueError(
  */
-          __pyx_t_5 = ((struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_v_self->sub_codec->__pyx_vtab)->encode(__pyx_v_self->sub_codec, __pyx_v_elem_data, __pyx_v_item); if (unlikely(!__pyx_t_5)) __PYX_ERR(9, 69, __pyx_L14_error)
+          __pyx_t_5 = ((struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_v_self->sub_codec->__pyx_vtab)->encode(__pyx_v_self->sub_codec, __pyx_v_elem_data, __pyx_v_item); if (unlikely(!__pyx_t_5)) __PYX_ERR(9, 69, __pyx_L13_error)
           __Pyx_GOTREF(__pyx_t_5);
           __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
           /* "edgedb/protocol/codecs/array.pyx":68
  *                 )
  *             else:
  *                 try:             # <<<<<<<<<<<<<<
  *                     self.sub_codec.encode(elem_data, item)
  *                 except TypeError as e:
  */
         }
         __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
         __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
         __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
-        goto __pyx_L21_try_end;
-        __pyx_L14_error:;
+        goto __pyx_L20_try_end;
+        __pyx_L13_error:;
         __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
         __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
         __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
         __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
 
         /* "edgedb/protocol/codecs/array.pyx":70
  *                 try:
@@ -18097,42 +17402,42 @@
  *                 except TypeError as e:             # <<<<<<<<<<<<<<
  *                     raise ValueError(
  *                         'invalid array element: {}'.format(
  */
         __pyx_t_14 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_TypeError);
         if (__pyx_t_14) {
           __Pyx_AddTraceback("edgedb.protocol.protocol.BaseArrayCodec.encode", __pyx_clineno, __pyx_lineno, __pyx_filename);
-          if (__Pyx_GetException(&__pyx_t_5, &__pyx_t_2, &__pyx_t_6) < 0) __PYX_ERR(9, 70, __pyx_L16_except_error)
+          if (__Pyx_GetException(&__pyx_t_5, &__pyx_t_2, &__pyx_t_6) < 0) __PYX_ERR(9, 70, __pyx_L15_except_error)
           __Pyx_GOTREF(__pyx_t_5);
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_GOTREF(__pyx_t_6);
           __Pyx_INCREF(__pyx_t_2);
           __pyx_v_e = __pyx_t_2;
           /*try:*/ {
 
             /* "edgedb/protocol/codecs/array.pyx":72
  *                 except TypeError as e:
  *                     raise ValueError(
  *                         'invalid array element: {}'.format(             # <<<<<<<<<<<<<<
  *                             e.args[0])) from None
  * 
  */
-            __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_kp_u_invalid_array_element, __pyx_n_s_format); if (unlikely(!__pyx_t_15)) __PYX_ERR(9, 72, __pyx_L27_error)
+            __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_kp_u_invalid_array_element, __pyx_n_s_format); if (unlikely(!__pyx_t_15)) __PYX_ERR(9, 72, __pyx_L26_error)
             __Pyx_GOTREF(__pyx_t_15);
 
             /* "edgedb/protocol/codecs/array.pyx":73
  *                     raise ValueError(
  *                         'invalid array element: {}'.format(
  *                             e.args[0])) from None             # <<<<<<<<<<<<<<
  * 
  *         buf.write_int32(12 + 8 * ndims + elem_data.len())  # buffer length
  */
-            __pyx_t_16 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_args); if (unlikely(!__pyx_t_16)) __PYX_ERR(9, 73, __pyx_L27_error)
+            __pyx_t_16 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_args); if (unlikely(!__pyx_t_16)) __PYX_ERR(9, 73, __pyx_L26_error)
             __Pyx_GOTREF(__pyx_t_16);
-            __pyx_t_17 = __Pyx_GetItemInt(__pyx_t_16, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_17)) __PYX_ERR(9, 73, __pyx_L27_error)
+            __pyx_t_17 = __Pyx_GetItemInt(__pyx_t_16, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_17)) __PYX_ERR(9, 73, __pyx_L26_error)
             __Pyx_GOTREF(__pyx_t_17);
             __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
             __pyx_t_16 = NULL;
             if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_15))) {
               __pyx_t_16 = PyMethod_GET_SELF(__pyx_t_15);
               if (likely(__pyx_t_16)) {
                 PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_15);
@@ -18140,50 +17445,50 @@
                 __Pyx_INCREF(function);
                 __Pyx_DECREF_SET(__pyx_t_15, function);
               }
             }
             __pyx_t_7 = (__pyx_t_16) ? __Pyx_PyObject_Call2Args(__pyx_t_15, __pyx_t_16, __pyx_t_17) : __Pyx_PyObject_CallOneArg(__pyx_t_15, __pyx_t_17);
             __Pyx_XDECREF(__pyx_t_16); __pyx_t_16 = 0;
             __Pyx_DECREF(__pyx_t_17); __pyx_t_17 = 0;
-            if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 72, __pyx_L27_error)
+            if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 72, __pyx_L26_error)
             __Pyx_GOTREF(__pyx_t_7);
             __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
 
             /* "edgedb/protocol/codecs/array.pyx":71
  *                     self.sub_codec.encode(elem_data, item)
  *                 except TypeError as e:
  *                     raise ValueError(             # <<<<<<<<<<<<<<
  *                         'invalid array element: {}'.format(
  *                             e.args[0])) from None
  */
-            __pyx_t_15 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_7); if (unlikely(!__pyx_t_15)) __PYX_ERR(9, 71, __pyx_L27_error)
+            __pyx_t_15 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_7); if (unlikely(!__pyx_t_15)) __PYX_ERR(9, 71, __pyx_L26_error)
             __Pyx_GOTREF(__pyx_t_15);
             __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
             /* "edgedb/protocol/codecs/array.pyx":73
  *                     raise ValueError(
  *                         'invalid array element: {}'.format(
  *                             e.args[0])) from None             # <<<<<<<<<<<<<<
  * 
  *         buf.write_int32(12 + 8 * ndims + elem_data.len())  # buffer length
  */
             __Pyx_Raise(__pyx_t_15, 0, 0, Py_None);
             __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
-            __PYX_ERR(9, 71, __pyx_L27_error)
+            __PYX_ERR(9, 71, __pyx_L26_error)
           }
 
           /* "edgedb/protocol/codecs/array.pyx":70
  *                 try:
  *                     self.sub_codec.encode(elem_data, item)
  *                 except TypeError as e:             # <<<<<<<<<<<<<<
  *                     raise ValueError(
  *                         'invalid array element: {}'.format(
  */
           /*finally:*/ {
-            __pyx_L27_error:;
+            __pyx_L26_error:;
             /*exception exit:*/{
               __Pyx_PyThreadState_declare
               __Pyx_PyThreadState_assign
               __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0; __pyx_t_24 = 0; __pyx_t_25 = 0;
               __Pyx_XDECREF(__pyx_t_15); __pyx_t_15 = 0;
               __Pyx_XDECREF(__pyx_t_16); __pyx_t_16 = 0;
               __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
@@ -18209,34 +17514,34 @@
               }
               __Pyx_XGIVEREF(__pyx_t_20);
               __Pyx_XGIVEREF(__pyx_t_21);
               __Pyx_XGIVEREF(__pyx_t_22);
               __Pyx_ErrRestore(__pyx_t_20, __pyx_t_21, __pyx_t_22);
               __pyx_t_20 = 0; __pyx_t_21 = 0; __pyx_t_22 = 0; __pyx_t_23 = 0; __pyx_t_24 = 0; __pyx_t_25 = 0;
               __pyx_lineno = __pyx_t_14; __pyx_clineno = __pyx_t_18; __pyx_filename = __pyx_t_19;
-              goto __pyx_L16_except_error;
+              goto __pyx_L15_except_error;
             }
           }
         }
-        goto __pyx_L16_except_error;
-        __pyx_L16_except_error:;
+        goto __pyx_L15_except_error;
+        __pyx_L15_except_error:;
 
         /* "edgedb/protocol/codecs/array.pyx":68
  *                 )
  *             else:
  *                 try:             # <<<<<<<<<<<<<<
  *                     self.sub_codec.encode(elem_data, item)
  *                 except TypeError as e:
  */
         __Pyx_XGIVEREF(__pyx_t_11);
         __Pyx_XGIVEREF(__pyx_t_12);
         __Pyx_XGIVEREF(__pyx_t_13);
         __Pyx_ExceptionReset(__pyx_t_11, __pyx_t_12, __pyx_t_13);
         goto __pyx_L1_error;
-        __pyx_L21_try_end:;
+        __pyx_L20_try_end:;
       }
     }
   }
 
   /* "edgedb/protocol/codecs/array.pyx":75
  *                             e.args[0])) from None
  * 
@@ -23479,15 +22784,15 @@
   __Pyx_AddTraceback("edgedb.protocol.protocol.EnumCodec.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":69
+/* "edgedb/protocol/codecs/codecs.pyx":66
  * cdef class CodecsRegistry:
  * 
  *     def __init__(self, *, cache_size=1000):             # <<<<<<<<<<<<<<
  *         self.codecs_build_cache = LRUMapping(maxsize=_CODECS_BUILD_CACHE_SIZE)
  *         self.codecs = LRUMapping(maxsize=cache_size)
  */
 
@@ -23515,25 +22820,25 @@
       kw_args = PyDict_Size(__pyx_kwds);
       if (kw_args == 1) {
         const Py_ssize_t index = 0;
         PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, *__pyx_pyargnames[index]);
         if (value) { values[index] = value; kw_args--; }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, 0, "__init__") < 0)) __PYX_ERR(5, 69, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, 0, "__init__") < 0)) __PYX_ERR(5, 66, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 0) {
       goto __pyx_L5_argtuple_error;
     } else {
     }
     __pyx_v_cache_size = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(5, 69, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(5, 66, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("edgedb.protocol.protocol.CodecsRegistry.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_6edgedb_8protocol_8protocol_14CodecsRegistry___init__(((struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)__pyx_v_self), __pyx_v_cache_size);
 
@@ -23548,68 +22853,68 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":70
+  /* "edgedb/protocol/codecs/codecs.pyx":67
  * 
  *     def __init__(self, *, cache_size=1000):
  *         self.codecs_build_cache = LRUMapping(maxsize=_CODECS_BUILD_CACHE_SIZE)             # <<<<<<<<<<<<<<
  *         self.codecs = LRUMapping(maxsize=cache_size)
  *         self.base_codec_overrides = {}
  */
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 70, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 67, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_maxsize, __pyx_int_200) < 0) __PYX_ERR(5, 70, __pyx_L1_error)
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping), __pyx_empty_tuple, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 70, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_maxsize, __pyx_int_200) < 0) __PYX_ERR(5, 67, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping), __pyx_empty_tuple, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 67, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_GIVEREF(__pyx_t_2);
   __Pyx_GOTREF(__pyx_v_self->codecs_build_cache);
   __Pyx_DECREF(((PyObject *)__pyx_v_self->codecs_build_cache));
   __pyx_v_self->codecs_build_cache = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":71
+  /* "edgedb/protocol/codecs/codecs.pyx":68
  *     def __init__(self, *, cache_size=1000):
  *         self.codecs_build_cache = LRUMapping(maxsize=_CODECS_BUILD_CACHE_SIZE)
  *         self.codecs = LRUMapping(maxsize=cache_size)             # <<<<<<<<<<<<<<
  *         self.base_codec_overrides = {}
  * 
  */
-  __pyx_t_2 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 71, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 68, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_maxsize, __pyx_v_cache_size) < 0) __PYX_ERR(5, 71, __pyx_L1_error)
-  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping), __pyx_empty_tuple, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 71, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_maxsize, __pyx_v_cache_size) < 0) __PYX_ERR(5, 68, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_6edgedb_8protocol_8protocol_LRUMapping), __pyx_empty_tuple, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 68, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->codecs);
   __Pyx_DECREF(((PyObject *)__pyx_v_self->codecs));
   __pyx_v_self->codecs = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":72
+  /* "edgedb/protocol/codecs/codecs.pyx":69
  *         self.codecs_build_cache = LRUMapping(maxsize=_CODECS_BUILD_CACHE_SIZE)
  *         self.codecs = LRUMapping(maxsize=cache_size)
  *         self.base_codec_overrides = {}             # <<<<<<<<<<<<<<
  * 
  *     def clear_cache(self):
  */
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 72, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 69, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->base_codec_overrides);
   __Pyx_DECREF(__pyx_v_self->base_codec_overrides);
   __pyx_v_self->base_codec_overrides = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":69
+  /* "edgedb/protocol/codecs/codecs.pyx":66
  * cdef class CodecsRegistry:
  * 
  *     def __init__(self, *, cache_size=1000):             # <<<<<<<<<<<<<<
  *         self.codecs_build_cache = LRUMapping(maxsize=_CODECS_BUILD_CACHE_SIZE)
  *         self.codecs = LRUMapping(maxsize=cache_size)
  */
 
@@ -23622,15 +22927,15 @@
   __Pyx_AddTraceback("edgedb.protocol.protocol.CodecsRegistry.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":74
+/* "edgedb/protocol/codecs/codecs.pyx":71
  *         self.base_codec_overrides = {}
  * 
  *     def clear_cache(self):             # <<<<<<<<<<<<<<
  *         self.codecs.clear()
  *         self.codecs_build_cache.clear()
  */
 
@@ -23654,67 +22959,67 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("clear_cache", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":75
+  /* "edgedb/protocol/codecs/codecs.pyx":72
  * 
  *     def clear_cache(self):
  *         self.codecs.clear()             # <<<<<<<<<<<<<<
  *         self.codecs_build_cache.clear()
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->codecs), __pyx_n_s_clear); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 75, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->codecs), __pyx_n_s_clear); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 72, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 75, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 72, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":76
+  /* "edgedb/protocol/codecs/codecs.pyx":73
  *     def clear_cache(self):
  *         self.codecs.clear()
  *         self.codecs_build_cache.clear()             # <<<<<<<<<<<<<<
  * 
  *     def set_type_codec(self, typeid, *, encoder, decoder, format):
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->codecs_build_cache), __pyx_n_s_clear); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 76, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->codecs_build_cache), __pyx_n_s_clear); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 73, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 76, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 73, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":74
+  /* "edgedb/protocol/codecs/codecs.pyx":71
  *         self.base_codec_overrides = {}
  * 
  *     def clear_cache(self):             # <<<<<<<<<<<<<<
  *         self.codecs.clear()
  *         self.codecs_build_cache.clear()
  */
 
@@ -23729,15 +23034,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":78
+/* "edgedb/protocol/codecs/codecs.pyx":75
  *         self.codecs_build_cache.clear()
  * 
  *     def set_type_codec(self, typeid, *, encoder, decoder, format):             # <<<<<<<<<<<<<<
  *         if format != 'python':
  *             raise ValueError('"python" is the only valid format')
  */
 
@@ -23771,41 +23076,41 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_typeid)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_encoder)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseKeywordRequired("set_type_codec", __pyx_n_s_encoder); __PYX_ERR(5, 78, __pyx_L3_error)
+          __Pyx_RaiseKeywordRequired("set_type_codec", __pyx_n_s_encoder); __PYX_ERR(5, 75, __pyx_L3_error)
         }
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_decoder)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseKeywordRequired("set_type_codec", __pyx_n_s_decoder); __PYX_ERR(5, 78, __pyx_L3_error)
+          __Pyx_RaiseKeywordRequired("set_type_codec", __pyx_n_s_decoder); __PYX_ERR(5, 75, __pyx_L3_error)
         }
         if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_format)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseKeywordRequired("set_type_codec", __pyx_n_s_format); __PYX_ERR(5, 78, __pyx_L3_error)
+          __Pyx_RaiseKeywordRequired("set_type_codec", __pyx_n_s_format); __PYX_ERR(5, 75, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "set_type_codec") < 0)) __PYX_ERR(5, 78, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "set_type_codec") < 0)) __PYX_ERR(5, 75, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
       goto __pyx_L5_argtuple_error;
     } else {
-      __Pyx_RaiseKeywordRequired("set_type_codec", __pyx_n_s_encoder); __PYX_ERR(5, 78, __pyx_L3_error)
+      __Pyx_RaiseKeywordRequired("set_type_codec", __pyx_n_s_encoder); __PYX_ERR(5, 75, __pyx_L3_error)
     }
     __pyx_v_typeid = values[0];
     __pyx_v_encoder = values[1];
     __pyx_v_decoder = values[2];
     __pyx_v_format = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("set_type_codec", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(5, 78, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("set_type_codec", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(5, 75, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("edgedb.protocol.protocol.CodecsRegistry.set_type_codec", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_6edgedb_8protocol_8protocol_14CodecsRegistry_4set_type_codec(((struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)__pyx_v_self), __pyx_v_typeid, __pyx_v_encoder, __pyx_v_decoder, __pyx_v_format);
 
@@ -23823,192 +23128,192 @@
   PyObject *__pyx_t_3 = NULL;
   int __pyx_t_4;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("set_type_codec", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":79
+  /* "edgedb/protocol/codecs/codecs.pyx":76
  * 
  *     def set_type_codec(self, typeid, *, encoder, decoder, format):
  *         if format != 'python':             # <<<<<<<<<<<<<<
  *             raise ValueError('"python" is the only valid format')
  *         if not isinstance(typeid, uuid.UUID):
  */
-  __pyx_t_1 = (__Pyx_PyUnicode_Equals(__pyx_v_format, __pyx_n_u_python, Py_NE)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(5, 79, __pyx_L1_error)
+  __pyx_t_1 = (__Pyx_PyUnicode_Equals(__pyx_v_format, __pyx_n_u_python, Py_NE)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(5, 76, __pyx_L1_error)
   if (unlikely(__pyx_t_1)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":80
+    /* "edgedb/protocol/codecs/codecs.pyx":77
  *     def set_type_codec(self, typeid, *, encoder, decoder, format):
  *         if format != 'python':
  *             raise ValueError('"python" is the only valid format')             # <<<<<<<<<<<<<<
  *         if not isinstance(typeid, uuid.UUID):
  *             raise TypeError('typeid must be a UUID')
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__50, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 80, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__50, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 77, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(5, 80, __pyx_L1_error)
+    __PYX_ERR(5, 77, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":79
+    /* "edgedb/protocol/codecs/codecs.pyx":76
  * 
  *     def set_type_codec(self, typeid, *, encoder, decoder, format):
  *         if format != 'python':             # <<<<<<<<<<<<<<
  *             raise ValueError('"python" is the only valid format')
  *         if not isinstance(typeid, uuid.UUID):
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":81
+  /* "edgedb/protocol/codecs/codecs.pyx":78
  *         if format != 'python':
  *             raise ValueError('"python" is the only valid format')
  *         if not isinstance(typeid, uuid.UUID):             # <<<<<<<<<<<<<<
  *             raise TypeError('typeid must be a UUID')
  *         basecodec = BASE_SCALAR_CODECS.get(typeid.bytes)
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 81, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 78, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 81, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 78, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_1 = PyObject_IsInstance(__pyx_v_typeid, __pyx_t_3); if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(5, 81, __pyx_L1_error)
+  __pyx_t_1 = PyObject_IsInstance(__pyx_v_typeid, __pyx_t_3); if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(5, 78, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_4 = ((!(__pyx_t_1 != 0)) != 0);
   if (unlikely(__pyx_t_4)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":82
+    /* "edgedb/protocol/codecs/codecs.pyx":79
  *             raise ValueError('"python" is the only valid format')
  *         if not isinstance(typeid, uuid.UUID):
  *             raise TypeError('typeid must be a UUID')             # <<<<<<<<<<<<<<
  *         basecodec = BASE_SCALAR_CODECS.get(typeid.bytes)
  *         if basecodec is None:
  */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__51, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 82, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__51, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 79, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(5, 82, __pyx_L1_error)
+    __PYX_ERR(5, 79, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":81
+    /* "edgedb/protocol/codecs/codecs.pyx":78
  *         if format != 'python':
  *             raise ValueError('"python" is the only valid format')
  *         if not isinstance(typeid, uuid.UUID):             # <<<<<<<<<<<<<<
  *             raise TypeError('typeid must be a UUID')
  *         basecodec = BASE_SCALAR_CODECS.get(typeid.bytes)
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":83
+  /* "edgedb/protocol/codecs/codecs.pyx":80
  *         if not isinstance(typeid, uuid.UUID):
  *             raise TypeError('typeid must be a UUID')
  *         basecodec = BASE_SCALAR_CODECS.get(typeid.bytes)             # <<<<<<<<<<<<<<
  *         if basecodec is None:
  *             raise ValueError(
  */
   if (unlikely(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS == Py_None)) {
     PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "get");
-    __PYX_ERR(5, 83, __pyx_L1_error)
+    __PYX_ERR(5, 80, __pyx_L1_error)
   }
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_typeid, __pyx_n_s_bytes); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 83, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_typeid, __pyx_n_s_bytes); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 80, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = __Pyx_PyDict_GetItemDefault(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS, __pyx_t_3, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 83, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyDict_GetItemDefault(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS, __pyx_t_3, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 80, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_v_basecodec = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":84
+  /* "edgedb/protocol/codecs/codecs.pyx":81
  *             raise TypeError('typeid must be a UUID')
  *         basecodec = BASE_SCALAR_CODECS.get(typeid.bytes)
  *         if basecodec is None:             # <<<<<<<<<<<<<<
  *             raise ValueError(
  *                 f'{typeid} does not correspond to any known base type')
  */
   __pyx_t_4 = (__pyx_v_basecodec == Py_None);
   __pyx_t_1 = (__pyx_t_4 != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":86
+    /* "edgedb/protocol/codecs/codecs.pyx":83
  *         if basecodec is None:
  *             raise ValueError(
  *                 f'{typeid} does not correspond to any known base type')             # <<<<<<<<<<<<<<
  *         self.base_codec_overrides[typeid.bytes] = CodecPythonOverride.new(
  *             typeid.bytes,
  */
-    __pyx_t_2 = __Pyx_PyObject_FormatSimple(__pyx_v_typeid, __pyx_empty_unicode); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 86, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_FormatSimple(__pyx_v_typeid, __pyx_empty_unicode); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 83, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyUnicode_Concat(__pyx_t_2, __pyx_kp_u_does_not_correspond_to_any_know); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 86, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyUnicode_Concat(__pyx_t_2, __pyx_kp_u_does_not_correspond_to_any_know); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 83, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":85
+    /* "edgedb/protocol/codecs/codecs.pyx":82
  *         basecodec = BASE_SCALAR_CODECS.get(typeid.bytes)
  *         if basecodec is None:
  *             raise ValueError(             # <<<<<<<<<<<<<<
  *                 f'{typeid} does not correspond to any known base type')
  *         self.base_codec_overrides[typeid.bytes] = CodecPythonOverride.new(
  */
-    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 85, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 82, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(5, 85, __pyx_L1_error)
+    __PYX_ERR(5, 82, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":84
+    /* "edgedb/protocol/codecs/codecs.pyx":81
  *             raise TypeError('typeid must be a UUID')
  *         basecodec = BASE_SCALAR_CODECS.get(typeid.bytes)
  *         if basecodec is None:             # <<<<<<<<<<<<<<
  *             raise ValueError(
  *                 f'{typeid} does not correspond to any known base type')
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":88
+  /* "edgedb/protocol/codecs/codecs.pyx":85
  *                 f'{typeid} does not correspond to any known base type')
  *         self.base_codec_overrides[typeid.bytes] = CodecPythonOverride.new(
  *             typeid.bytes,             # <<<<<<<<<<<<<<
  *             basecodec,
  *             encoder,
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_typeid, __pyx_n_s_bytes); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 88, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_typeid, __pyx_n_s_bytes); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 85, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (!(likely(PyBytes_CheckExact(__pyx_t_2))||((__pyx_t_2) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "bytes", Py_TYPE(__pyx_t_2)->tp_name), 0))) __PYX_ERR(5, 88, __pyx_L1_error)
+  if (!(likely(PyBytes_CheckExact(__pyx_t_2))||((__pyx_t_2) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "bytes", Py_TYPE(__pyx_t_2)->tp_name), 0))) __PYX_ERR(5, 85, __pyx_L1_error)
 
-  /* "edgedb/protocol/codecs/codecs.pyx":89
+  /* "edgedb/protocol/codecs/codecs.pyx":86
  *         self.base_codec_overrides[typeid.bytes] = CodecPythonOverride.new(
  *             typeid.bytes,
  *             basecodec,             # <<<<<<<<<<<<<<
  *             encoder,
  *             decoder,
  */
-  if (!(likely(((__pyx_v_basecodec) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_basecodec, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 89, __pyx_L1_error)
+  if (!(likely(((__pyx_v_basecodec) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_basecodec, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 86, __pyx_L1_error)
 
-  /* "edgedb/protocol/codecs/codecs.pyx":87
+  /* "edgedb/protocol/codecs/codecs.pyx":84
  *             raise ValueError(
  *                 f'{typeid} does not correspond to any known base type')
  *         self.base_codec_overrides[typeid.bytes] = CodecPythonOverride.new(             # <<<<<<<<<<<<<<
  *             typeid.bytes,
  *             basecodec,
  */
-  __pyx_t_3 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_19CodecPythonOverride_new(((PyObject*)__pyx_t_2), ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_v_basecodec), __pyx_v_encoder, __pyx_v_decoder)); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 87, __pyx_L1_error)
+  __pyx_t_3 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_19CodecPythonOverride_new(((PyObject*)__pyx_t_2), ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_v_basecodec), __pyx_v_encoder, __pyx_v_decoder)); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 84, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (unlikely(__pyx_v_self->base_codec_overrides == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-    __PYX_ERR(5, 87, __pyx_L1_error)
+    __PYX_ERR(5, 84, __pyx_L1_error)
   }
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_typeid, __pyx_n_s_bytes); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 87, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_typeid, __pyx_n_s_bytes); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 84, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (unlikely(PyDict_SetItem(__pyx_v_self->base_codec_overrides, __pyx_t_2, __pyx_t_3) < 0)) __PYX_ERR(5, 87, __pyx_L1_error)
+  if (unlikely(PyDict_SetItem(__pyx_v_self->base_codec_overrides, __pyx_t_2, __pyx_t_3) < 0)) __PYX_ERR(5, 84, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":78
+  /* "edgedb/protocol/codecs/codecs.pyx":75
  *         self.codecs_build_cache.clear()
  * 
  *     def set_type_codec(self, typeid, *, encoder, decoder, format):             # <<<<<<<<<<<<<<
  *         if format != 'python':
  *             raise ValueError('"python" is the only valid format')
  */
 
@@ -24023,15 +23328,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_basecodec);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":94
+/* "edgedb/protocol/codecs/codecs.pyx":91
  *         )
  * 
  *     cdef BaseCodec _build_codec(self, FRBuffer *spec, list codecs_list,             # <<<<<<<<<<<<<<
  *                                 protocol_version):
  *         cdef:
  */
 
@@ -24066,124 +23371,124 @@
   PyObject *__pyx_t_9 = NULL;
   int __pyx_t_10;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_build_codec", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":97
+  /* "edgedb/protocol/codecs/codecs.pyx":94
  *                                 protocol_version):
  *         cdef:
  *             uint8_t t = <uint8_t>(frb_read(spec, 1)[0])             # <<<<<<<<<<<<<<
  *             bytes tid = frb_read(spec, 16)[:16]
  *             uint16_t els
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 1); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 97, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 1); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 94, __pyx_L1_error)
   __pyx_v_t = ((uint8_t)(__pyx_t_1[0]));
 
-  /* "edgedb/protocol/codecs/codecs.pyx":98
+  /* "edgedb/protocol/codecs/codecs.pyx":95
  *         cdef:
  *             uint8_t t = <uint8_t>(frb_read(spec, 1)[0])
  *             bytes tid = frb_read(spec, 16)[:16]             # <<<<<<<<<<<<<<
  *             uint16_t els
  *             uint16_t i
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 16); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 98, __pyx_L1_error)
-  __pyx_t_2 = __Pyx_PyBytes_FromStringAndSize(__pyx_t_1 + 0, 16 - 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 98, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 16); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 95, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyBytes_FromStringAndSize(__pyx_t_1 + 0, 16 - 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 95, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_v_tid = ((PyObject*)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":107
+  /* "edgedb/protocol/codecs/codecs.pyx":104
  *             BaseCodec sub_codec
  * 
  *         res = self.codecs.get(tid, None)             # <<<<<<<<<<<<<<
  *         if res is None:
  *             res = self.codecs_build_cache.get(tid, None)
  */
-  __pyx_t_2 = ((struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_LRUMapping *)__pyx_v_self->codecs->__pyx_vtab)->get(__pyx_v_self->codecs, __pyx_v_tid, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 107, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_LRUMapping *)__pyx_v_self->codecs->__pyx_vtab)->get(__pyx_v_self->codecs, __pyx_v_tid, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 104, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 107, __pyx_L1_error)
+  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 104, __pyx_L1_error)
   __pyx_v_res = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":108
+  /* "edgedb/protocol/codecs/codecs.pyx":105
  * 
  *         res = self.codecs.get(tid, None)
  *         if res is None:             # <<<<<<<<<<<<<<
  *             res = self.codecs_build_cache.get(tid, None)
  *         if res is not None:
  */
   __pyx_t_3 = (((PyObject *)__pyx_v_res) == Py_None);
   __pyx_t_4 = (__pyx_t_3 != 0);
   if (__pyx_t_4) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":109
+    /* "edgedb/protocol/codecs/codecs.pyx":106
  *         res = self.codecs.get(tid, None)
  *         if res is None:
  *             res = self.codecs_build_cache.get(tid, None)             # <<<<<<<<<<<<<<
  *         if res is not None:
  *             # We have a codec for this "tid"; advance the buffer
  */
-    __pyx_t_2 = ((struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_LRUMapping *)__pyx_v_self->codecs_build_cache->__pyx_vtab)->get(__pyx_v_self->codecs_build_cache, __pyx_v_tid, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 109, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_LRUMapping *)__pyx_v_self->codecs_build_cache->__pyx_vtab)->get(__pyx_v_self->codecs_build_cache, __pyx_v_tid, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 106, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 109, __pyx_L1_error)
+    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 106, __pyx_L1_error)
     __Pyx_DECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_2));
     __pyx_t_2 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":108
+    /* "edgedb/protocol/codecs/codecs.pyx":105
  * 
  *         res = self.codecs.get(tid, None)
  *         if res is None:             # <<<<<<<<<<<<<<
  *             res = self.codecs_build_cache.get(tid, None)
  *         if res is not None:
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":110
+  /* "edgedb/protocol/codecs/codecs.pyx":107
  *         if res is None:
  *             res = self.codecs_build_cache.get(tid, None)
  *         if res is not None:             # <<<<<<<<<<<<<<
  *             # We have a codec for this "tid"; advance the buffer
  *             # so that we can process the next codec.
  */
   __pyx_t_4 = (((PyObject *)__pyx_v_res) != Py_None);
   __pyx_t_3 = (__pyx_t_4 != 0);
   if (__pyx_t_3) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":114
+    /* "edgedb/protocol/codecs/codecs.pyx":111
  *             # so that we can process the next codec.
  * 
  *             if t == CTYPE_SET:             # <<<<<<<<<<<<<<
  *                 frb_read(spec, 2)
  * 
  */
     __pyx_t_3 = ((__pyx_v_t == 0) != 0);
     if (__pyx_t_3) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":115
+      /* "edgedb/protocol/codecs/codecs.pyx":112
  * 
  *             if t == CTYPE_SET:
  *                 frb_read(spec, 2)             # <<<<<<<<<<<<<<
  * 
  *             elif t == CTYPE_SHAPE or t == CTYPE_INPUT_SHAPE:
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 115, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 112, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":114
+      /* "edgedb/protocol/codecs/codecs.pyx":111
  *             # so that we can process the next codec.
  * 
  *             if t == CTYPE_SET:             # <<<<<<<<<<<<<<
  *                 frb_read(spec, 2)
  * 
  */
       goto __pyx_L5;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":117
+    /* "edgedb/protocol/codecs/codecs.pyx":114
  *                 frb_read(spec, 2)
  * 
  *             elif t == CTYPE_SHAPE or t == CTYPE_INPUT_SHAPE:             # <<<<<<<<<<<<<<
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):
  */
     switch (__pyx_v_t) {
@@ -24193,1721 +23498,1721 @@
       break;
       default:
       __pyx_t_3 = 0;
       break;
     }
     if (__pyx_t_3) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":118
+      /* "edgedb/protocol/codecs/codecs.pyx":115
  * 
  *             elif t == CTYPE_SHAPE or t == CTYPE_INPUT_SHAPE:
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *                 for i in range(els):
  *                     frb_read(spec, 4)  # flags
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 118, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 115, __pyx_L1_error)
       __pyx_v_els = ((uint16_t)unpack_int16(__pyx_t_1));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":119
+      /* "edgedb/protocol/codecs/codecs.pyx":116
  *             elif t == CTYPE_SHAPE or t == CTYPE_INPUT_SHAPE:
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):             # <<<<<<<<<<<<<<
  *                     frb_read(spec, 4)  # flags
  *                     frb_read(spec, 1)  # cardinality
  */
       __pyx_t_5 = __pyx_v_els;
       __pyx_t_6 = __pyx_t_5;
       for (__pyx_t_7 = 0; __pyx_t_7 < __pyx_t_6; __pyx_t_7+=1) {
         __pyx_v_i = __pyx_t_7;
 
-        /* "edgedb/protocol/codecs/codecs.pyx":120
+        /* "edgedb/protocol/codecs/codecs.pyx":117
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):
  *                     frb_read(spec, 4)  # flags             # <<<<<<<<<<<<<<
  *                     frb_read(spec, 1)  # cardinality
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))
  */
-        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 120, __pyx_L1_error)
+        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 117, __pyx_L1_error)
 
-        /* "edgedb/protocol/codecs/codecs.pyx":121
+        /* "edgedb/protocol/codecs/codecs.pyx":118
  *                 for i in range(els):
  *                     frb_read(spec, 4)  # flags
  *                     frb_read(spec, 1)  # cardinality             # <<<<<<<<<<<<<<
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                     # read the <str> (`str_len` bytes) and <pos> (2 bytes)
  */
-        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 1); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 121, __pyx_L1_error)
+        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 1); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 118, __pyx_L1_error)
 
-        /* "edgedb/protocol/codecs/codecs.pyx":122
+        /* "edgedb/protocol/codecs/codecs.pyx":119
  *                     frb_read(spec, 4)  # flags
  *                     frb_read(spec, 1)  # cardinality
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))             # <<<<<<<<<<<<<<
  *                     # read the <str> (`str_len` bytes) and <pos> (2 bytes)
  *                     frb_read(spec, str_len + 2)
  */
-        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 122, __pyx_L1_error)
+        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 119, __pyx_L1_error)
         __pyx_v_str_len = unpack_uint32(__pyx_t_1);
 
-        /* "edgedb/protocol/codecs/codecs.pyx":124
+        /* "edgedb/protocol/codecs/codecs.pyx":121
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                     # read the <str> (`str_len` bytes) and <pos> (2 bytes)
  *                     frb_read(spec, str_len + 2)             # <<<<<<<<<<<<<<
  * 
  *             elif t == CTYPE_BASE_SCALAR:
  */
-        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, (__pyx_v_str_len + 2)); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 124, __pyx_L1_error)
+        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, (__pyx_v_str_len + 2)); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 121, __pyx_L1_error)
       }
 
-      /* "edgedb/protocol/codecs/codecs.pyx":117
+      /* "edgedb/protocol/codecs/codecs.pyx":114
  *                 frb_read(spec, 2)
  * 
  *             elif t == CTYPE_SHAPE or t == CTYPE_INPUT_SHAPE:             # <<<<<<<<<<<<<<
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):
  */
       goto __pyx_L5;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":126
+    /* "edgedb/protocol/codecs/codecs.pyx":123
  *                     frb_read(spec, str_len + 2)
  * 
  *             elif t == CTYPE_BASE_SCALAR:             # <<<<<<<<<<<<<<
  *                 pass
  * 
  */
     __pyx_t_3 = ((__pyx_v_t == 2) != 0);
     if (__pyx_t_3) {
       goto __pyx_L5;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":129
+    /* "edgedb/protocol/codecs/codecs.pyx":126
  *                 pass
  * 
  *             elif t == CTYPE_SCALAR:             # <<<<<<<<<<<<<<
  *                 frb_read(spec, 2)
  * 
  */
     __pyx_t_3 = ((__pyx_v_t == 3) != 0);
     if (__pyx_t_3) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":130
+      /* "edgedb/protocol/codecs/codecs.pyx":127
  * 
  *             elif t == CTYPE_SCALAR:
  *                 frb_read(spec, 2)             # <<<<<<<<<<<<<<
  * 
  *             elif t == CTYPE_TUPLE:
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 130, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 127, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":129
+      /* "edgedb/protocol/codecs/codecs.pyx":126
  *                 pass
  * 
  *             elif t == CTYPE_SCALAR:             # <<<<<<<<<<<<<<
  *                 frb_read(spec, 2)
  * 
  */
       goto __pyx_L5;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":132
+    /* "edgedb/protocol/codecs/codecs.pyx":129
  *                 frb_read(spec, 2)
  * 
  *             elif t == CTYPE_TUPLE:             # <<<<<<<<<<<<<<
  *                 # tuple
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  */
     __pyx_t_3 = ((__pyx_v_t == 4) != 0);
     if (__pyx_t_3) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":134
+      /* "edgedb/protocol/codecs/codecs.pyx":131
  *             elif t == CTYPE_TUPLE:
  *                 # tuple
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *                 for i in range(els):
  *                     frb_read(spec, 2)
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 134, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 131, __pyx_L1_error)
       __pyx_v_els = ((uint16_t)unpack_int16(__pyx_t_1));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":135
+      /* "edgedb/protocol/codecs/codecs.pyx":132
  *                 # tuple
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):             # <<<<<<<<<<<<<<
  *                     frb_read(spec, 2)
  * 
  */
       __pyx_t_5 = __pyx_v_els;
       __pyx_t_6 = __pyx_t_5;
       for (__pyx_t_7 = 0; __pyx_t_7 < __pyx_t_6; __pyx_t_7+=1) {
         __pyx_v_i = __pyx_t_7;
 
-        /* "edgedb/protocol/codecs/codecs.pyx":136
+        /* "edgedb/protocol/codecs/codecs.pyx":133
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):
  *                     frb_read(spec, 2)             # <<<<<<<<<<<<<<
  * 
  *             elif t == CTYPE_NAMEDTUPLE:
  */
-        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 136, __pyx_L1_error)
+        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 133, __pyx_L1_error)
       }
 
-      /* "edgedb/protocol/codecs/codecs.pyx":132
+      /* "edgedb/protocol/codecs/codecs.pyx":129
  *                 frb_read(spec, 2)
  * 
  *             elif t == CTYPE_TUPLE:             # <<<<<<<<<<<<<<
  *                 # tuple
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  */
       goto __pyx_L5;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":138
+    /* "edgedb/protocol/codecs/codecs.pyx":135
  *                     frb_read(spec, 2)
  * 
  *             elif t == CTYPE_NAMEDTUPLE:             # <<<<<<<<<<<<<<
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):
  */
     __pyx_t_3 = ((__pyx_v_t == 5) != 0);
     if (__pyx_t_3) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":139
+      /* "edgedb/protocol/codecs/codecs.pyx":136
  * 
  *             elif t == CTYPE_NAMEDTUPLE:
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *                 for i in range(els):
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 139, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 136, __pyx_L1_error)
       __pyx_v_els = ((uint16_t)unpack_int16(__pyx_t_1));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":140
+      /* "edgedb/protocol/codecs/codecs.pyx":137
  *             elif t == CTYPE_NAMEDTUPLE:
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):             # <<<<<<<<<<<<<<
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                     frb_read(spec, str_len + 2)
  */
       __pyx_t_5 = __pyx_v_els;
       __pyx_t_6 = __pyx_t_5;
       for (__pyx_t_7 = 0; __pyx_t_7 < __pyx_t_6; __pyx_t_7+=1) {
         __pyx_v_i = __pyx_t_7;
 
-        /* "edgedb/protocol/codecs/codecs.pyx":141
+        /* "edgedb/protocol/codecs/codecs.pyx":138
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))             # <<<<<<<<<<<<<<
  *                     frb_read(spec, str_len + 2)
  * 
  */
-        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 141, __pyx_L1_error)
+        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 138, __pyx_L1_error)
         __pyx_v_str_len = unpack_uint32(__pyx_t_1);
 
-        /* "edgedb/protocol/codecs/codecs.pyx":142
+        /* "edgedb/protocol/codecs/codecs.pyx":139
  *                 for i in range(els):
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                     frb_read(spec, str_len + 2)             # <<<<<<<<<<<<<<
  * 
  *             elif t == CTYPE_ARRAY:
  */
-        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, (__pyx_v_str_len + 2)); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 142, __pyx_L1_error)
+        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, (__pyx_v_str_len + 2)); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 139, __pyx_L1_error)
       }
 
-      /* "edgedb/protocol/codecs/codecs.pyx":138
+      /* "edgedb/protocol/codecs/codecs.pyx":135
  *                     frb_read(spec, 2)
  * 
  *             elif t == CTYPE_NAMEDTUPLE:             # <<<<<<<<<<<<<<
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):
  */
       goto __pyx_L5;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":144
+    /* "edgedb/protocol/codecs/codecs.pyx":141
  *                     frb_read(spec, str_len + 2)
  * 
  *             elif t == CTYPE_ARRAY:             # <<<<<<<<<<<<<<
  *                 frb_read(spec, 2)
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  */
     __pyx_t_3 = ((__pyx_v_t == 6) != 0);
     if (__pyx_t_3) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":145
+      /* "edgedb/protocol/codecs/codecs.pyx":142
  * 
  *             elif t == CTYPE_ARRAY:
  *                 frb_read(spec, 2)             # <<<<<<<<<<<<<<
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 if els != 1:
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 145, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 142, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":146
+      /* "edgedb/protocol/codecs/codecs.pyx":143
  *             elif t == CTYPE_ARRAY:
  *                 frb_read(spec, 2)
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *                 if els != 1:
  *                     raise NotImplementedError(
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 146, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 143, __pyx_L1_error)
       __pyx_v_els = ((uint16_t)unpack_int16(__pyx_t_1));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":147
+      /* "edgedb/protocol/codecs/codecs.pyx":144
  *                 frb_read(spec, 2)
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 if els != 1:             # <<<<<<<<<<<<<<
  *                     raise NotImplementedError(
  *                         'cannot handle arrays with more than one dimension')
  */
       __pyx_t_3 = ((__pyx_v_els != 1) != 0);
       if (unlikely(__pyx_t_3)) {
 
-        /* "edgedb/protocol/codecs/codecs.pyx":148
+        /* "edgedb/protocol/codecs/codecs.pyx":145
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 if els != 1:
  *                     raise NotImplementedError(             # <<<<<<<<<<<<<<
  *                         'cannot handle arrays with more than one dimension')
  *                 # First dimension length.
  */
-        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__52, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 148, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__52, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 145, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_Raise(__pyx_t_2, 0, 0, 0);
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-        __PYX_ERR(5, 148, __pyx_L1_error)
+        __PYX_ERR(5, 145, __pyx_L1_error)
 
-        /* "edgedb/protocol/codecs/codecs.pyx":147
+        /* "edgedb/protocol/codecs/codecs.pyx":144
  *                 frb_read(spec, 2)
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 if els != 1:             # <<<<<<<<<<<<<<
  *                     raise NotImplementedError(
  *                         'cannot handle arrays with more than one dimension')
  */
       }
 
-      /* "edgedb/protocol/codecs/codecs.pyx":151
+      /* "edgedb/protocol/codecs/codecs.pyx":148
  *                         'cannot handle arrays with more than one dimension')
  *                 # First dimension length.
  *                 frb_read(spec, 4)             # <<<<<<<<<<<<<<
  * 
  *             elif t == CTYPE_RANGE:
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 151, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 148, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":144
+      /* "edgedb/protocol/codecs/codecs.pyx":141
  *                     frb_read(spec, str_len + 2)
  * 
  *             elif t == CTYPE_ARRAY:             # <<<<<<<<<<<<<<
  *                 frb_read(spec, 2)
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  */
       goto __pyx_L5;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":153
+    /* "edgedb/protocol/codecs/codecs.pyx":150
  *                 frb_read(spec, 4)
  * 
  *             elif t == CTYPE_RANGE:             # <<<<<<<<<<<<<<
  *                 frb_read(spec, 2)
  * 
  */
     __pyx_t_3 = ((__pyx_v_t == 9) != 0);
     if (__pyx_t_3) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":154
+      /* "edgedb/protocol/codecs/codecs.pyx":151
  * 
  *             elif t == CTYPE_RANGE:
  *                 frb_read(spec, 2)             # <<<<<<<<<<<<<<
  * 
  *             elif t == CTYPE_ENUM:
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 154, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 151, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":153
+      /* "edgedb/protocol/codecs/codecs.pyx":150
  *                 frb_read(spec, 4)
  * 
  *             elif t == CTYPE_RANGE:             # <<<<<<<<<<<<<<
  *                 frb_read(spec, 2)
  * 
  */
       goto __pyx_L5;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":156
+    /* "edgedb/protocol/codecs/codecs.pyx":153
  *                 frb_read(spec, 2)
  * 
  *             elif t == CTYPE_ENUM:             # <<<<<<<<<<<<<<
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):
  */
     __pyx_t_3 = ((__pyx_v_t == 7) != 0);
     if (__pyx_t_3) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":157
+      /* "edgedb/protocol/codecs/codecs.pyx":154
  * 
  *             elif t == CTYPE_ENUM:
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *                 for i in range(els):
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 157, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 154, __pyx_L1_error)
       __pyx_v_els = ((uint16_t)unpack_int16(__pyx_t_1));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":158
+      /* "edgedb/protocol/codecs/codecs.pyx":155
  *             elif t == CTYPE_ENUM:
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):             # <<<<<<<<<<<<<<
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                     frb_read(spec, str_len)
  */
       __pyx_t_5 = __pyx_v_els;
       __pyx_t_6 = __pyx_t_5;
       for (__pyx_t_7 = 0; __pyx_t_7 < __pyx_t_6; __pyx_t_7+=1) {
         __pyx_v_i = __pyx_t_7;
 
-        /* "edgedb/protocol/codecs/codecs.pyx":159
+        /* "edgedb/protocol/codecs/codecs.pyx":156
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))             # <<<<<<<<<<<<<<
  *                     frb_read(spec, str_len)
  * 
  */
-        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 159, __pyx_L1_error)
+        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 156, __pyx_L1_error)
         __pyx_v_str_len = unpack_uint32(__pyx_t_1);
 
-        /* "edgedb/protocol/codecs/codecs.pyx":160
+        /* "edgedb/protocol/codecs/codecs.pyx":157
  *                 for i in range(els):
  *                     str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                     frb_read(spec, str_len)             # <<<<<<<<<<<<<<
  * 
  *             elif t == CTYPE_ANNO_TYPENAME:
  */
-        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 160, __pyx_L1_error)
+        __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 157, __pyx_L1_error)
       }
 
-      /* "edgedb/protocol/codecs/codecs.pyx":156
+      /* "edgedb/protocol/codecs/codecs.pyx":153
  *                 frb_read(spec, 2)
  * 
  *             elif t == CTYPE_ENUM:             # <<<<<<<<<<<<<<
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 for i in range(els):
  */
       goto __pyx_L5;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":162
+    /* "edgedb/protocol/codecs/codecs.pyx":159
  *                     frb_read(spec, str_len)
  * 
  *             elif t == CTYPE_ANNO_TYPENAME:             # <<<<<<<<<<<<<<
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 res.type_name = cpythonx.PyUnicode_FromStringAndSize(
  */
     __pyx_t_3 = ((__pyx_v_t == 0xFF) != 0);
     if (__pyx_t_3) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":163
+      /* "edgedb/protocol/codecs/codecs.pyx":160
  * 
  *             elif t == CTYPE_ANNO_TYPENAME:
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))             # <<<<<<<<<<<<<<
  *                 res.type_name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 163, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 160, __pyx_L1_error)
       __pyx_v_str_len = unpack_uint32(__pyx_t_1);
 
-      /* "edgedb/protocol/codecs/codecs.pyx":165
+      /* "edgedb/protocol/codecs/codecs.pyx":162
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 res.type_name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)             # <<<<<<<<<<<<<<
  *                 return None
  * 
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 165, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 162, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":164
+      /* "edgedb/protocol/codecs/codecs.pyx":161
  *             elif t == CTYPE_ANNO_TYPENAME:
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 res.type_name = cpythonx.PyUnicode_FromStringAndSize(             # <<<<<<<<<<<<<<
  *                     frb_read(spec, str_len), str_len)
  *                 return None
  */
-      __pyx_t_2 = PyUnicode_FromStringAndSize(__pyx_t_1, __pyx_v_str_len); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 164, __pyx_L1_error)
+      __pyx_t_2 = PyUnicode_FromStringAndSize(__pyx_t_1, __pyx_v_str_len); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 161, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      if (!(likely(PyUnicode_CheckExact(__pyx_t_2))||((__pyx_t_2) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "unicode", Py_TYPE(__pyx_t_2)->tp_name), 0))) __PYX_ERR(5, 164, __pyx_L1_error)
+      if (!(likely(PyUnicode_CheckExact(__pyx_t_2))||((__pyx_t_2) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "unicode", Py_TYPE(__pyx_t_2)->tp_name), 0))) __PYX_ERR(5, 161, __pyx_L1_error)
       __Pyx_GIVEREF(__pyx_t_2);
       __Pyx_GOTREF(__pyx_v_res->type_name);
       __Pyx_DECREF(__pyx_v_res->type_name);
       __pyx_v_res->type_name = ((PyObject*)__pyx_t_2);
       __pyx_t_2 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":166
+      /* "edgedb/protocol/codecs/codecs.pyx":163
  *                 res.type_name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)
  *                 return None             # <<<<<<<<<<<<<<
  * 
  *             elif 0x80 & t == 0x80:
  */
       __Pyx_XDECREF(((PyObject *)__pyx_r));
       __pyx_r = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); __Pyx_INCREF(Py_None);
       goto __pyx_L0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":162
+      /* "edgedb/protocol/codecs/codecs.pyx":159
  *                     frb_read(spec, str_len)
  * 
  *             elif t == CTYPE_ANNO_TYPENAME:             # <<<<<<<<<<<<<<
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 res.type_name = cpythonx.PyUnicode_FromStringAndSize(
  */
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":168
+    /* "edgedb/protocol/codecs/codecs.pyx":165
  *                 return None
  * 
  *             elif 0x80 & t == 0x80:             # <<<<<<<<<<<<<<
  *                 # Ignore all other type annotations.
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  */
     __pyx_t_3 = (((0x80 & __pyx_v_t) == 0x80) != 0);
     if (likely(__pyx_t_3)) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":170
+      /* "edgedb/protocol/codecs/codecs.pyx":167
  *             elif 0x80 & t == 0x80:
  *                 # Ignore all other type annotations.
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))             # <<<<<<<<<<<<<<
  *                 frb_read(spec, str_len)
  *                 return None
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 170, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 167, __pyx_L1_error)
       __pyx_v_str_len = unpack_uint32(__pyx_t_1);
 
-      /* "edgedb/protocol/codecs/codecs.pyx":171
+      /* "edgedb/protocol/codecs/codecs.pyx":168
  *                 # Ignore all other type annotations.
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 frb_read(spec, str_len)             # <<<<<<<<<<<<<<
  *                 return None
  * 
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 171, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 168, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":172
+      /* "edgedb/protocol/codecs/codecs.pyx":169
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 frb_read(spec, str_len)
  *                 return None             # <<<<<<<<<<<<<<
  * 
  *             else:
  */
       __Pyx_XDECREF(((PyObject *)__pyx_r));
       __pyx_r = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); __Pyx_INCREF(Py_None);
       goto __pyx_L0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":168
+      /* "edgedb/protocol/codecs/codecs.pyx":165
  *                 return None
  * 
  *             elif 0x80 & t == 0x80:             # <<<<<<<<<<<<<<
  *                 # Ignore all other type annotations.
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  */
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":175
+    /* "edgedb/protocol/codecs/codecs.pyx":172
  * 
  *             else:
  *                 raise NotImplementedError(             # <<<<<<<<<<<<<<
  *                     f'no codec implementation for EdgeDB data class {t}')
  * 
  */
     /*else*/ {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":176
+      /* "edgedb/protocol/codecs/codecs.pyx":173
  *             else:
  *                 raise NotImplementedError(
  *                     f'no codec implementation for EdgeDB data class {t}')             # <<<<<<<<<<<<<<
  * 
  *             return res
  */
-      __pyx_t_2 = __Pyx_PyInt_From_uint8_t(__pyx_v_t); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 176, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyInt_From_uint8_t(__pyx_v_t); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 173, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      __pyx_t_8 = __Pyx_PyObject_FormatSimple(__pyx_t_2, __pyx_empty_unicode); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 176, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyObject_FormatSimple(__pyx_t_2, __pyx_empty_unicode); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 173, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-      __pyx_t_2 = __Pyx_PyUnicode_Concat(__pyx_kp_u_no_codec_implementation_for_Edge, __pyx_t_8); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 176, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyUnicode_Concat(__pyx_kp_u_no_codec_implementation_for_Edge, __pyx_t_8); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 173, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":175
+      /* "edgedb/protocol/codecs/codecs.pyx":172
  * 
  *             else:
  *                 raise NotImplementedError(             # <<<<<<<<<<<<<<
  *                     f'no codec implementation for EdgeDB data class {t}')
  * 
  */
-      __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_builtin_NotImplementedError, __pyx_t_2); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 175, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_builtin_NotImplementedError, __pyx_t_2); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 172, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __Pyx_Raise(__pyx_t_8, 0, 0, 0);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __PYX_ERR(5, 175, __pyx_L1_error)
+      __PYX_ERR(5, 172, __pyx_L1_error)
     }
     __pyx_L5:;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":178
+    /* "edgedb/protocol/codecs/codecs.pyx":175
  *                     f'no codec implementation for EdgeDB data class {t}')
  * 
  *             return res             # <<<<<<<<<<<<<<
  * 
  *         if t == CTYPE_SET:
  */
     __Pyx_XDECREF(((PyObject *)__pyx_r));
     __Pyx_INCREF(((PyObject *)__pyx_v_res));
     __pyx_r = __pyx_v_res;
     goto __pyx_L0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":110
+    /* "edgedb/protocol/codecs/codecs.pyx":107
  *         if res is None:
  *             res = self.codecs_build_cache.get(tid, None)
  *         if res is not None:             # <<<<<<<<<<<<<<
  *             # We have a codec for this "tid"; advance the buffer
  *             # so that we can process the next codec.
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":180
+  /* "edgedb/protocol/codecs/codecs.pyx":177
  *             return res
  * 
  *         if t == CTYPE_SET:             # <<<<<<<<<<<<<<
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             sub_codec = <BaseCodec>codecs_list[pos]
  */
   switch (__pyx_v_t) {
     case 0:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":181
+    /* "edgedb/protocol/codecs/codecs.pyx":178
  * 
  *         if t == CTYPE_SET:
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *             sub_codec = <BaseCodec>codecs_list[pos]
  *             res = SetCodec.new(tid, sub_codec)
  */
-    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 181, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 178, __pyx_L1_error)
     __pyx_v_pos = ((uint16_t)unpack_int16(__pyx_t_1));
 
-    /* "edgedb/protocol/codecs/codecs.pyx":182
+    /* "edgedb/protocol/codecs/codecs.pyx":179
  *         if t == CTYPE_SET:
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             sub_codec = <BaseCodec>codecs_list[pos]             # <<<<<<<<<<<<<<
  *             res = SetCodec.new(tid, sub_codec)
  * 
  */
     if (unlikely(__pyx_v_codecs_list == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(5, 182, __pyx_L1_error)
+      __PYX_ERR(5, 179, __pyx_L1_error)
     }
-    __pyx_t_8 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 182, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 179, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __pyx_t_2 = __pyx_t_8;
     __Pyx_INCREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     __pyx_v_sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":183
+    /* "edgedb/protocol/codecs/codecs.pyx":180
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             sub_codec = <BaseCodec>codecs_list[pos]
  *             res = SetCodec.new(tid, sub_codec)             # <<<<<<<<<<<<<<
  * 
  *         elif t == CTYPE_SHAPE or t == CTYPE_INPUT_SHAPE:
  */
-    __pyx_t_2 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_8SetCodec_new(__pyx_v_tid, __pyx_v_sub_codec)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 183, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_8SetCodec_new(__pyx_v_tid, __pyx_v_sub_codec)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 180, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_2));
     __pyx_t_2 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":180
+    /* "edgedb/protocol/codecs/codecs.pyx":177
  *             return res
  * 
  *         if t == CTYPE_SET:             # <<<<<<<<<<<<<<
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             sub_codec = <BaseCodec>codecs_list[pos]
  */
     break;
     case 1:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":185
+    /* "edgedb/protocol/codecs/codecs.pyx":182
  *             res = SetCodec.new(tid, sub_codec)
  * 
  *         elif t == CTYPE_SHAPE or t == CTYPE_INPUT_SHAPE:             # <<<<<<<<<<<<<<
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codecs = cpython.PyTuple_New(els)
  */
     case 8:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":186
+    /* "edgedb/protocol/codecs/codecs.pyx":183
  * 
  *         elif t == CTYPE_SHAPE or t == CTYPE_INPUT_SHAPE:
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *             codecs = cpython.PyTuple_New(els)
  *             names = cpython.PyTuple_New(els)
  */
-    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 186, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 183, __pyx_L1_error)
     __pyx_v_els = ((uint16_t)unpack_int16(__pyx_t_1));
 
-    /* "edgedb/protocol/codecs/codecs.pyx":187
+    /* "edgedb/protocol/codecs/codecs.pyx":184
  *         elif t == CTYPE_SHAPE or t == CTYPE_INPUT_SHAPE:
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codecs = cpython.PyTuple_New(els)             # <<<<<<<<<<<<<<
  *             names = cpython.PyTuple_New(els)
  *             flags = cpython.PyTuple_New(els)
  */
-    __pyx_t_2 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 187, __pyx_L1_error)
+    __pyx_t_2 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 184, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_codecs = ((PyObject*)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":188
+    /* "edgedb/protocol/codecs/codecs.pyx":185
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codecs = cpython.PyTuple_New(els)
  *             names = cpython.PyTuple_New(els)             # <<<<<<<<<<<<<<
  *             flags = cpython.PyTuple_New(els)
  *             cards = cpython.PyTuple_New(els)
  */
-    __pyx_t_2 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 188, __pyx_L1_error)
+    __pyx_t_2 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 185, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_names = ((PyObject*)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":189
+    /* "edgedb/protocol/codecs/codecs.pyx":186
  *             codecs = cpython.PyTuple_New(els)
  *             names = cpython.PyTuple_New(els)
  *             flags = cpython.PyTuple_New(els)             # <<<<<<<<<<<<<<
  *             cards = cpython.PyTuple_New(els)
  *             for i in range(els):
  */
-    __pyx_t_2 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 189, __pyx_L1_error)
+    __pyx_t_2 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 186, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_flags = ((PyObject*)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":190
+    /* "edgedb/protocol/codecs/codecs.pyx":187
  *             names = cpython.PyTuple_New(els)
  *             flags = cpython.PyTuple_New(els)
  *             cards = cpython.PyTuple_New(els)             # <<<<<<<<<<<<<<
  *             for i in range(els):
  *                 flag = hton.unpack_uint32(frb_read(spec, 4))  # flags
  */
-    __pyx_t_2 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 190, __pyx_L1_error)
+    __pyx_t_2 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 187, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_cards = ((PyObject*)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":191
+    /* "edgedb/protocol/codecs/codecs.pyx":188
  *             flags = cpython.PyTuple_New(els)
  *             cards = cpython.PyTuple_New(els)
  *             for i in range(els):             # <<<<<<<<<<<<<<
  *                 flag = hton.unpack_uint32(frb_read(spec, 4))  # flags
  *                 cardinality = <uint8_t>frb_read(spec, 1)[0]
  */
     __pyx_t_5 = __pyx_v_els;
     __pyx_t_6 = __pyx_t_5;
     for (__pyx_t_7 = 0; __pyx_t_7 < __pyx_t_6; __pyx_t_7+=1) {
       __pyx_v_i = __pyx_t_7;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":192
+      /* "edgedb/protocol/codecs/codecs.pyx":189
  *             cards = cpython.PyTuple_New(els)
  *             for i in range(els):
  *                 flag = hton.unpack_uint32(frb_read(spec, 4))  # flags             # <<<<<<<<<<<<<<
  *                 cardinality = <uint8_t>frb_read(spec, 1)[0]
  * 
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 192, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 189, __pyx_L1_error)
       __pyx_v_flag = unpack_uint32(__pyx_t_1);
 
-      /* "edgedb/protocol/codecs/codecs.pyx":193
+      /* "edgedb/protocol/codecs/codecs.pyx":190
  *             for i in range(els):
  *                 flag = hton.unpack_uint32(frb_read(spec, 4))  # flags
  *                 cardinality = <uint8_t>frb_read(spec, 1)[0]             # <<<<<<<<<<<<<<
  * 
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 1); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 193, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 1); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 190, __pyx_L1_error)
       __pyx_v_cardinality = ((uint8_t)(__pyx_t_1[0]));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":195
+      /* "edgedb/protocol/codecs/codecs.pyx":192
  *                 cardinality = <uint8_t>frb_read(spec, 1)[0]
  * 
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))             # <<<<<<<<<<<<<<
  *                 name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 195, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 192, __pyx_L1_error)
       __pyx_v_str_len = unpack_uint32(__pyx_t_1);
 
-      /* "edgedb/protocol/codecs/codecs.pyx":197
+      /* "edgedb/protocol/codecs/codecs.pyx":194
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)             # <<<<<<<<<<<<<<
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  * 
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 197, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 194, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":196
+      /* "edgedb/protocol/codecs/codecs.pyx":193
  * 
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 name = cpythonx.PyUnicode_FromStringAndSize(             # <<<<<<<<<<<<<<
  *                     frb_read(spec, str_len), str_len)
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  */
-      __pyx_t_2 = PyUnicode_FromStringAndSize(__pyx_t_1, __pyx_v_str_len); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 196, __pyx_L1_error)
+      __pyx_t_2 = PyUnicode_FromStringAndSize(__pyx_t_1, __pyx_v_str_len); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 193, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_XDECREF_SET(__pyx_v_name, __pyx_t_2);
       __pyx_t_2 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":198
+      /* "edgedb/protocol/codecs/codecs.pyx":195
  *                 name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  * 
  *                 if flag & datatypes._EDGE_POINTER_IS_LINKPROP:
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 198, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 195, __pyx_L1_error)
       __pyx_v_pos = ((uint16_t)unpack_int16(__pyx_t_1));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":200
+      /* "edgedb/protocol/codecs/codecs.pyx":197
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  * 
  *                 if flag & datatypes._EDGE_POINTER_IS_LINKPROP:             # <<<<<<<<<<<<<<
  *                     name = "@" + name
  *                 cpython.Py_INCREF(name)
  */
-      __pyx_t_2 = __Pyx_PyInt_From_uint32_t(__pyx_v_flag); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 200, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyInt_From_uint32_t(__pyx_v_flag); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 197, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_datatypes); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 200, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_datatypes); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 197, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_EDGE_POINTER_IS_LINKPROP); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 200, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_EDGE_POINTER_IS_LINKPROP); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 197, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __pyx_t_8 = PyNumber_And(__pyx_t_2, __pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 200, __pyx_L1_error)
+      __pyx_t_8 = PyNumber_And(__pyx_t_2, __pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 197, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_8); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(5, 200, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_8); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(5, 197, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
       if (__pyx_t_3) {
 
-        /* "edgedb/protocol/codecs/codecs.pyx":201
+        /* "edgedb/protocol/codecs/codecs.pyx":198
  * 
  *                 if flag & datatypes._EDGE_POINTER_IS_LINKPROP:
  *                     name = "@" + name             # <<<<<<<<<<<<<<
  *                 cpython.Py_INCREF(name)
  *                 cpython.PyTuple_SetItem(names, i, name)
  */
-        __pyx_t_8 = PyNumber_Add(__pyx_kp_u__53, __pyx_v_name); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 201, __pyx_L1_error)
+        __pyx_t_8 = PyNumber_Add(__pyx_kp_u__53, __pyx_v_name); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 198, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_8);
         __Pyx_DECREF_SET(__pyx_v_name, __pyx_t_8);
         __pyx_t_8 = 0;
 
-        /* "edgedb/protocol/codecs/codecs.pyx":200
+        /* "edgedb/protocol/codecs/codecs.pyx":197
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  * 
  *                 if flag & datatypes._EDGE_POINTER_IS_LINKPROP:             # <<<<<<<<<<<<<<
  *                     name = "@" + name
  *                 cpython.Py_INCREF(name)
  */
       }
 
-      /* "edgedb/protocol/codecs/codecs.pyx":202
+      /* "edgedb/protocol/codecs/codecs.pyx":199
  *                 if flag & datatypes._EDGE_POINTER_IS_LINKPROP:
  *                     name = "@" + name
  *                 cpython.Py_INCREF(name)             # <<<<<<<<<<<<<<
  *                 cpython.PyTuple_SetItem(names, i, name)
  * 
  */
       Py_INCREF(__pyx_v_name);
 
-      /* "edgedb/protocol/codecs/codecs.pyx":203
+      /* "edgedb/protocol/codecs/codecs.pyx":200
  *                     name = "@" + name
  *                 cpython.Py_INCREF(name)
  *                 cpython.PyTuple_SetItem(names, i, name)             # <<<<<<<<<<<<<<
  * 
  *                 sub_codec = codecs_list[pos]
  */
-      __pyx_t_10 = PyTuple_SetItem(__pyx_v_names, __pyx_v_i, __pyx_v_name); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 203, __pyx_L1_error)
+      __pyx_t_10 = PyTuple_SetItem(__pyx_v_names, __pyx_v_i, __pyx_v_name); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 200, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":205
+      /* "edgedb/protocol/codecs/codecs.pyx":202
  *                 cpython.PyTuple_SetItem(names, i, name)
  * 
  *                 sub_codec = codecs_list[pos]             # <<<<<<<<<<<<<<
  *                 cpython.Py_INCREF(sub_codec)
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)
  */
       if (unlikely(__pyx_v_codecs_list == Py_None)) {
         PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-        __PYX_ERR(5, 205, __pyx_L1_error)
+        __PYX_ERR(5, 202, __pyx_L1_error)
       }
-      __pyx_t_8 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 205, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 202, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      if (!(likely(((__pyx_t_8) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_8, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 205, __pyx_L1_error)
+      if (!(likely(((__pyx_t_8) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_8, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 202, __pyx_L1_error)
       __Pyx_XDECREF_SET(__pyx_v_sub_codec, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_8));
       __pyx_t_8 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":206
+      /* "edgedb/protocol/codecs/codecs.pyx":203
  * 
  *                 sub_codec = codecs_list[pos]
  *                 cpython.Py_INCREF(sub_codec)             # <<<<<<<<<<<<<<
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)
  * 
  */
       Py_INCREF(((PyObject *)__pyx_v_sub_codec));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":207
+      /* "edgedb/protocol/codecs/codecs.pyx":204
  *                 sub_codec = codecs_list[pos]
  *                 cpython.Py_INCREF(sub_codec)
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)             # <<<<<<<<<<<<<<
  * 
  *                 cpython.Py_INCREF(flag)
  */
-      __pyx_t_10 = PyTuple_SetItem(__pyx_v_codecs, __pyx_v_i, ((PyObject *)__pyx_v_sub_codec)); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 207, __pyx_L1_error)
+      __pyx_t_10 = PyTuple_SetItem(__pyx_v_codecs, __pyx_v_i, ((PyObject *)__pyx_v_sub_codec)); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 204, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":209
+      /* "edgedb/protocol/codecs/codecs.pyx":206
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)
  * 
  *                 cpython.Py_INCREF(flag)             # <<<<<<<<<<<<<<
  *                 cpython.PyTuple_SetItem(flags, i, flag)
  * 
  */
-      __pyx_t_8 = __Pyx_PyInt_From_uint32_t(__pyx_v_flag); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 209, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyInt_From_uint32_t(__pyx_v_flag); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 206, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       Py_INCREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":210
+      /* "edgedb/protocol/codecs/codecs.pyx":207
  * 
  *                 cpython.Py_INCREF(flag)
  *                 cpython.PyTuple_SetItem(flags, i, flag)             # <<<<<<<<<<<<<<
  * 
  *                 cpython.Py_INCREF(cardinality)
  */
-      __pyx_t_8 = __Pyx_PyInt_From_uint32_t(__pyx_v_flag); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 210, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyInt_From_uint32_t(__pyx_v_flag); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 207, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      __pyx_t_10 = PyTuple_SetItem(__pyx_v_flags, __pyx_v_i, __pyx_t_8); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 210, __pyx_L1_error)
+      __pyx_t_10 = PyTuple_SetItem(__pyx_v_flags, __pyx_v_i, __pyx_t_8); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 207, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":212
+      /* "edgedb/protocol/codecs/codecs.pyx":209
  *                 cpython.PyTuple_SetItem(flags, i, flag)
  * 
  *                 cpython.Py_INCREF(cardinality)             # <<<<<<<<<<<<<<
  *                 cpython.PyTuple_SetItem(cards, i, cardinality)
  * 
  */
-      __pyx_t_8 = __Pyx_PyInt_From_uint8_t(__pyx_v_cardinality); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 212, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyInt_From_uint8_t(__pyx_v_cardinality); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 209, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       Py_INCREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":213
+      /* "edgedb/protocol/codecs/codecs.pyx":210
  * 
  *                 cpython.Py_INCREF(cardinality)
  *                 cpython.PyTuple_SetItem(cards, i, cardinality)             # <<<<<<<<<<<<<<
  * 
  *             res = ObjectCodec.new(
  */
-      __pyx_t_8 = __Pyx_PyInt_From_uint8_t(__pyx_v_cardinality); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 213, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyInt_From_uint8_t(__pyx_v_cardinality); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 210, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      __pyx_t_10 = PyTuple_SetItem(__pyx_v_cards, __pyx_v_i, __pyx_t_8); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 213, __pyx_L1_error)
+      __pyx_t_10 = PyTuple_SetItem(__pyx_v_cards, __pyx_v_i, __pyx_t_8); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 210, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":215
+    /* "edgedb/protocol/codecs/codecs.pyx":212
  *                 cpython.PyTuple_SetItem(cards, i, cardinality)
  * 
  *             res = ObjectCodec.new(             # <<<<<<<<<<<<<<
  *                 tid, names, flags, cards, codecs, t == CTYPE_INPUT_SHAPE
  *             )
  */
-    __pyx_t_8 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_11ObjectCodec_new(__pyx_v_tid, __pyx_v_names, __pyx_v_flags, __pyx_v_cards, __pyx_v_codecs, (__pyx_v_t == 8))); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 215, __pyx_L1_error)
+    __pyx_t_8 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_11ObjectCodec_new(__pyx_v_tid, __pyx_v_names, __pyx_v_flags, __pyx_v_cards, __pyx_v_codecs, (__pyx_v_t == 8))); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 212, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_8));
     __pyx_t_8 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":185
+    /* "edgedb/protocol/codecs/codecs.pyx":182
  *             res = SetCodec.new(tid, sub_codec)
  * 
  *         elif t == CTYPE_SHAPE or t == CTYPE_INPUT_SHAPE:             # <<<<<<<<<<<<<<
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codecs = cpython.PyTuple_New(els)
  */
     break;
     case 2:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":220
+    /* "edgedb/protocol/codecs/codecs.pyx":217
  * 
  *         elif t == CTYPE_BASE_SCALAR:
  *             if tid in self.base_codec_overrides:             # <<<<<<<<<<<<<<
  *                 return self.base_codec_overrides[tid]
  *             else:
  */
     if (unlikely(__pyx_v_self->base_codec_overrides == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not iterable");
-      __PYX_ERR(5, 220, __pyx_L1_error)
+      __PYX_ERR(5, 217, __pyx_L1_error)
     }
-    __pyx_t_3 = (__Pyx_PyDict_ContainsTF(__pyx_v_tid, __pyx_v_self->base_codec_overrides, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(5, 220, __pyx_L1_error)
+    __pyx_t_3 = (__Pyx_PyDict_ContainsTF(__pyx_v_tid, __pyx_v_self->base_codec_overrides, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(5, 217, __pyx_L1_error)
     __pyx_t_4 = (__pyx_t_3 != 0);
     if (__pyx_t_4) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":221
+      /* "edgedb/protocol/codecs/codecs.pyx":218
  *         elif t == CTYPE_BASE_SCALAR:
  *             if tid in self.base_codec_overrides:
  *                 return self.base_codec_overrides[tid]             # <<<<<<<<<<<<<<
  *             else:
  *                 res = <BaseCodec>BASE_SCALAR_CODECS[tid]
  */
       __Pyx_XDECREF(((PyObject *)__pyx_r));
       if (unlikely(__pyx_v_self->base_codec_overrides == Py_None)) {
         PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-        __PYX_ERR(5, 221, __pyx_L1_error)
+        __PYX_ERR(5, 218, __pyx_L1_error)
       }
-      __pyx_t_8 = __Pyx_PyDict_GetItem(__pyx_v_self->base_codec_overrides, __pyx_v_tid); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 221, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyDict_GetItem(__pyx_v_self->base_codec_overrides, __pyx_v_tid); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 218, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      if (!(likely(((__pyx_t_8) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_8, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 221, __pyx_L1_error)
+      if (!(likely(((__pyx_t_8) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_8, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 218, __pyx_L1_error)
       __pyx_r = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_8);
       __pyx_t_8 = 0;
       goto __pyx_L0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":220
+      /* "edgedb/protocol/codecs/codecs.pyx":217
  * 
  *         elif t == CTYPE_BASE_SCALAR:
  *             if tid in self.base_codec_overrides:             # <<<<<<<<<<<<<<
  *                 return self.base_codec_overrides[tid]
  *             else:
  */
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":223
+    /* "edgedb/protocol/codecs/codecs.pyx":220
  *                 return self.base_codec_overrides[tid]
  *             else:
  *                 res = <BaseCodec>BASE_SCALAR_CODECS[tid]             # <<<<<<<<<<<<<<
  * 
  *         elif t == CTYPE_SCALAR:
  */
     /*else*/ {
       if (unlikely(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS == Py_None)) {
         PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-        __PYX_ERR(5, 223, __pyx_L1_error)
+        __PYX_ERR(5, 220, __pyx_L1_error)
       }
-      __pyx_t_8 = __Pyx_PyDict_GetItem(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS, __pyx_v_tid); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 223, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyDict_GetItem(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS, __pyx_v_tid); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 220, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __pyx_t_9 = __pyx_t_8;
       __Pyx_INCREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
       __Pyx_DECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_9));
       __pyx_t_9 = 0;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":219
+    /* "edgedb/protocol/codecs/codecs.pyx":216
  *             )
  * 
  *         elif t == CTYPE_BASE_SCALAR:             # <<<<<<<<<<<<<<
  *             if tid in self.base_codec_overrides:
  *                 return self.base_codec_overrides[tid]
  */
     break;
     case 3:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":226
+    /* "edgedb/protocol/codecs/codecs.pyx":223
  * 
  *         elif t == CTYPE_SCALAR:
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *             codec = codecs_list[pos]
  *             if type(codec) is not ScalarCodec:
  */
-    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 226, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 223, __pyx_L1_error)
     __pyx_v_pos = ((uint16_t)unpack_int16(__pyx_t_1));
 
-    /* "edgedb/protocol/codecs/codecs.pyx":227
+    /* "edgedb/protocol/codecs/codecs.pyx":224
  *         elif t == CTYPE_SCALAR:
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codec = codecs_list[pos]             # <<<<<<<<<<<<<<
  *             if type(codec) is not ScalarCodec:
  *                 raise RuntimeError(
  */
     if (unlikely(__pyx_v_codecs_list == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(5, 227, __pyx_L1_error)
+      __PYX_ERR(5, 224, __pyx_L1_error)
     }
-    __pyx_t_9 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 227, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 224, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __pyx_v_codec = __pyx_t_9;
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":228
+    /* "edgedb/protocol/codecs/codecs.pyx":225
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codec = codecs_list[pos]
  *             if type(codec) is not ScalarCodec:             # <<<<<<<<<<<<<<
  *                 raise RuntimeError(
  *                     f'a scalar codec expected for base scalar type, '
  */
     __pyx_t_4 = (((PyObject *)Py_TYPE(__pyx_v_codec)) != ((PyObject *)__pyx_ptype_6edgedb_8protocol_8protocol_ScalarCodec));
     __pyx_t_3 = (__pyx_t_4 != 0);
     if (unlikely(__pyx_t_3)) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":231
+      /* "edgedb/protocol/codecs/codecs.pyx":228
  *                 raise RuntimeError(
  *                     f'a scalar codec expected for base scalar type, '
  *                     f'got {type(codec).__name__}')             # <<<<<<<<<<<<<<
  *             res = (<ScalarCodec>codecs_list[pos]).derive(tid)
  * 
  */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(((PyObject *)Py_TYPE(__pyx_v_codec)), __pyx_n_s_name); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 231, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(((PyObject *)Py_TYPE(__pyx_v_codec)), __pyx_n_s_name); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 228, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
-      __pyx_t_8 = __Pyx_PyObject_FormatSimple(__pyx_t_9, __pyx_empty_unicode); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 231, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyObject_FormatSimple(__pyx_t_9, __pyx_empty_unicode); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 228, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":230
+      /* "edgedb/protocol/codecs/codecs.pyx":227
  *             if type(codec) is not ScalarCodec:
  *                 raise RuntimeError(
  *                     f'a scalar codec expected for base scalar type, '             # <<<<<<<<<<<<<<
  *                     f'got {type(codec).__name__}')
  *             res = (<ScalarCodec>codecs_list[pos]).derive(tid)
  */
-      __pyx_t_9 = __Pyx_PyUnicode_Concat(__pyx_kp_u_a_scalar_codec_expected_for_base, __pyx_t_8); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 230, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_PyUnicode_Concat(__pyx_kp_u_a_scalar_codec_expected_for_base, __pyx_t_8); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 227, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":229
+      /* "edgedb/protocol/codecs/codecs.pyx":226
  *             codec = codecs_list[pos]
  *             if type(codec) is not ScalarCodec:
  *                 raise RuntimeError(             # <<<<<<<<<<<<<<
  *                     f'a scalar codec expected for base scalar type, '
  *                     f'got {type(codec).__name__}')
  */
-      __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_builtin_RuntimeError, __pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 229, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_builtin_RuntimeError, __pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 226, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       __Pyx_Raise(__pyx_t_8, 0, 0, 0);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __PYX_ERR(5, 229, __pyx_L1_error)
+      __PYX_ERR(5, 226, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":228
+      /* "edgedb/protocol/codecs/codecs.pyx":225
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codec = codecs_list[pos]
  *             if type(codec) is not ScalarCodec:             # <<<<<<<<<<<<<<
  *                 raise RuntimeError(
  *                     f'a scalar codec expected for base scalar type, '
  */
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":232
+    /* "edgedb/protocol/codecs/codecs.pyx":229
  *                     f'a scalar codec expected for base scalar type, '
  *                     f'got {type(codec).__name__}')
  *             res = (<ScalarCodec>codecs_list[pos]).derive(tid)             # <<<<<<<<<<<<<<
  * 
  *         elif t == CTYPE_TUPLE:
  */
     if (unlikely(__pyx_v_codecs_list == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(5, 232, __pyx_L1_error)
+      __PYX_ERR(5, 229, __pyx_L1_error)
     }
-    __pyx_t_8 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 232, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 229, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
-    __pyx_t_9 = __pyx_f_6edgedb_8protocol_8protocol_11ScalarCodec_derive(((struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)__pyx_t_8), __pyx_v_tid); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 232, __pyx_L1_error)
+    __pyx_t_9 = __pyx_f_6edgedb_8protocol_8protocol_11ScalarCodec_derive(((struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)__pyx_t_8), __pyx_v_tid); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 229, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    if (!(likely(((__pyx_t_9) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_9, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 232, __pyx_L1_error)
+    if (!(likely(((__pyx_t_9) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_9, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 229, __pyx_L1_error)
     __Pyx_DECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_9));
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":225
+    /* "edgedb/protocol/codecs/codecs.pyx":222
  *                 res = <BaseCodec>BASE_SCALAR_CODECS[tid]
  * 
  *         elif t == CTYPE_SCALAR:             # <<<<<<<<<<<<<<
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codec = codecs_list[pos]
  */
     break;
     case 4:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":235
+    /* "edgedb/protocol/codecs/codecs.pyx":232
  * 
  *         elif t == CTYPE_TUPLE:
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *             codecs = cpython.PyTuple_New(els)
  *             for i in range(els):
  */
-    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 235, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 232, __pyx_L1_error)
     __pyx_v_els = ((uint16_t)unpack_int16(__pyx_t_1));
 
-    /* "edgedb/protocol/codecs/codecs.pyx":236
+    /* "edgedb/protocol/codecs/codecs.pyx":233
  *         elif t == CTYPE_TUPLE:
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codecs = cpython.PyTuple_New(els)             # <<<<<<<<<<<<<<
  *             for i in range(els):
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  */
-    __pyx_t_9 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 236, __pyx_L1_error)
+    __pyx_t_9 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 233, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __pyx_v_codecs = ((PyObject*)__pyx_t_9);
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":237
+    /* "edgedb/protocol/codecs/codecs.pyx":234
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codecs = cpython.PyTuple_New(els)
  *             for i in range(els):             # <<<<<<<<<<<<<<
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  * 
  */
     __pyx_t_5 = __pyx_v_els;
     __pyx_t_6 = __pyx_t_5;
     for (__pyx_t_7 = 0; __pyx_t_7 < __pyx_t_6; __pyx_t_7+=1) {
       __pyx_v_i = __pyx_t_7;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":238
+      /* "edgedb/protocol/codecs/codecs.pyx":235
  *             codecs = cpython.PyTuple_New(els)
  *             for i in range(els):
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  * 
  *                 sub_codec = codecs_list[pos]
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 238, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 235, __pyx_L1_error)
       __pyx_v_pos = ((uint16_t)unpack_int16(__pyx_t_1));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":240
+      /* "edgedb/protocol/codecs/codecs.pyx":237
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  * 
  *                 sub_codec = codecs_list[pos]             # <<<<<<<<<<<<<<
  *                 cpython.Py_INCREF(sub_codec)
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)
  */
       if (unlikely(__pyx_v_codecs_list == Py_None)) {
         PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-        __PYX_ERR(5, 240, __pyx_L1_error)
+        __PYX_ERR(5, 237, __pyx_L1_error)
       }
-      __pyx_t_9 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 240, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 237, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
-      if (!(likely(((__pyx_t_9) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_9, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 240, __pyx_L1_error)
+      if (!(likely(((__pyx_t_9) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_9, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 237, __pyx_L1_error)
       __Pyx_XDECREF_SET(__pyx_v_sub_codec, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_9));
       __pyx_t_9 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":241
+      /* "edgedb/protocol/codecs/codecs.pyx":238
  * 
  *                 sub_codec = codecs_list[pos]
  *                 cpython.Py_INCREF(sub_codec)             # <<<<<<<<<<<<<<
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)
  * 
  */
       Py_INCREF(((PyObject *)__pyx_v_sub_codec));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":242
+      /* "edgedb/protocol/codecs/codecs.pyx":239
  *                 sub_codec = codecs_list[pos]
  *                 cpython.Py_INCREF(sub_codec)
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)             # <<<<<<<<<<<<<<
  * 
  *             res = TupleCodec.new(tid, codecs)
  */
-      __pyx_t_10 = PyTuple_SetItem(__pyx_v_codecs, __pyx_v_i, ((PyObject *)__pyx_v_sub_codec)); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 242, __pyx_L1_error)
+      __pyx_t_10 = PyTuple_SetItem(__pyx_v_codecs, __pyx_v_i, ((PyObject *)__pyx_v_sub_codec)); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 239, __pyx_L1_error)
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":244
+    /* "edgedb/protocol/codecs/codecs.pyx":241
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)
  * 
  *             res = TupleCodec.new(tid, codecs)             # <<<<<<<<<<<<<<
  * 
  *         elif t == CTYPE_NAMEDTUPLE:
  */
-    __pyx_t_9 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_10TupleCodec_new(__pyx_v_tid, __pyx_v_codecs)); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 244, __pyx_L1_error)
+    __pyx_t_9 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_10TupleCodec_new(__pyx_v_tid, __pyx_v_codecs)); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 241, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_9));
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":234
+    /* "edgedb/protocol/codecs/codecs.pyx":231
  *             res = (<ScalarCodec>codecs_list[pos]).derive(tid)
  * 
  *         elif t == CTYPE_TUPLE:             # <<<<<<<<<<<<<<
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codecs = cpython.PyTuple_New(els)
  */
     break;
     case 5:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":247
+    /* "edgedb/protocol/codecs/codecs.pyx":244
  * 
  *         elif t == CTYPE_NAMEDTUPLE:
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *             codecs = cpython.PyTuple_New(els)
  *             names = cpython.PyTuple_New(els)
  */
-    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 247, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 244, __pyx_L1_error)
     __pyx_v_els = ((uint16_t)unpack_int16(__pyx_t_1));
 
-    /* "edgedb/protocol/codecs/codecs.pyx":248
+    /* "edgedb/protocol/codecs/codecs.pyx":245
  *         elif t == CTYPE_NAMEDTUPLE:
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codecs = cpython.PyTuple_New(els)             # <<<<<<<<<<<<<<
  *             names = cpython.PyTuple_New(els)
  *             for i in range(els):
  */
-    __pyx_t_9 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 248, __pyx_L1_error)
+    __pyx_t_9 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 245, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __pyx_v_codecs = ((PyObject*)__pyx_t_9);
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":249
+    /* "edgedb/protocol/codecs/codecs.pyx":246
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codecs = cpython.PyTuple_New(els)
  *             names = cpython.PyTuple_New(els)             # <<<<<<<<<<<<<<
  *             for i in range(els):
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  */
-    __pyx_t_9 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 249, __pyx_L1_error)
+    __pyx_t_9 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 246, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __pyx_v_names = ((PyObject*)__pyx_t_9);
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":250
+    /* "edgedb/protocol/codecs/codecs.pyx":247
  *             codecs = cpython.PyTuple_New(els)
  *             names = cpython.PyTuple_New(els)
  *             for i in range(els):             # <<<<<<<<<<<<<<
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 name = cpythonx.PyUnicode_FromStringAndSize(
  */
     __pyx_t_5 = __pyx_v_els;
     __pyx_t_6 = __pyx_t_5;
     for (__pyx_t_7 = 0; __pyx_t_7 < __pyx_t_6; __pyx_t_7+=1) {
       __pyx_v_i = __pyx_t_7;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":251
+      /* "edgedb/protocol/codecs/codecs.pyx":248
  *             names = cpython.PyTuple_New(els)
  *             for i in range(els):
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))             # <<<<<<<<<<<<<<
  *                 name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 251, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 248, __pyx_L1_error)
       __pyx_v_str_len = unpack_uint32(__pyx_t_1);
 
-      /* "edgedb/protocol/codecs/codecs.pyx":253
+      /* "edgedb/protocol/codecs/codecs.pyx":250
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)             # <<<<<<<<<<<<<<
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  * 
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 253, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 250, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":252
+      /* "edgedb/protocol/codecs/codecs.pyx":249
  *             for i in range(els):
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 name = cpythonx.PyUnicode_FromStringAndSize(             # <<<<<<<<<<<<<<
  *                     frb_read(spec, str_len), str_len)
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  */
-      __pyx_t_9 = PyUnicode_FromStringAndSize(__pyx_t_1, __pyx_v_str_len); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 252, __pyx_L1_error)
+      __pyx_t_9 = PyUnicode_FromStringAndSize(__pyx_t_1, __pyx_v_str_len); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 249, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_XDECREF_SET(__pyx_v_name, __pyx_t_9);
       __pyx_t_9 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":254
+      /* "edgedb/protocol/codecs/codecs.pyx":251
  *                 name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  * 
  *                 cpython.Py_INCREF(name)
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 254, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 251, __pyx_L1_error)
       __pyx_v_pos = ((uint16_t)unpack_int16(__pyx_t_1));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":256
+      /* "edgedb/protocol/codecs/codecs.pyx":253
  *                 pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  * 
  *                 cpython.Py_INCREF(name)             # <<<<<<<<<<<<<<
  *                 cpython.PyTuple_SetItem(names, i, name)
  * 
  */
       Py_INCREF(__pyx_v_name);
 
-      /* "edgedb/protocol/codecs/codecs.pyx":257
+      /* "edgedb/protocol/codecs/codecs.pyx":254
  * 
  *                 cpython.Py_INCREF(name)
  *                 cpython.PyTuple_SetItem(names, i, name)             # <<<<<<<<<<<<<<
  * 
  *                 sub_codec = codecs_list[pos]
  */
-      __pyx_t_10 = PyTuple_SetItem(__pyx_v_names, __pyx_v_i, __pyx_v_name); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 257, __pyx_L1_error)
+      __pyx_t_10 = PyTuple_SetItem(__pyx_v_names, __pyx_v_i, __pyx_v_name); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 254, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":259
+      /* "edgedb/protocol/codecs/codecs.pyx":256
  *                 cpython.PyTuple_SetItem(names, i, name)
  * 
  *                 sub_codec = codecs_list[pos]             # <<<<<<<<<<<<<<
  *                 cpython.Py_INCREF(sub_codec)
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)
  */
       if (unlikely(__pyx_v_codecs_list == Py_None)) {
         PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-        __PYX_ERR(5, 259, __pyx_L1_error)
+        __PYX_ERR(5, 256, __pyx_L1_error)
       }
-      __pyx_t_9 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 259, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 256, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
-      if (!(likely(((__pyx_t_9) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_9, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 259, __pyx_L1_error)
+      if (!(likely(((__pyx_t_9) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_9, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 256, __pyx_L1_error)
       __Pyx_XDECREF_SET(__pyx_v_sub_codec, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_9));
       __pyx_t_9 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":260
+      /* "edgedb/protocol/codecs/codecs.pyx":257
  * 
  *                 sub_codec = codecs_list[pos]
  *                 cpython.Py_INCREF(sub_codec)             # <<<<<<<<<<<<<<
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)
  * 
  */
       Py_INCREF(((PyObject *)__pyx_v_sub_codec));
 
-      /* "edgedb/protocol/codecs/codecs.pyx":261
+      /* "edgedb/protocol/codecs/codecs.pyx":258
  *                 sub_codec = codecs_list[pos]
  *                 cpython.Py_INCREF(sub_codec)
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)             # <<<<<<<<<<<<<<
  * 
  *             res = NamedTupleCodec.new(tid, names, codecs)
  */
-      __pyx_t_10 = PyTuple_SetItem(__pyx_v_codecs, __pyx_v_i, ((PyObject *)__pyx_v_sub_codec)); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 261, __pyx_L1_error)
+      __pyx_t_10 = PyTuple_SetItem(__pyx_v_codecs, __pyx_v_i, ((PyObject *)__pyx_v_sub_codec)); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 258, __pyx_L1_error)
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":263
+    /* "edgedb/protocol/codecs/codecs.pyx":260
  *                 cpython.PyTuple_SetItem(codecs, i, sub_codec)
  * 
  *             res = NamedTupleCodec.new(tid, names, codecs)             # <<<<<<<<<<<<<<
  * 
  *         elif t == CTYPE_ENUM:
  */
-    __pyx_t_9 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_15NamedTupleCodec_new(__pyx_v_tid, __pyx_v_names, __pyx_v_codecs)); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 263, __pyx_L1_error)
+    __pyx_t_9 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_15NamedTupleCodec_new(__pyx_v_tid, __pyx_v_names, __pyx_v_codecs)); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 260, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_9));
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":246
+    /* "edgedb/protocol/codecs/codecs.pyx":243
  *             res = TupleCodec.new(tid, codecs)
  * 
  *         elif t == CTYPE_NAMEDTUPLE:             # <<<<<<<<<<<<<<
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             codecs = cpython.PyTuple_New(els)
  */
     break;
     case 7:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":266
+    /* "edgedb/protocol/codecs/codecs.pyx":263
  * 
  *         elif t == CTYPE_ENUM:
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *             names = cpython.PyTuple_New(els)
  *             for i in range(els):
  */
-    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 266, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 263, __pyx_L1_error)
     __pyx_v_els = ((uint16_t)unpack_int16(__pyx_t_1));
 
-    /* "edgedb/protocol/codecs/codecs.pyx":267
+    /* "edgedb/protocol/codecs/codecs.pyx":264
  *         elif t == CTYPE_ENUM:
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             names = cpython.PyTuple_New(els)             # <<<<<<<<<<<<<<
  *             for i in range(els):
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  */
-    __pyx_t_9 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 267, __pyx_L1_error)
+    __pyx_t_9 = PyTuple_New(__pyx_v_els); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 264, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __pyx_v_names = ((PyObject*)__pyx_t_9);
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":268
+    /* "edgedb/protocol/codecs/codecs.pyx":265
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             names = cpython.PyTuple_New(els)
  *             for i in range(els):             # <<<<<<<<<<<<<<
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 name = cpythonx.PyUnicode_FromStringAndSize(
  */
     __pyx_t_5 = __pyx_v_els;
     __pyx_t_6 = __pyx_t_5;
     for (__pyx_t_7 = 0; __pyx_t_7 < __pyx_t_6; __pyx_t_7+=1) {
       __pyx_v_i = __pyx_t_7;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":269
+      /* "edgedb/protocol/codecs/codecs.pyx":266
  *             names = cpython.PyTuple_New(els)
  *             for i in range(els):
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))             # <<<<<<<<<<<<<<
  *                 name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 269, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 266, __pyx_L1_error)
       __pyx_v_str_len = unpack_uint32(__pyx_t_1);
 
-      /* "edgedb/protocol/codecs/codecs.pyx":271
+      /* "edgedb/protocol/codecs/codecs.pyx":268
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 name = cpythonx.PyUnicode_FromStringAndSize(
  *                     frb_read(spec, str_len), str_len)             # <<<<<<<<<<<<<<
  * 
  *                 cpython.Py_INCREF(name)
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 271, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, __pyx_v_str_len); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 268, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":270
+      /* "edgedb/protocol/codecs/codecs.pyx":267
  *             for i in range(els):
  *                 str_len = hton.unpack_uint32(frb_read(spec, 4))
  *                 name = cpythonx.PyUnicode_FromStringAndSize(             # <<<<<<<<<<<<<<
  *                     frb_read(spec, str_len), str_len)
  * 
  */
-      __pyx_t_9 = PyUnicode_FromStringAndSize(__pyx_t_1, __pyx_v_str_len); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 270, __pyx_L1_error)
+      __pyx_t_9 = PyUnicode_FromStringAndSize(__pyx_t_1, __pyx_v_str_len); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 267, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_XDECREF_SET(__pyx_v_name, __pyx_t_9);
       __pyx_t_9 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":273
+      /* "edgedb/protocol/codecs/codecs.pyx":270
  *                     frb_read(spec, str_len), str_len)
  * 
  *                 cpython.Py_INCREF(name)             # <<<<<<<<<<<<<<
  *                 cpython.PyTuple_SetItem(names, i, name)
  * 
  */
       Py_INCREF(__pyx_v_name);
 
-      /* "edgedb/protocol/codecs/codecs.pyx":274
+      /* "edgedb/protocol/codecs/codecs.pyx":271
  * 
  *                 cpython.Py_INCREF(name)
  *                 cpython.PyTuple_SetItem(names, i, name)             # <<<<<<<<<<<<<<
  * 
  *             res = EnumCodec.new(tid, names)
  */
-      __pyx_t_10 = PyTuple_SetItem(__pyx_v_names, __pyx_v_i, __pyx_v_name); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 274, __pyx_L1_error)
+      __pyx_t_10 = PyTuple_SetItem(__pyx_v_names, __pyx_v_i, __pyx_v_name); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(5, 271, __pyx_L1_error)
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":276
+    /* "edgedb/protocol/codecs/codecs.pyx":273
  *                 cpython.PyTuple_SetItem(names, i, name)
  * 
  *             res = EnumCodec.new(tid, names)             # <<<<<<<<<<<<<<
  * 
  *         elif t == CTYPE_ARRAY:
  */
-    __pyx_t_9 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_9EnumCodec_new(__pyx_v_tid, __pyx_v_names)); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 276, __pyx_L1_error)
+    __pyx_t_9 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_9EnumCodec_new(__pyx_v_tid, __pyx_v_names)); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 273, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_9));
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":265
+    /* "edgedb/protocol/codecs/codecs.pyx":262
  *             res = NamedTupleCodec.new(tid, names, codecs)
  * 
  *         elif t == CTYPE_ENUM:             # <<<<<<<<<<<<<<
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             names = cpython.PyTuple_New(els)
  */
     break;
     case 6:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":279
+    /* "edgedb/protocol/codecs/codecs.pyx":276
  * 
  *         elif t == CTYPE_ARRAY:
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             if els != 1:
  */
-    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 279, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 276, __pyx_L1_error)
     __pyx_v_pos = ((uint16_t)unpack_int16(__pyx_t_1));
 
-    /* "edgedb/protocol/codecs/codecs.pyx":280
+    /* "edgedb/protocol/codecs/codecs.pyx":277
  *         elif t == CTYPE_ARRAY:
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *             if els != 1:
  *                 raise NotImplementedError(
  */
-    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 280, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 277, __pyx_L1_error)
     __pyx_v_els = ((uint16_t)unpack_int16(__pyx_t_1));
 
-    /* "edgedb/protocol/codecs/codecs.pyx":281
+    /* "edgedb/protocol/codecs/codecs.pyx":278
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             if els != 1:             # <<<<<<<<<<<<<<
  *                 raise NotImplementedError(
  *                     'cannot handle arrays with more than one dimension')
  */
     __pyx_t_3 = ((__pyx_v_els != 1) != 0);
     if (unlikely(__pyx_t_3)) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":282
+      /* "edgedb/protocol/codecs/codecs.pyx":279
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             if els != 1:
  *                 raise NotImplementedError(             # <<<<<<<<<<<<<<
  *                     'cannot handle arrays with more than one dimension')
  *             # First dimension length.
  */
-      __pyx_t_9 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__52, NULL); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 282, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__52, NULL); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 279, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_Raise(__pyx_t_9, 0, 0, 0);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __PYX_ERR(5, 282, __pyx_L1_error)
+      __PYX_ERR(5, 279, __pyx_L1_error)
 
-      /* "edgedb/protocol/codecs/codecs.pyx":281
+      /* "edgedb/protocol/codecs/codecs.pyx":278
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             if els != 1:             # <<<<<<<<<<<<<<
  *                 raise NotImplementedError(
  *                     'cannot handle arrays with more than one dimension')
  */
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":285
+    /* "edgedb/protocol/codecs/codecs.pyx":282
  *                     'cannot handle arrays with more than one dimension')
  *             # First dimension length.
  *             dim_len = hton.unpack_int32(frb_read(spec, 4))             # <<<<<<<<<<<<<<
  *             sub_codec = <BaseCodec>codecs_list[pos]
  *             res = ArrayCodec.new(tid, sub_codec, dim_len)
  */
-    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 285, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 282, __pyx_L1_error)
     __pyx_v_dim_len = unpack_int32(__pyx_t_1);
 
-    /* "edgedb/protocol/codecs/codecs.pyx":286
+    /* "edgedb/protocol/codecs/codecs.pyx":283
  *             # First dimension length.
  *             dim_len = hton.unpack_int32(frb_read(spec, 4))
  *             sub_codec = <BaseCodec>codecs_list[pos]             # <<<<<<<<<<<<<<
  *             res = ArrayCodec.new(tid, sub_codec, dim_len)
  * 
  */
     if (unlikely(__pyx_v_codecs_list == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(5, 286, __pyx_L1_error)
+      __PYX_ERR(5, 283, __pyx_L1_error)
     }
-    __pyx_t_9 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 286, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 283, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __pyx_t_8 = __pyx_t_9;
     __Pyx_INCREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
     __pyx_v_sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_8);
     __pyx_t_8 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":287
+    /* "edgedb/protocol/codecs/codecs.pyx":284
  *             dim_len = hton.unpack_int32(frb_read(spec, 4))
  *             sub_codec = <BaseCodec>codecs_list[pos]
  *             res = ArrayCodec.new(tid, sub_codec, dim_len)             # <<<<<<<<<<<<<<
  * 
  *         elif t == CTYPE_RANGE:
  */
-    __pyx_t_8 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_10ArrayCodec_new(__pyx_v_tid, __pyx_v_sub_codec, __pyx_v_dim_len)); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 287, __pyx_L1_error)
+    __pyx_t_8 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_10ArrayCodec_new(__pyx_v_tid, __pyx_v_sub_codec, __pyx_v_dim_len)); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 284, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_8));
     __pyx_t_8 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":278
+    /* "edgedb/protocol/codecs/codecs.pyx":275
  *             res = EnumCodec.new(tid, names)
  * 
  *         elif t == CTYPE_ARRAY:             # <<<<<<<<<<<<<<
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  */
     break;
     case 9:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":290
+    /* "edgedb/protocol/codecs/codecs.pyx":287
  * 
  *         elif t == CTYPE_RANGE:
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))             # <<<<<<<<<<<<<<
  *             sub_codec = <BaseCodec>codecs_list[pos]
  *             res = RangeCodec.new(tid, sub_codec)
  */
-    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 290, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_spec, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 287, __pyx_L1_error)
     __pyx_v_pos = ((uint16_t)unpack_int16(__pyx_t_1));
 
-    /* "edgedb/protocol/codecs/codecs.pyx":291
+    /* "edgedb/protocol/codecs/codecs.pyx":288
  *         elif t == CTYPE_RANGE:
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             sub_codec = <BaseCodec>codecs_list[pos]             # <<<<<<<<<<<<<<
  *             res = RangeCodec.new(tid, sub_codec)
  * 
  */
     if (unlikely(__pyx_v_codecs_list == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(5, 291, __pyx_L1_error)
+      __PYX_ERR(5, 288, __pyx_L1_error)
     }
-    __pyx_t_8 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 291, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, __pyx_v_pos, uint16_t, 0, __Pyx_PyInt_From_uint16_t, 1, 0, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 288, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __pyx_t_9 = __pyx_t_8;
     __Pyx_INCREF(__pyx_t_9);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     __pyx_v_sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_9);
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":292
+    /* "edgedb/protocol/codecs/codecs.pyx":289
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             sub_codec = <BaseCodec>codecs_list[pos]
  *             res = RangeCodec.new(tid, sub_codec)             # <<<<<<<<<<<<<<
  * 
  *         else:
  */
-    __pyx_t_9 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_10RangeCodec_new(__pyx_v_tid, __pyx_v_sub_codec)); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 292, __pyx_L1_error)
+    __pyx_t_9 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_10RangeCodec_new(__pyx_v_tid, __pyx_v_sub_codec)); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 289, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_9));
     __pyx_t_9 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":289
+    /* "edgedb/protocol/codecs/codecs.pyx":286
  *             res = ArrayCodec.new(tid, sub_codec, dim_len)
  * 
  *         elif t == CTYPE_RANGE:             # <<<<<<<<<<<<<<
  *             pos = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *             sub_codec = <BaseCodec>codecs_list[pos]
  */
     break;
     default:
 
-    /* "edgedb/protocol/codecs/codecs.pyx":296
+    /* "edgedb/protocol/codecs/codecs.pyx":293
  *         else:
  *             raise NotImplementedError(
  *                 f'no codec implementation for EdgeDB data class {t}')             # <<<<<<<<<<<<<<
  * 
  *         self.codecs_build_cache[tid] = res
  */
-    __pyx_t_9 = __Pyx_PyInt_From_uint8_t(__pyx_v_t); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 296, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyInt_From_uint8_t(__pyx_v_t); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 293, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
-    __pyx_t_8 = __Pyx_PyObject_FormatSimple(__pyx_t_9, __pyx_empty_unicode); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 296, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_FormatSimple(__pyx_t_9, __pyx_empty_unicode); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 293, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-    __pyx_t_9 = __Pyx_PyUnicode_Concat(__pyx_kp_u_no_codec_implementation_for_Edge, __pyx_t_8); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 296, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyUnicode_Concat(__pyx_kp_u_no_codec_implementation_for_Edge, __pyx_t_8); if (unlikely(!__pyx_t_9)) __PYX_ERR(5, 293, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":295
+    /* "edgedb/protocol/codecs/codecs.pyx":292
  * 
  *         else:
  *             raise NotImplementedError(             # <<<<<<<<<<<<<<
  *                 f'no codec implementation for EdgeDB data class {t}')
  * 
  */
-    __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_builtin_NotImplementedError, __pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 295, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_CallOneArg(__pyx_builtin_NotImplementedError, __pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 292, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
     __Pyx_Raise(__pyx_t_8, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    __PYX_ERR(5, 295, __pyx_L1_error)
+    __PYX_ERR(5, 292, __pyx_L1_error)
     break;
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":298
+  /* "edgedb/protocol/codecs/codecs.pyx":295
  *                 f'no codec implementation for EdgeDB data class {t}')
  * 
  *         self.codecs_build_cache[tid] = res             # <<<<<<<<<<<<<<
  *         return res
  * 
  */
-  if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_self->codecs_build_cache), __pyx_v_tid, ((PyObject *)__pyx_v_res)) < 0)) __PYX_ERR(5, 298, __pyx_L1_error)
+  if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_self->codecs_build_cache), __pyx_v_tid, ((PyObject *)__pyx_v_res)) < 0)) __PYX_ERR(5, 295, __pyx_L1_error)
 
-  /* "edgedb/protocol/codecs/codecs.pyx":299
+  /* "edgedb/protocol/codecs/codecs.pyx":296
  * 
  *         self.codecs_build_cache[tid] = res
  *         return res             # <<<<<<<<<<<<<<
  * 
  *     cdef has_codec(self, bytes type_id):
  */
   __Pyx_XDECREF(((PyObject *)__pyx_r));
   __Pyx_INCREF(((PyObject *)__pyx_v_res));
   __pyx_r = __pyx_v_res;
   goto __pyx_L0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":94
+  /* "edgedb/protocol/codecs/codecs.pyx":91
  *         )
  * 
  *     cdef BaseCodec _build_codec(self, FRBuffer *spec, list codecs_list,             # <<<<<<<<<<<<<<
  *                                 protocol_version):
  *         cdef:
  */
 
@@ -25929,15 +25234,15 @@
   __Pyx_XDECREF(__pyx_v_name);
   __Pyx_XDECREF(__pyx_v_codec);
   __Pyx_XGIVEREF((PyObject *)__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":301
+/* "edgedb/protocol/codecs/codecs.pyx":298
  *         return res
  * 
  *     cdef has_codec(self, bytes type_id):             # <<<<<<<<<<<<<<
  *         return (
  *             type_id in self.codecs or
  */
 
@@ -25951,72 +25256,72 @@
   int __pyx_t_5;
   int __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("has_codec", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":302
+  /* "edgedb/protocol/codecs/codecs.pyx":299
  * 
  *     cdef has_codec(self, bytes type_id):
  *         return (             # <<<<<<<<<<<<<<
  *             type_id in self.codecs or
  *             type_id in {NULL_CODEC_ID, EMPTY_TUPLE_CODEC_ID}
  */
   __Pyx_XDECREF(__pyx_r);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":303
+  /* "edgedb/protocol/codecs/codecs.pyx":300
  *     cdef has_codec(self, bytes type_id):
  *         return (
  *             type_id in self.codecs or             # <<<<<<<<<<<<<<
  *             type_id in {NULL_CODEC_ID, EMPTY_TUPLE_CODEC_ID}
  *         )
  */
-  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_v_type_id, ((PyObject *)__pyx_v_self->codecs), Py_EQ)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(5, 303, __pyx_L1_error)
+  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_v_type_id, ((PyObject *)__pyx_v_self->codecs), Py_EQ)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(5, 300, __pyx_L1_error)
   if (!__pyx_t_2) {
   } else {
-    __pyx_t_3 = __Pyx_PyBool_FromLong(__pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 303, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyBool_FromLong(__pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 300, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_1 = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L3_bool_binop_done;
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":304
+  /* "edgedb/protocol/codecs/codecs.pyx":301
  *         return (
  *             type_id in self.codecs or
  *             type_id in {NULL_CODEC_ID, EMPTY_TUPLE_CODEC_ID}             # <<<<<<<<<<<<<<
  *         )
  * 
  */
   __Pyx_INCREF(__pyx_v_type_id);
   __pyx_t_4 = __pyx_v_type_id;
-  __pyx_t_5 = (__Pyx_PyBytes_Equals(__pyx_t_4, __pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC_ID, Py_EQ)); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(5, 304, __pyx_L1_error)
+  __pyx_t_5 = (__Pyx_PyBytes_Equals(__pyx_t_4, __pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC_ID, Py_EQ)); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(5, 301, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (!__pyx_t_6) {
   } else {
     __pyx_t_2 = __pyx_t_6;
     goto __pyx_L5_bool_binop_done;
   }
-  __pyx_t_6 = (__Pyx_PyBytes_Equals(__pyx_t_4, __pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC_ID, Py_EQ)); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(5, 304, __pyx_L1_error)
+  __pyx_t_6 = (__Pyx_PyBytes_Equals(__pyx_t_4, __pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC_ID, Py_EQ)); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(5, 301, __pyx_L1_error)
   __pyx_t_5 = (__pyx_t_6 != 0);
   __pyx_t_2 = __pyx_t_5;
   __pyx_L5_bool_binop_done:;
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_t_5 = __pyx_t_2;
-  __pyx_t_3 = __Pyx_PyBool_FromLong(__pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 304, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyBool_FromLong(__pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 301, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_1 = __pyx_t_3;
   __pyx_t_3 = 0;
   __pyx_L3_bool_binop_done:;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":301
+  /* "edgedb/protocol/codecs/codecs.pyx":298
  *         return res
  * 
  *     cdef has_codec(self, bytes type_id):             # <<<<<<<<<<<<<<
  *         return (
  *             type_id in self.codecs or
  */
 
@@ -26029,15 +25334,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":307
+/* "edgedb/protocol/codecs/codecs.pyx":304
  *         )
  * 
  *     cdef BaseCodec get_codec(self, bytes type_id):             # <<<<<<<<<<<<<<
  *         try:
  *             return <BaseCodec>self.codecs[type_id]
  */
 
@@ -26052,15 +25357,15 @@
   int __pyx_t_6;
   int __pyx_t_7;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_codec", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":308
+  /* "edgedb/protocol/codecs/codecs.pyx":305
  * 
  *     cdef BaseCodec get_codec(self, bytes type_id):
  *         try:             # <<<<<<<<<<<<<<
  *             return <BaseCodec>self.codecs[type_id]
  *         except KeyError:
  */
   {
@@ -26068,56 +25373,56 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":309
+      /* "edgedb/protocol/codecs/codecs.pyx":306
  *     cdef BaseCodec get_codec(self, bytes type_id):
  *         try:
  *             return <BaseCodec>self.codecs[type_id]             # <<<<<<<<<<<<<<
  *         except KeyError:
  *             pass
  */
       __Pyx_XDECREF(((PyObject *)__pyx_r));
-      __pyx_t_4 = __Pyx_PyObject_GetItem(((PyObject *)__pyx_v_self->codecs), __pyx_v_type_id); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 309, __pyx_L3_error)
+      __pyx_t_4 = __Pyx_PyObject_GetItem(((PyObject *)__pyx_v_self->codecs), __pyx_v_type_id); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 306, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_INCREF(((PyObject *)((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_4)));
       __pyx_r = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_4);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       goto __pyx_L7_try_return;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":308
+      /* "edgedb/protocol/codecs/codecs.pyx":305
  * 
  *     cdef BaseCodec get_codec(self, bytes type_id):
  *         try:             # <<<<<<<<<<<<<<
  *             return <BaseCodec>self.codecs[type_id]
  *         except KeyError:
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":310
+    /* "edgedb/protocol/codecs/codecs.pyx":307
  *         try:
  *             return <BaseCodec>self.codecs[type_id]
  *         except KeyError:             # <<<<<<<<<<<<<<
  *             pass
  * 
  */
     __pyx_t_5 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_KeyError);
     if (__pyx_t_5) {
       __Pyx_ErrRestore(0,0,0);
       goto __pyx_L4_exception_handled;
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":308
+    /* "edgedb/protocol/codecs/codecs.pyx":305
  * 
  *     cdef BaseCodec get_codec(self, bytes type_id):
  *         try:             # <<<<<<<<<<<<<<
  *             return <BaseCodec>self.codecs[type_id]
  *         except KeyError:
  */
     __Pyx_XGIVEREF(__pyx_t_1);
@@ -26134,89 +25439,89 @@
     __pyx_L4_exception_handled:;
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":313
+  /* "edgedb/protocol/codecs/codecs.pyx":310
  *             pass
  * 
  *         if type_id == NULL_CODEC_ID:             # <<<<<<<<<<<<<<
  *             return NULL_CODEC
  * 
  */
-  __pyx_t_6 = (__Pyx_PyBytes_Equals(__pyx_v_type_id, __pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC_ID, Py_EQ)); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(5, 313, __pyx_L1_error)
+  __pyx_t_6 = (__Pyx_PyBytes_Equals(__pyx_v_type_id, __pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC_ID, Py_EQ)); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(5, 310, __pyx_L1_error)
   __pyx_t_7 = (__pyx_t_6 != 0);
   if (__pyx_t_7) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":314
+    /* "edgedb/protocol/codecs/codecs.pyx":311
  * 
  *         if type_id == NULL_CODEC_ID:
  *             return NULL_CODEC             # <<<<<<<<<<<<<<
  * 
  *         if type_id == EMPTY_TUPLE_CODEC_ID:
  */
     __Pyx_XDECREF(((PyObject *)__pyx_r));
     __Pyx_INCREF(((PyObject *)__pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC));
     __pyx_r = __pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC;
     goto __pyx_L0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":313
+    /* "edgedb/protocol/codecs/codecs.pyx":310
  *             pass
  * 
  *         if type_id == NULL_CODEC_ID:             # <<<<<<<<<<<<<<
  *             return NULL_CODEC
  * 
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":316
+  /* "edgedb/protocol/codecs/codecs.pyx":313
  *             return NULL_CODEC
  * 
  *         if type_id == EMPTY_TUPLE_CODEC_ID:             # <<<<<<<<<<<<<<
  *             return EMPTY_TUPLE_CODEC
  * 
  */
-  __pyx_t_7 = (__Pyx_PyBytes_Equals(__pyx_v_type_id, __pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC_ID, Py_EQ)); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(5, 316, __pyx_L1_error)
+  __pyx_t_7 = (__Pyx_PyBytes_Equals(__pyx_v_type_id, __pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC_ID, Py_EQ)); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(5, 313, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_7 != 0);
   if (__pyx_t_6) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":317
+    /* "edgedb/protocol/codecs/codecs.pyx":314
  * 
  *         if type_id == EMPTY_TUPLE_CODEC_ID:
  *             return EMPTY_TUPLE_CODEC             # <<<<<<<<<<<<<<
  * 
  *         raise LookupError
  */
     __Pyx_XDECREF(((PyObject *)__pyx_r));
     __Pyx_INCREF(((PyObject *)__pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC));
     __pyx_r = __pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC;
     goto __pyx_L0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":316
+    /* "edgedb/protocol/codecs/codecs.pyx":313
  *             return NULL_CODEC
  * 
  *         if type_id == EMPTY_TUPLE_CODEC_ID:             # <<<<<<<<<<<<<<
  *             return EMPTY_TUPLE_CODEC
  * 
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":319
+  /* "edgedb/protocol/codecs/codecs.pyx":316
  *             return EMPTY_TUPLE_CODEC
  * 
  *         raise LookupError             # <<<<<<<<<<<<<<
  * 
  *     cdef BaseCodec build_codec(self, bytes spec, protocol_version):
  */
   __Pyx_Raise(__pyx_builtin_LookupError, 0, 0, 0);
-  __PYX_ERR(5, 319, __pyx_L1_error)
+  __PYX_ERR(5, 316, __pyx_L1_error)
 
-  /* "edgedb/protocol/codecs/codecs.pyx":307
+  /* "edgedb/protocol/codecs/codecs.pyx":304
  *         )
  * 
  *     cdef BaseCodec get_codec(self, bytes type_id):             # <<<<<<<<<<<<<<
  *         try:
  *             return <BaseCodec>self.codecs[type_id]
  */
 
@@ -26227,15 +25532,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF((PyObject *)__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":321
+/* "edgedb/protocol/codecs/codecs.pyx":318
  *         raise LookupError
  * 
  *     cdef BaseCodec build_codec(self, bytes spec, protocol_version):             # <<<<<<<<<<<<<<
  *         cdef:
  *             FRBuffer buf
  */
 
@@ -26251,165 +25556,165 @@
   int __pyx_t_4;
   int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("build_codec", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":329
+  /* "edgedb/protocol/codecs/codecs.pyx":326
  *         frb_init(
  *             &buf,
  *             cpython.PyBytes_AsString(spec),             # <<<<<<<<<<<<<<
  *             cpython.Py_SIZE(spec))
  * 
  */
-  __pyx_t_1 = PyBytes_AsString(__pyx_v_spec); if (unlikely(__pyx_t_1 == ((char *)NULL))) __PYX_ERR(5, 329, __pyx_L1_error)
+  __pyx_t_1 = PyBytes_AsString(__pyx_v_spec); if (unlikely(__pyx_t_1 == ((char *)NULL))) __PYX_ERR(5, 326, __pyx_L1_error)
 
-  /* "edgedb/protocol/codecs/codecs.pyx":327
+  /* "edgedb/protocol/codecs/codecs.pyx":324
  *             list codecs_list
  * 
  *         frb_init(             # <<<<<<<<<<<<<<
  *             &buf,
  *             cpython.PyBytes_AsString(spec),
  */
   __pyx_f_6edgedb_7pgproto_7pgproto_frb_init((&__pyx_v_buf), __pyx_t_1, Py_SIZE(__pyx_v_spec));
 
-  /* "edgedb/protocol/codecs/codecs.pyx":332
+  /* "edgedb/protocol/codecs/codecs.pyx":329
  *             cpython.Py_SIZE(spec))
  * 
  *         codecs_list = []             # <<<<<<<<<<<<<<
  *         while frb_get_len(&buf):
  *             res = self._build_codec(&buf, codecs_list, protocol_version)
  */
-  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 332, __pyx_L1_error)
+  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 329, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_v_codecs_list = ((PyObject*)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":333
+  /* "edgedb/protocol/codecs/codecs.pyx":330
  * 
  *         codecs_list = []
  *         while frb_get_len(&buf):             # <<<<<<<<<<<<<<
  *             res = self._build_codec(&buf, codecs_list, protocol_version)
  *             if res is None:
  */
   while (1) {
     __pyx_t_3 = (__pyx_f_6edgedb_7pgproto_7pgproto_frb_get_len((&__pyx_v_buf)) != 0);
     if (!__pyx_t_3) break;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":334
+    /* "edgedb/protocol/codecs/codecs.pyx":331
  *         codecs_list = []
  *         while frb_get_len(&buf):
  *             res = self._build_codec(&buf, codecs_list, protocol_version)             # <<<<<<<<<<<<<<
  *             if res is None:
  *                 # An annotation; ignore.
  */
-    __pyx_t_2 = ((PyObject *)((struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_CodecsRegistry *)__pyx_v_self->__pyx_vtab)->_build_codec(__pyx_v_self, (&__pyx_v_buf), __pyx_v_codecs_list, __pyx_v_protocol_version)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 334, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)((struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_CodecsRegistry *)__pyx_v_self->__pyx_vtab)->_build_codec(__pyx_v_self, (&__pyx_v_buf), __pyx_v_codecs_list, __pyx_v_protocol_version)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 331, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_XDECREF_SET(__pyx_v_res, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_2));
     __pyx_t_2 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":335
+    /* "edgedb/protocol/codecs/codecs.pyx":332
  *         while frb_get_len(&buf):
  *             res = self._build_codec(&buf, codecs_list, protocol_version)
  *             if res is None:             # <<<<<<<<<<<<<<
  *                 # An annotation; ignore.
  *                 continue
  */
     __pyx_t_3 = (((PyObject *)__pyx_v_res) == Py_None);
     __pyx_t_4 = (__pyx_t_3 != 0);
     if (__pyx_t_4) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":337
+      /* "edgedb/protocol/codecs/codecs.pyx":334
  *             if res is None:
  *                 # An annotation; ignore.
  *                 continue             # <<<<<<<<<<<<<<
  *             codecs_list.append(res)
  *             self.codecs[res.tid] = res
  */
       goto __pyx_L3_continue;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":335
+      /* "edgedb/protocol/codecs/codecs.pyx":332
  *         while frb_get_len(&buf):
  *             res = self._build_codec(&buf, codecs_list, protocol_version)
  *             if res is None:             # <<<<<<<<<<<<<<
  *                 # An annotation; ignore.
  *                 continue
  */
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":338
+    /* "edgedb/protocol/codecs/codecs.pyx":335
  *                 # An annotation; ignore.
  *                 continue
  *             codecs_list.append(res)             # <<<<<<<<<<<<<<
  *             self.codecs[res.tid] = res
  * 
  */
-    __pyx_t_5 = __Pyx_PyList_Append(__pyx_v_codecs_list, ((PyObject *)__pyx_v_res)); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(5, 338, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyList_Append(__pyx_v_codecs_list, ((PyObject *)__pyx_v_res)); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(5, 335, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":339
+    /* "edgedb/protocol/codecs/codecs.pyx":336
  *                 continue
  *             codecs_list.append(res)
  *             self.codecs[res.tid] = res             # <<<<<<<<<<<<<<
  * 
  *         if not codecs_list:
  */
-    if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_self->codecs), __pyx_v_res->tid, ((PyObject *)__pyx_v_res)) < 0)) __PYX_ERR(5, 339, __pyx_L1_error)
+    if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_self->codecs), __pyx_v_res->tid, ((PyObject *)__pyx_v_res)) < 0)) __PYX_ERR(5, 336, __pyx_L1_error)
     __pyx_L3_continue:;
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":341
+  /* "edgedb/protocol/codecs/codecs.pyx":338
  *             self.codecs[res.tid] = res
  * 
  *         if not codecs_list:             # <<<<<<<<<<<<<<
  *             raise RuntimeError(f'cannot not build codec; empty type desc')
  * 
  */
   __pyx_t_4 = (PyList_GET_SIZE(__pyx_v_codecs_list) != 0);
   __pyx_t_3 = ((!__pyx_t_4) != 0);
   if (unlikely(__pyx_t_3)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":342
+    /* "edgedb/protocol/codecs/codecs.pyx":339
  * 
  *         if not codecs_list:
  *             raise RuntimeError(f'cannot not build codec; empty type desc')             # <<<<<<<<<<<<<<
  * 
  *         return codecs_list[-1]
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__54, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 342, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__54, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 339, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(5, 342, __pyx_L1_error)
+    __PYX_ERR(5, 339, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":341
+    /* "edgedb/protocol/codecs/codecs.pyx":338
  *             self.codecs[res.tid] = res
  * 
  *         if not codecs_list:             # <<<<<<<<<<<<<<
  *             raise RuntimeError(f'cannot not build codec; empty type desc')
  * 
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":344
+  /* "edgedb/protocol/codecs/codecs.pyx":341
  *             raise RuntimeError(f'cannot not build codec; empty type desc')
  * 
  *         return codecs_list[-1]             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(((PyObject *)__pyx_r));
-  __pyx_t_2 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, -1L, long, 1, __Pyx_PyInt_From_long, 1, 1, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 344, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_GetItemInt_List(__pyx_v_codecs_list, -1L, long, 1, __Pyx_PyInt_From_long, 1, 1, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 341, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 344, __pyx_L1_error)
+  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec))))) __PYX_ERR(5, 341, __pyx_L1_error)
   __pyx_r = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_2);
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":321
+  /* "edgedb/protocol/codecs/codecs.pyx":318
  *         raise LookupError
  * 
  *     cdef BaseCodec build_codec(self, bytes spec, protocol_version):             # <<<<<<<<<<<<<<
  *         cdef:
  *             FRBuffer buf
  */
 
@@ -26739,266 +26044,232 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":350
+/* "edgedb/protocol/codecs/codecs.pyx":347
  * 
  * 
  * cdef register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         str name,
  *         pgproto.encode_func encoder,
  */
 
-static PyObject *__pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(PyObject *__pyx_v_name, __pyx_t_6edgedb_7pgproto_7pgproto_encode_func __pyx_v_encoder, __pyx_t_6edgedb_7pgproto_7pgproto_decode_func __pyx_v_decoder, struct __pyx_opt_args_6edgedb_8protocol_8protocol_register_base_scalar_codec *__pyx_optional_args) {
-
-  /* "edgedb/protocol/codecs/codecs.pyx":354
- *         pgproto.encode_func encoder,
- *         pgproto.decode_func decoder,
- *         object tid = None):             # <<<<<<<<<<<<<<
- * 
- *     cdef:
- */
-  PyObject *__pyx_v_tid = ((PyObject *)Py_None);
+static PyObject *__pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(PyObject *__pyx_v_name, __pyx_t_6edgedb_7pgproto_7pgproto_encode_func __pyx_v_encoder, __pyx_t_6edgedb_7pgproto_7pgproto_decode_func __pyx_v_decoder) {
   struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *__pyx_v_codec = 0;
+  PyObject *__pyx_v_tid = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
+  PyObject *__pyx_t_1 = NULL;
+  PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  PyObject *__pyx_t_5 = NULL;
+  int __pyx_t_4;
+  int __pyx_t_5;
   Py_ssize_t __pyx_t_6;
   Py_UCS4 __pyx_t_7;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("register_base_scalar_codec", 0);
-  if (__pyx_optional_args) {
-    if (__pyx_optional_args->__pyx_n > 0) {
-      __pyx_v_tid = __pyx_optional_args->tid;
-    }
-  }
-  __Pyx_INCREF(__pyx_v_tid);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":359
+  /* "edgedb/protocol/codecs/codecs.pyx":355
  *         BaseCodec codec
  * 
- *     if tid is None:             # <<<<<<<<<<<<<<
- *         tid = TYPE_IDS.get(name)
- *         if tid is None:
- */
-  __pyx_t_1 = (__pyx_v_tid == Py_None);
-  __pyx_t_2 = (__pyx_t_1 != 0);
-  if (__pyx_t_2) {
-
-    /* "edgedb/protocol/codecs/codecs.pyx":360
- * 
+ *     tid = TYPE_IDS.get(name)             # <<<<<<<<<<<<<<
  *     if tid is None:
- *         tid = TYPE_IDS.get(name)             # <<<<<<<<<<<<<<
- *         if tid is None:
- *             raise RuntimeError(f'cannot find known ID for type {name!r}')
+ *         raise RuntimeError(f'cannot find known ID for type {name!r}')
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_TYPE_IDS); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 360, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_get); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 360, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __pyx_t_4 = NULL;
-    if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_5))) {
-      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_5);
-      if (likely(__pyx_t_4)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
-        __Pyx_INCREF(__pyx_t_4);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_5, function);
-      }
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_TYPE_IDS); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 355, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 355, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  __pyx_t_2 = NULL;
+  if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
+    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
+    if (likely(__pyx_t_2)) {
+      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
+      __Pyx_INCREF(__pyx_t_2);
+      __Pyx_INCREF(function);
+      __Pyx_DECREF_SET(__pyx_t_3, function);
     }
-    __pyx_t_3 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_5, __pyx_t_4, __pyx_v_name) : __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_v_name);
-    __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 360, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __Pyx_DECREF_SET(__pyx_v_tid, __pyx_t_3);
-    __pyx_t_3 = 0;
-
-    /* "edgedb/protocol/codecs/codecs.pyx":361
- *     if tid is None:
- *         tid = TYPE_IDS.get(name)
- *         if tid is None:             # <<<<<<<<<<<<<<
- *             raise RuntimeError(f'cannot find known ID for type {name!r}')
- *     tid = tid.bytes
- */
-    __pyx_t_2 = (__pyx_v_tid == Py_None);
-    __pyx_t_1 = (__pyx_t_2 != 0);
-    if (unlikely(__pyx_t_1)) {
+  }
+  __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_2, __pyx_v_name) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_name);
+  __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 355, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_v_tid = __pyx_t_1;
+  __pyx_t_1 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":362
- *         tid = TYPE_IDS.get(name)
- *         if tid is None:
- *             raise RuntimeError(f'cannot find known ID for type {name!r}')             # <<<<<<<<<<<<<<
- *     tid = tid.bytes
+  /* "edgedb/protocol/codecs/codecs.pyx":356
  * 
+ *     tid = TYPE_IDS.get(name)
+ *     if tid is None:             # <<<<<<<<<<<<<<
+ *         raise RuntimeError(f'cannot find known ID for type {name!r}')
+ *     tid = tid.bytes
  */
-      __pyx_t_3 = __Pyx_PyObject_FormatSimpleAndDecref(PyObject_Repr(__pyx_v_name), __pyx_empty_unicode); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 362, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_5 = __Pyx_PyUnicode_Concat(__pyx_kp_u_cannot_find_known_ID_for_type, __pyx_t_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 362, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_5);
-      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_RuntimeError, __pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 362, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_3);
-      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __Pyx_Raise(__pyx_t_3, 0, 0, 0);
-      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      __PYX_ERR(5, 362, __pyx_L1_error)
+  __pyx_t_4 = (__pyx_v_tid == Py_None);
+  __pyx_t_5 = (__pyx_t_4 != 0);
+  if (unlikely(__pyx_t_5)) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":361
+    /* "edgedb/protocol/codecs/codecs.pyx":357
+ *     tid = TYPE_IDS.get(name)
  *     if tid is None:
- *         tid = TYPE_IDS.get(name)
- *         if tid is None:             # <<<<<<<<<<<<<<
- *             raise RuntimeError(f'cannot find known ID for type {name!r}')
+ *         raise RuntimeError(f'cannot find known ID for type {name!r}')             # <<<<<<<<<<<<<<
  *     tid = tid.bytes
+ * 
  */
-    }
+    __pyx_t_1 = __Pyx_PyObject_FormatSimpleAndDecref(PyObject_Repr(__pyx_v_name), __pyx_empty_unicode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 357, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    __pyx_t_3 = __Pyx_PyUnicode_Concat(__pyx_kp_u_cannot_find_known_ID_for_type, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 357, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_RuntimeError, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 357, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __PYX_ERR(5, 357, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":359
- *         BaseCodec codec
+    /* "edgedb/protocol/codecs/codecs.pyx":356
  * 
+ *     tid = TYPE_IDS.get(name)
  *     if tid is None:             # <<<<<<<<<<<<<<
- *         tid = TYPE_IDS.get(name)
- *         if tid is None:
+ *         raise RuntimeError(f'cannot find known ID for type {name!r}')
+ *     tid = tid.bytes
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":363
- *         if tid is None:
- *             raise RuntimeError(f'cannot find known ID for type {name!r}')
+  /* "edgedb/protocol/codecs/codecs.pyx":358
+ *     if tid is None:
+ *         raise RuntimeError(f'cannot find known ID for type {name!r}')
  *     tid = tid.bytes             # <<<<<<<<<<<<<<
  * 
  *     if tid in BASE_SCALAR_CODECS:
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_tid, __pyx_n_s_bytes); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 363, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF_SET(__pyx_v_tid, __pyx_t_3);
-  __pyx_t_3 = 0;
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_tid, __pyx_n_s_bytes); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 358, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_DECREF_SET(__pyx_v_tid, __pyx_t_1);
+  __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":365
+  /* "edgedb/protocol/codecs/codecs.pyx":360
  *     tid = tid.bytes
  * 
  *     if tid in BASE_SCALAR_CODECS:             # <<<<<<<<<<<<<<
  *         raise RuntimeError(f'base scalar codec for {id} is already registered')
  * 
  */
   if (unlikely(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "'NoneType' object is not iterable");
-    __PYX_ERR(5, 365, __pyx_L1_error)
+    __PYX_ERR(5, 360, __pyx_L1_error)
   }
-  __pyx_t_1 = (__Pyx_PyDict_ContainsTF(__pyx_v_tid, __pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS, Py_EQ)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(5, 365, __pyx_L1_error)
-  __pyx_t_2 = (__pyx_t_1 != 0);
-  if (unlikely(__pyx_t_2)) {
+  __pyx_t_5 = (__Pyx_PyDict_ContainsTF(__pyx_v_tid, __pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS, Py_EQ)); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(5, 360, __pyx_L1_error)
+  __pyx_t_4 = (__pyx_t_5 != 0);
+  if (unlikely(__pyx_t_4)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":366
+    /* "edgedb/protocol/codecs/codecs.pyx":361
  * 
  *     if tid in BASE_SCALAR_CODECS:
  *         raise RuntimeError(f'base scalar codec for {id} is already registered')             # <<<<<<<<<<<<<<
  * 
  *     codec = ScalarCodec.new(tid, name, encoder, decoder)
  */
-    __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 366, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 361, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
     __pyx_t_6 = 0;
     __pyx_t_7 = 127;
     __Pyx_INCREF(__pyx_kp_u_base_scalar_codec_for);
     __pyx_t_6 += 22;
     __Pyx_GIVEREF(__pyx_kp_u_base_scalar_codec_for);
-    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_kp_u_base_scalar_codec_for);
-    __pyx_t_5 = __Pyx_PyObject_FormatSimple(__pyx_builtin_id, __pyx_empty_unicode); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 366, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_7 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_5) > __pyx_t_7) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_5) : __pyx_t_7;
-    __pyx_t_6 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_5);
-    __Pyx_GIVEREF(__pyx_t_5);
-    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_5);
-    __pyx_t_5 = 0;
+    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_kp_u_base_scalar_codec_for);
+    __pyx_t_3 = __Pyx_PyObject_FormatSimple(__pyx_builtin_id, __pyx_empty_unicode); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 361, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_7 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_3) > __pyx_t_7) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_3) : __pyx_t_7;
+    __pyx_t_6 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_3);
+    __Pyx_GIVEREF(__pyx_t_3);
+    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_t_3);
+    __pyx_t_3 = 0;
     __Pyx_INCREF(__pyx_kp_u_is_already_registered);
     __pyx_t_6 += 22;
     __Pyx_GIVEREF(__pyx_kp_u_is_already_registered);
-    PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_kp_u_is_already_registered);
-    __pyx_t_5 = __Pyx_PyUnicode_Join(__pyx_t_3, 3, __pyx_t_6, __pyx_t_7); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 366, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_RuntimeError, __pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 366, __pyx_L1_error)
+    PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_kp_u_is_already_registered);
+    __pyx_t_3 = __Pyx_PyUnicode_Join(__pyx_t_1, 3, __pyx_t_6, __pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 361, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __Pyx_Raise(__pyx_t_3, 0, 0, 0);
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_RuntimeError, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 361, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(5, 366, __pyx_L1_error)
+    __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __PYX_ERR(5, 361, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":365
+    /* "edgedb/protocol/codecs/codecs.pyx":360
  *     tid = tid.bytes
  * 
  *     if tid in BASE_SCALAR_CODECS:             # <<<<<<<<<<<<<<
  *         raise RuntimeError(f'base scalar codec for {id} is already registered')
  * 
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":368
+  /* "edgedb/protocol/codecs/codecs.pyx":363
  *         raise RuntimeError(f'base scalar codec for {id} is already registered')
  * 
  *     codec = ScalarCodec.new(tid, name, encoder, decoder)             # <<<<<<<<<<<<<<
  *     BASE_SCALAR_CODECS[tid] = codec
  * 
  */
-  if (!(likely(PyBytes_CheckExact(__pyx_v_tid))||((__pyx_v_tid) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "bytes", Py_TYPE(__pyx_v_tid)->tp_name), 0))) __PYX_ERR(5, 368, __pyx_L1_error)
-  __pyx_t_3 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_11ScalarCodec_new(((PyObject*)__pyx_v_tid), __pyx_v_name, __pyx_v_encoder, __pyx_v_decoder)); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 368, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __pyx_v_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_3);
-  __pyx_t_3 = 0;
+  if (!(likely(PyBytes_CheckExact(__pyx_v_tid))||((__pyx_v_tid) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "bytes", Py_TYPE(__pyx_v_tid)->tp_name), 0))) __PYX_ERR(5, 363, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_6edgedb_8protocol_8protocol_11ScalarCodec_new(((PyObject*)__pyx_v_tid), __pyx_v_name, __pyx_v_encoder, __pyx_v_decoder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 363, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_v_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_1);
+  __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":369
+  /* "edgedb/protocol/codecs/codecs.pyx":364
  * 
  *     codec = ScalarCodec.new(tid, name, encoder, decoder)
  *     BASE_SCALAR_CODECS[tid] = codec             # <<<<<<<<<<<<<<
  * 
  * 
  */
   if (unlikely(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-    __PYX_ERR(5, 369, __pyx_L1_error)
+    __PYX_ERR(5, 364, __pyx_L1_error)
   }
-  if (unlikely(PyDict_SetItem(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS, __pyx_v_tid, ((PyObject *)__pyx_v_codec)) < 0)) __PYX_ERR(5, 369, __pyx_L1_error)
+  if (unlikely(PyDict_SetItem(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS, __pyx_v_tid, ((PyObject *)__pyx_v_codec)) < 0)) __PYX_ERR(5, 364, __pyx_L1_error)
 
-  /* "edgedb/protocol/codecs/codecs.pyx":350
+  /* "edgedb/protocol/codecs/codecs.pyx":347
  * 
  * 
  * cdef register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         str name,
  *         pgproto.encode_func encoder,
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   goto __pyx_L0;
   __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_5);
   __Pyx_AddTraceback("edgedb.protocol.protocol.register_base_scalar_codec", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_codec);
   __Pyx_XDECREF(__pyx_v_tid);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":372
+/* "edgedb/protocol/codecs/codecs.pyx":367
  * 
  * 
  * cdef time_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     if getattr(obj, 'tzinfo', None) is not None:
  *         raise TypeError(
  */
 
@@ -27009,62 +26280,62 @@
   int __pyx_t_2;
   int __pyx_t_3;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("time_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":373
+  /* "edgedb/protocol/codecs/codecs.pyx":368
  * 
  * cdef time_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if getattr(obj, 'tzinfo', None) is not None:             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a naive time object (tzinfo is None) was expected')
  */
-  __pyx_t_1 = __Pyx_GetAttr3(__pyx_v_obj, __pyx_n_u_tzinfo, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 373, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_GetAttr3(__pyx_v_obj, __pyx_n_u_tzinfo, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 368, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = (__pyx_t_1 != Py_None);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (unlikely(__pyx_t_3)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":374
+    /* "edgedb/protocol/codecs/codecs.pyx":369
  * cdef time_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if getattr(obj, 'tzinfo', None) is not None:
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a naive time object (tzinfo is None) was expected')
  * 
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__55, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 374, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__55, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 369, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(5, 374, __pyx_L1_error)
+    __PYX_ERR(5, 369, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":373
+    /* "edgedb/protocol/codecs/codecs.pyx":368
  * 
  * cdef time_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if getattr(obj, 'tzinfo', None) is not None:             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a naive time object (tzinfo is None) was expected')
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":377
+  /* "edgedb/protocol/codecs/codecs.pyx":372
  *             f'a naive time object (tzinfo is None) was expected')
  * 
  *     pgproto.time_encode(settings, buf, obj)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_time_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 377, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_time_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 372, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":372
+  /* "edgedb/protocol/codecs/codecs.pyx":367
  * 
  * 
  * cdef time_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     if getattr(obj, 'tzinfo', None) is not None:
  *         raise TypeError(
  */
 
@@ -27077,15 +26348,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":380
+/* "edgedb/protocol/codecs/codecs.pyx":375
  * 
  * 
  * cdef date_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     # Python `datetime.date` object does not have a `tzinfo` attribute
  *     # nor it is timezone-aware.  But since we're accepting duck types
  */
 
@@ -27096,62 +26367,62 @@
   int __pyx_t_2;
   int __pyx_t_3;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("date_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":384
+  /* "edgedb/protocol/codecs/codecs.pyx":379
  *     # nor it is timezone-aware.  But since we're accepting duck types
  *     # let's ensure it doesn't have tzinfo anyways.
  *     if getattr(obj, 'tzinfo', None) is not None:             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a naive date object (tzinfo is None) was expected')
  */
-  __pyx_t_1 = __Pyx_GetAttr3(__pyx_v_obj, __pyx_n_u_tzinfo, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 384, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_GetAttr3(__pyx_v_obj, __pyx_n_u_tzinfo, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 379, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = (__pyx_t_1 != Py_None);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (unlikely(__pyx_t_3)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":385
+    /* "edgedb/protocol/codecs/codecs.pyx":380
  *     # let's ensure it doesn't have tzinfo anyways.
  *     if getattr(obj, 'tzinfo', None) is not None:
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a naive date object (tzinfo is None) was expected')
  * 
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__56, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 385, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__56, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 380, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(5, 385, __pyx_L1_error)
+    __PYX_ERR(5, 380, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":384
+    /* "edgedb/protocol/codecs/codecs.pyx":379
  *     # nor it is timezone-aware.  But since we're accepting duck types
  *     # let's ensure it doesn't have tzinfo anyways.
  *     if getattr(obj, 'tzinfo', None) is not None:             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a naive date object (tzinfo is None) was expected')
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":388
+  /* "edgedb/protocol/codecs/codecs.pyx":383
  *             f'a naive date object (tzinfo is None) was expected')
  * 
  *     pgproto.date_encode(settings, buf, obj)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_date_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 388, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_date_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 383, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":380
+  /* "edgedb/protocol/codecs/codecs.pyx":375
  * 
  * 
  * cdef date_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     # Python `datetime.date` object does not have a `tzinfo` attribute
  *     # nor it is timezone-aware.  But since we're accepting duck types
  */
 
@@ -27164,15 +26435,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":391
+/* "edgedb/protocol/codecs/codecs.pyx":386
  * 
  * 
  * cdef timestamp_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     if not cpython.datetime.PyDateTime_Check(obj):
  *         raise TypeError(
  */
 
@@ -27184,108 +26455,108 @@
   PyObject *__pyx_t_3 = NULL;
   int __pyx_t_4;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("timestamp_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":392
+  /* "edgedb/protocol/codecs/codecs.pyx":387
  * 
  * cdef timestamp_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if not cpython.datetime.PyDateTime_Check(obj):             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a datetime.datetime object was expected, got {obj!r}')
  */
   __pyx_t_1 = ((!(PyDateTime_Check(__pyx_v_obj) != 0)) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":394
+    /* "edgedb/protocol/codecs/codecs.pyx":389
  *     if not cpython.datetime.PyDateTime_Check(obj):
  *         raise TypeError(
  *             f'a datetime.datetime object was expected, got {obj!r}')             # <<<<<<<<<<<<<<
  * 
  *     if getattr(obj, 'tzinfo', None) is not None:
  */
-    __pyx_t_2 = __Pyx_PyObject_FormatSimpleAndDecref(PyObject_Repr(__pyx_v_obj), __pyx_empty_unicode); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 394, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_FormatSimpleAndDecref(PyObject_Repr(__pyx_v_obj), __pyx_empty_unicode); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 389, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyUnicode_Concat(__pyx_kp_u_a_datetime_datetime_object_was_e, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 394, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyUnicode_Concat(__pyx_kp_u_a_datetime_datetime_object_was_e, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 389, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":393
+    /* "edgedb/protocol/codecs/codecs.pyx":388
  * cdef timestamp_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if not cpython.datetime.PyDateTime_Check(obj):
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a datetime.datetime object was expected, got {obj!r}')
  * 
  */
-    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_TypeError, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 393, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_TypeError, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 388, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(5, 393, __pyx_L1_error)
+    __PYX_ERR(5, 388, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":392
+    /* "edgedb/protocol/codecs/codecs.pyx":387
  * 
  * cdef timestamp_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if not cpython.datetime.PyDateTime_Check(obj):             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a datetime.datetime object was expected, got {obj!r}')
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":396
+  /* "edgedb/protocol/codecs/codecs.pyx":391
  *             f'a datetime.datetime object was expected, got {obj!r}')
  * 
  *     if getattr(obj, 'tzinfo', None) is not None:             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a naive datetime object (tzinfo is None) was expected')
  */
-  __pyx_t_2 = __Pyx_GetAttr3(__pyx_v_obj, __pyx_n_u_tzinfo, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 396, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_GetAttr3(__pyx_v_obj, __pyx_n_u_tzinfo, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 391, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_1 = (__pyx_t_2 != Py_None);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_4 = (__pyx_t_1 != 0);
   if (unlikely(__pyx_t_4)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":397
+    /* "edgedb/protocol/codecs/codecs.pyx":392
  * 
  *     if getattr(obj, 'tzinfo', None) is not None:
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a naive datetime object (tzinfo is None) was expected')
  * 
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__57, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 397, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__57, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 392, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(5, 397, __pyx_L1_error)
+    __PYX_ERR(5, 392, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":396
+    /* "edgedb/protocol/codecs/codecs.pyx":391
  *             f'a datetime.datetime object was expected, got {obj!r}')
  * 
  *     if getattr(obj, 'tzinfo', None) is not None:             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a naive datetime object (tzinfo is None) was expected')
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":400
+  /* "edgedb/protocol/codecs/codecs.pyx":395
  *             f'a naive datetime object (tzinfo is None) was expected')
  * 
  *     pgproto.timestamp_encode(settings, buf, obj)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_2 = __pyx_f_6edgedb_7pgproto_7pgproto_timestamp_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 400, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_6edgedb_7pgproto_7pgproto_timestamp_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 395, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":391
+  /* "edgedb/protocol/codecs/codecs.pyx":386
  * 
  * 
  * cdef timestamp_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     if not cpython.datetime.PyDateTime_Check(obj):
  *         raise TypeError(
  */
 
@@ -27299,15 +26570,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":403
+/* "edgedb/protocol/codecs/codecs.pyx":398
  * 
  * 
  * cdef timestamptz_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     if not cpython.datetime.PyDateTime_Check(obj):
  *         raise TypeError(
  */
 
@@ -27318,94 +26589,94 @@
   PyObject *__pyx_t_2 = NULL;
   int __pyx_t_3;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("timestamptz_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":404
+  /* "edgedb/protocol/codecs/codecs.pyx":399
  * 
  * cdef timestamptz_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if not cpython.datetime.PyDateTime_Check(obj):             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a datetime.datetime object was expected')
  */
   __pyx_t_1 = ((!(PyDateTime_Check(__pyx_v_obj) != 0)) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":405
+    /* "edgedb/protocol/codecs/codecs.pyx":400
  * cdef timestamptz_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if not cpython.datetime.PyDateTime_Check(obj):
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a datetime.datetime object was expected')
  * 
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__58, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 405, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__58, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 400, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(5, 405, __pyx_L1_error)
+    __PYX_ERR(5, 400, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":404
+    /* "edgedb/protocol/codecs/codecs.pyx":399
  * 
  * cdef timestamptz_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if not cpython.datetime.PyDateTime_Check(obj):             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a datetime.datetime object was expected')
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":408
+  /* "edgedb/protocol/codecs/codecs.pyx":403
  *             f'a datetime.datetime object was expected')
  * 
  *     if getattr(obj, 'tzinfo', None) is None:             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a timezone-aware datetime object (tzinfo is not None) '
  */
-  __pyx_t_2 = __Pyx_GetAttr3(__pyx_v_obj, __pyx_n_u_tzinfo, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 408, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_GetAttr3(__pyx_v_obj, __pyx_n_u_tzinfo, Py_None); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 403, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_1 = (__pyx_t_2 == Py_None);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_3 = (__pyx_t_1 != 0);
   if (unlikely(__pyx_t_3)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":409
+    /* "edgedb/protocol/codecs/codecs.pyx":404
  * 
  *     if getattr(obj, 'tzinfo', None) is None:
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a timezone-aware datetime object (tzinfo is not None) '
  *             f'was expected')
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__59, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 409, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__59, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 404, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(5, 409, __pyx_L1_error)
+    __PYX_ERR(5, 404, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":408
+    /* "edgedb/protocol/codecs/codecs.pyx":403
  *             f'a datetime.datetime object was expected')
  * 
  *     if getattr(obj, 'tzinfo', None) is None:             # <<<<<<<<<<<<<<
  *         raise TypeError(
  *             f'a timezone-aware datetime object (tzinfo is not None) '
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":413
+  /* "edgedb/protocol/codecs/codecs.pyx":408
  *             f'was expected')
  * 
  *     pgproto.timestamptz_encode(settings, buf, obj)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_2 = __pyx_f_6edgedb_7pgproto_7pgproto_timestamptz_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 413, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_6edgedb_7pgproto_7pgproto_timestamptz_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 408, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":403
+  /* "edgedb/protocol/codecs/codecs.pyx":398
  * 
  * 
  * cdef timestamptz_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     if not cpython.datetime.PyDateTime_Check(obj):
  *         raise TypeError(
  */
 
@@ -27418,15 +26689,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":416
+/* "edgedb/protocol/codecs/codecs.pyx":411
  * 
  * 
  * cdef duration_encode(pgproto.CodecContext settings, WriteBuffer buf,             # <<<<<<<<<<<<<<
  *                      object obj):
  * 
  */
 
@@ -27439,85 +26710,85 @@
   PyObject *__pyx_t_3 = NULL;
   int64_t __pyx_t_4;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("duration_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":419
+  /* "edgedb/protocol/codecs/codecs.pyx":414
  *                      object obj):
  * 
  *     cdef microseconds = obj / datetime.timedelta(microseconds=1)             # <<<<<<<<<<<<<<
  * 
  *     buf.write_int32(16)
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_datetime); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 419, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_datetime); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 414, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_timedelta); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 419, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_timedelta); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 414, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 419, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 414, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_microseconds, __pyx_int_1) < 0) __PYX_ERR(5, 419, __pyx_L1_error)
-  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_empty_tuple, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 419, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_microseconds, __pyx_int_1) < 0) __PYX_ERR(5, 414, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_empty_tuple, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 414, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyNumber_Divide(__pyx_v_obj, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 419, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyNumber_Divide(__pyx_v_obj, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 414, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_v_microseconds = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":421
+  /* "edgedb/protocol/codecs/codecs.pyx":416
  *     cdef microseconds = obj / datetime.timedelta(microseconds=1)
  * 
  *     buf.write_int32(16)             # <<<<<<<<<<<<<<
  *     buf.write_int64(microseconds)
  *     buf.write_int32(0)
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 16); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 421, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 16); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 416, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":422
+  /* "edgedb/protocol/codecs/codecs.pyx":417
  * 
  *     buf.write_int32(16)
  *     buf.write_int64(microseconds)             # <<<<<<<<<<<<<<
  *     buf.write_int32(0)
  *     buf.write_int32(0)
  */
-  __pyx_t_4 = __Pyx_PyInt_As_int64_t(__pyx_v_microseconds); if (unlikely((__pyx_t_4 == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 422, __pyx_L1_error)
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int64(__pyx_v_buf, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 422, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyInt_As_int64_t(__pyx_v_microseconds); if (unlikely((__pyx_t_4 == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 417, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int64(__pyx_v_buf, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 417, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":423
+  /* "edgedb/protocol/codecs/codecs.pyx":418
  *     buf.write_int32(16)
  *     buf.write_int64(microseconds)
  *     buf.write_int32(0)             # <<<<<<<<<<<<<<
  *     buf.write_int32(0)
  * 
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 423, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 418, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":424
+  /* "edgedb/protocol/codecs/codecs.pyx":419
  *     buf.write_int64(microseconds)
  *     buf.write_int32(0)
  *     buf.write_int32(0)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 424, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 419, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":416
+  /* "edgedb/protocol/codecs/codecs.pyx":411
  * 
  * 
  * cdef duration_encode(pgproto.CodecContext settings, WriteBuffer buf,             # <<<<<<<<<<<<<<
  *                      object obj):
  * 
  */
 
@@ -27533,15 +26804,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_microseconds);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":427
+/* "edgedb/protocol/codecs/codecs.pyx":422
  * 
  * 
  * cdef duration_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     cdef:
  *         int32_t days
  */
 
@@ -27558,45 +26829,45 @@
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("duration_decode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":433
+  /* "edgedb/protocol/codecs/codecs.pyx":428
  *         int64_t microseconds
  * 
  *     microseconds = hton.unpack_int64(frb_read(buf, 8))             # <<<<<<<<<<<<<<
  *     days = hton.unpack_int32(frb_read(buf, 4))
  *     months = hton.unpack_int32(frb_read(buf, 4))
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 8); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 433, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 8); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 428, __pyx_L1_error)
   __pyx_v_microseconds = unpack_int64(__pyx_t_1);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":434
+  /* "edgedb/protocol/codecs/codecs.pyx":429
  * 
  *     microseconds = hton.unpack_int64(frb_read(buf, 8))
  *     days = hton.unpack_int32(frb_read(buf, 4))             # <<<<<<<<<<<<<<
  *     months = hton.unpack_int32(frb_read(buf, 4))
  *     if days != 0 or months != 0:
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 434, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 429, __pyx_L1_error)
   __pyx_v_days = unpack_int32(__pyx_t_1);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":435
+  /* "edgedb/protocol/codecs/codecs.pyx":430
  *     microseconds = hton.unpack_int64(frb_read(buf, 8))
  *     days = hton.unpack_int32(frb_read(buf, 4))
  *     months = hton.unpack_int32(frb_read(buf, 4))             # <<<<<<<<<<<<<<
  *     if days != 0 or months != 0:
  *         raise RuntimeError(f'non-zero reserved bytes in duration')
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 435, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 430, __pyx_L1_error)
   __pyx_v_months = unpack_int32(__pyx_t_1);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":436
+  /* "edgedb/protocol/codecs/codecs.pyx":431
  *     days = hton.unpack_int32(frb_read(buf, 4))
  *     months = hton.unpack_int32(frb_read(buf, 4))
  *     if days != 0 or months != 0:             # <<<<<<<<<<<<<<
  *         raise RuntimeError(f'non-zero reserved bytes in duration')
  * 
  */
   __pyx_t_3 = ((__pyx_v_days != 0) != 0);
@@ -27606,64 +26877,64 @@
     goto __pyx_L4_bool_binop_done;
   }
   __pyx_t_3 = ((__pyx_v_months != 0) != 0);
   __pyx_t_2 = __pyx_t_3;
   __pyx_L4_bool_binop_done:;
   if (unlikely(__pyx_t_2)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":437
+    /* "edgedb/protocol/codecs/codecs.pyx":432
  *     months = hton.unpack_int32(frb_read(buf, 4))
  *     if days != 0 or months != 0:
  *         raise RuntimeError(f'non-zero reserved bytes in duration')             # <<<<<<<<<<<<<<
  * 
  *     return datetime.timedelta(microseconds=microseconds)
  */
-    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__60, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 437, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__60, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 432, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_Raise(__pyx_t_4, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __PYX_ERR(5, 437, __pyx_L1_error)
+    __PYX_ERR(5, 432, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":436
+    /* "edgedb/protocol/codecs/codecs.pyx":431
  *     days = hton.unpack_int32(frb_read(buf, 4))
  *     months = hton.unpack_int32(frb_read(buf, 4))
  *     if days != 0 or months != 0:             # <<<<<<<<<<<<<<
  *         raise RuntimeError(f'non-zero reserved bytes in duration')
  * 
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":439
+  /* "edgedb/protocol/codecs/codecs.pyx":434
  *         raise RuntimeError(f'non-zero reserved bytes in duration')
  * 
  *     return datetime.timedelta(microseconds=microseconds)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_datetime); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 439, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_datetime); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 434, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_timedelta); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 439, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_timedelta); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 434, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  __pyx_t_4 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 439, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 434, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_6 = __Pyx_PyInt_From_int64_t(__pyx_v_microseconds); if (unlikely(!__pyx_t_6)) __PYX_ERR(5, 439, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_PyInt_From_int64_t(__pyx_v_microseconds); if (unlikely(!__pyx_t_6)) __PYX_ERR(5, 434, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
-  if (PyDict_SetItem(__pyx_t_4, __pyx_n_s_microseconds, __pyx_t_6) < 0) __PYX_ERR(5, 439, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_4, __pyx_n_s_microseconds, __pyx_t_6) < 0) __PYX_ERR(5, 434, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-  __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_empty_tuple, __pyx_t_4); if (unlikely(!__pyx_t_6)) __PYX_ERR(5, 439, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_empty_tuple, __pyx_t_4); if (unlikely(!__pyx_t_6)) __PYX_ERR(5, 434, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_r = __pyx_t_6;
   __pyx_t_6 = 0;
   goto __pyx_L0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":427
+  /* "edgedb/protocol/codecs/codecs.pyx":422
  * 
  * 
  * cdef duration_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     cdef:
  *         int32_t days
  */
 
@@ -27676,15 +26947,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":442
+/* "edgedb/protocol/codecs/codecs.pyx":437
  * 
  * 
  * cdef relative_duration_encode(pgproto.CodecContext settings, WriteBuffer buf,             # <<<<<<<<<<<<<<
  *                               object obj):
  * 
  */
 
@@ -27698,98 +26969,98 @@
   int64_t __pyx_t_2;
   int32_t __pyx_t_3;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("relative_duration_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":446
+  /* "edgedb/protocol/codecs/codecs.pyx":441
  * 
  *     cdef:
  *         microseconds = obj.microseconds             # <<<<<<<<<<<<<<
  *         days = obj.days
  *         months = obj.months
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_microseconds); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 446, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_microseconds); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 441, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_microseconds = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":447
+  /* "edgedb/protocol/codecs/codecs.pyx":442
  *     cdef:
  *         microseconds = obj.microseconds
  *         days = obj.days             # <<<<<<<<<<<<<<
  *         months = obj.months
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_days); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 447, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_days); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 442, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_days = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":448
+  /* "edgedb/protocol/codecs/codecs.pyx":443
  *         microseconds = obj.microseconds
  *         days = obj.days
  *         months = obj.months             # <<<<<<<<<<<<<<
  * 
  *     buf.write_int32(16)
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_months); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 448, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_months); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 443, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_months = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":450
+  /* "edgedb/protocol/codecs/codecs.pyx":445
  *         months = obj.months
  * 
  *     buf.write_int32(16)             # <<<<<<<<<<<<<<
  *     buf.write_int64(microseconds)
  *     buf.write_int32(days)
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 16); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 450, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 16); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 445, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":451
+  /* "edgedb/protocol/codecs/codecs.pyx":446
  * 
  *     buf.write_int32(16)
  *     buf.write_int64(microseconds)             # <<<<<<<<<<<<<<
  *     buf.write_int32(days)
  *     buf.write_int32(months)
  */
-  __pyx_t_2 = __Pyx_PyInt_As_int64_t(__pyx_v_microseconds); if (unlikely((__pyx_t_2 == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 451, __pyx_L1_error)
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int64(__pyx_v_buf, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 451, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_As_int64_t(__pyx_v_microseconds); if (unlikely((__pyx_t_2 == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 446, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int64(__pyx_v_buf, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 446, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":452
+  /* "edgedb/protocol/codecs/codecs.pyx":447
  *     buf.write_int32(16)
  *     buf.write_int64(microseconds)
  *     buf.write_int32(days)             # <<<<<<<<<<<<<<
  *     buf.write_int32(months)
  * 
  */
-  __pyx_t_3 = __Pyx_PyInt_As_int32_t(__pyx_v_days); if (unlikely((__pyx_t_3 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 452, __pyx_L1_error)
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 452, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_As_int32_t(__pyx_v_days); if (unlikely((__pyx_t_3 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 447, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 447, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":453
+  /* "edgedb/protocol/codecs/codecs.pyx":448
  *     buf.write_int64(microseconds)
  *     buf.write_int32(days)
  *     buf.write_int32(months)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_3 = __Pyx_PyInt_As_int32_t(__pyx_v_months); if (unlikely((__pyx_t_3 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 453, __pyx_L1_error)
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 453, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_As_int32_t(__pyx_v_months); if (unlikely((__pyx_t_3 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 448, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 448, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":442
+  /* "edgedb/protocol/codecs/codecs.pyx":437
  * 
  * 
  * cdef relative_duration_encode(pgproto.CodecContext settings, WriteBuffer buf,             # <<<<<<<<<<<<<<
  *                               object obj):
  * 
  */
 
@@ -27805,15 +27076,15 @@
   __Pyx_XDECREF(__pyx_v_days);
   __Pyx_XDECREF(__pyx_v_months);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":456
+/* "edgedb/protocol/codecs/codecs.pyx":451
  * 
  * 
  * cdef relative_duration_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     cdef:
  *         int32_t days
  */
 
@@ -27827,90 +27098,90 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("relative_duration_decode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":462
+  /* "edgedb/protocol/codecs/codecs.pyx":457
  *         int64_t microseconds
  * 
  *     microseconds = hton.unpack_int64(frb_read(buf, 8))             # <<<<<<<<<<<<<<
  *     days = hton.unpack_int32(frb_read(buf, 4))
  *     months = hton.unpack_int32(frb_read(buf, 4))
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 8); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 462, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 8); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 457, __pyx_L1_error)
   __pyx_v_microseconds = unpack_int64(__pyx_t_1);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":463
+  /* "edgedb/protocol/codecs/codecs.pyx":458
  * 
  *     microseconds = hton.unpack_int64(frb_read(buf, 8))
  *     days = hton.unpack_int32(frb_read(buf, 4))             # <<<<<<<<<<<<<<
  *     months = hton.unpack_int32(frb_read(buf, 4))
  * 
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 463, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 458, __pyx_L1_error)
   __pyx_v_days = unpack_int32(__pyx_t_1);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":464
+  /* "edgedb/protocol/codecs/codecs.pyx":459
  *     microseconds = hton.unpack_int64(frb_read(buf, 8))
  *     days = hton.unpack_int32(frb_read(buf, 4))
  *     months = hton.unpack_int32(frb_read(buf, 4))             # <<<<<<<<<<<<<<
  * 
  *     return datatypes.RelativeDuration(
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 464, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 459, __pyx_L1_error)
   __pyx_v_months = unpack_int32(__pyx_t_1);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":466
+  /* "edgedb/protocol/codecs/codecs.pyx":461
  *     months = hton.unpack_int32(frb_read(buf, 4))
  * 
  *     return datatypes.RelativeDuration(             # <<<<<<<<<<<<<<
  *         microseconds=microseconds, days=days, months=months)
  * 
  */
   __Pyx_XDECREF(__pyx_r);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":467
+  /* "edgedb/protocol/codecs/codecs.pyx":462
  * 
  *     return datatypes.RelativeDuration(
  *         microseconds=microseconds, days=days, months=months)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_2 = __Pyx_PyDict_NewPresized(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 467, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyDict_NewPresized(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 462, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyInt_From_int64_t(__pyx_v_microseconds); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 467, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From_int64_t(__pyx_v_microseconds); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 462, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_microseconds, __pyx_t_3) < 0) __PYX_ERR(5, 467, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_microseconds, __pyx_t_3) < 0) __PYX_ERR(5, 462, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PyInt_From_int32_t(__pyx_v_days); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 467, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From_int32_t(__pyx_v_days); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 462, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_days, __pyx_t_3) < 0) __PYX_ERR(5, 467, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_days, __pyx_t_3) < 0) __PYX_ERR(5, 462, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PyInt_From_int32_t(__pyx_v_months); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 467, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From_int32_t(__pyx_v_months); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 462, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_months, __pyx_t_3) < 0) __PYX_ERR(5, 467, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_months, __pyx_t_3) < 0) __PYX_ERR(5, 462, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":466
+  /* "edgedb/protocol/codecs/codecs.pyx":461
  *     months = hton.unpack_int32(frb_read(buf, 4))
  * 
  *     return datatypes.RelativeDuration(             # <<<<<<<<<<<<<<
  *         microseconds=microseconds, days=days, months=months)
  * 
  */
-  __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_6edgedb_9datatypes_9datatypes_RelativeDuration), __pyx_empty_tuple, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 466, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_6edgedb_9datatypes_9datatypes_RelativeDuration), __pyx_empty_tuple, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 461, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":456
+  /* "edgedb/protocol/codecs/codecs.pyx":451
  * 
  * 
  * cdef relative_duration_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     cdef:
  *         int32_t days
  */
 
@@ -27922,15 +27193,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":470
+/* "edgedb/protocol/codecs/codecs.pyx":465
  * 
  * 
  * cdef date_duration_encode(pgproto.CodecContext settings, WriteBuffer buf,             # <<<<<<<<<<<<<<
  *                           object obj):
  * 
  */
 
@@ -27942,85 +27213,85 @@
   PyObject *__pyx_t_1 = NULL;
   int32_t __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("date_duration_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":474
+  /* "edgedb/protocol/codecs/codecs.pyx":469
  * 
  *     cdef:
  *         days = obj.days             # <<<<<<<<<<<<<<
  *         months = obj.months
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_days); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 474, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_days); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 469, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_days = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":475
+  /* "edgedb/protocol/codecs/codecs.pyx":470
  *     cdef:
  *         days = obj.days
  *         months = obj.months             # <<<<<<<<<<<<<<
  * 
  *     buf.write_int32(16)
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_months); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 475, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_months); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 470, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_months = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":477
+  /* "edgedb/protocol/codecs/codecs.pyx":472
  *         months = obj.months
  * 
  *     buf.write_int32(16)             # <<<<<<<<<<<<<<
  *     buf.write_int64(0)
  *     buf.write_int32(days)
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 16); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 477, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 16); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 472, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":478
+  /* "edgedb/protocol/codecs/codecs.pyx":473
  * 
  *     buf.write_int32(16)
  *     buf.write_int64(0)             # <<<<<<<<<<<<<<
  *     buf.write_int32(days)
  *     buf.write_int32(months)
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int64(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 478, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int64(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 473, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":479
+  /* "edgedb/protocol/codecs/codecs.pyx":474
  *     buf.write_int32(16)
  *     buf.write_int64(0)
  *     buf.write_int32(days)             # <<<<<<<<<<<<<<
  *     buf.write_int32(months)
  * 
  */
-  __pyx_t_2 = __Pyx_PyInt_As_int32_t(__pyx_v_days); if (unlikely((__pyx_t_2 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 479, __pyx_L1_error)
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 479, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_As_int32_t(__pyx_v_days); if (unlikely((__pyx_t_2 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 474, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 474, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":480
+  /* "edgedb/protocol/codecs/codecs.pyx":475
  *     buf.write_int64(0)
  *     buf.write_int32(days)
  *     buf.write_int32(months)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_2 = __Pyx_PyInt_As_int32_t(__pyx_v_months); if (unlikely((__pyx_t_2 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 480, __pyx_L1_error)
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 480, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_As_int32_t(__pyx_v_months); if (unlikely((__pyx_t_2 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 475, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 475, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":470
+  /* "edgedb/protocol/codecs/codecs.pyx":465
  * 
  * 
  * cdef date_duration_encode(pgproto.CodecContext settings, WriteBuffer buf,             # <<<<<<<<<<<<<<
  *                           object obj):
  * 
  */
 
@@ -28035,15 +27306,15 @@
   __Pyx_XDECREF(__pyx_v_days);
   __Pyx_XDECREF(__pyx_v_months);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":483
+/* "edgedb/protocol/codecs/codecs.pyx":478
  * 
  * 
  * cdef date_duration_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     cdef:
  *         int32_t days
  */
 
@@ -28058,102 +27329,102 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("date_duration_decode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":489
+  /* "edgedb/protocol/codecs/codecs.pyx":484
  *         int64_t microseconds
  * 
  *     microseconds = hton.unpack_int64(frb_read(buf, 8))             # <<<<<<<<<<<<<<
  *     days = hton.unpack_int32(frb_read(buf, 4))
  *     months = hton.unpack_int32(frb_read(buf, 4))
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 8); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 489, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 8); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 484, __pyx_L1_error)
   __pyx_v_microseconds = unpack_int64(__pyx_t_1);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":490
+  /* "edgedb/protocol/codecs/codecs.pyx":485
  * 
  *     microseconds = hton.unpack_int64(frb_read(buf, 8))
  *     days = hton.unpack_int32(frb_read(buf, 4))             # <<<<<<<<<<<<<<
  *     months = hton.unpack_int32(frb_read(buf, 4))
  * 
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 490, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 485, __pyx_L1_error)
   __pyx_v_days = unpack_int32(__pyx_t_1);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":491
+  /* "edgedb/protocol/codecs/codecs.pyx":486
  *     microseconds = hton.unpack_int64(frb_read(buf, 8))
  *     days = hton.unpack_int32(frb_read(buf, 4))
  *     months = hton.unpack_int32(frb_read(buf, 4))             # <<<<<<<<<<<<<<
  * 
  *     if microseconds != 0:
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 491, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 4); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 486, __pyx_L1_error)
   __pyx_v_months = unpack_int32(__pyx_t_1);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":493
+  /* "edgedb/protocol/codecs/codecs.pyx":488
  *     months = hton.unpack_int32(frb_read(buf, 4))
  * 
  *     if microseconds != 0:             # <<<<<<<<<<<<<<
  *         raise ValueError("date duration has non-zero microseconds")
  * 
  */
   __pyx_t_2 = ((__pyx_v_microseconds != 0) != 0);
   if (unlikely(__pyx_t_2)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":494
+    /* "edgedb/protocol/codecs/codecs.pyx":489
  * 
  *     if microseconds != 0:
  *         raise ValueError("date duration has non-zero microseconds")             # <<<<<<<<<<<<<<
  * 
  *     return datatypes.DateDuration(days=days, months=months)
  */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__61, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 494, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__61, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 489, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(5, 494, __pyx_L1_error)
+    __PYX_ERR(5, 489, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":493
+    /* "edgedb/protocol/codecs/codecs.pyx":488
  *     months = hton.unpack_int32(frb_read(buf, 4))
  * 
  *     if microseconds != 0:             # <<<<<<<<<<<<<<
  *         raise ValueError("date duration has non-zero microseconds")
  * 
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":496
+  /* "edgedb/protocol/codecs/codecs.pyx":491
  *         raise ValueError("date duration has non-zero microseconds")
  * 
  *     return datatypes.DateDuration(days=days, months=months)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_3 = __Pyx_PyDict_NewPresized(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 496, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyDict_NewPresized(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 491, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_PyInt_From_int32_t(__pyx_v_days); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 496, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyInt_From_int32_t(__pyx_v_days); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 491, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_days, __pyx_t_4) < 0) __PYX_ERR(5, 496, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_days, __pyx_t_4) < 0) __PYX_ERR(5, 491, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  __pyx_t_4 = __Pyx_PyInt_From_int32_t(__pyx_v_months); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 496, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyInt_From_int32_t(__pyx_v_months); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 491, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_months, __pyx_t_4) < 0) __PYX_ERR(5, 496, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_months, __pyx_t_4) < 0) __PYX_ERR(5, 491, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  __pyx_t_4 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_6edgedb_9datatypes_9datatypes_DateDuration), __pyx_empty_tuple, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 496, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_6edgedb_9datatypes_9datatypes_DateDuration), __pyx_empty_tuple, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 491, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __pyx_t_4;
   __pyx_t_4 = 0;
   goto __pyx_L0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":483
+  /* "edgedb/protocol/codecs/codecs.pyx":478
  * 
  * 
  * cdef date_duration_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     cdef:
  *         int32_t days
  */
 
@@ -28165,15 +27436,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":499
+/* "edgedb/protocol/codecs/codecs.pyx":494
  * 
  * 
  * cdef config_memory_encode(pgproto.CodecContext settings,             # <<<<<<<<<<<<<<
  *                           WriteBuffer buf,
  *                           object obj):
  */
 
@@ -28184,50 +27455,50 @@
   PyObject *__pyx_t_1 = NULL;
   int64_t __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("config_memory_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":503
+  /* "edgedb/protocol/codecs/codecs.pyx":498
  *                           object obj):
  *     cdef:
  *         bytes = obj._bytes             # <<<<<<<<<<<<<<
  * 
  *     buf.write_int32(8)
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_bytes_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 503, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_bytes_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 498, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_bytes = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":505
+  /* "edgedb/protocol/codecs/codecs.pyx":500
  *         bytes = obj._bytes
  * 
  *     buf.write_int32(8)             # <<<<<<<<<<<<<<
  *     buf.write_int64(bytes)
  * 
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 8); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 505, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 8); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 500, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":506
+  /* "edgedb/protocol/codecs/codecs.pyx":501
  * 
  *     buf.write_int32(8)
  *     buf.write_int64(bytes)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_2 = __Pyx_PyInt_As_int64_t(__pyx_v_bytes); if (unlikely((__pyx_t_2 == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 506, __pyx_L1_error)
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int64(__pyx_v_buf, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 506, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_As_int64_t(__pyx_v_bytes); if (unlikely((__pyx_t_2 == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 501, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int64(__pyx_v_buf, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 501, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":499
+  /* "edgedb/protocol/codecs/codecs.pyx":494
  * 
  * 
  * cdef config_memory_encode(pgproto.CodecContext settings,             # <<<<<<<<<<<<<<
  *                           WriteBuffer buf,
  *                           object obj):
  */
 
@@ -28241,15 +27512,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_bytes);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":509
+/* "edgedb/protocol/codecs/codecs.pyx":504
  * 
  * 
  * cdef config_memory_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     cdef:
  *         int64_t bytes
  */
 
@@ -28261,46 +27532,46 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("config_memory_decode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":513
+  /* "edgedb/protocol/codecs/codecs.pyx":508
  *         int64_t bytes
  * 
  *     bytes = hton.unpack_int64(frb_read(buf, 8))             # <<<<<<<<<<<<<<
  * 
  *     return datatypes.ConfigMemory(bytes=bytes)
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 8); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 513, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 8); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 508, __pyx_L1_error)
   __pyx_v_bytes = unpack_int64(__pyx_t_1);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":515
+  /* "edgedb/protocol/codecs/codecs.pyx":510
  *     bytes = hton.unpack_int64(frb_read(buf, 8))
  * 
  *     return datatypes.ConfigMemory(bytes=bytes)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 515, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 510, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyInt_From_int64_t(__pyx_v_bytes); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 515, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From_int64_t(__pyx_v_bytes); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 510, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_bytes, __pyx_t_3) < 0) __PYX_ERR(5, 515, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_bytes, __pyx_t_3) < 0) __PYX_ERR(5, 510, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_6edgedb_9datatypes_9datatypes_ConfigMemory), __pyx_empty_tuple, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 515, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_6edgedb_9datatypes_9datatypes_ConfigMemory), __pyx_empty_tuple, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 510, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":509
+  /* "edgedb/protocol/codecs/codecs.pyx":504
  * 
  * 
  * cdef config_memory_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     cdef:
  *         int64_t bytes
  */
 
@@ -28312,705 +27583,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":521
- * 
- * 
- * cdef pgvector_encode_memview(pgproto.CodecContext settings, WriteBuffer buf,             # <<<<<<<<<<<<<<
- *                              float[:] obj):
- *     cdef:
- */
-
-static PyObject *__pyx_f_6edgedb_8protocol_8protocol_pgvector_encode_memview(CYTHON_UNUSED struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *__pyx_v_settings, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *__pyx_v_buf, __Pyx_memviewslice __pyx_v_obj) {
-  Py_ssize_t __pyx_v_objlen;
-  Py_ssize_t __pyx_v_i;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  size_t __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  Py_ssize_t __pyx_t_4;
-  Py_ssize_t __pyx_t_5;
-  Py_ssize_t __pyx_t_6;
-  Py_ssize_t __pyx_t_7;
-  int __pyx_t_8;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("pgvector_encode_memview", 0);
-
-  /* "edgedb/protocol/codecs/codecs.pyx":528
- *         Py_ssize_t i
- * 
- *     objlen = len(obj)             # <<<<<<<<<<<<<<
- *     if objlen > PGVECTOR_MAX_DIM:
- *         raise ValueError('too many elements in vector value')
- */
-  __pyx_t_1 = __Pyx_MemoryView_Len(__pyx_v_obj); 
-  __pyx_v_objlen = __pyx_t_1;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":529
- * 
- *     objlen = len(obj)
- *     if objlen > PGVECTOR_MAX_DIM:             # <<<<<<<<<<<<<<
- *         raise ValueError('too many elements in vector value')
- * 
- */
-  __pyx_t_2 = ((__pyx_v_objlen > 0xFFFF) != 0);
-  if (unlikely(__pyx_t_2)) {
-
-    /* "edgedb/protocol/codecs/codecs.pyx":530
- *     objlen = len(obj)
- *     if objlen > PGVECTOR_MAX_DIM:
- *         raise ValueError('too many elements in vector value')             # <<<<<<<<<<<<<<
- * 
- *     buf.write_int32(4 + objlen*4)
- */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__62, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 530, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_Raise(__pyx_t_3, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(5, 530, __pyx_L1_error)
-
-    /* "edgedb/protocol/codecs/codecs.pyx":529
- * 
- *     objlen = len(obj)
- *     if objlen > PGVECTOR_MAX_DIM:             # <<<<<<<<<<<<<<
- *         raise ValueError('too many elements in vector value')
- * 
- */
-  }
-
-  /* "edgedb/protocol/codecs/codecs.pyx":532
- *         raise ValueError('too many elements in vector value')
- * 
- *     buf.write_int32(4 + objlen*4)             # <<<<<<<<<<<<<<
- *     buf.write_int16(objlen)
- *     buf.write_int16(0)
- */
-  __pyx_t_3 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, (4 + (__pyx_v_objlen * 4))); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 532, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":533
- * 
- *     buf.write_int32(4 + objlen*4)
- *     buf.write_int16(objlen)             # <<<<<<<<<<<<<<
- *     buf.write_int16(0)
- *     for i in range(objlen):
- */
-  __pyx_t_3 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, __pyx_v_objlen); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 533, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":534
- *     buf.write_int32(4 + objlen*4)
- *     buf.write_int16(objlen)
- *     buf.write_int16(0)             # <<<<<<<<<<<<<<
- *     for i in range(objlen):
- *         buf.write_float(obj[i])
- */
-  __pyx_t_3 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 534, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":535
- *     buf.write_int16(objlen)
- *     buf.write_int16(0)
- *     for i in range(objlen):             # <<<<<<<<<<<<<<
- *         buf.write_float(obj[i])
- * 
- */
-  __pyx_t_4 = __pyx_v_objlen;
-  __pyx_t_5 = __pyx_t_4;
-  for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
-    __pyx_v_i = __pyx_t_6;
-
-    /* "edgedb/protocol/codecs/codecs.pyx":536
- *     buf.write_int16(0)
- *     for i in range(objlen):
- *         buf.write_float(obj[i])             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    __pyx_t_7 = __pyx_v_i;
-    __pyx_t_8 = -1;
-    if (__pyx_t_7 < 0) {
-      __pyx_t_7 += __pyx_v_obj.shape[0];
-      if (unlikely(__pyx_t_7 < 0)) __pyx_t_8 = 0;
-    } else if (unlikely(__pyx_t_7 >= __pyx_v_obj.shape[0])) __pyx_t_8 = 0;
-    if (unlikely(__pyx_t_8 != -1)) {
-      __Pyx_RaiseBufferIndexError(__pyx_t_8);
-      __PYX_ERR(5, 536, __pyx_L1_error)
-    }
-    __pyx_t_3 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_float(__pyx_v_buf, (*((float *) ( /* dim=0 */ (__pyx_v_obj.data + __pyx_t_7 * __pyx_v_obj.strides[0]) )))); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 536, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  }
-
-  /* "edgedb/protocol/codecs/codecs.pyx":521
- * 
- * 
- * cdef pgvector_encode_memview(pgproto.CodecContext settings, WriteBuffer buf,             # <<<<<<<<<<<<<<
- *                              float[:] obj):
- *     cdef:
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("edgedb.protocol.protocol.pgvector_encode_memview", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "edgedb/protocol/codecs/codecs.pyx":539
- * 
- * 
- * cdef pgvector_encode(pgproto.CodecContext settings, WriteBuffer buf,             # <<<<<<<<<<<<<<
- *                      object obj):
- *     cdef:
- */
-
-static PyObject *__pyx_f_6edgedb_8protocol_8protocol_pgvector_encode(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *__pyx_v_settings, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *__pyx_v_buf, PyObject *__pyx_v_obj) {
-  Py_ssize_t __pyx_v_objlen;
-  __Pyx_memviewslice __pyx_v_memview = { 0, 0, { 0 }, { 0 }, { 0 } };
-  Py_ssize_t __pyx_v_i;
-  CYTHON_UNUSED PyObject *__pyx_v_e = NULL;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  __Pyx_memviewslice __pyx_t_4 = { 0, 0, { 0 }, { 0 }, { 0 } };
-  PyObject *__pyx_t_5 = NULL;
-  int __pyx_t_6;
-  PyObject *__pyx_t_7 = NULL;
-  PyObject *__pyx_t_8 = NULL;
-  int __pyx_t_9;
-  int __pyx_t_10;
-  PyObject *__pyx_t_11 = NULL;
-  Py_ssize_t __pyx_t_12;
-  Py_ssize_t __pyx_t_13;
-  Py_ssize_t __pyx_t_14;
-  float __pyx_t_15;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("pgvector_encode", 0);
-
-  /* "edgedb/protocol/codecs/codecs.pyx":552
- *     # Otherwise we take the slow path, indexing into the array using
- *     # the normal protocol.
- *     try:             # <<<<<<<<<<<<<<
- *         memview = obj
- *     except (ValueError, TypeError) as e:
- */
-  {
-    __Pyx_PyThreadState_declare
-    __Pyx_PyThreadState_assign
-    __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
-    __Pyx_XGOTREF(__pyx_t_1);
-    __Pyx_XGOTREF(__pyx_t_2);
-    __Pyx_XGOTREF(__pyx_t_3);
-    /*try:*/ {
-
-      /* "edgedb/protocol/codecs/codecs.pyx":553
- *     # the normal protocol.
- *     try:
- *         memview = obj             # <<<<<<<<<<<<<<
- *     except (ValueError, TypeError) as e:
- *         pass
- */
-      __pyx_t_4 = __Pyx_PyObject_to_MemoryviewSlice_ds_float(__pyx_v_obj, PyBUF_WRITABLE); if (unlikely(!__pyx_t_4.memview)) __PYX_ERR(5, 553, __pyx_L3_error)
-      __pyx_v_memview = __pyx_t_4;
-      __pyx_t_4.memview = NULL;
-      __pyx_t_4.data = NULL;
-
-      /* "edgedb/protocol/codecs/codecs.pyx":552
- *     # Otherwise we take the slow path, indexing into the array using
- *     # the normal protocol.
- *     try:             # <<<<<<<<<<<<<<
- *         memview = obj
- *     except (ValueError, TypeError) as e:
- */
-    }
-
-    /* "edgedb/protocol/codecs/codecs.pyx":557
- *         pass
- *     else:
- *         pgvector_encode_memview(settings, buf, memview)             # <<<<<<<<<<<<<<
- *         return
- * 
- */
-    /*else:*/ {
-      __pyx_t_5 = __pyx_f_6edgedb_8protocol_8protocol_pgvector_encode_memview(__pyx_v_settings, __pyx_v_buf, __pyx_v_memview); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 557, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_5);
-      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-
-      /* "edgedb/protocol/codecs/codecs.pyx":558
- *     else:
- *         pgvector_encode_memview(settings, buf, memview)
- *         return             # <<<<<<<<<<<<<<
- * 
- *     if not _is_array_iterable(obj):
- */
-      __Pyx_XDECREF(__pyx_r);
-      __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-      goto __pyx_L6_except_return;
-    }
-    __pyx_L3_error:;
-    __PYX_XDEC_MEMVIEW(&__pyx_t_4, 1);
-
-    /* "edgedb/protocol/codecs/codecs.pyx":554
- *     try:
- *         memview = obj
- *     except (ValueError, TypeError) as e:             # <<<<<<<<<<<<<<
- *         pass
- *     else:
- */
-    __pyx_t_6 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_ValueError) || __Pyx_PyErr_ExceptionMatches(__pyx_builtin_TypeError);
-    if (__pyx_t_6) {
-      __Pyx_AddTraceback("edgedb.protocol.protocol.pgvector_encode", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_5, &__pyx_t_7, &__pyx_t_8) < 0) __PYX_ERR(5, 554, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_5);
-      __Pyx_GOTREF(__pyx_t_7);
-      __Pyx_GOTREF(__pyx_t_8);
-      __Pyx_INCREF(__pyx_t_7);
-      __pyx_v_e = __pyx_t_7;
-      /*try:*/ {
-      }
-      /*finally:*/ {
-        /*normal exit:*/{
-          __Pyx_DECREF(__pyx_v_e);
-          __pyx_v_e = NULL;
-          goto __pyx_L15;
-        }
-        __pyx_L15:;
-      }
-      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-      goto __pyx_L4_exception_handled;
-    }
-    goto __pyx_L5_except_error;
-    __pyx_L5_except_error:;
-
-    /* "edgedb/protocol/codecs/codecs.pyx":552
- *     # Otherwise we take the slow path, indexing into the array using
- *     # the normal protocol.
- *     try:             # <<<<<<<<<<<<<<
- *         memview = obj
- *     except (ValueError, TypeError) as e:
- */
-    __Pyx_XGIVEREF(__pyx_t_1);
-    __Pyx_XGIVEREF(__pyx_t_2);
-    __Pyx_XGIVEREF(__pyx_t_3);
-    __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
-    goto __pyx_L1_error;
-    __pyx_L6_except_return:;
-    __Pyx_XGIVEREF(__pyx_t_1);
-    __Pyx_XGIVEREF(__pyx_t_2);
-    __Pyx_XGIVEREF(__pyx_t_3);
-    __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
-    goto __pyx_L0;
-    __pyx_L4_exception_handled:;
-    __Pyx_XGIVEREF(__pyx_t_1);
-    __Pyx_XGIVEREF(__pyx_t_2);
-    __Pyx_XGIVEREF(__pyx_t_3);
-    __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
-  }
-
-  /* "edgedb/protocol/codecs/codecs.pyx":560
- *         return
- * 
- *     if not _is_array_iterable(obj):             # <<<<<<<<<<<<<<
- *         raise TypeError(
- *             'a sized iterable container expected (got type {!r})'.format(
- */
-  __pyx_t_8 = __pyx_f_6edgedb_8protocol_8protocol__is_array_iterable(__pyx_v_obj); if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 560, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_8);
-  __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_8); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(5, 560, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-  __pyx_t_10 = ((!__pyx_t_9) != 0);
-  if (unlikely(__pyx_t_10)) {
-
-    /* "edgedb/protocol/codecs/codecs.pyx":562
- *     if not _is_array_iterable(obj):
- *         raise TypeError(
- *             'a sized iterable container expected (got type {!r})'.format(             # <<<<<<<<<<<<<<
- *                 type(obj).__name__))
- * 
- */
-    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_kp_u_a_sized_iterable_container_expec, __pyx_n_s_format); if (unlikely(!__pyx_t_7)) __PYX_ERR(5, 562, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-
-    /* "edgedb/protocol/codecs/codecs.pyx":563
- *         raise TypeError(
- *             'a sized iterable container expected (got type {!r})'.format(
- *                 type(obj).__name__))             # <<<<<<<<<<<<<<
- * 
- *     # Annoyingly, this is literally identical code to the fast path...
- */
-    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(((PyObject *)Py_TYPE(__pyx_v_obj)), __pyx_n_s_name); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 563, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_11 = NULL;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
-      __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_7);
-      if (likely(__pyx_t_11)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
-        __Pyx_INCREF(__pyx_t_11);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_7, function);
-      }
-    }
-    __pyx_t_8 = (__pyx_t_11) ? __Pyx_PyObject_Call2Args(__pyx_t_7, __pyx_t_11, __pyx_t_5) : __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_5);
-    __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_8)) __PYX_ERR(5, 562, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_8);
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-
-    /* "edgedb/protocol/codecs/codecs.pyx":561
- * 
- *     if not _is_array_iterable(obj):
- *         raise TypeError(             # <<<<<<<<<<<<<<
- *             'a sized iterable container expected (got type {!r})'.format(
- *                 type(obj).__name__))
- */
-    __pyx_t_7 = __Pyx_PyObject_CallOneArg(__pyx_builtin_TypeError, __pyx_t_8); if (unlikely(!__pyx_t_7)) __PYX_ERR(5, 561, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    __Pyx_Raise(__pyx_t_7, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-    __PYX_ERR(5, 561, __pyx_L1_error)
-
-    /* "edgedb/protocol/codecs/codecs.pyx":560
- *         return
- * 
- *     if not _is_array_iterable(obj):             # <<<<<<<<<<<<<<
- *         raise TypeError(
- *             'a sized iterable container expected (got type {!r})'.format(
- */
-  }
-
-  /* "edgedb/protocol/codecs/codecs.pyx":567
- *     # Annoyingly, this is literally identical code to the fast path...
- *     # but the types are different in critical ways.
- *     objlen = len(obj)             # <<<<<<<<<<<<<<
- *     if objlen > PGVECTOR_MAX_DIM:
- *         raise ValueError('too many elements in vector value')
- */
-  __pyx_t_12 = PyObject_Length(__pyx_v_obj); if (unlikely(__pyx_t_12 == ((Py_ssize_t)-1))) __PYX_ERR(5, 567, __pyx_L1_error)
-  __pyx_v_objlen = __pyx_t_12;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":568
- *     # but the types are different in critical ways.
- *     objlen = len(obj)
- *     if objlen > PGVECTOR_MAX_DIM:             # <<<<<<<<<<<<<<
- *         raise ValueError('too many elements in vector value')
- * 
- */
-  __pyx_t_10 = ((__pyx_v_objlen > 0xFFFF) != 0);
-  if (unlikely(__pyx_t_10)) {
-
-    /* "edgedb/protocol/codecs/codecs.pyx":569
- *     objlen = len(obj)
- *     if objlen > PGVECTOR_MAX_DIM:
- *         raise ValueError('too many elements in vector value')             # <<<<<<<<<<<<<<
- * 
- *     buf.write_int32(4 + objlen*4)
- */
-    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__62, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(5, 569, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __Pyx_Raise(__pyx_t_7, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-    __PYX_ERR(5, 569, __pyx_L1_error)
-
-    /* "edgedb/protocol/codecs/codecs.pyx":568
- *     # but the types are different in critical ways.
- *     objlen = len(obj)
- *     if objlen > PGVECTOR_MAX_DIM:             # <<<<<<<<<<<<<<
- *         raise ValueError('too many elements in vector value')
- * 
- */
-  }
-
-  /* "edgedb/protocol/codecs/codecs.pyx":571
- *         raise ValueError('too many elements in vector value')
- * 
- *     buf.write_int32(4 + objlen*4)             # <<<<<<<<<<<<<<
- *     buf.write_int16(objlen)
- *     buf.write_int16(0)
- */
-  __pyx_t_7 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, (4 + (__pyx_v_objlen * 4))); if (unlikely(!__pyx_t_7)) __PYX_ERR(5, 571, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_7);
-  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":572
- * 
- *     buf.write_int32(4 + objlen*4)
- *     buf.write_int16(objlen)             # <<<<<<<<<<<<<<
- *     buf.write_int16(0)
- *     for i in range(objlen):
- */
-  __pyx_t_7 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, __pyx_v_objlen); if (unlikely(!__pyx_t_7)) __PYX_ERR(5, 572, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_7);
-  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":573
- *     buf.write_int32(4 + objlen*4)
- *     buf.write_int16(objlen)
- *     buf.write_int16(0)             # <<<<<<<<<<<<<<
- *     for i in range(objlen):
- *         buf.write_float(obj[i])
- */
-  __pyx_t_7 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(5, 573, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_7);
-  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":574
- *     buf.write_int16(objlen)
- *     buf.write_int16(0)
- *     for i in range(objlen):             # <<<<<<<<<<<<<<
- *         buf.write_float(obj[i])
- * 
- */
-  __pyx_t_12 = __pyx_v_objlen;
-  __pyx_t_13 = __pyx_t_12;
-  for (__pyx_t_14 = 0; __pyx_t_14 < __pyx_t_13; __pyx_t_14+=1) {
-    __pyx_v_i = __pyx_t_14;
-
-    /* "edgedb/protocol/codecs/codecs.pyx":575
- *     buf.write_int16(0)
- *     for i in range(objlen):
- *         buf.write_float(obj[i])             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    __pyx_t_7 = __Pyx_GetItemInt(__pyx_v_obj, __pyx_v_i, Py_ssize_t, 1, PyInt_FromSsize_t, 0, 1, 1); if (unlikely(!__pyx_t_7)) __PYX_ERR(5, 575, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __pyx_t_15 = __pyx_PyFloat_AsFloat(__pyx_t_7); if (unlikely((__pyx_t_15 == (float)-1) && PyErr_Occurred())) __PYX_ERR(5, 575, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-    __pyx_t_7 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_float(__pyx_v_buf, __pyx_t_15); if (unlikely(!__pyx_t_7)) __PYX_ERR(5, 575, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-  }
-
-  /* "edgedb/protocol/codecs/codecs.pyx":539
- * 
- * 
- * cdef pgvector_encode(pgproto.CodecContext settings, WriteBuffer buf,             # <<<<<<<<<<<<<<
- *                      object obj):
- *     cdef:
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __PYX_XDEC_MEMVIEW(&__pyx_t_4, 1);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_XDECREF(__pyx_t_8);
-  __Pyx_XDECREF(__pyx_t_11);
-  __Pyx_AddTraceback("edgedb.protocol.protocol.pgvector_encode", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __PYX_XDEC_MEMVIEW(&__pyx_v_memview, 1);
-  __Pyx_XDECREF(__pyx_v_e);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "edgedb/protocol/codecs/codecs.pyx":581
- * 
- * 
- * cdef pgvector_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
- *     cdef:
- *         int32_t dim
- */
-
-static PyObject *__pyx_f_6edgedb_8protocol_8protocol_pgvector_decode(CYTHON_UNUSED struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *__pyx_v_settings, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *__pyx_v_buf) {
-  int32_t __pyx_v_dim;
-  Py_ssize_t __pyx_v_size;
-  char *__pyx_v_p;
-  __Pyx_memviewslice __pyx_v_array_view = { 0, 0, { 0 }, { 0 }, { 0 } };
-  PyObject *__pyx_v_val = NULL;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  char const *__pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  __Pyx_memviewslice __pyx_t_4 = { 0, 0, { 0 }, { 0 }, { 0 } };
-  Py_ssize_t __pyx_t_5;
-  int __pyx_t_6;
-  PyObject *__pyx_t_7 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("pgvector_decode", 0);
-
-  /* "edgedb/protocol/codecs/codecs.pyx":589
- *         float[:] array_view
- * 
- *     dim = hton.unpack_uint16(frb_read(buf, 2))             # <<<<<<<<<<<<<<
- *     frb_read(buf, 2)
- * 
- */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 589, __pyx_L1_error)
-  __pyx_v_dim = unpack_uint16(__pyx_t_1);
-
-  /* "edgedb/protocol/codecs/codecs.pyx":590
- * 
- *     dim = hton.unpack_uint16(frb_read(buf, 2))
- *     frb_read(buf, 2)             # <<<<<<<<<<<<<<
- * 
- *     size = dim * 4
- */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 590, __pyx_L1_error)
-
-  /* "edgedb/protocol/codecs/codecs.pyx":592
- *     frb_read(buf, 2)
- * 
- *     size = dim * 4             # <<<<<<<<<<<<<<
- *     p = frb_read(buf, size)
- * 
- */
-  __pyx_v_size = (__pyx_v_dim * 4);
-
-  /* "edgedb/protocol/codecs/codecs.pyx":593
- * 
- *     size = dim * 4
- *     p = frb_read(buf, size)             # <<<<<<<<<<<<<<
- * 
- *     # Create a float array with size dim
- */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, __pyx_v_size); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 593, __pyx_L1_error)
-  __pyx_v_p = __pyx_t_1;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":596
- * 
- *     # Create a float array with size dim
- *     val = ONE_EL_ARRAY * dim             # <<<<<<<<<<<<<<
- * 
- *     # And fill it with the buffer contents
- */
-  __pyx_t_2 = __Pyx_PyInt_From_int32_t(__pyx_v_dim); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 596, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyNumber_Multiply(__pyx_v_6edgedb_8protocol_8protocol_ONE_EL_ARRAY, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 596, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_v_val = __pyx_t_3;
-  __pyx_t_3 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":599
- * 
- *     # And fill it with the buffer contents
- *     array_view = val             # <<<<<<<<<<<<<<
- *     memcpy(&array_view[0], p, size)
- *     val.byteswap()
- */
-  __pyx_t_4 = __Pyx_PyObject_to_MemoryviewSlice_ds_float(__pyx_v_val, PyBUF_WRITABLE); if (unlikely(!__pyx_t_4.memview)) __PYX_ERR(5, 599, __pyx_L1_error)
-  __pyx_v_array_view = __pyx_t_4;
-  __pyx_t_4.memview = NULL;
-  __pyx_t_4.data = NULL;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":600
- *     # And fill it with the buffer contents
- *     array_view = val
- *     memcpy(&array_view[0], p, size)             # <<<<<<<<<<<<<<
- *     val.byteswap()
- * 
- */
-  __pyx_t_5 = 0;
-  __pyx_t_6 = -1;
-  if (__pyx_t_5 < 0) {
-    __pyx_t_5 += __pyx_v_array_view.shape[0];
-    if (unlikely(__pyx_t_5 < 0)) __pyx_t_6 = 0;
-  } else if (unlikely(__pyx_t_5 >= __pyx_v_array_view.shape[0])) __pyx_t_6 = 0;
-  if (unlikely(__pyx_t_6 != -1)) {
-    __Pyx_RaiseBufferIndexError(__pyx_t_6);
-    __PYX_ERR(5, 600, __pyx_L1_error)
-  }
-  (void)(memcpy((&(*((float *) ( /* dim=0 */ (__pyx_v_array_view.data + __pyx_t_5 * __pyx_v_array_view.strides[0]) )))), __pyx_v_p, __pyx_v_size));
-
-  /* "edgedb/protocol/codecs/codecs.pyx":601
- *     array_view = val
- *     memcpy(&array_view[0], p, size)
- *     val.byteswap()             # <<<<<<<<<<<<<<
- * 
- *     return val
- */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_val, __pyx_n_s_byteswap); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 601, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_7 = NULL;
-  if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
-    __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_2);
-    if (likely(__pyx_t_7)) {
-      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
-      __Pyx_INCREF(__pyx_t_7);
-      __Pyx_INCREF(function);
-      __Pyx_DECREF_SET(__pyx_t_2, function);
-    }
-  }
-  __pyx_t_3 = (__pyx_t_7) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_7) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-  if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 601, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":603
- *     val.byteswap()
- * 
- *     return val             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(__pyx_v_val);
-  __pyx_r = __pyx_v_val;
-  goto __pyx_L0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":581
- * 
- * 
- * cdef pgvector_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
- *     cdef:
- *         int32_t dim
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __PYX_XDEC_MEMVIEW(&__pyx_t_4, 1);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("edgedb.protocol.protocol.pgvector_decode", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __PYX_XDEC_MEMVIEW(&__pyx_v_array_view, 1);
-  __Pyx_XDECREF(__pyx_v_val);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "edgedb/protocol/codecs/codecs.pyx":606
+/* "edgedb/protocol/codecs/codecs.pyx":513
  * 
  * 
  * cdef checked_decimal_encode(             # <<<<<<<<<<<<<<
  *     pgproto.CodecContext settings, WriteBuffer buf, obj
  * ):
  */
 
@@ -29023,74 +27604,74 @@
   int __pyx_t_4;
   int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("checked_decimal_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":609
+  /* "edgedb/protocol/codecs/codecs.pyx":516
  *     pgproto.CodecContext settings, WriteBuffer buf, obj
  * ):
  *     if not isinstance(obj, decimal.Decimal) and not isinstance(obj, int):             # <<<<<<<<<<<<<<
  *         raise TypeError('expected a Decimal or an int')
  *     pgproto.numeric_encode_binary(settings, buf, obj)
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_decimal); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 609, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_decimal); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 516, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Decimal); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 609, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Decimal); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 516, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_4 = PyObject_IsInstance(__pyx_v_obj, __pyx_t_3); if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(5, 609, __pyx_L1_error)
+  __pyx_t_4 = PyObject_IsInstance(__pyx_v_obj, __pyx_t_3); if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(5, 516, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_5 = ((!(__pyx_t_4 != 0)) != 0);
   if (__pyx_t_5) {
   } else {
     __pyx_t_1 = __pyx_t_5;
     goto __pyx_L4_bool_binop_done;
   }
   __pyx_t_5 = PyInt_Check(__pyx_v_obj); 
   __pyx_t_4 = ((!(__pyx_t_5 != 0)) != 0);
   __pyx_t_1 = __pyx_t_4;
   __pyx_L4_bool_binop_done:;
   if (unlikely(__pyx_t_1)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":610
+    /* "edgedb/protocol/codecs/codecs.pyx":517
  * ):
  *     if not isinstance(obj, decimal.Decimal) and not isinstance(obj, int):
  *         raise TypeError('expected a Decimal or an int')             # <<<<<<<<<<<<<<
  *     pgproto.numeric_encode_binary(settings, buf, obj)
  * 
  */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__63, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 610, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__62, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 517, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(5, 610, __pyx_L1_error)
+    __PYX_ERR(5, 517, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":609
+    /* "edgedb/protocol/codecs/codecs.pyx":516
  *     pgproto.CodecContext settings, WriteBuffer buf, obj
  * ):
  *     if not isinstance(obj, decimal.Decimal) and not isinstance(obj, int):             # <<<<<<<<<<<<<<
  *         raise TypeError('expected a Decimal or an int')
  *     pgproto.numeric_encode_binary(settings, buf, obj)
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":611
+  /* "edgedb/protocol/codecs/codecs.pyx":518
  *     if not isinstance(obj, decimal.Decimal) and not isinstance(obj, int):
  *         raise TypeError('expected a Decimal or an int')
  *     pgproto.numeric_encode_binary(settings, buf, obj)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_3 = __pyx_f_6edgedb_7pgproto_7pgproto_numeric_encode_binary(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 611, __pyx_L1_error)
+  __pyx_t_3 = __pyx_f_6edgedb_7pgproto_7pgproto_numeric_encode_binary(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 518, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":606
+  /* "edgedb/protocol/codecs/codecs.pyx":513
  * 
  * 
  * cdef checked_decimal_encode(             # <<<<<<<<<<<<<<
  *     pgproto.CodecContext settings, WriteBuffer buf, obj
  * ):
  */
 
@@ -29104,15 +27685,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":614
+/* "edgedb/protocol/codecs/codecs.pyx":521
  * 
  * 
  * cdef decimal_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     return pgproto.numeric_decode_binary_ex(settings, buf, True)
  * 
  */
 
@@ -29121,29 +27702,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("decimal_decode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":615
+  /* "edgedb/protocol/codecs/codecs.pyx":522
  * 
  * cdef decimal_decode(pgproto.CodecContext settings, FRBuffer *buf):
  *     return pgproto.numeric_decode_binary_ex(settings, buf, True)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_numeric_decode_binary_ex(__pyx_v_settings, __pyx_v_buf, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 615, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_numeric_decode_binary_ex(__pyx_v_settings, __pyx_v_buf, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 522, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":614
+  /* "edgedb/protocol/codecs/codecs.pyx":521
  * 
  * 
  * cdef decimal_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     return pgproto.numeric_decode_binary_ex(settings, buf, True)
  * 
  */
 
@@ -29154,15 +27735,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":618
+/* "edgedb/protocol/codecs/codecs.pyx":525
  * 
  * 
  * cdef ensure_is_int(obj):             # <<<<<<<<<<<<<<
  *     if type(obj) is not int and not isinstance(obj, int):
  *         raise TypeError('expected an int')
  */
 
@@ -29174,15 +27755,15 @@
   int __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("ensure_is_int", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":619
+  /* "edgedb/protocol/codecs/codecs.pyx":526
  * 
  * cdef ensure_is_int(obj):
  *     if type(obj) is not int and not isinstance(obj, int):             # <<<<<<<<<<<<<<
  *         raise TypeError('expected an int')
  * 
  */
   __pyx_t_2 = (((PyObject *)Py_TYPE(__pyx_v_obj)) != ((PyObject *)(&PyInt_Type)));
@@ -29194,37 +27775,37 @@
   }
   __pyx_t_3 = PyInt_Check(__pyx_v_obj); 
   __pyx_t_2 = ((!(__pyx_t_3 != 0)) != 0);
   __pyx_t_1 = __pyx_t_2;
   __pyx_L4_bool_binop_done:;
   if (unlikely(__pyx_t_1)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":620
+    /* "edgedb/protocol/codecs/codecs.pyx":527
  * cdef ensure_is_int(obj):
  *     if type(obj) is not int and not isinstance(obj, int):
  *         raise TypeError('expected an int')             # <<<<<<<<<<<<<<
  * 
  * cdef checked_int2_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  */
-    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__64, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 620, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__63, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(5, 527, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_Raise(__pyx_t_4, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __PYX_ERR(5, 620, __pyx_L1_error)
+    __PYX_ERR(5, 527, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":619
+    /* "edgedb/protocol/codecs/codecs.pyx":526
  * 
  * cdef ensure_is_int(obj):
  *     if type(obj) is not int and not isinstance(obj, int):             # <<<<<<<<<<<<<<
  *         raise TypeError('expected an int')
  * 
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":618
+  /* "edgedb/protocol/codecs/codecs.pyx":525
  * 
  * 
  * cdef ensure_is_int(obj):             # <<<<<<<<<<<<<<
  *     if type(obj) is not int and not isinstance(obj, int):
  *         raise TypeError('expected an int')
  */
 
@@ -29237,15 +27818,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":622
+/* "edgedb/protocol/codecs/codecs.pyx":529
  *         raise TypeError('expected an int')
  * 
  * cdef checked_int2_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     ensure_is_int(obj)
  *     pgproto.int2_encode(settings, buf, obj)
  */
 
@@ -29254,37 +27835,37 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("checked_int2_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":623
+  /* "edgedb/protocol/codecs/codecs.pyx":530
  * 
  * cdef checked_int2_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     ensure_is_int(obj)             # <<<<<<<<<<<<<<
  *     pgproto.int2_encode(settings, buf, obj)
  * 
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_ensure_is_int(__pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 623, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_ensure_is_int(__pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 530, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":624
+  /* "edgedb/protocol/codecs/codecs.pyx":531
  * cdef checked_int2_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     ensure_is_int(obj)
  *     pgproto.int2_encode(settings, buf, obj)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_int2_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 624, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_int2_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 531, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":622
+  /* "edgedb/protocol/codecs/codecs.pyx":529
  *         raise TypeError('expected an int')
  * 
  * cdef checked_int2_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     ensure_is_int(obj)
  *     pgproto.int2_encode(settings, buf, obj)
  */
 
@@ -29297,15 +27878,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":627
+/* "edgedb/protocol/codecs/codecs.pyx":534
  * 
  * 
  * cdef checked_int4_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     ensure_is_int(obj)
  *     pgproto.int4_encode(settings, buf, obj)
  */
 
@@ -29314,37 +27895,37 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("checked_int4_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":628
+  /* "edgedb/protocol/codecs/codecs.pyx":535
  * 
  * cdef checked_int4_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     ensure_is_int(obj)             # <<<<<<<<<<<<<<
  *     pgproto.int4_encode(settings, buf, obj)
  * 
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_ensure_is_int(__pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 628, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_ensure_is_int(__pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 535, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":629
+  /* "edgedb/protocol/codecs/codecs.pyx":536
  * cdef checked_int4_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     ensure_is_int(obj)
  *     pgproto.int4_encode(settings, buf, obj)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_int4_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 629, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_int4_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 536, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":627
+  /* "edgedb/protocol/codecs/codecs.pyx":534
  * 
  * 
  * cdef checked_int4_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     ensure_is_int(obj)
  *     pgproto.int4_encode(settings, buf, obj)
  */
 
@@ -29357,15 +27938,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":632
+/* "edgedb/protocol/codecs/codecs.pyx":539
  * 
  * 
  * cdef checked_int8_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     ensure_is_int(obj)
  *     pgproto.int8_encode(settings, buf, obj)
  */
 
@@ -29374,37 +27955,37 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("checked_int8_encode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":633
+  /* "edgedb/protocol/codecs/codecs.pyx":540
  * 
  * cdef checked_int8_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     ensure_is_int(obj)             # <<<<<<<<<<<<<<
  *     pgproto.int8_encode(settings, buf, obj)
  * 
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_ensure_is_int(__pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 633, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_ensure_is_int(__pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 540, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":634
+  /* "edgedb/protocol/codecs/codecs.pyx":541
  * cdef checked_int8_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     ensure_is_int(obj)
  *     pgproto.int8_encode(settings, buf, obj)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_int8_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 634, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_int8_encode(__pyx_v_settings, __pyx_v_buf, __pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 541, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":632
+  /* "edgedb/protocol/codecs/codecs.pyx":539
  * 
  * 
  * cdef checked_int8_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     ensure_is_int(obj)
  *     pgproto.int8_encode(settings, buf, obj)
  */
 
@@ -29417,15 +27998,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":637
+/* "edgedb/protocol/codecs/codecs.pyx":544
  * 
  * 
  * cdef bigint_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     cdef:
  *         uint16_t sign = NUMERIC_POS
  */
 
@@ -29444,311 +28025,311 @@
   int16_t __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("bigint_encode", 0);
   __Pyx_INCREF(__pyx_v_obj);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":639
+  /* "edgedb/protocol/codecs/codecs.pyx":546
  * cdef bigint_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     cdef:
  *         uint16_t sign = NUMERIC_POS             # <<<<<<<<<<<<<<
  *         list digits = []
  * 
  */
   __pyx_v_sign = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":640
+  /* "edgedb/protocol/codecs/codecs.pyx":547
  *     cdef:
  *         uint16_t sign = NUMERIC_POS
  *         list digits = []             # <<<<<<<<<<<<<<
  * 
  *     ensure_is_int(obj)
  */
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 640, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 547, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_digits = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":642
+  /* "edgedb/protocol/codecs/codecs.pyx":549
  *         list digits = []
  * 
  *     ensure_is_int(obj)             # <<<<<<<<<<<<<<
  * 
  *     if obj == 0:
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_ensure_is_int(__pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 642, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_ensure_is_int(__pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 549, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":644
+  /* "edgedb/protocol/codecs/codecs.pyx":551
  *     ensure_is_int(obj)
  * 
  *     if obj == 0:             # <<<<<<<<<<<<<<
  *         buf.write_int32(8)  # len
  *         buf.write_int32(0)  # ndigits + weight
  */
-  __pyx_t_1 = __Pyx_PyInt_EqObjC(__pyx_v_obj, __pyx_int_0, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 644, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_EqObjC(__pyx_v_obj, __pyx_int_0, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 551, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(5, 644, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(5, 551, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (__pyx_t_2) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":645
+    /* "edgedb/protocol/codecs/codecs.pyx":552
  * 
  *     if obj == 0:
  *         buf.write_int32(8)  # len             # <<<<<<<<<<<<<<
  *         buf.write_int32(0)  # ndigits + weight
  *         buf.write_int16(NUMERIC_POS)  # sign
  */
-    __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 8); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 645, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 8); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 552, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":646
+    /* "edgedb/protocol/codecs/codecs.pyx":553
  *     if obj == 0:
  *         buf.write_int32(8)  # len
  *         buf.write_int32(0)  # ndigits + weight             # <<<<<<<<<<<<<<
  *         buf.write_int16(NUMERIC_POS)  # sign
  *         buf.write_int16(0)  # dscale
  */
-    __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 646, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 553, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":647
+    /* "edgedb/protocol/codecs/codecs.pyx":554
  *         buf.write_int32(8)  # len
  *         buf.write_int32(0)  # ndigits + weight
  *         buf.write_int16(NUMERIC_POS)  # sign             # <<<<<<<<<<<<<<
  *         buf.write_int16(0)  # dscale
  *         return
  */
-    __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 647, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 554, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":648
+    /* "edgedb/protocol/codecs/codecs.pyx":555
  *         buf.write_int32(0)  # ndigits + weight
  *         buf.write_int16(NUMERIC_POS)  # sign
  *         buf.write_int16(0)  # dscale             # <<<<<<<<<<<<<<
  *         return
  * 
  */
-    __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 648, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 555, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":649
+    /* "edgedb/protocol/codecs/codecs.pyx":556
  *         buf.write_int16(NUMERIC_POS)  # sign
  *         buf.write_int16(0)  # dscale
  *         return             # <<<<<<<<<<<<<<
  * 
  *     if obj < 0:
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":644
+    /* "edgedb/protocol/codecs/codecs.pyx":551
  *     ensure_is_int(obj)
  * 
  *     if obj == 0:             # <<<<<<<<<<<<<<
  *         buf.write_int32(8)  # len
  *         buf.write_int32(0)  # ndigits + weight
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":651
+  /* "edgedb/protocol/codecs/codecs.pyx":558
  *         return
  * 
  *     if obj < 0:             # <<<<<<<<<<<<<<
  *         sign = NUMERIC_NEG
  *         obj = -obj
  */
-  __pyx_t_1 = PyObject_RichCompare(__pyx_v_obj, __pyx_int_0, Py_LT); __Pyx_XGOTREF(__pyx_t_1); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 651, __pyx_L1_error)
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(5, 651, __pyx_L1_error)
+  __pyx_t_1 = PyObject_RichCompare(__pyx_v_obj, __pyx_int_0, Py_LT); __Pyx_XGOTREF(__pyx_t_1); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 558, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(5, 558, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (__pyx_t_2) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":652
+    /* "edgedb/protocol/codecs/codecs.pyx":559
  * 
  *     if obj < 0:
  *         sign = NUMERIC_NEG             # <<<<<<<<<<<<<<
  *         obj = -obj
  * 
  */
     __pyx_v_sign = 0x4000;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":653
+    /* "edgedb/protocol/codecs/codecs.pyx":560
  *     if obj < 0:
  *         sign = NUMERIC_NEG
  *         obj = -obj             # <<<<<<<<<<<<<<
  * 
  *     while obj:
  */
-    __pyx_t_1 = PyNumber_Negative(__pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 653, __pyx_L1_error)
+    __pyx_t_1 = PyNumber_Negative(__pyx_v_obj); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 560, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF_SET(__pyx_v_obj, __pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":651
+    /* "edgedb/protocol/codecs/codecs.pyx":558
  *         return
  * 
  *     if obj < 0:             # <<<<<<<<<<<<<<
  *         sign = NUMERIC_NEG
  *         obj = -obj
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":655
+  /* "edgedb/protocol/codecs/codecs.pyx":562
  *         obj = -obj
  * 
  *     while obj:             # <<<<<<<<<<<<<<
  *         mod = obj % NBASE
  *         obj //= NBASE
  */
   while (1) {
-    __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_obj); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(5, 655, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_obj); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(5, 562, __pyx_L1_error)
     if (!__pyx_t_2) break;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":656
+    /* "edgedb/protocol/codecs/codecs.pyx":563
  * 
  *     while obj:
  *         mod = obj % NBASE             # <<<<<<<<<<<<<<
  *         obj //= NBASE
  *         digits.append(mod)
  */
-    __pyx_t_1 = __Pyx_PyInt_RemainderObjC(__pyx_v_obj, __pyx_int_10000, 0x2710, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 656, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_RemainderObjC(__pyx_v_obj, __pyx_int_10000, 0x2710, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 563, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_XDECREF_SET(__pyx_v_mod, __pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":657
+    /* "edgedb/protocol/codecs/codecs.pyx":564
  *     while obj:
  *         mod = obj % NBASE
  *         obj //= NBASE             # <<<<<<<<<<<<<<
  *         digits.append(mod)
  * 
  */
-    __pyx_t_1 = __Pyx_PyInt_FloorDivideObjC(__pyx_v_obj, __pyx_int_10000, 0x2710, 1, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 657, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_FloorDivideObjC(__pyx_v_obj, __pyx_int_10000, 0x2710, 1, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 564, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF_SET(__pyx_v_obj, __pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":658
+    /* "edgedb/protocol/codecs/codecs.pyx":565
  *         mod = obj % NBASE
  *         obj //= NBASE
  *         digits.append(mod)             # <<<<<<<<<<<<<<
  * 
  *     buf.write_int32(8 + len(digits) * 2)  # len
  */
-    __pyx_t_3 = __Pyx_PyList_Append(__pyx_v_digits, __pyx_v_mod); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(5, 658, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyList_Append(__pyx_v_digits, __pyx_v_mod); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(5, 565, __pyx_L1_error)
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":660
+  /* "edgedb/protocol/codecs/codecs.pyx":567
  *         digits.append(mod)
  * 
  *     buf.write_int32(8 + len(digits) * 2)  # len             # <<<<<<<<<<<<<<
  *     buf.write_int16(len(digits))  # ndigits
  *     buf.write_int16(len(digits) - 1)  # weight
  */
-  __pyx_t_4 = PyList_GET_SIZE(__pyx_v_digits); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(5, 660, __pyx_L1_error)
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, (8 + (__pyx_t_4 * 2))); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 660, __pyx_L1_error)
+  __pyx_t_4 = PyList_GET_SIZE(__pyx_v_digits); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(5, 567, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int32(__pyx_v_buf, (8 + (__pyx_t_4 * 2))); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 567, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":661
+  /* "edgedb/protocol/codecs/codecs.pyx":568
  * 
  *     buf.write_int32(8 + len(digits) * 2)  # len
  *     buf.write_int16(len(digits))  # ndigits             # <<<<<<<<<<<<<<
  *     buf.write_int16(len(digits) - 1)  # weight
  *     buf.write_int16(sign)  # sign
  */
-  __pyx_t_4 = PyList_GET_SIZE(__pyx_v_digits); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(5, 661, __pyx_L1_error)
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 661, __pyx_L1_error)
+  __pyx_t_4 = PyList_GET_SIZE(__pyx_v_digits); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(5, 568, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, __pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 568, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":662
+  /* "edgedb/protocol/codecs/codecs.pyx":569
  *     buf.write_int32(8 + len(digits) * 2)  # len
  *     buf.write_int16(len(digits))  # ndigits
  *     buf.write_int16(len(digits) - 1)  # weight             # <<<<<<<<<<<<<<
  *     buf.write_int16(sign)  # sign
  *     buf.write_int16(0)  # dscale
  */
-  __pyx_t_4 = PyList_GET_SIZE(__pyx_v_digits); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(5, 662, __pyx_L1_error)
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, (__pyx_t_4 - 1)); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 662, __pyx_L1_error)
+  __pyx_t_4 = PyList_GET_SIZE(__pyx_v_digits); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(5, 569, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, (__pyx_t_4 - 1)); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 569, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":663
+  /* "edgedb/protocol/codecs/codecs.pyx":570
  *     buf.write_int16(len(digits))  # ndigits
  *     buf.write_int16(len(digits) - 1)  # weight
  *     buf.write_int16(sign)  # sign             # <<<<<<<<<<<<<<
  *     buf.write_int16(0)  # dscale
  *     for dig in reversed(digits):
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, __pyx_v_sign); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 663, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, __pyx_v_sign); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 570, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":664
+  /* "edgedb/protocol/codecs/codecs.pyx":571
  *     buf.write_int16(len(digits) - 1)  # weight
  *     buf.write_int16(sign)  # sign
  *     buf.write_int16(0)  # dscale             # <<<<<<<<<<<<<<
  *     for dig in reversed(digits):
  *         buf.write_int16(dig)
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 664, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 571, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":665
+  /* "edgedb/protocol/codecs/codecs.pyx":572
  *     buf.write_int16(sign)  # sign
  *     buf.write_int16(0)  # dscale
  *     for dig in reversed(digits):             # <<<<<<<<<<<<<<
  *         buf.write_int16(dig)
  * 
  */
   __pyx_t_1 = __pyx_v_digits; __Pyx_INCREF(__pyx_t_1); __pyx_t_4 = PyList_GET_SIZE(__pyx_t_1) - 1;
   for (;;) {
     if (__pyx_t_4 < 0) break;
     if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_1)) break;
     #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-    __pyx_t_5 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_4); __Pyx_INCREF(__pyx_t_5); __pyx_t_4--; if (unlikely(0 < 0)) __PYX_ERR(5, 665, __pyx_L1_error)
+    __pyx_t_5 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_4); __Pyx_INCREF(__pyx_t_5); __pyx_t_4--; if (unlikely(0 < 0)) __PYX_ERR(5, 572, __pyx_L1_error)
     #else
-    __pyx_t_5 = PySequence_ITEM(__pyx_t_1, __pyx_t_4); __pyx_t_4--; if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 665, __pyx_L1_error)
+    __pyx_t_5 = PySequence_ITEM(__pyx_t_1, __pyx_t_4); __pyx_t_4--; if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 572, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     #endif
     __Pyx_XDECREF_SET(__pyx_v_dig, __pyx_t_5);
     __pyx_t_5 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":666
+    /* "edgedb/protocol/codecs/codecs.pyx":573
  *     buf.write_int16(0)  # dscale
  *     for dig in reversed(digits):
  *         buf.write_int16(dig)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __pyx_t_6 = __Pyx_PyInt_As_int16_t(__pyx_v_dig); if (unlikely((__pyx_t_6 == ((int16_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 666, __pyx_L1_error)
-    __pyx_t_5 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, __pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 666, __pyx_L1_error)
+    __pyx_t_6 = __Pyx_PyInt_As_int16_t(__pyx_v_dig); if (unlikely((__pyx_t_6 == ((int16_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 573, __pyx_L1_error)
+    __pyx_t_5 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_v_buf->__pyx_vtab)->write_int16(__pyx_v_buf, __pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 573, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":665
+    /* "edgedb/protocol/codecs/codecs.pyx":572
  *     buf.write_int16(sign)  # sign
  *     buf.write_int16(0)  # dscale
  *     for dig in reversed(digits):             # <<<<<<<<<<<<<<
  *         buf.write_int16(dig)
  * 
  */
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":637
+  /* "edgedb/protocol/codecs/codecs.pyx":544
  * 
  * 
  * cdef bigint_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):             # <<<<<<<<<<<<<<
  *     cdef:
  *         uint16_t sign = NUMERIC_POS
  */
 
@@ -29766,15 +28347,15 @@
   __Pyx_XDECREF(__pyx_v_dig);
   __Pyx_XDECREF(__pyx_v_obj);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":669
+/* "edgedb/protocol/codecs/codecs.pyx":576
  * 
  * 
  * cdef bigint_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     cdef:
  *         uint16_t ndigits = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  */
 
@@ -29796,220 +28377,220 @@
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("bigint_decode", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":671
+  /* "edgedb/protocol/codecs/codecs.pyx":578
  * cdef bigint_decode(pgproto.CodecContext settings, FRBuffer *buf):
  *     cdef:
  *         uint16_t ndigits = <uint16_t>hton.unpack_int16(frb_read(buf, 2))             # <<<<<<<<<<<<<<
  *         uint16_t weight = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         uint16_t sign = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 671, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 578, __pyx_L1_error)
   __pyx_v_ndigits = ((uint16_t)unpack_int16(__pyx_t_1));
 
-  /* "edgedb/protocol/codecs/codecs.pyx":672
+  /* "edgedb/protocol/codecs/codecs.pyx":579
  *     cdef:
  *         uint16_t ndigits = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         uint16_t weight = <uint16_t>hton.unpack_int16(frb_read(buf, 2))             # <<<<<<<<<<<<<<
  *         uint16_t sign = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         uint16_t dscale = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 672, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 579, __pyx_L1_error)
   __pyx_v_weight = ((uint16_t)unpack_int16(__pyx_t_1));
 
-  /* "edgedb/protocol/codecs/codecs.pyx":673
+  /* "edgedb/protocol/codecs/codecs.pyx":580
  *         uint16_t ndigits = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         uint16_t weight = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         uint16_t sign = <uint16_t>hton.unpack_int16(frb_read(buf, 2))             # <<<<<<<<<<<<<<
  *         uint16_t dscale = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         result = ''
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 673, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 580, __pyx_L1_error)
   __pyx_v_sign = ((uint16_t)unpack_int16(__pyx_t_1));
 
-  /* "edgedb/protocol/codecs/codecs.pyx":674
+  /* "edgedb/protocol/codecs/codecs.pyx":581
  *         uint16_t weight = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         uint16_t sign = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         uint16_t dscale = <uint16_t>hton.unpack_int16(frb_read(buf, 2))             # <<<<<<<<<<<<<<
  *         result = ''
  *         int32_t i = <int32_t>weight
  */
-  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 674, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 581, __pyx_L1_error)
   __pyx_v_dscale = ((uint16_t)unpack_int16(__pyx_t_1));
 
-  /* "edgedb/protocol/codecs/codecs.pyx":675
+  /* "edgedb/protocol/codecs/codecs.pyx":582
  *         uint16_t sign = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         uint16_t dscale = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         result = ''             # <<<<<<<<<<<<<<
  *         int32_t i = <int32_t>weight
  *         uint16_t d = 0
  */
-  __Pyx_INCREF(__pyx_kp_u__65);
-  __pyx_v_result = __pyx_kp_u__65;
+  __Pyx_INCREF(__pyx_kp_u__64);
+  __pyx_v_result = __pyx_kp_u__64;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":676
+  /* "edgedb/protocol/codecs/codecs.pyx":583
  *         uint16_t dscale = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  *         result = ''
  *         int32_t i = <int32_t>weight             # <<<<<<<<<<<<<<
  *         uint16_t d = 0
  * 
  */
   __pyx_v_i = ((int32_t)__pyx_v_weight);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":677
+  /* "edgedb/protocol/codecs/codecs.pyx":584
  *         result = ''
  *         int32_t i = <int32_t>weight
  *         uint16_t d = 0             # <<<<<<<<<<<<<<
  * 
  *     if sign == NUMERIC_NEG:
  */
   __pyx_v_d = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":679
+  /* "edgedb/protocol/codecs/codecs.pyx":586
  *         uint16_t d = 0
  * 
  *     if sign == NUMERIC_NEG:             # <<<<<<<<<<<<<<
  *         result = '-'
  *     elif sign != NUMERIC_POS:
  */
   __pyx_t_2 = ((__pyx_v_sign == 0x4000) != 0);
   if (__pyx_t_2) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":680
+    /* "edgedb/protocol/codecs/codecs.pyx":587
  * 
  *     if sign == NUMERIC_NEG:
  *         result = '-'             # <<<<<<<<<<<<<<
  *     elif sign != NUMERIC_POS:
  *         raise ValueError("bad bigint sign data")
  */
-    __Pyx_INCREF(__pyx_kp_u__66);
-    __Pyx_DECREF_SET(__pyx_v_result, __pyx_kp_u__66);
+    __Pyx_INCREF(__pyx_kp_u__65);
+    __Pyx_DECREF_SET(__pyx_v_result, __pyx_kp_u__65);
 
-    /* "edgedb/protocol/codecs/codecs.pyx":679
+    /* "edgedb/protocol/codecs/codecs.pyx":586
  *         uint16_t d = 0
  * 
  *     if sign == NUMERIC_NEG:             # <<<<<<<<<<<<<<
  *         result = '-'
  *     elif sign != NUMERIC_POS:
  */
     goto __pyx_L3;
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":681
+  /* "edgedb/protocol/codecs/codecs.pyx":588
  *     if sign == NUMERIC_NEG:
  *         result = '-'
  *     elif sign != NUMERIC_POS:             # <<<<<<<<<<<<<<
  *         raise ValueError("bad bigint sign data")
  * 
  */
   __pyx_t_2 = ((__pyx_v_sign != 0) != 0);
   if (unlikely(__pyx_t_2)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":682
+    /* "edgedb/protocol/codecs/codecs.pyx":589
  *         result = '-'
  *     elif sign != NUMERIC_POS:
  *         raise ValueError("bad bigint sign data")             # <<<<<<<<<<<<<<
  * 
  *     if dscale != 0:
  */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__67, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 682, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__66, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 589, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(5, 682, __pyx_L1_error)
+    __PYX_ERR(5, 589, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":681
+    /* "edgedb/protocol/codecs/codecs.pyx":588
  *     if sign == NUMERIC_NEG:
  *         result = '-'
  *     elif sign != NUMERIC_POS:             # <<<<<<<<<<<<<<
  *         raise ValueError("bad bigint sign data")
  * 
  */
   }
   __pyx_L3:;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":684
+  /* "edgedb/protocol/codecs/codecs.pyx":591
  *         raise ValueError("bad bigint sign data")
  * 
  *     if dscale != 0:             # <<<<<<<<<<<<<<
  *         raise ValueError("bigint data has fractional part")
  * 
  */
   __pyx_t_2 = ((__pyx_v_dscale != 0) != 0);
   if (unlikely(__pyx_t_2)) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":685
+    /* "edgedb/protocol/codecs/codecs.pyx":592
  * 
  *     if dscale != 0:
  *         raise ValueError("bigint data has fractional part")             # <<<<<<<<<<<<<<
  * 
  *     if ndigits == 0:
  */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__68, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 685, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__67, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 592, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(5, 685, __pyx_L1_error)
+    __PYX_ERR(5, 592, __pyx_L1_error)
 
-    /* "edgedb/protocol/codecs/codecs.pyx":684
+    /* "edgedb/protocol/codecs/codecs.pyx":591
  *         raise ValueError("bad bigint sign data")
  * 
  *     if dscale != 0:             # <<<<<<<<<<<<<<
  *         raise ValueError("bigint data has fractional part")
  * 
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":687
+  /* "edgedb/protocol/codecs/codecs.pyx":594
  *         raise ValueError("bigint data has fractional part")
  * 
  *     if ndigits == 0:             # <<<<<<<<<<<<<<
  *         return 0
  * 
  */
   __pyx_t_2 = ((__pyx_v_ndigits == 0) != 0);
   if (__pyx_t_2) {
 
-    /* "edgedb/protocol/codecs/codecs.pyx":688
+    /* "edgedb/protocol/codecs/codecs.pyx":595
  * 
  *     if ndigits == 0:
  *         return 0             # <<<<<<<<<<<<<<
  * 
  *     while i >= 0:
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_int_0);
     __pyx_r = __pyx_int_0;
     goto __pyx_L0;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":687
+    /* "edgedb/protocol/codecs/codecs.pyx":594
  *         raise ValueError("bigint data has fractional part")
  * 
  *     if ndigits == 0:             # <<<<<<<<<<<<<<
  *         return 0
  * 
  */
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":690
+  /* "edgedb/protocol/codecs/codecs.pyx":597
  *         return 0
  * 
  *     while i >= 0:             # <<<<<<<<<<<<<<
  *         if i <= weight and d < ndigits:
  *             num = str(<uint16_t>hton.unpack_int16(frb_read(buf, 2)))
  */
   while (1) {
     __pyx_t_2 = ((__pyx_v_i >= 0) != 0);
     if (!__pyx_t_2) break;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":691
+    /* "edgedb/protocol/codecs/codecs.pyx":598
  * 
  *     while i >= 0:
  *         if i <= weight and d < ndigits:             # <<<<<<<<<<<<<<
  *             num = str(<uint16_t>hton.unpack_int16(frb_read(buf, 2)))
  *             result += num.zfill(4)
  */
     __pyx_t_4 = ((__pyx_v_i <= __pyx_v_weight) != 0);
@@ -30019,119 +28600,119 @@
       goto __pyx_L9_bool_binop_done;
     }
     __pyx_t_4 = ((__pyx_v_d < __pyx_v_ndigits) != 0);
     __pyx_t_2 = __pyx_t_4;
     __pyx_L9_bool_binop_done:;
     if (__pyx_t_2) {
 
-      /* "edgedb/protocol/codecs/codecs.pyx":692
+      /* "edgedb/protocol/codecs/codecs.pyx":599
  *     while i >= 0:
  *         if i <= weight and d < ndigits:
  *             num = str(<uint16_t>hton.unpack_int16(frb_read(buf, 2)))             # <<<<<<<<<<<<<<
  *             result += num.zfill(4)
  *             d += 1
  */
-      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 692, __pyx_L1_error)
-      __pyx_t_3 = __Pyx_PyInt_From_uint16_t(((uint16_t)unpack_int16(__pyx_t_1))); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 692, __pyx_L1_error)
+      __pyx_t_1 = __pyx_f_6edgedb_7pgproto_7pgproto_frb_read(__pyx_v_buf, 2); if (unlikely(__pyx_t_1 == ((char const *)NULL))) __PYX_ERR(5, 599, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyInt_From_uint16_t(((uint16_t)unpack_int16(__pyx_t_1))); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 599, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_5 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyUnicode_Type)), __pyx_t_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 692, __pyx_L1_error)
+      __pyx_t_5 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyUnicode_Type)), __pyx_t_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 599, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_XDECREF_SET(__pyx_v_num, __pyx_t_5);
       __pyx_t_5 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":693
+      /* "edgedb/protocol/codecs/codecs.pyx":600
  *         if i <= weight and d < ndigits:
  *             num = str(<uint16_t>hton.unpack_int16(frb_read(buf, 2)))
  *             result += num.zfill(4)             # <<<<<<<<<<<<<<
  *             d += 1
  *         else:
  */
-      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_num, __pyx_n_s_zfill); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 693, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_num, __pyx_n_s_zfill); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 600, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __pyx_t_6 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
         __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_3);
         if (likely(__pyx_t_6)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
           __Pyx_INCREF(__pyx_t_6);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_3, function);
         }
       }
       __pyx_t_5 = (__pyx_t_6) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_6, __pyx_int_4) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_int_4);
       __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-      if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 693, __pyx_L1_error)
+      if (unlikely(!__pyx_t_5)) __PYX_ERR(5, 600, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      __pyx_t_3 = PyNumber_InPlaceAdd(__pyx_v_result, __pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 693, __pyx_L1_error)
+      __pyx_t_3 = PyNumber_InPlaceAdd(__pyx_v_result, __pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 600, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       __Pyx_DECREF_SET(__pyx_v_result, __pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "edgedb/protocol/codecs/codecs.pyx":694
+      /* "edgedb/protocol/codecs/codecs.pyx":601
  *             num = str(<uint16_t>hton.unpack_int16(frb_read(buf, 2)))
  *             result += num.zfill(4)
  *             d += 1             # <<<<<<<<<<<<<<
  *         else:
  *             result += '0000'
  */
       __pyx_v_d = (__pyx_v_d + 1);
 
-      /* "edgedb/protocol/codecs/codecs.pyx":691
+      /* "edgedb/protocol/codecs/codecs.pyx":598
  * 
  *     while i >= 0:
  *         if i <= weight and d < ndigits:             # <<<<<<<<<<<<<<
  *             num = str(<uint16_t>hton.unpack_int16(frb_read(buf, 2)))
  *             result += num.zfill(4)
  */
       goto __pyx_L8;
     }
 
-    /* "edgedb/protocol/codecs/codecs.pyx":696
+    /* "edgedb/protocol/codecs/codecs.pyx":603
  *             d += 1
  *         else:
  *             result += '0000'             # <<<<<<<<<<<<<<
  *         i -= 1
  * 
  */
     /*else*/ {
-      __pyx_t_3 = PyNumber_InPlaceAdd(__pyx_v_result, __pyx_kp_u_0000); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 696, __pyx_L1_error)
+      __pyx_t_3 = PyNumber_InPlaceAdd(__pyx_v_result, __pyx_kp_u_0000); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 603, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF_SET(__pyx_v_result, __pyx_t_3);
       __pyx_t_3 = 0;
     }
     __pyx_L8:;
 
-    /* "edgedb/protocol/codecs/codecs.pyx":697
+    /* "edgedb/protocol/codecs/codecs.pyx":604
  *         else:
  *             result += '0000'
  *         i -= 1             # <<<<<<<<<<<<<<
  * 
  *     return int(result)
  */
     __pyx_v_i = (__pyx_v_i - 1);
   }
 
-  /* "edgedb/protocol/codecs/codecs.pyx":699
+  /* "edgedb/protocol/codecs/codecs.pyx":606
  *         i -= 1
  * 
  *     return int(result)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_3 = __Pyx_PyNumber_Int(__pyx_v_result); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 699, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyNumber_Int(__pyx_v_result); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 606, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":669
+  /* "edgedb/protocol/codecs/codecs.pyx":576
  * 
  * 
  * cdef bigint_decode(pgproto.CodecContext settings, FRBuffer *buf):             # <<<<<<<<<<<<<<
  *     cdef:
  *         uint16_t ndigits = <uint16_t>hton.unpack_int16(frb_read(buf, 2))
  */
 
@@ -30146,311 +28727,275 @@
   __Pyx_XDECREF(__pyx_v_result);
   __Pyx_XDECREF(__pyx_v_num);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "edgedb/protocol/codecs/codecs.pyx":702
+/* "edgedb/protocol/codecs/codecs.pyx":609
  * 
  * 
  * cdef register_base_scalar_codecs():             # <<<<<<<<<<<<<<
  *     register_base_scalar_codec(
  *         'std::uuid',
  */
 
 static PyObject *__pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codecs(void) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  struct __pyx_opt_args_6edgedb_8protocol_8protocol_register_base_scalar_codec __pyx_t_4;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("register_base_scalar_codecs", 0);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":703
+  /* "edgedb/protocol/codecs/codecs.pyx":610
  * 
  * cdef register_base_scalar_codecs():
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::uuid',
  *         pgproto.uuid_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_uuid, __pyx_f_6edgedb_7pgproto_7pgproto_uuid_encode, __pyx_f_6edgedb_7pgproto_7pgproto_uuid_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 703, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_uuid, __pyx_f_6edgedb_7pgproto_7pgproto_uuid_encode, __pyx_f_6edgedb_7pgproto_7pgproto_uuid_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 610, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":708
+  /* "edgedb/protocol/codecs/codecs.pyx":615
  *         pgproto.uuid_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::str',
  *         pgproto.text_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_str, __pyx_f_6edgedb_7pgproto_7pgproto_text_encode, __pyx_f_6edgedb_7pgproto_7pgproto_text_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 708, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_str, __pyx_f_6edgedb_7pgproto_7pgproto_text_encode, __pyx_f_6edgedb_7pgproto_7pgproto_text_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 615, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":713
+  /* "edgedb/protocol/codecs/codecs.pyx":620
  *         pgproto.text_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::bytes',
  *         pgproto.bytea_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_bytes, __pyx_f_6edgedb_7pgproto_7pgproto_bytea_encode, __pyx_f_6edgedb_7pgproto_7pgproto_bytea_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 713, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_bytes, __pyx_f_6edgedb_7pgproto_7pgproto_bytea_encode, __pyx_f_6edgedb_7pgproto_7pgproto_bytea_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 620, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":718
+  /* "edgedb/protocol/codecs/codecs.pyx":625
  *         pgproto.bytea_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::int16',
  *         checked_int2_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_int16, __pyx_f_6edgedb_8protocol_8protocol_checked_int2_encode, __pyx_f_6edgedb_7pgproto_7pgproto_int2_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 718, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_int16, __pyx_f_6edgedb_8protocol_8protocol_checked_int2_encode, __pyx_f_6edgedb_7pgproto_7pgproto_int2_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 625, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":723
+  /* "edgedb/protocol/codecs/codecs.pyx":630
  *         pgproto.int2_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::int32',
  *         checked_int4_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_int32, __pyx_f_6edgedb_8protocol_8protocol_checked_int4_encode, __pyx_f_6edgedb_7pgproto_7pgproto_int4_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 723, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_int32, __pyx_f_6edgedb_8protocol_8protocol_checked_int4_encode, __pyx_f_6edgedb_7pgproto_7pgproto_int4_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 630, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":728
+  /* "edgedb/protocol/codecs/codecs.pyx":635
  *         pgproto.int4_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::int64',
  *         checked_int8_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_int64, __pyx_f_6edgedb_8protocol_8protocol_checked_int8_encode, __pyx_f_6edgedb_7pgproto_7pgproto_int8_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 728, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_int64, __pyx_f_6edgedb_8protocol_8protocol_checked_int8_encode, __pyx_f_6edgedb_7pgproto_7pgproto_int8_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 635, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":733
+  /* "edgedb/protocol/codecs/codecs.pyx":640
  *         pgproto.int8_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::float32',
  *         pgproto.float4_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_float32, __pyx_f_6edgedb_7pgproto_7pgproto_float4_encode, __pyx_f_6edgedb_7pgproto_7pgproto_float4_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 733, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_float32, __pyx_f_6edgedb_7pgproto_7pgproto_float4_encode, __pyx_f_6edgedb_7pgproto_7pgproto_float4_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 640, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":738
+  /* "edgedb/protocol/codecs/codecs.pyx":645
  *         pgproto.float4_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::float64',
  *         pgproto.float8_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_float64, __pyx_f_6edgedb_7pgproto_7pgproto_float8_encode, __pyx_f_6edgedb_7pgproto_7pgproto_float8_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 738, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_float64, __pyx_f_6edgedb_7pgproto_7pgproto_float8_encode, __pyx_f_6edgedb_7pgproto_7pgproto_float8_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 645, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":743
+  /* "edgedb/protocol/codecs/codecs.pyx":650
  *         pgproto.float8_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::decimal',
  *         checked_decimal_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_decimal, __pyx_f_6edgedb_8protocol_8protocol_checked_decimal_encode, __pyx_f_6edgedb_8protocol_8protocol_decimal_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 743, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_decimal, __pyx_f_6edgedb_8protocol_8protocol_checked_decimal_encode, __pyx_f_6edgedb_8protocol_8protocol_decimal_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 650, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":748
+  /* "edgedb/protocol/codecs/codecs.pyx":655
  *         decimal_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::bigint',
  *         bigint_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_bigint, __pyx_f_6edgedb_8protocol_8protocol_bigint_encode, __pyx_f_6edgedb_8protocol_8protocol_bigint_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 748, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_bigint, __pyx_f_6edgedb_8protocol_8protocol_bigint_encode, __pyx_f_6edgedb_8protocol_8protocol_bigint_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 655, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":753
+  /* "edgedb/protocol/codecs/codecs.pyx":660
  *         bigint_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::bool',
  *         pgproto.bool_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_bool, __pyx_f_6edgedb_7pgproto_7pgproto_bool_encode, __pyx_f_6edgedb_7pgproto_7pgproto_bool_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 753, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_bool, __pyx_f_6edgedb_7pgproto_7pgproto_bool_encode, __pyx_f_6edgedb_7pgproto_7pgproto_bool_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 660, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":758
+  /* "edgedb/protocol/codecs/codecs.pyx":665
  *         pgproto.bool_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::datetime',
  *         timestamptz_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_datetime, __pyx_f_6edgedb_8protocol_8protocol_timestamptz_encode, __pyx_f_6edgedb_7pgproto_7pgproto_timestamptz_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 758, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_datetime, __pyx_f_6edgedb_8protocol_8protocol_timestamptz_encode, __pyx_f_6edgedb_7pgproto_7pgproto_timestamptz_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 665, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":763
+  /* "edgedb/protocol/codecs/codecs.pyx":670
  *         pgproto.timestamptz_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'cal::local_datetime',
  *         timestamp_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cal_local_datetime, __pyx_f_6edgedb_8protocol_8protocol_timestamp_encode, __pyx_f_6edgedb_7pgproto_7pgproto_timestamp_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 763, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cal_local_datetime, __pyx_f_6edgedb_8protocol_8protocol_timestamp_encode, __pyx_f_6edgedb_7pgproto_7pgproto_timestamp_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 670, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":768
+  /* "edgedb/protocol/codecs/codecs.pyx":675
  *         pgproto.timestamp_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'cal::local_date',
  *         date_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cal_local_date, __pyx_f_6edgedb_8protocol_8protocol_date_encode, __pyx_f_6edgedb_7pgproto_7pgproto_date_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 768, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cal_local_date, __pyx_f_6edgedb_8protocol_8protocol_date_encode, __pyx_f_6edgedb_7pgproto_7pgproto_date_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 675, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":773
+  /* "edgedb/protocol/codecs/codecs.pyx":680
  *         pgproto.date_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'cal::local_time',
  *         time_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cal_local_time, __pyx_f_6edgedb_8protocol_8protocol_time_encode, __pyx_f_6edgedb_7pgproto_7pgproto_time_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 773, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cal_local_time, __pyx_f_6edgedb_8protocol_8protocol_time_encode, __pyx_f_6edgedb_7pgproto_7pgproto_time_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 680, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":778
+  /* "edgedb/protocol/codecs/codecs.pyx":685
  *         pgproto.time_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::duration',
  *         duration_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_duration, __pyx_f_6edgedb_8protocol_8protocol_duration_encode, __pyx_f_6edgedb_8protocol_8protocol_duration_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 778, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_duration, __pyx_f_6edgedb_8protocol_8protocol_duration_encode, __pyx_f_6edgedb_8protocol_8protocol_duration_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 685, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":783
+  /* "edgedb/protocol/codecs/codecs.pyx":690
  *         duration_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'std::json',
  *         pgproto.jsonb_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_json, __pyx_f_6edgedb_7pgproto_7pgproto_jsonb_encode, __pyx_f_6edgedb_7pgproto_7pgproto_jsonb_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 783, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_std_json, __pyx_f_6edgedb_7pgproto_7pgproto_jsonb_encode, __pyx_f_6edgedb_7pgproto_7pgproto_jsonb_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 690, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":788
+  /* "edgedb/protocol/codecs/codecs.pyx":695
  *         pgproto.jsonb_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'cal::relative_duration',
  *         relative_duration_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cal_relative_duration, __pyx_f_6edgedb_8protocol_8protocol_relative_duration_encode, __pyx_f_6edgedb_8protocol_8protocol_relative_duration_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 788, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cal_relative_duration, __pyx_f_6edgedb_8protocol_8protocol_relative_duration_encode, __pyx_f_6edgedb_8protocol_8protocol_relative_duration_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 695, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":793
+  /* "edgedb/protocol/codecs/codecs.pyx":700
  *         relative_duration_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'cal::date_duration',
  *         date_duration_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cal_date_duration, __pyx_f_6edgedb_8protocol_8protocol_date_duration_encode, __pyx_f_6edgedb_8protocol_8protocol_date_duration_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 793, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cal_date_duration, __pyx_f_6edgedb_8protocol_8protocol_date_duration_encode, __pyx_f_6edgedb_8protocol_8protocol_date_duration_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 700, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":798
+  /* "edgedb/protocol/codecs/codecs.pyx":705
  *         date_duration_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
  *         'cfg::memory',
  *         config_memory_encode,
  */
-  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cfg_memory, __pyx_f_6edgedb_8protocol_8protocol_config_memory_encode, __pyx_f_6edgedb_8protocol_8protocol_config_memory_decode, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 798, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_cfg_memory, __pyx_f_6edgedb_8protocol_8protocol_config_memory_encode, __pyx_f_6edgedb_8protocol_8protocol_config_memory_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 705, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":808
- *         pgvector_encode,
- *         pgvector_decode,
- *         uuid.UUID('9565dd88-04f5-11ee-a691-0b6ebe179825'),             # <<<<<<<<<<<<<<
- *     )
- * 
- */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 808, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 808, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = NULL;
-  if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
-    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
-    if (likely(__pyx_t_2)) {
-      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
-      __Pyx_INCREF(__pyx_t_2);
-      __Pyx_INCREF(function);
-      __Pyx_DECREF_SET(__pyx_t_3, function);
-    }
-  }
-  __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_2, __pyx_kp_u_9565dd88_04f5_11ee_a691_0b6ebe17) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_kp_u_9565dd88_04f5_11ee_a691_0b6ebe17);
-  __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 808, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":804
- * 
+  /* "edgedb/protocol/codecs/codecs.pyx":710
+ *         config_memory_decode)
  * 
  *     register_base_scalar_codec(             # <<<<<<<<<<<<<<
- *         'ext::pgvector::vector',
- *         pgvector_encode,
+ *         'fts::language',
+ *         pgproto.text_encode,
  */
-  __pyx_t_4.__pyx_n = 1;
-  __pyx_t_4.tid = __pyx_t_1;
-  __pyx_t_3 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_ext_pgvector_vector, __pyx_f_6edgedb_8protocol_8protocol_pgvector_encode, __pyx_f_6edgedb_8protocol_8protocol_pgvector_decode, &__pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 804, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_t_1 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codec(__pyx_kp_u_fts_language, __pyx_f_6edgedb_7pgproto_7pgproto_text_encode, __pyx_f_6edgedb_7pgproto_7pgproto_text_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 710, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":702
+  /* "edgedb/protocol/codecs/codecs.pyx":609
  * 
  * 
  * cdef register_base_scalar_codecs():             # <<<<<<<<<<<<<<
  *     register_base_scalar_codec(
  *         'std::uuid',
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
   __Pyx_AddTraceback("edgedb.protocol.protocol.register_base_scalar_codecs", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
@@ -31495,19 +30040,19 @@
   /* "edgedb/protocol/protocol.pyx":151
  *         self.server_settings = {}
  *         self.reset_status()
  *         self.protocol_version = (PROTO_VER_MAJOR, 0)             # <<<<<<<<<<<<<<
  * 
  *         self.state_type_id = NULL_CODEC_ID
  */
-  __Pyx_INCREF(__pyx_tuple__69);
-  __Pyx_GIVEREF(__pyx_tuple__69);
+  __Pyx_INCREF(__pyx_tuple__68);
+  __Pyx_GIVEREF(__pyx_tuple__68);
   __Pyx_GOTREF(__pyx_v_self->protocol_version);
   __Pyx_DECREF(__pyx_v_self->protocol_version);
-  __pyx_v_self->protocol_version = __pyx_tuple__69;
+  __pyx_v_self->protocol_version = __pyx_tuple__68;
 
   /* "edgedb/protocol/protocol.pyx":153
  *         self.protocol_version = (PROTO_VER_MAJOR, 0)
  * 
  *         self.state_type_id = NULL_CODEC_ID             # <<<<<<<<<<<<<<
  *         self.state_codec = None
  *         self.state_cache = (None, None)
@@ -31534,19 +30079,19 @@
   /* "edgedb/protocol/protocol.pyx":155
  *         self.state_type_id = NULL_CODEC_ID
  *         self.state_codec = None
  *         self.state_cache = (None, None)             # <<<<<<<<<<<<<<
  * 
  *     cdef reset_status(self):
  */
-  __Pyx_INCREF(__pyx_tuple__70);
-  __Pyx_GIVEREF(__pyx_tuple__70);
+  __Pyx_INCREF(__pyx_tuple__69);
+  __Pyx_GIVEREF(__pyx_tuple__69);
   __Pyx_GOTREF(__pyx_v_self->state_cache);
   __Pyx_DECREF(__pyx_v_self->state_cache);
-  __pyx_v_self->state_cache = __pyx_tuple__70;
+  __pyx_v_self->state_cache = __pyx_tuple__69;
 
   /* "edgedb/protocol/protocol.pyx":137
  * cdef class SansIOProtocol:
  * 
  *     def __init__(self, con_params):             # <<<<<<<<<<<<<<
  *         self.buffer = ReadBuffer()
  * 
@@ -33166,15 +31711,15 @@
  *         implicit_limit: int=0,
  *         inline_typenames: bool=False,
  *         inline_typeids: bool=False,             # <<<<<<<<<<<<<<
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,
  *         state: typing.Optional[dict] = None,
  */
     values[7] = ((PyObject *)Py_False);
-    values[8] = __pyx_k__71;
+    values[8] = __pyx_k__70;
 
     /* "edgedb/protocol/protocol.pyx":258
  *         inline_typeids: bool=False,
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,
  *         state: typing.Optional[dict] = None,             # <<<<<<<<<<<<<<
  *     ):
  *         cdef:
@@ -33217,15 +31762,15 @@
       __Pyx_RaiseKeywordRequired("_parse", __pyx_n_s_reg); __PYX_ERR(6, 246, __pyx_L3_error)
     }
     __pyx_v_query = ((PyObject*)values[0]);
     __pyx_v_reg = ((struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)values[1]);
     if (values[2]) {
       __pyx_v_output_format = ((enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat)__Pyx_PyInt_As_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(values[2])); if (unlikely(PyErr_Occurred())) __PYX_ERR(6, 251, __pyx_L3_error)
     } else {
-      __pyx_v_output_format = __pyx_k__72;
+      __pyx_v_output_format = __pyx_k__71;
     }
     if (values[3]) {
       __pyx_v_expect_one = __Pyx_PyObject_IsTrue(values[3]); if (unlikely((__pyx_v_expect_one == (int)-1) && PyErr_Occurred())) __PYX_ERR(6, 252, __pyx_L3_error)
     } else {
 
       /* "edgedb/protocol/protocol.pyx":252
  *         reg: CodecsRegistry,
@@ -33411,15 +31956,15 @@
     /* "edgedb/protocol/protocol.pyx":271
  * 
  *         if not self.connected:
  *             raise RuntimeError('not connected')             # <<<<<<<<<<<<<<
  * 
  *         buf = WriteBuffer.new_message(PREPARE_MSG)
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__73, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 271, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__72, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 271, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __PYX_ERR(6, 271, __pyx_L1_error)
 
     /* "edgedb/protocol/protocol.pyx":270
  *             bytes cardinality
@@ -34223,15 +32768,15 @@
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_execute (wrapper)", 0);
   {
     static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_query,&__pyx_n_s_args,&__pyx_n_s_kwargs,&__pyx_n_s_reg,&__pyx_n_s_qc,&__pyx_n_s_output_format,&__pyx_n_s_expect_one,&__pyx_n_s_required_one,&__pyx_n_s_implicit_limit,&__pyx_n_s_inline_typenames,&__pyx_n_s_inline_typeids,&__pyx_n_s_in_dc,&__pyx_n_s_out_dc,&__pyx_n_s_allow_capabilities,&__pyx_n_s_state,0};
     PyObject* values[15] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
-    values[13] = __pyx_k__74;
+    values[13] = __pyx_k__73;
 
     /* "edgedb/protocol/protocol.pyx":350
  *         in_dc: BaseCodec,
  *         out_dc: BaseCodec,
  *         state: typing.Optional[dict] = None,             # <<<<<<<<<<<<<<
  *     ):
  *         cdef:
@@ -36027,15 +34572,15 @@
  *         implicit_limit: int = 0,
  *         inline_typenames: bool = False,
  *         inline_typeids: bool = False,             # <<<<<<<<<<<<<<
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,
  *         state: typing.Optional[dict] = None,
  */
     values[10] = ((PyObject *)Py_False);
-    values[11] = __pyx_k__75;
+    values[11] = __pyx_k__74;
 
     /* "edgedb/protocol/protocol.pyx":499
  *         inline_typeids: bool = False,
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,
  *         state: typing.Optional[dict] = None,             # <<<<<<<<<<<<<<
  *     ):
  *         cdef:
@@ -36997,15 +35542,15 @@
  *         implicit_limit: int = 0,
  *         inline_typenames: bool = False,
  *         inline_typeids: bool = False,             # <<<<<<<<<<<<<<
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,
  *         state: typing.Optional[dict] = None,
  */
     values[10] = ((PyObject *)Py_False);
-    values[11] = __pyx_k__76;
+    values[11] = __pyx_k__75;
 
     /* "edgedb/protocol/protocol.pyx":592
  *         inline_typeids: bool = False,
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,
  *         state: typing.Optional[dict] = None,             # <<<<<<<<<<<<<<
  *     ):
  *         ret = await self.execute(
@@ -37684,15 +36229,15 @@
  *             else:
  *                 if output_format == OutputFormat.JSON:
  *                     return '[]'             # <<<<<<<<<<<<<<
  *                 else:
  *                     return ret
  */
         __Pyx_XDECREF(__pyx_r);
-        __pyx_r = NULL; __Pyx_ReturnWithStopIteration(__pyx_kp_u__77);
+        __pyx_r = NULL; __Pyx_ReturnWithStopIteration(__pyx_kp_u__76);
         goto __pyx_L0;
 
         /* "edgedb/protocol/protocol.pyx":630
  *                     return ret
  *             else:
  *                 if output_format == OutputFormat.JSON:             # <<<<<<<<<<<<<<
  *                     return '[]'
@@ -38119,15 +36664,15 @@
           /* "edgedb/protocol/protocol.pyx":660
  *                 if mtype == DUMP_BLOCK_MSG:
  *                     if not header_received:
  *                         raise RuntimeError('data block before header block')             # <<<<<<<<<<<<<<
  *                     data_received = True
  * 
  */
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__78, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 660, __pyx_L11_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__77, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 660, __pyx_L11_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_Raise(__pyx_t_2, 0, 0, 0);
           __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
           __PYX_ERR(6, 660, __pyx_L11_error)
 
           /* "edgedb/protocol/protocol.pyx":659
  *             try:
@@ -38216,15 +36761,15 @@
           /* "edgedb/protocol/protocol.pyx":669
  *                 elif mtype == DUMP_HEADER_BLOCK_MSG:
  *                     if header_received:
  *                         raise RuntimeError('more than one header block')             # <<<<<<<<<<<<<<
  *                     if data_received:
  *                         raise RuntimeError('header block after data block')
  */
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__79, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 669, __pyx_L11_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__78, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 669, __pyx_L11_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_Raise(__pyx_t_2, 0, 0, 0);
           __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
           __PYX_ERR(6, 669, __pyx_L11_error)
 
           /* "edgedb/protocol/protocol.pyx":668
  * 
@@ -38248,15 +36793,15 @@
           /* "edgedb/protocol/protocol.pyx":671
  *                         raise RuntimeError('more than one header block')
  *                     if data_received:
  *                         raise RuntimeError('header block after data block')             # <<<<<<<<<<<<<<
  * 
  *                     header_received = True
  */
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__80, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 671, __pyx_L11_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__79, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 671, __pyx_L11_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_Raise(__pyx_t_2, 0, 0, 0);
           __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
           __PYX_ERR(6, 671, __pyx_L11_error)
 
           /* "edgedb/protocol/protocol.pyx":670
  *                     if header_received:
@@ -38496,15 +37041,15 @@
     /* "edgedb/protocol/protocol.pyx":697
  * 
  *         if not header_received:
  *             raise RuntimeError('header block was not received')             # <<<<<<<<<<<<<<
  * 
  *         if exc is not None:
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__81, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 697, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__80, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 697, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __PYX_ERR(6, 697, __pyx_L1_error)
 
     /* "edgedb/protocol/protocol.pyx":696
  *                 self.buffer.finish_message()
@@ -40809,15 +39354,15 @@
     /* "edgedb/protocol/protocol.pyx":839
  * 
  *         if self.connected:
  *             raise RuntimeError('already connected')             # <<<<<<<<<<<<<<
  * 
  *         # protocol version
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__82, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 839, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__81, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 839, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __PYX_ERR(6, 839, __pyx_L1_error)
 
     /* "edgedb/protocol/protocol.pyx":838
  *         await self.wait_for_connect()
@@ -40866,19 +39411,19 @@
   /* "edgedb/protocol/protocol.pyx":845
  *         handshake_buf.write_int16(PROTO_VER_MAJOR)
  *         handshake_buf.write_int16(PROTO_VER_MINOR)
  *         self.protocol_version = (PROTO_VER_MAJOR, PROTO_VER_MINOR)             # <<<<<<<<<<<<<<
  * 
  *         # params
  */
-  __Pyx_INCREF(__pyx_tuple__69);
-  __Pyx_GIVEREF(__pyx_tuple__69);
+  __Pyx_INCREF(__pyx_tuple__68);
+  __Pyx_GIVEREF(__pyx_tuple__68);
   __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_self->protocol_version);
   __Pyx_DECREF(__pyx_cur_scope->__pyx_v_self->protocol_version);
-  __pyx_cur_scope->__pyx_v_self->protocol_version = __pyx_tuple__69;
+  __pyx_cur_scope->__pyx_v_self->protocol_version = __pyx_tuple__68;
 
   /* "edgedb/protocol/protocol.pyx":849
  *         # params
  *         params = {
  *             'user': self.con_params.user,             # <<<<<<<<<<<<<<
  *             'database': self.con_params.database,
  *         }
@@ -41293,18 +39838,18 @@
         __Pyx_GOTREF(__pyx_t_15);
         __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
         __pyx_t_13 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_15) > __pyx_t_13) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_15) : __pyx_t_13;
         __pyx_t_6 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_15);
         __Pyx_GIVEREF(__pyx_t_15);
         PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_15);
         __pyx_t_15 = 0;
-        __Pyx_INCREF(__pyx_kp_u__83);
+        __Pyx_INCREF(__pyx_kp_u__82);
         __pyx_t_6 += 1;
-        __Pyx_GIVEREF(__pyx_kp_u__83);
-        PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_kp_u__83);
+        __Pyx_GIVEREF(__pyx_kp_u__82);
+        PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_kp_u__82);
         __pyx_t_15 = __Pyx_PyInt_From_int16_t(__pyx_cur_scope->__pyx_v_minor); if (unlikely(!__pyx_t_15)) __PYX_ERR(6, 888, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_15);
         __pyx_t_14 = __Pyx_PyObject_FormatSimple(__pyx_t_15, __pyx_empty_unicode); if (unlikely(!__pyx_t_14)) __PYX_ERR(6, 888, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_14);
         __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
         __pyx_t_13 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_14) > __pyx_t_13) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_14) : __pyx_t_13;
         __pyx_t_6 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_14);
@@ -41644,15 +40189,15 @@
  *                     break
  *                 else:
  *                     raise RuntimeError('non-idle status after connect')             # <<<<<<<<<<<<<<
  * 
  *             else:
  */
       /*else*/ {
-        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__84, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 922, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__83, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 922, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_Raise(__pyx_t_2, 0, 0, 0);
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
         __PYX_ERR(6, 922, __pyx_L1_error)
       }
 
       /* "edgedb/protocol/protocol.pyx":915
@@ -41802,16 +40347,16 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_auth_sasl", 0);
   switch (__pyx_generator->resume_label) {
     case 0: goto __pyx_L3_first_run;
-    case 1: goto __pyx_L17_resume_from_await;
-    case 2: goto __pyx_L28_resume_from_await;
+    case 1: goto __pyx_L16_resume_from_await;
+    case 2: goto __pyx_L27_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
   if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 929, __pyx_L1_error)
 
@@ -41838,15 +40383,15 @@
     /* "edgedb/protocol/protocol.pyx":932
  *         num_methods = self.buffer.read_int32()
  *         if num_methods <= 0:
  *             raise RuntimeError(             # <<<<<<<<<<<<<<
  *                 'the server requested SASL authentication but did not '
  *                 'offer any methods')
  */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__85, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 932, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__84, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 932, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __PYX_ERR(6, 932, __pyx_L1_error)
 
     /* "edgedb/protocol/protocol.pyx":931
  *     async def _auth_sasl(self):
@@ -41995,15 +40540,15 @@
     /* "edgedb/protocol/protocol.pyx":949
  *             raise RuntimeError(
  *                 f'the server offered the following SASL authentication '
  *                 f'methods: {", ".join(methods)}, neither are supported.')             # <<<<<<<<<<<<<<
  * 
  *         client_nonce = scram.generate_nonce()
  */
-    __pyx_t_11 = PyUnicode_Join(__pyx_kp_u__86, __pyx_cur_scope->__pyx_v_methods); if (unlikely(!__pyx_t_11)) __PYX_ERR(6, 949, __pyx_L1_error)
+    __pyx_t_11 = PyUnicode_Join(__pyx_kp_u__85, __pyx_cur_scope->__pyx_v_methods); if (unlikely(!__pyx_t_11)) __PYX_ERR(6, 949, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_11);
     __pyx_t_10 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_11) > __pyx_t_10) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_11) : __pyx_t_10;
     __pyx_t_9 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_11);
     __Pyx_GIVEREF(__pyx_t_11);
     PyTuple_SET_ITEM(__pyx_t_8, 1, __pyx_t_11);
     __pyx_t_11 = 0;
     __Pyx_INCREF(__pyx_kp_u_neither_are_supported);
@@ -42174,28 +40719,28 @@
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   } else {
     Py_ssize_t index = -1;
     __pyx_t_11 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_11)) __PYX_ERR(6, 952, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_11);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_t_15 = Py_TYPE(__pyx_t_11)->tp_iternext;
-    index = 0; __pyx_t_8 = __pyx_t_15(__pyx_t_11); if (unlikely(!__pyx_t_8)) goto __pyx_L12_unpacking_failed;
+    index = 0; __pyx_t_8 = __pyx_t_15(__pyx_t_11); if (unlikely(!__pyx_t_8)) goto __pyx_L11_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_8);
-    index = 1; __pyx_t_14 = __pyx_t_15(__pyx_t_11); if (unlikely(!__pyx_t_14)) goto __pyx_L12_unpacking_failed;
+    index = 1; __pyx_t_14 = __pyx_t_15(__pyx_t_11); if (unlikely(!__pyx_t_14)) goto __pyx_L11_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_14);
     if (__Pyx_IternextUnpackEndCheck(__pyx_t_15(__pyx_t_11), 2) < 0) __PYX_ERR(6, 952, __pyx_L1_error)
     __pyx_t_15 = NULL;
     __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-    goto __pyx_L13_unpacking_done;
-    __pyx_L12_unpacking_failed:;
+    goto __pyx_L12_unpacking_done;
+    __pyx_L11_unpacking_failed:;
     __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
     __pyx_t_15 = NULL;
     if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
     __PYX_ERR(6, 952, __pyx_L1_error)
-    __pyx_L13_unpacking_done:;
+    __pyx_L12_unpacking_done:;
   }
 
   /* "edgedb/protocol/protocol.pyx":952
  * 
  *         client_nonce = scram.generate_nonce()
  *         client_first, client_first_bare = scram.build_client_first_message(             # <<<<<<<<<<<<<<
  *             client_nonce, self.con_params.user)
@@ -42316,15 +40861,15 @@
       if (likely(__pyx_r)) {
         __Pyx_XGIVEREF(__pyx_r);
         __Pyx_RefNannyFinishContext();
         __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
         /* return from generator, awaiting value */
         __pyx_generator->resume_label = 1;
         return __pyx_r;
-        __pyx_L17_resume_from_await:;
+        __pyx_L16_resume_from_await:;
         if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 963, __pyx_L1_error)
       } else {
         PyObject* exc_type = __Pyx_PyErr_Occurred();
         if (exc_type) {
           if (likely(exc_type == PyExc_StopIteration || (exc_type != PyExc_GeneratorExit && __Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration)))) PyErr_Clear();
           else __PYX_ERR(6, 963, __pyx_L1_error)
         }
@@ -42405,15 +40950,15 @@
       /* "edgedb/protocol/protocol.pyx":973
  * 
  *             elif mtype == AUTH_REQUEST_MSG:
  *                 break             # <<<<<<<<<<<<<<
  * 
  *             else:
  */
-      goto __pyx_L15_break;
+      goto __pyx_L14_break;
 
       /* "edgedb/protocol/protocol.pyx":972
  *                 raise exc
  * 
  *             elif mtype == AUTH_REQUEST_MSG:             # <<<<<<<<<<<<<<
  *                 break
  * 
@@ -42430,15 +40975,15 @@
  */
       __pyx_t_3 = ((struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SansIOProtocol *)__pyx_cur_scope->__pyx_v_self->__pyx_vtab)->fallthrough(__pyx_cur_scope->__pyx_v_self); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 976, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       break;
     }
   }
-  __pyx_L15_break:;
+  __pyx_L14_break:;
 
   /* "edgedb/protocol/protocol.pyx":978
  *                 self.fallthrough()
  * 
  *         status = self.buffer.read_int32()             # <<<<<<<<<<<<<<
  *         if status != AuthenticationStatuses.AUTH_SASL_CONTINUE:
  *             raise RuntimeError(
@@ -42578,30 +41123,30 @@
     __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
   } else {
     Py_ssize_t index = -1;
     __pyx_t_12 = PyObject_GetIter(__pyx_t_14); if (unlikely(!__pyx_t_12)) __PYX_ERR(6, 986, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_12);
     __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
     __pyx_t_15 = Py_TYPE(__pyx_t_12)->tp_iternext;
-    index = 0; __pyx_t_8 = __pyx_t_15(__pyx_t_12); if (unlikely(!__pyx_t_8)) goto __pyx_L19_unpacking_failed;
+    index = 0; __pyx_t_8 = __pyx_t_15(__pyx_t_12); if (unlikely(!__pyx_t_8)) goto __pyx_L18_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_8);
-    index = 1; __pyx_t_3 = __pyx_t_15(__pyx_t_12); if (unlikely(!__pyx_t_3)) goto __pyx_L19_unpacking_failed;
+    index = 1; __pyx_t_3 = __pyx_t_15(__pyx_t_12); if (unlikely(!__pyx_t_3)) goto __pyx_L18_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_3);
-    index = 2; __pyx_t_11 = __pyx_t_15(__pyx_t_12); if (unlikely(!__pyx_t_11)) goto __pyx_L19_unpacking_failed;
+    index = 2; __pyx_t_11 = __pyx_t_15(__pyx_t_12); if (unlikely(!__pyx_t_11)) goto __pyx_L18_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_11);
     if (__Pyx_IternextUnpackEndCheck(__pyx_t_15(__pyx_t_12), 3) < 0) __PYX_ERR(6, 986, __pyx_L1_error)
     __pyx_t_15 = NULL;
     __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-    goto __pyx_L20_unpacking_done;
-    __pyx_L19_unpacking_failed:;
+    goto __pyx_L19_unpacking_done;
+    __pyx_L18_unpacking_failed:;
     __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
     __pyx_t_15 = NULL;
     if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
     __PYX_ERR(6, 986, __pyx_L1_error)
-    __pyx_L20_unpacking_done:;
+    __pyx_L19_unpacking_done:;
   }
 
   /* "edgedb/protocol/protocol.pyx":986
  *         self.buffer.finish_message()
  * 
  *         server_nonce, salt, itercount = (             # <<<<<<<<<<<<<<
  *             scram.parse_server_first_message(server_first))
@@ -42642,19 +41187,19 @@
   __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_8); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(6, 990, __pyx_L1_error)
   if (!__pyx_t_2) {
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
   } else {
     __Pyx_INCREF(__pyx_t_8);
     __pyx_t_11 = __pyx_t_8;
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    goto __pyx_L21_bool_binop_done;
+    goto __pyx_L20_bool_binop_done;
   }
-  __Pyx_INCREF(__pyx_kp_u__65);
-  __pyx_t_11 = __pyx_kp_u__65;
-  __pyx_L21_bool_binop_done:;
+  __Pyx_INCREF(__pyx_kp_u__64);
+  __pyx_t_11 = __pyx_kp_u__64;
+  __pyx_L20_bool_binop_done:;
 
   /* "edgedb/protocol/protocol.pyx":993
  *             salt,
  *             itercount,
  *             client_first_bare.encode('utf-8'),             # <<<<<<<<<<<<<<
  *             server_first,
  *             server_nonce)
@@ -42772,28 +41317,28 @@
     __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
   } else {
     Py_ssize_t index = -1;
     __pyx_t_8 = PyObject_GetIter(__pyx_t_14); if (unlikely(!__pyx_t_8)) __PYX_ERR(6, 989, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
     __pyx_t_15 = Py_TYPE(__pyx_t_8)->tp_iternext;
-    index = 0; __pyx_t_3 = __pyx_t_15(__pyx_t_8); if (unlikely(!__pyx_t_3)) goto __pyx_L23_unpacking_failed;
+    index = 0; __pyx_t_3 = __pyx_t_15(__pyx_t_8); if (unlikely(!__pyx_t_3)) goto __pyx_L22_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_3);
-    index = 1; __pyx_t_16 = __pyx_t_15(__pyx_t_8); if (unlikely(!__pyx_t_16)) goto __pyx_L23_unpacking_failed;
+    index = 1; __pyx_t_16 = __pyx_t_15(__pyx_t_8); if (unlikely(!__pyx_t_16)) goto __pyx_L22_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_16);
     if (__Pyx_IternextUnpackEndCheck(__pyx_t_15(__pyx_t_8), 2) < 0) __PYX_ERR(6, 989, __pyx_L1_error)
     __pyx_t_15 = NULL;
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    goto __pyx_L24_unpacking_done;
-    __pyx_L23_unpacking_failed:;
+    goto __pyx_L23_unpacking_done;
+    __pyx_L22_unpacking_failed:;
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     __pyx_t_15 = NULL;
     if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
     __PYX_ERR(6, 989, __pyx_L1_error)
-    __pyx_L24_unpacking_done:;
+    __pyx_L23_unpacking_done:;
   }
 
   /* "edgedb/protocol/protocol.pyx":989
  *             scram.parse_server_first_message(server_first))
  * 
  *         client_final, expected_server_sig = scram.build_client_final_message(             # <<<<<<<<<<<<<<
  *             self.con_params.password or '',
@@ -42904,15 +41449,15 @@
       if (likely(__pyx_r)) {
         __Pyx_XGIVEREF(__pyx_r);
         __Pyx_RefNannyFinishContext();
         __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
         /* return from generator, awaiting value */
         __pyx_generator->resume_label = 2;
         return __pyx_r;
-        __pyx_L28_resume_from_await:;
+        __pyx_L27_resume_from_await:;
         if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 1004, __pyx_L1_error)
       } else {
         PyObject* exc_type = __Pyx_PyErr_Occurred();
         if (exc_type) {
           if (likely(exc_type == PyExc_StopIteration || (exc_type != PyExc_GeneratorExit && __Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration)))) PyErr_Clear();
           else __PYX_ERR(6, 1004, __pyx_L1_error)
         }
@@ -42993,15 +41538,15 @@
       /* "edgedb/protocol/protocol.pyx":1013
  * 
  *             elif mtype == AUTH_REQUEST_MSG:
  *                 break             # <<<<<<<<<<<<<<
  * 
  *             else:
  */
-      goto __pyx_L26_break;
+      goto __pyx_L25_break;
 
       /* "edgedb/protocol/protocol.pyx":1012
  *                 raise exc
  * 
  *             elif mtype == AUTH_REQUEST_MSG:             # <<<<<<<<<<<<<<
  *                 break
  * 
@@ -43018,15 +41563,15 @@
  */
       __pyx_t_14 = ((struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SansIOProtocol *)__pyx_cur_scope->__pyx_v_self->__pyx_vtab)->fallthrough(__pyx_cur_scope->__pyx_v_self); if (unlikely(!__pyx_t_14)) __PYX_ERR(6, 1016, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_14);
       __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
       break;
     }
   }
-  __pyx_L26_break:;
+  __pyx_L25_break:;
 
   /* "edgedb/protocol/protocol.pyx":1018
  *                 self.fallthrough()
  * 
  *         status = self.buffer.read_int32()             # <<<<<<<<<<<<<<
  *         if status != AuthenticationStatuses.AUTH_SASL_FINAL:
  *             raise RuntimeError(
@@ -43153,15 +41698,15 @@
     /* "edgedb/protocol/protocol.pyx":1028
  * 
  *         if server_sig != expected_server_sig:
  *             raise RuntimeError(             # <<<<<<<<<<<<<<
  *                 f'server SCRAM proof does not match')
  * 
  */
-    __pyx_t_16 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__87, NULL); if (unlikely(!__pyx_t_16)) __PYX_ERR(6, 1028, __pyx_L1_error)
+    __pyx_t_16 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__86, NULL); if (unlikely(!__pyx_t_16)) __PYX_ERR(6, 1028, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_16);
     __Pyx_Raise(__pyx_t_16, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
     __PYX_ERR(6, 1028, __pyx_L1_error)
 
     /* "edgedb/protocol/protocol.pyx":1027
  *         server_sig = scram.parse_server_final_message(server_final)
@@ -44840,19 +43385,19 @@
       /* "edgedb/protocol/protocol.pyx":1151
  *             if state_type_id != self.state_type_id:
  *                 self.state_type_id = state_type_id
  *                 self.state_cache = (None, None)             # <<<<<<<<<<<<<<
  *                 if self.internal_reg.has_codec(state_type_id):
  *                     self.state_codec = self.internal_reg.get_codec(
  */
-      __Pyx_INCREF(__pyx_tuple__70);
-      __Pyx_GIVEREF(__pyx_tuple__70);
+      __Pyx_INCREF(__pyx_tuple__69);
+      __Pyx_GIVEREF(__pyx_tuple__69);
       __Pyx_GOTREF(__pyx_v_self->state_cache);
       __Pyx_DECREF(__pyx_v_self->state_cache);
-      __pyx_v_self->state_cache = __pyx_tuple__70;
+      __pyx_v_self->state_cache = __pyx_tuple__69;
 
       /* "edgedb/protocol/protocol.pyx":1152
  *                 self.state_type_id = state_type_id
  *                 self.state_cache = (None, None)
  *                 if self.internal_reg.has_codec(state_type_id):             # <<<<<<<<<<<<<<
  *                     self.state_codec = self.internal_reg.get_codec(
  *                         state_type_id
@@ -45350,15 +43895,15 @@
       /* "edgedb/protocol/protocol.pyx":1205
  *         if PG_DEBUG:
  *             if buf.get_message_type() != DATA_MSG:
  *                 raise RuntimeError('first message is not "DataMsg"')             # <<<<<<<<<<<<<<
  * 
  *             if not isinstance(result, list):
  */
-      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__88, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 1205, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__87, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 1205, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_Raise(__pyx_t_1, 0, 0, 0);
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       __PYX_ERR(6, 1205, __pyx_L1_error)
 
       /* "edgedb/protocol/protocol.pyx":1204
  * 
@@ -45596,15 +44141,15 @@
         /* "edgedb/protocol/protocol.pyx":1228
  *                 buflen = hton.unpack_int32(frb_read(rbuf, 4))
  *                 if frb_get_len(rbuf) != buflen:
  *                     raise RuntimeError('invalid buffer length')             # <<<<<<<<<<<<<<
  *             else:
  *                 # EdgeDB returns rows with one column; Postgres' rows
  */
-        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__89, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 1228, __pyx_L1_error)
+        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__88, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 1228, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_Raise(__pyx_t_4, 0, 0, 0);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
         __PYX_ERR(6, 1228, __pyx_L1_error)
 
         /* "edgedb/protocol/protocol.pyx":1227
  * 
@@ -47520,15 +46065,15 @@
       __Pyx_RaiseKeywordRequired("_legacy_parse", __pyx_n_s_reg); __PYX_ERR(14, 32, __pyx_L3_error)
     }
     __pyx_v_query = ((PyObject*)values[0]);
     __pyx_v_reg = ((struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)values[1]);
     if (values[2]) {
       __pyx_v_output_format = ((enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat)__Pyx_PyInt_As_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(values[2])); if (unlikely(PyErr_Occurred())) __PYX_ERR(14, 37, __pyx_L3_error)
     } else {
-      __pyx_v_output_format = __pyx_k__90;
+      __pyx_v_output_format = __pyx_k__89;
     }
     if (values[3]) {
       __pyx_v_expect_one = __Pyx_PyObject_IsTrue(values[3]); if (unlikely((__pyx_v_expect_one == (int)-1) && PyErr_Occurred())) __PYX_ERR(14, 38, __pyx_L3_error)
     } else {
 
       /* "edgedb/protocol/protocol_v0.pyx":38
  *         reg: CodecsRegistry,
@@ -47714,15 +46259,15 @@
     /* "edgedb/protocol/protocol_v0.pyx":56
  * 
  *         if not self.connected:
  *             raise RuntimeError('not connected')             # <<<<<<<<<<<<<<
  * 
  *         buf = WriteBuffer.new_message(PREPARE_MSG)
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__73, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(14, 56, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__72, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(14, 56, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __PYX_ERR(14, 56, __pyx_L1_error)
 
     /* "edgedb/protocol/protocol_v0.pyx":55
  *             bytes cardinality
@@ -47825,15 +46370,15 @@
   /* "edgedb/protocol/protocol_v0.pyx":65
  *         buf.write_byte(output_format)
  *         buf.write_byte(CARDINALITY_ONE if expect_one else CARDINALITY_MANY)
  *         buf.write_len_prefixed_bytes(b'')  # stmt_name             # <<<<<<<<<<<<<<
  *         buf.write_len_prefixed_utf8(query)
  *         buf.end_message()
  */
-  __pyx_t_2 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_cur_scope->__pyx_v_buf->__pyx_vtab)->write_len_prefixed_bytes(__pyx_cur_scope->__pyx_v_buf, __pyx_kp_b__65); if (unlikely(!__pyx_t_2)) __PYX_ERR(14, 65, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_cur_scope->__pyx_v_buf->__pyx_vtab)->write_len_prefixed_bytes(__pyx_cur_scope->__pyx_v_buf, __pyx_kp_b__64); if (unlikely(!__pyx_t_2)) __PYX_ERR(14, 65, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol_v0.pyx":66
  *         buf.write_byte(CARDINALITY_ONE if expect_one else CARDINALITY_MANY)
  *         buf.write_len_prefixed_bytes(b'')  # stmt_name
  *         buf.write_len_prefixed_utf8(query)             # <<<<<<<<<<<<<<
@@ -48035,15 +46580,15 @@
         /* "edgedb/protocol/protocol_v0.pyx":82
  *                     attrs = self.legacy_parse_headers()
  *                     cardinality = self.buffer.read_byte()
  *                     if self.protocol_version >= (0, 14):             # <<<<<<<<<<<<<<
  *                         in_dc, out_dc = self.parse_type_data(reg)
  *                     else:
  */
-        __pyx_t_9 = PyObject_RichCompare(__pyx_cur_scope->__pyx_v_self->__pyx_base.protocol_version, __pyx_tuple__91, Py_GE); __Pyx_XGOTREF(__pyx_t_9); if (unlikely(!__pyx_t_9)) __PYX_ERR(14, 82, __pyx_L12_error)
+        __pyx_t_9 = PyObject_RichCompare(__pyx_cur_scope->__pyx_v_self->__pyx_base.protocol_version, __pyx_tuple__90, Py_GE); __Pyx_XGOTREF(__pyx_t_9); if (unlikely(!__pyx_t_9)) __PYX_ERR(14, 82, __pyx_L12_error)
         __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_9); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(14, 82, __pyx_L12_error)
         __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
         if (__pyx_t_4) {
 
           /* "edgedb/protocol/protocol_v0.pyx":83
  *                     cardinality = self.buffer.read_byte()
  *                     if self.protocol_version >= (0, 14):
@@ -48358,15 +46903,15 @@
   /* "edgedb/protocol/protocol_v0.pyx":105
  *             raise exc
  * 
  *         if self.protocol_version < (0, 14):             # <<<<<<<<<<<<<<
  *             if reg.has_codec(in_type_id):
  *                 in_dc = reg.get_codec(in_type_id)
  */
-  __pyx_t_9 = PyObject_RichCompare(__pyx_cur_scope->__pyx_v_self->__pyx_base.protocol_version, __pyx_tuple__91, Py_LT); __Pyx_XGOTREF(__pyx_t_9); if (unlikely(!__pyx_t_9)) __PYX_ERR(14, 105, __pyx_L1_error)
+  __pyx_t_9 = PyObject_RichCompare(__pyx_cur_scope->__pyx_v_self->__pyx_base.protocol_version, __pyx_tuple__90, Py_LT); __Pyx_XGOTREF(__pyx_t_9); if (unlikely(!__pyx_t_9)) __PYX_ERR(14, 105, __pyx_L1_error)
   __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_9); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(14, 105, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
   if (__pyx_t_1) {
 
     /* "edgedb/protocol/protocol_v0.pyx":106
  * 
  *         if self.protocol_version < (0, 14):
@@ -48502,15 +47047,15 @@
       /* "edgedb/protocol/protocol_v0.pyx":115
  *                 buf.write_int16(0)  # no headers
  *                 buf.write_byte(DESCRIBE_ASPECT_DATA)
  *                 buf.write_len_prefixed_bytes(b'')  # stmt_name             # <<<<<<<<<<<<<<
  *                 buf.end_message()
  *                 buf.write_bytes(SYNC_MESSAGE)
  */
-      __pyx_t_9 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_cur_scope->__pyx_v_buf->__pyx_vtab)->write_len_prefixed_bytes(__pyx_cur_scope->__pyx_v_buf, __pyx_kp_b__65); if (unlikely(!__pyx_t_9)) __PYX_ERR(14, 115, __pyx_L1_error)
+      __pyx_t_9 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_cur_scope->__pyx_v_buf->__pyx_vtab)->write_len_prefixed_bytes(__pyx_cur_scope->__pyx_v_buf, __pyx_kp_b__64); if (unlikely(!__pyx_t_9)) __PYX_ERR(14, 115, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
 
       /* "edgedb/protocol/protocol_v0.pyx":116
  *                 buf.write_byte(DESCRIBE_ASPECT_DATA)
  *                 buf.write_len_prefixed_bytes(b'')  # stmt_name
  *                 buf.end_message()             # <<<<<<<<<<<<<<
@@ -49388,15 +47933,15 @@
   /* "edgedb/protocol/protocol_v0.pyx":171
  *         buf = WriteBuffer.new_message(LEGACY_EXECUTE_MSG)
  *         buf.write_int16(0)  # no headers
  *         buf.write_len_prefixed_bytes(b'')  # stmt_name             # <<<<<<<<<<<<<<
  *         self.encode_args(in_dc, buf, args, kwargs)
  *         packet.write_buffer(buf.end_message())
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_cur_scope->__pyx_v_buf->__pyx_vtab)->write_len_prefixed_bytes(__pyx_cur_scope->__pyx_v_buf, __pyx_kp_b__65); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 171, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_cur_scope->__pyx_v_buf->__pyx_vtab)->write_len_prefixed_bytes(__pyx_cur_scope->__pyx_v_buf, __pyx_kp_b__64); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 171, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "edgedb/protocol/protocol_v0.pyx":172
  *         buf.write_int16(0)  # no headers
  *         buf.write_len_prefixed_bytes(b'')  # stmt_name
  *         self.encode_args(in_dc, buf, args, kwargs)             # <<<<<<<<<<<<<<
@@ -51768,15 +50313,15 @@
  *         implicit_limit: int = 0,
  *         inline_typenames: bool = False,
  *         inline_typeids: bool = False,             # <<<<<<<<<<<<<<
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,
  *     ):
  */
     values[10] = ((PyObject *)Py_False);
-    values[11] = __pyx_k__92;
+    values[11] = __pyx_k__91;
     if (likely(__pyx_kwds)) {
       Py_ssize_t kw_args;
       const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
       switch (pos_args) {
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
@@ -53221,15 +51766,15 @@
  *             else:
  *                 if output_format == OutputFormat.JSON:
  *                     return '[]'             # <<<<<<<<<<<<<<
  *                 else:
  *                     return ret
  */
         __Pyx_XDECREF(__pyx_r);
-        __pyx_r = NULL; __Pyx_ReturnWithStopIteration(__pyx_kp_u__77);
+        __pyx_r = NULL; __Pyx_ReturnWithStopIteration(__pyx_kp_u__76);
         goto __pyx_L0;
 
         /* "edgedb/protocol/protocol_v0.pyx":471
  *                     return ret
  *             else:
  *                 if output_format == OutputFormat.JSON:             # <<<<<<<<<<<<<<
  *                     return '[]'
@@ -55560,15 +54105,15 @@
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0x53368d7, 0x0e1f4d2, 0x737459e):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0x53368d7, 0x0e1f4d2, 0x737459e) = (_dict, _dict_get, _dict_move_to_end, _maxsize))" % __pyx_checksum)
  */
   __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__93, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__92, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
     /* "(tree fragment)":5
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0x53368d7, 0x0e1f4d2, 0x737459e):
@@ -55993,15 +54538,15 @@
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0x324635c, 0xd998748, 0x6ca3226):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0x324635c, 0xd998748, 0x6ca3226) = (base_codec_overrides, codecs, codecs_build_cache))" % __pyx_checksum)
  */
   __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__94, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__93, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
     /* "(tree fragment)":5
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0x324635c, 0xd998748, 0x6ca3226):
@@ -56419,15 +54964,15 @@
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0x5da7eb4, 0x07193df, 0xb9bc9eb):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0x5da7eb4, 0x07193df, 0xb9bc9eb) = (queries))" % __pyx_checksum)
  */
   __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__95, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__94, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
     /* "(tree fragment)":5
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0x5da7eb4, 0x07193df, 0xb9bc9eb):
@@ -56821,15 +55366,15 @@
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xaca005c, 0x59f3fd8, 0xfa99196):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xaca005c, 0x59f3fd8, 0xfa99196) = (backend_secret, buffer, cancelled, con, con_params, connected, internal_reg, is_legacy, last_capabilities, last_details, last_status, protocol_version, server_settings, state_cache, state_codec, state_type_id, xact_status))" % __pyx_checksum)
  */
   __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__96, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__95, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
     /* "(tree fragment)":5
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xaca005c, 0x59f3fd8, 0xfa99196):
@@ -57399,15 +55944,15 @@
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xaca005c, 0x59f3fd8, 0xfa99196):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xaca005c, 0x59f3fd8, 0xfa99196) = (backend_secret, buffer, cancelled, con, con_params, connected, internal_reg, is_legacy, last_capabilities, last_details, last_status, protocol_version, server_settings, state_cache, state_codec, state_type_id, xact_status))" % __pyx_checksum)
  */
   __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__96, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__95, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
     /* "(tree fragment)":5
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xaca005c, 0x59f3fd8, 0xfa99196):
@@ -60783,15 +59328,15 @@
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xd41d8cd, 0xe3b0c44, 0xda39a3e):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xd41d8cd, 0xe3b0c44, 0xda39a3e) = ())" % __pyx_checksum)
  */
   __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__97, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__96, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
     /* "(tree fragment)":5
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xd41d8cd, 0xe3b0c44, 0xda39a3e):
@@ -61057,15326 +59602,2309 @@
   __Pyx_AddTraceback("EnumBase.__pyx_unpickle___Pyx_EnumMeta__set_state", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_LRUMapping __pyx_vtable_6edgedb_8protocol_8protocol_LRUMapping;
 
-/* "View.MemoryView":123
- *         cdef bint dtype_is_object
- * 
- *     def __cinit__(array self, tuple shape, Py_ssize_t itemsize, format not None,             # <<<<<<<<<<<<<<
- *                   mode="c", bint allocate_buffer=True):
- * 
- */
-
-/* Python wrapper */
-static int __pyx_array___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static int __pyx_array___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  PyObject *__pyx_v_shape = 0;
-  Py_ssize_t __pyx_v_itemsize;
-  PyObject *__pyx_v_format = 0;
-  PyObject *__pyx_v_mode = 0;
-  int __pyx_v_allocate_buffer;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
-  {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_shape,&__pyx_n_s_itemsize,&__pyx_n_s_format,&__pyx_n_s_mode,&__pyx_n_s_allocate_buffer,0};
-    PyObject* values[5] = {0,0,0,0,0};
-    values[3] = ((PyObject *)__pyx_n_s_c);
-    if (unlikely(__pyx_kwds)) {
-      Py_ssize_t kw_args;
-      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
-      switch (pos_args) {
-        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
-        CYTHON_FALLTHROUGH;
-        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
-        CYTHON_FALLTHROUGH;
-        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-        CYTHON_FALLTHROUGH;
-        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-        CYTHON_FALLTHROUGH;
-        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = PyDict_Size(__pyx_kwds);
-      switch (pos_args) {
-        case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_shape)) != 0)) kw_args--;
-        else goto __pyx_L5_argtuple_error;
-        CYTHON_FALLTHROUGH;
-        case  1:
-        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_itemsize)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 3, 5, 1); __PYX_ERR(2, 123, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  2:
-        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_format)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 3, 5, 2); __PYX_ERR(2, 123, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  3:
-        if (kw_args > 0) {
-          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mode);
-          if (value) { values[3] = value; kw_args--; }
-        }
-        CYTHON_FALLTHROUGH;
-        case  4:
-        if (kw_args > 0) {
-          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_allocate_buffer);
-          if (value) { values[4] = value; kw_args--; }
-        }
-      }
-      if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(2, 123, __pyx_L3_error)
-      }
-    } else {
-      switch (PyTuple_GET_SIZE(__pyx_args)) {
-        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
-        CYTHON_FALLTHROUGH;
-        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
-        CYTHON_FALLTHROUGH;
-        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-    }
-    __pyx_v_shape = ((PyObject*)values[0]);
-    __pyx_v_itemsize = __Pyx_PyIndex_AsSsize_t(values[1]); if (unlikely((__pyx_v_itemsize == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(2, 123, __pyx_L3_error)
-    __pyx_v_format = values[2];
-    __pyx_v_mode = values[3];
-    if (values[4]) {
-      __pyx_v_allocate_buffer = __Pyx_PyObject_IsTrue(values[4]); if (unlikely((__pyx_v_allocate_buffer == (int)-1) && PyErr_Occurred())) __PYX_ERR(2, 124, __pyx_L3_error)
-    } else {
-
-      /* "View.MemoryView":124
- * 
- *     def __cinit__(array self, tuple shape, Py_ssize_t itemsize, format not None,
- *                   mode="c", bint allocate_buffer=True):             # <<<<<<<<<<<<<<
- * 
- *         cdef int idx
- */
-      __pyx_v_allocate_buffer = ((int)1);
-    }
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 3, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(2, 123, __pyx_L3_error)
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("View.MemoryView.array.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return -1;
-  __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_shape), (&PyTuple_Type), 1, "shape", 1))) __PYX_ERR(2, 123, __pyx_L1_error)
-  if (unlikely(((PyObject *)__pyx_v_format) == Py_None)) {
-    PyErr_Format(PyExc_TypeError, "Argument '%.200s' must not be None", "format"); __PYX_ERR(2, 123, __pyx_L1_error)
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_LRUMapping(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *p;
+  PyObject *o;
+  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
+    o = (*t->tp_alloc)(t, 0);
+  } else {
+    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
-  __pyx_r = __pyx_array___pyx_pf_15View_dot_MemoryView_5array___cinit__(((struct __pyx_array_obj *)__pyx_v_self), __pyx_v_shape, __pyx_v_itemsize, __pyx_v_format, __pyx_v_mode, __pyx_v_allocate_buffer);
-
-  /* "View.MemoryView":123
- *         cdef bint dtype_is_object
- * 
- *     def __cinit__(array self, tuple shape, Py_ssize_t itemsize, format not None,             # <<<<<<<<<<<<<<
- *                   mode="c", bint allocate_buffer=True):
- * 
- */
-
-  /* function exit code */
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __pyx_r = -1;
-  __pyx_L0:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)o);
+  p->__pyx_vtab = __pyx_vtabptr_6edgedb_8protocol_8protocol_LRUMapping;
+  p->_dict = Py_None; Py_INCREF(Py_None);
+  p->_dict_move_to_end = Py_None; Py_INCREF(Py_None);
+  p->_dict_get = Py_None; Py_INCREF(Py_None);
+  return o;
 }
 
-static int __pyx_array___pyx_pf_15View_dot_MemoryView_5array___cinit__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_shape, Py_ssize_t __pyx_v_itemsize, PyObject *__pyx_v_format, PyObject *__pyx_v_mode, int __pyx_v_allocate_buffer) {
-  int __pyx_v_idx;
-  Py_ssize_t __pyx_v_i;
-  Py_ssize_t __pyx_v_dim;
-  PyObject **__pyx_v_p;
-  char __pyx_v_order;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  Py_ssize_t __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_t_4;
-  PyObject *__pyx_t_5 = NULL;
-  PyObject *__pyx_t_6 = NULL;
-  char *__pyx_t_7;
-  int __pyx_t_8;
-  Py_ssize_t __pyx_t_9;
-  PyObject *__pyx_t_10 = NULL;
-  Py_ssize_t __pyx_t_11;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__cinit__", 0);
-  __Pyx_INCREF(__pyx_v_format);
-
-  /* "View.MemoryView":130
- *         cdef PyObject **p
- * 
- *         self.ndim = <int> len(shape)             # <<<<<<<<<<<<<<
- *         self.itemsize = itemsize
- * 
- */
-  if (unlikely(__pyx_v_shape == Py_None)) {
-    PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
-    __PYX_ERR(2, 130, __pyx_L1_error)
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_LRUMapping(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
-  __pyx_t_1 = PyTuple_GET_SIZE(__pyx_v_shape); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(2, 130, __pyx_L1_error)
-  __pyx_v_self->ndim = ((int)__pyx_t_1);
-
-  /* "View.MemoryView":131
- * 
- *         self.ndim = <int> len(shape)
- *         self.itemsize = itemsize             # <<<<<<<<<<<<<<
- * 
- *         if not self.ndim:
- */
-  __pyx_v_self->itemsize = __pyx_v_itemsize;
-
-  /* "View.MemoryView":133
- *         self.itemsize = itemsize
- * 
- *         if not self.ndim:             # <<<<<<<<<<<<<<
- *             raise ValueError("Empty shape tuple for cython.array")
- * 
- */
-  __pyx_t_2 = ((!(__pyx_v_self->ndim != 0)) != 0);
-  if (unlikely(__pyx_t_2)) {
-
-    /* "View.MemoryView":134
- * 
- *         if not self.ndim:
- *             raise ValueError("Empty shape tuple for cython.array")             # <<<<<<<<<<<<<<
- * 
- *         if itemsize <= 0:
- */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__98, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 134, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_Raise(__pyx_t_3, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(2, 134, __pyx_L1_error)
+  #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->_dict);
+  Py_CLEAR(p->_dict_move_to_end);
+  Py_CLEAR(p->_dict_get);
+  (*Py_TYPE(o)->tp_free)(o);
+}
 
-    /* "View.MemoryView":133
- *         self.itemsize = itemsize
- * 
- *         if not self.ndim:             # <<<<<<<<<<<<<<
- *             raise ValueError("Empty shape tuple for cython.array")
- * 
- */
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_LRUMapping(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)o;
+  if (p->_dict) {
+    e = (*v)(p->_dict, a); if (e) return e;
   }
-
-  /* "View.MemoryView":136
- *             raise ValueError("Empty shape tuple for cython.array")
- * 
- *         if itemsize <= 0:             # <<<<<<<<<<<<<<
- *             raise ValueError("itemsize <= 0 for cython.array")
- * 
- */
-  __pyx_t_2 = ((__pyx_v_itemsize <= 0) != 0);
-  if (unlikely(__pyx_t_2)) {
-
-    /* "View.MemoryView":137
- * 
- *         if itemsize <= 0:
- *             raise ValueError("itemsize <= 0 for cython.array")             # <<<<<<<<<<<<<<
- * 
- *         if not isinstance(format, bytes):
- */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__99, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 137, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_Raise(__pyx_t_3, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(2, 137, __pyx_L1_error)
-
-    /* "View.MemoryView":136
- *             raise ValueError("Empty shape tuple for cython.array")
- * 
- *         if itemsize <= 0:             # <<<<<<<<<<<<<<
- *             raise ValueError("itemsize <= 0 for cython.array")
- * 
- */
+  if (p->_dict_move_to_end) {
+    e = (*v)(p->_dict_move_to_end, a); if (e) return e;
   }
-
-  /* "View.MemoryView":139
- *             raise ValueError("itemsize <= 0 for cython.array")
- * 
- *         if not isinstance(format, bytes):             # <<<<<<<<<<<<<<
- *             format = format.encode('ASCII')
- *         self._format = format  # keep a reference to the byte string
- */
-  __pyx_t_2 = PyBytes_Check(__pyx_v_format); 
-  __pyx_t_4 = ((!(__pyx_t_2 != 0)) != 0);
-  if (__pyx_t_4) {
-
-    /* "View.MemoryView":140
- * 
- *         if not isinstance(format, bytes):
- *             format = format.encode('ASCII')             # <<<<<<<<<<<<<<
- *         self._format = format  # keep a reference to the byte string
- *         self.format = self._format
- */
-    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_format, __pyx_n_s_encode); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 140, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_6 = NULL;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
-      __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
-      if (likely(__pyx_t_6)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
-        __Pyx_INCREF(__pyx_t_6);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_5, function);
-      }
-    }
-    __pyx_t_3 = (__pyx_t_6) ? __Pyx_PyObject_Call2Args(__pyx_t_5, __pyx_t_6, __pyx_n_s_ASCII) : __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_n_s_ASCII);
-    __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 140, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __Pyx_DECREF_SET(__pyx_v_format, __pyx_t_3);
-    __pyx_t_3 = 0;
-
-    /* "View.MemoryView":139
- *             raise ValueError("itemsize <= 0 for cython.array")
- * 
- *         if not isinstance(format, bytes):             # <<<<<<<<<<<<<<
- *             format = format.encode('ASCII')
- *         self._format = format  # keep a reference to the byte string
- */
+  if (p->_dict_get) {
+    e = (*v)(p->_dict_get, a); if (e) return e;
   }
+  return 0;
+}
 
-  /* "View.MemoryView":141
- *         if not isinstance(format, bytes):
- *             format = format.encode('ASCII')
- *         self._format = format  # keep a reference to the byte string             # <<<<<<<<<<<<<<
- *         self.format = self._format
- * 
- */
-  if (!(likely(PyBytes_CheckExact(__pyx_v_format))||((__pyx_v_format) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "bytes", Py_TYPE(__pyx_v_format)->tp_name), 0))) __PYX_ERR(2, 141, __pyx_L1_error)
-  __pyx_t_3 = __pyx_v_format;
-  __Pyx_INCREF(__pyx_t_3);
-  __Pyx_GIVEREF(__pyx_t_3);
-  __Pyx_GOTREF(__pyx_v_self->_format);
-  __Pyx_DECREF(__pyx_v_self->_format);
-  __pyx_v_self->_format = ((PyObject*)__pyx_t_3);
-  __pyx_t_3 = 0;
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_LRUMapping(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)o;
+  tmp = ((PyObject*)p->_dict);
+  p->_dict = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  tmp = ((PyObject*)p->_dict_move_to_end);
+  p->_dict_move_to_end = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  tmp = ((PyObject*)p->_dict_get);
+  p->_dict_get = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
+static PyObject *__pyx_sq_item_6edgedb_8protocol_8protocol_LRUMapping(PyObject *o, Py_ssize_t i) {
+  PyObject *r;
+  PyObject *x = PyInt_FromSsize_t(i); if(!x) return 0;
+  r = Py_TYPE(o)->tp_as_mapping->mp_subscript(o, x);
+  Py_DECREF(x);
+  return r;
+}
 
-  /* "View.MemoryView":142
- *             format = format.encode('ASCII')
- *         self._format = format  # keep a reference to the byte string
- *         self.format = self._format             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  if (unlikely(__pyx_v_self->_format == Py_None)) {
-    PyErr_SetString(PyExc_TypeError, "expected bytes, NoneType found");
-    __PYX_ERR(2, 142, __pyx_L1_error)
+static int __pyx_mp_ass_subscript_6edgedb_8protocol_8protocol_LRUMapping(PyObject *o, PyObject *i, PyObject *v) {
+  if (v) {
+    return __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_5__setitem__(o, i, v);
   }
-  __pyx_t_7 = __Pyx_PyBytes_AsWritableString(__pyx_v_self->_format); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(2, 142, __pyx_L1_error)
-  __pyx_v_self->format = __pyx_t_7;
+  else {
+    return __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_7__delitem__(o, i);
+  }
+}
 
-  /* "View.MemoryView":145
- * 
- * 
- *         self._shape = <Py_ssize_t *> PyObject_Malloc(sizeof(Py_ssize_t)*self.ndim*2)             # <<<<<<<<<<<<<<
- *         self._strides = self._shape + self.ndim
- * 
- */
-  __pyx_v_self->_shape = ((Py_ssize_t *)PyObject_Malloc((((sizeof(Py_ssize_t)) * __pyx_v_self->ndim) * 2)));
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_LRUMapping[] = {
+  {"clear", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_15clear, METH_NOARGS, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_17__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_19__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-  /* "View.MemoryView":146
- * 
- *         self._shape = <Py_ssize_t *> PyObject_Malloc(sizeof(Py_ssize_t)*self.ndim*2)
- *         self._strides = self._shape + self.ndim             # <<<<<<<<<<<<<<
- * 
- *         if not self._shape:
- */
-  __pyx_v_self->_strides = (__pyx_v_self->_shape + __pyx_v_self->ndim);
+static PySequenceMethods __pyx_tp_as_sequence_LRUMapping = {
+  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_11__len__, /*sq_length*/
+  0, /*sq_concat*/
+  0, /*sq_repeat*/
+  __pyx_sq_item_6edgedb_8protocol_8protocol_LRUMapping, /*sq_item*/
+  0, /*sq_slice*/
+  0, /*sq_ass_item*/
+  0, /*sq_ass_slice*/
+  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_9__contains__, /*sq_contains*/
+  0, /*sq_inplace_concat*/
+  0, /*sq_inplace_repeat*/
+};
 
-  /* "View.MemoryView":148
- *         self._strides = self._shape + self.ndim
- * 
- *         if not self._shape:             # <<<<<<<<<<<<<<
- *             raise MemoryError("unable to allocate shape and strides.")
- * 
- */
-  __pyx_t_4 = ((!(__pyx_v_self->_shape != 0)) != 0);
-  if (unlikely(__pyx_t_4)) {
+static PyMappingMethods __pyx_tp_as_mapping_LRUMapping = {
+  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_11__len__, /*mp_length*/
+  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_3__getitem__, /*mp_subscript*/
+  __pyx_mp_ass_subscript_6edgedb_8protocol_8protocol_LRUMapping, /*mp_ass_subscript*/
+};
 
-    /* "View.MemoryView":149
- * 
- *         if not self._shape:
- *             raise MemoryError("unable to allocate shape and strides.")             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_MemoryError, __pyx_tuple__100, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 149, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_Raise(__pyx_t_3, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(2, 149, __pyx_L1_error)
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_LRUMapping = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.LRUMapping", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_LRUMapping, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  &__pyx_tp_as_sequence_LRUMapping, /*tp_as_sequence*/
+  &__pyx_tp_as_mapping_LRUMapping, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_LRUMapping, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_LRUMapping, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_13__iter__, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_LRUMapping, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_1__init__, /*tp_init*/
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_LRUMapping, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec __pyx_vtable_6edgedb_8protocol_8protocol_BaseCodec;
 
-    /* "View.MemoryView":148
- *         self._strides = self._shape + self.ndim
- * 
- *         if not self._shape:             # <<<<<<<<<<<<<<
- *             raise MemoryError("unable to allocate shape and strides.")
- * 
- */
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *p;
+  PyObject *o;
+  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
+    o = (*t->tp_alloc)(t, 0);
+  } else {
+    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)o);
+  p->__pyx_vtab = __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseCodec;
+  p->tid = ((PyObject*)Py_None); Py_INCREF(Py_None);
+  p->name = ((PyObject*)Py_None); Py_INCREF(Py_None);
+  p->type_name = ((PyObject*)Py_None); Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_3__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
+}
 
-  /* "View.MemoryView":152
- * 
- * 
- *         for idx, dim in enumerate(shape):             # <<<<<<<<<<<<<<
- *             if dim <= 0:
- *                 raise ValueError("Invalid shape in axis %d: %d." % (idx, dim))
- */
-  __pyx_t_8 = 0;
-  __pyx_t_3 = __pyx_v_shape; __Pyx_INCREF(__pyx_t_3); __pyx_t_1 = 0;
-  for (;;) {
-    if (__pyx_t_1 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
-    #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-    __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_1); __Pyx_INCREF(__pyx_t_5); __pyx_t_1++; if (unlikely(0 < 0)) __PYX_ERR(2, 152, __pyx_L1_error)
-    #else
-    __pyx_t_5 = PySequence_ITEM(__pyx_t_3, __pyx_t_1); __pyx_t_1++; if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 152, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    #endif
-    __pyx_t_9 = __Pyx_PyIndex_AsSsize_t(__pyx_t_5); if (unlikely((__pyx_t_9 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(2, 152, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __pyx_v_dim = __pyx_t_9;
-    __pyx_v_idx = __pyx_t_8;
-    __pyx_t_8 = (__pyx_t_8 + 1);
-
-    /* "View.MemoryView":153
- * 
- *         for idx, dim in enumerate(shape):
- *             if dim <= 0:             # <<<<<<<<<<<<<<
- *                 raise ValueError("Invalid shape in axis %d: %d." % (idx, dim))
- *             self._shape[idx] = dim
- */
-    __pyx_t_4 = ((__pyx_v_dim <= 0) != 0);
-    if (unlikely(__pyx_t_4)) {
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && (!PyType_IS_GC(Py_TYPE(o)) || !_PyGC_FINALIZED(o))) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
+  }
+  #endif
+  Py_CLEAR(p->tid);
+  Py_CLEAR(p->name);
+  Py_CLEAR(p->type_name);
+  (*Py_TYPE(o)->tp_free)(o);
+}
 
-      /* "View.MemoryView":154
- *         for idx, dim in enumerate(shape):
- *             if dim <= 0:
- *                 raise ValueError("Invalid shape in axis %d: %d." % (idx, dim))             # <<<<<<<<<<<<<<
- *             self._shape[idx] = dim
- * 
- */
-      __pyx_t_5 = __Pyx_PyInt_From_int(__pyx_v_idx); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 154, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_5);
-      __pyx_t_6 = PyInt_FromSsize_t(__pyx_v_dim); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 154, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_6);
-      __pyx_t_10 = PyTuple_New(2); if (unlikely(!__pyx_t_10)) __PYX_ERR(2, 154, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_10);
-      __Pyx_GIVEREF(__pyx_t_5);
-      PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_5);
-      __Pyx_GIVEREF(__pyx_t_6);
-      PyTuple_SET_ITEM(__pyx_t_10, 1, __pyx_t_6);
-      __pyx_t_5 = 0;
-      __pyx_t_6 = 0;
-      __pyx_t_6 = __Pyx_PyString_Format(__pyx_kp_s_Invalid_shape_in_axis_d_d, __pyx_t_10); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 154, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_6);
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-      __pyx_t_10 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_6); if (unlikely(!__pyx_t_10)) __PYX_ERR(2, 154, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_10);
-      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __Pyx_Raise(__pyx_t_10, 0, 0, 0);
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-      __PYX_ERR(2, 154, __pyx_L1_error)
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_BaseCodec[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_5make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_7__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_9__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-      /* "View.MemoryView":153
- * 
- *         for idx, dim in enumerate(shape):
- *             if dim <= 0:             # <<<<<<<<<<<<<<
- *                 raise ValueError("Invalid shape in axis %d: %d." % (idx, dim))
- *             self._shape[idx] = dim
- */
-    }
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_BaseCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.BaseCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE, /*tp_flags*/
+  0, /*tp_doc*/
+  0, /*tp_traverse*/
+  0, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_BaseCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_CodecPythonOverride __pyx_vtable_6edgedb_8protocol_8protocol_CodecPythonOverride;
 
-    /* "View.MemoryView":155
- *             if dim <= 0:
- *                 raise ValueError("Invalid shape in axis %d: %d." % (idx, dim))
- *             self._shape[idx] = dim             # <<<<<<<<<<<<<<
- * 
- *         cdef char order
- */
-    (__pyx_v_self->_shape[__pyx_v_idx]) = __pyx_v_dim;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_CodecPythonOverride(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *)o);
+  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_CodecPythonOverride;
+  p->codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
+  p->encoder = Py_None; Py_INCREF(Py_None);
+  p->decoder = Py_None; Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_19CodecPythonOverride_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
+}
 
-    /* "View.MemoryView":152
- * 
- * 
- *         for idx, dim in enumerate(shape):             # <<<<<<<<<<<<<<
- *             if dim <= 0:
- *                 raise ValueError("Invalid shape in axis %d: %d." % (idx, dim))
- */
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_CodecPythonOverride(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-  /* "View.MemoryView":158
- * 
- *         cdef char order
- *         if mode == 'fortran':             # <<<<<<<<<<<<<<
- *             order = b'F'
- *             self.mode = u'fortran'
- */
-  __pyx_t_4 = (__Pyx_PyString_Equals(__pyx_v_mode, __pyx_n_s_fortran, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(2, 158, __pyx_L1_error)
-  if (__pyx_t_4) {
-
-    /* "View.MemoryView":159
- *         cdef char order
- *         if mode == 'fortran':
- *             order = b'F'             # <<<<<<<<<<<<<<
- *             self.mode = u'fortran'
- *         elif mode == 'c':
- */
-    __pyx_v_order = 'F';
-
-    /* "View.MemoryView":160
- *         if mode == 'fortran':
- *             order = b'F'
- *             self.mode = u'fortran'             # <<<<<<<<<<<<<<
- *         elif mode == 'c':
- *             order = b'C'
- */
-    __Pyx_INCREF(__pyx_n_u_fortran);
-    __Pyx_GIVEREF(__pyx_n_u_fortran);
-    __Pyx_GOTREF(__pyx_v_self->mode);
-    __Pyx_DECREF(__pyx_v_self->mode);
-    __pyx_v_self->mode = __pyx_n_u_fortran;
-
-    /* "View.MemoryView":158
- * 
- *         cdef char order
- *         if mode == 'fortran':             # <<<<<<<<<<<<<<
- *             order = b'F'
- *             self.mode = u'fortran'
- */
-    goto __pyx_L10;
-  }
-
-  /* "View.MemoryView":161
- *             order = b'F'
- *             self.mode = u'fortran'
- *         elif mode == 'c':             # <<<<<<<<<<<<<<
- *             order = b'C'
- *             self.mode = u'c'
- */
-  __pyx_t_4 = (__Pyx_PyString_Equals(__pyx_v_mode, __pyx_n_s_c, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(2, 161, __pyx_L1_error)
-  if (likely(__pyx_t_4)) {
-
-    /* "View.MemoryView":162
- *             self.mode = u'fortran'
- *         elif mode == 'c':
- *             order = b'C'             # <<<<<<<<<<<<<<
- *             self.mode = u'c'
- *         else:
- */
-    __pyx_v_order = 'C';
+  #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->codec);
+  Py_CLEAR(p->encoder);
+  Py_CLEAR(p->decoder);
+  #if CYTHON_USE_TYPE_SLOTS
+  if (PyType_IS_GC(Py_TYPE(o)->tp_base))
+  #endif
+  PyObject_GC_Track(o);
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
+}
 
-    /* "View.MemoryView":163
- *         elif mode == 'c':
- *             order = b'C'
- *             self.mode = u'c'             # <<<<<<<<<<<<<<
- *         else:
- *             raise ValueError("Invalid mode, expected 'c' or 'fortran', got %s" % mode)
- */
-    __Pyx_INCREF(__pyx_n_u_c);
-    __Pyx_GIVEREF(__pyx_n_u_c);
-    __Pyx_GOTREF(__pyx_v_self->mode);
-    __Pyx_DECREF(__pyx_v_self->mode);
-    __pyx_v_self->mode = __pyx_n_u_c;
-
-    /* "View.MemoryView":161
- *             order = b'F'
- *             self.mode = u'fortran'
- *         elif mode == 'c':             # <<<<<<<<<<<<<<
- *             order = b'C'
- *             self.mode = u'c'
- */
-    goto __pyx_L10;
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_CodecPythonOverride(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *)o;
+  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_CodecPythonOverride)); if (e) return e;
+  if (p->codec) {
+    e = (*v)(((PyObject *)p->codec), a); if (e) return e;
   }
-
-  /* "View.MemoryView":165
- *             self.mode = u'c'
- *         else:
- *             raise ValueError("Invalid mode, expected 'c' or 'fortran', got %s" % mode)             # <<<<<<<<<<<<<<
- * 
- *         self.len = fill_contig_strides_array(self._shape, self._strides,
- */
-  /*else*/ {
-    __pyx_t_3 = __Pyx_PyString_FormatSafe(__pyx_kp_s_Invalid_mode_expected_c_or_fortr, __pyx_v_mode); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 165, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_10 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_3); if (unlikely(!__pyx_t_10)) __PYX_ERR(2, 165, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_10);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __Pyx_Raise(__pyx_t_10, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-    __PYX_ERR(2, 165, __pyx_L1_error)
+  if (p->encoder) {
+    e = (*v)(p->encoder, a); if (e) return e;
   }
-  __pyx_L10:;
-
-  /* "View.MemoryView":167
- *             raise ValueError("Invalid mode, expected 'c' or 'fortran', got %s" % mode)
- * 
- *         self.len = fill_contig_strides_array(self._shape, self._strides,             # <<<<<<<<<<<<<<
- *                                              itemsize, self.ndim, order)
- * 
- */
-  __pyx_v_self->len = __pyx_fill_contig_strides_array(__pyx_v_self->_shape, __pyx_v_self->_strides, __pyx_v_itemsize, __pyx_v_self->ndim, __pyx_v_order);
-
-  /* "View.MemoryView":170
- *                                              itemsize, self.ndim, order)
- * 
- *         self.free_data = allocate_buffer             # <<<<<<<<<<<<<<
- *         self.dtype_is_object = format == b'O'
- *         if allocate_buffer:
- */
-  __pyx_v_self->free_data = __pyx_v_allocate_buffer;
-
-  /* "View.MemoryView":171
- * 
- *         self.free_data = allocate_buffer
- *         self.dtype_is_object = format == b'O'             # <<<<<<<<<<<<<<
- *         if allocate_buffer:
- * 
- */
-  __pyx_t_10 = PyObject_RichCompare(__pyx_v_format, __pyx_n_b_O, Py_EQ); __Pyx_XGOTREF(__pyx_t_10); if (unlikely(!__pyx_t_10)) __PYX_ERR(2, 171, __pyx_L1_error)
-  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_10); if (unlikely((__pyx_t_4 == (int)-1) && PyErr_Occurred())) __PYX_ERR(2, 171, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-  __pyx_v_self->dtype_is_object = __pyx_t_4;
-
-  /* "View.MemoryView":172
- *         self.free_data = allocate_buffer
- *         self.dtype_is_object = format == b'O'
- *         if allocate_buffer:             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_4 = (__pyx_v_allocate_buffer != 0);
-  if (__pyx_t_4) {
-
-    /* "View.MemoryView":175
- * 
- * 
- *             self.data = <char *>malloc(self.len)             # <<<<<<<<<<<<<<
- *             if not self.data:
- *                 raise MemoryError("unable to allocate array data.")
- */
-    __pyx_v_self->data = ((char *)malloc(__pyx_v_self->len));
-
-    /* "View.MemoryView":176
- * 
- *             self.data = <char *>malloc(self.len)
- *             if not self.data:             # <<<<<<<<<<<<<<
- *                 raise MemoryError("unable to allocate array data.")
- * 
- */
-    __pyx_t_4 = ((!(__pyx_v_self->data != 0)) != 0);
-    if (unlikely(__pyx_t_4)) {
-
-      /* "View.MemoryView":177
- *             self.data = <char *>malloc(self.len)
- *             if not self.data:
- *                 raise MemoryError("unable to allocate array data.")             # <<<<<<<<<<<<<<
- * 
- *             if self.dtype_is_object:
- */
-      __pyx_t_10 = __Pyx_PyObject_Call(__pyx_builtin_MemoryError, __pyx_tuple__101, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(2, 177, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_10);
-      __Pyx_Raise(__pyx_t_10, 0, 0, 0);
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-      __PYX_ERR(2, 177, __pyx_L1_error)
-
-      /* "View.MemoryView":176
- * 
- *             self.data = <char *>malloc(self.len)
- *             if not self.data:             # <<<<<<<<<<<<<<
- *                 raise MemoryError("unable to allocate array data.")
- * 
- */
-    }
-
-    /* "View.MemoryView":179
- *                 raise MemoryError("unable to allocate array data.")
- * 
- *             if self.dtype_is_object:             # <<<<<<<<<<<<<<
- *                 p = <PyObject **> self.data
- *                 for i in range(self.len / itemsize):
- */
-    __pyx_t_4 = (__pyx_v_self->dtype_is_object != 0);
-    if (__pyx_t_4) {
-
-      /* "View.MemoryView":180
- * 
- *             if self.dtype_is_object:
- *                 p = <PyObject **> self.data             # <<<<<<<<<<<<<<
- *                 for i in range(self.len / itemsize):
- *                     p[i] = Py_None
- */
-      __pyx_v_p = ((PyObject **)__pyx_v_self->data);
-
-      /* "View.MemoryView":181
- *             if self.dtype_is_object:
- *                 p = <PyObject **> self.data
- *                 for i in range(self.len / itemsize):             # <<<<<<<<<<<<<<
- *                     p[i] = Py_None
- *                     Py_INCREF(Py_None)
- */
-      if (unlikely(__pyx_v_itemsize == 0)) {
-        PyErr_SetString(PyExc_ZeroDivisionError, "integer division or modulo by zero");
-        __PYX_ERR(2, 181, __pyx_L1_error)
-      }
-      else if (sizeof(Py_ssize_t) == sizeof(long) && (!(((Py_ssize_t)-1) > 0)) && unlikely(__pyx_v_itemsize == (Py_ssize_t)-1)  && unlikely(UNARY_NEG_WOULD_OVERFLOW(__pyx_v_self->len))) {
-        PyErr_SetString(PyExc_OverflowError, "value too large to perform division");
-        __PYX_ERR(2, 181, __pyx_L1_error)
-      }
-      __pyx_t_1 = __Pyx_div_Py_ssize_t(__pyx_v_self->len, __pyx_v_itemsize);
-      __pyx_t_9 = __pyx_t_1;
-      for (__pyx_t_11 = 0; __pyx_t_11 < __pyx_t_9; __pyx_t_11+=1) {
-        __pyx_v_i = __pyx_t_11;
-
-        /* "View.MemoryView":182
- *                 p = <PyObject **> self.data
- *                 for i in range(self.len / itemsize):
- *                     p[i] = Py_None             # <<<<<<<<<<<<<<
- *                     Py_INCREF(Py_None)
- * 
- */
-        (__pyx_v_p[__pyx_v_i]) = Py_None;
-
-        /* "View.MemoryView":183
- *                 for i in range(self.len / itemsize):
- *                     p[i] = Py_None
- *                     Py_INCREF(Py_None)             # <<<<<<<<<<<<<<
- * 
- *     @cname('getbuffer')
- */
-        Py_INCREF(Py_None);
-      }
-
-      /* "View.MemoryView":179
- *                 raise MemoryError("unable to allocate array data.")
- * 
- *             if self.dtype_is_object:             # <<<<<<<<<<<<<<
- *                 p = <PyObject **> self.data
- *                 for i in range(self.len / itemsize):
- */
-    }
-
-    /* "View.MemoryView":172
- *         self.free_data = allocate_buffer
- *         self.dtype_is_object = format == b'O'
- *         if allocate_buffer:             # <<<<<<<<<<<<<<
- * 
- * 
- */
+  if (p->decoder) {
+    e = (*v)(p->decoder, a); if (e) return e;
   }
+  return 0;
+}
 
-  /* "View.MemoryView":123
- *         cdef bint dtype_is_object
- * 
- *     def __cinit__(array self, tuple shape, Py_ssize_t itemsize, format not None,             # <<<<<<<<<<<<<<
- *                   mode="c", bint allocate_buffer=True):
- * 
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_XDECREF(__pyx_t_6);
-  __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_AddTraceback("View.MemoryView.array.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_format);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_CodecPythonOverride(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *)o;
+  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_CodecPythonOverride);
+  tmp = ((PyObject*)p->codec);
+  p->codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  tmp = ((PyObject*)p->encoder);
+  p->encoder = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  tmp = ((PyObject*)p->decoder);
+  p->decoder = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
 }
 
-/* "View.MemoryView":186
- * 
- *     @cname('getbuffer')
- *     def __getbuffer__(self, Py_buffer *info, int flags):             # <<<<<<<<<<<<<<
- *         cdef int bufmode = -1
- *         if self.mode == u"c":
- */
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_CodecPythonOverride[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_19CodecPythonOverride_3make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_19CodecPythonOverride_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_19CodecPythonOverride_7__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-/* Python wrapper */
-static CYTHON_UNUSED int __pyx_array_getbuffer(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /*proto*/
-static CYTHON_UNUSED int __pyx_array_getbuffer(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__getbuffer__ (wrapper)", 0);
-  __pyx_r = __pyx_array___pyx_pf_15View_dot_MemoryView_5array_2__getbuffer__(((struct __pyx_array_obj *)__pyx_v_self), ((Py_buffer *)__pyx_v_info), ((int)__pyx_v_flags));
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_CodecPythonOverride = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.CodecPythonOverride", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_CodecPythonOverride, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_CodecPythonOverride, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_CodecPythonOverride, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_CodecPythonOverride, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_CodecPythonOverride, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseRecordCodec __pyx_vtable_6edgedb_8protocol_8protocol_BaseRecordCodec;
 
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseRecordCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *)o);
+  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseRecordCodec;
+  p->fields_codecs = ((PyObject*)Py_None); Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_15BaseRecordCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
 }
 
-static int __pyx_array___pyx_pf_15View_dot_MemoryView_5array_2__getbuffer__(struct __pyx_array_obj *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags) {
-  int __pyx_v_bufmode;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  char *__pyx_t_4;
-  Py_ssize_t __pyx_t_5;
-  int __pyx_t_6;
-  Py_ssize_t *__pyx_t_7;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  if (__pyx_v_info == NULL) {
-    PyErr_SetString(PyExc_BufferError, "PyObject_GetBuffer: view==NULL argument is obsolete");
-    return -1;
-  }
-  __Pyx_RefNannySetupContext("__getbuffer__", 0);
-  __pyx_v_info->obj = Py_None; __Pyx_INCREF(Py_None);
-  __Pyx_GIVEREF(__pyx_v_info->obj);
-
-  /* "View.MemoryView":187
- *     @cname('getbuffer')
- *     def __getbuffer__(self, Py_buffer *info, int flags):
- *         cdef int bufmode = -1             # <<<<<<<<<<<<<<
- *         if self.mode == u"c":
- *             bufmode = PyBUF_C_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- */
-  __pyx_v_bufmode = -1;
-
-  /* "View.MemoryView":188
- *     def __getbuffer__(self, Py_buffer *info, int flags):
- *         cdef int bufmode = -1
- *         if self.mode == u"c":             # <<<<<<<<<<<<<<
- *             bufmode = PyBUF_C_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         elif self.mode == u"fortran":
- */
-  __pyx_t_1 = (__Pyx_PyUnicode_Equals(__pyx_v_self->mode, __pyx_n_u_c, Py_EQ)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(2, 188, __pyx_L1_error)
-  __pyx_t_2 = (__pyx_t_1 != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":189
- *         cdef int bufmode = -1
- *         if self.mode == u"c":
- *             bufmode = PyBUF_C_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS             # <<<<<<<<<<<<<<
- *         elif self.mode == u"fortran":
- *             bufmode = PyBUF_F_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- */
-    __pyx_v_bufmode = (PyBUF_C_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS);
-
-    /* "View.MemoryView":188
- *     def __getbuffer__(self, Py_buffer *info, int flags):
- *         cdef int bufmode = -1
- *         if self.mode == u"c":             # <<<<<<<<<<<<<<
- *             bufmode = PyBUF_C_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         elif self.mode == u"fortran":
- */
-    goto __pyx_L3;
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseRecordCodec(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
+  #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->fields_codecs);
+  #if CYTHON_USE_TYPE_SLOTS
+  if (PyType_IS_GC(Py_TYPE(o)->tp_base))
+  #endif
+  PyObject_GC_Track(o);
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
+}
 
-  /* "View.MemoryView":190
- *         if self.mode == u"c":
- *             bufmode = PyBUF_C_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         elif self.mode == u"fortran":             # <<<<<<<<<<<<<<
- *             bufmode = PyBUF_F_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         if not (flags & bufmode):
- */
-  __pyx_t_2 = (__Pyx_PyUnicode_Equals(__pyx_v_self->mode, __pyx_n_u_fortran, Py_EQ)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 190, __pyx_L1_error)
-  __pyx_t_1 = (__pyx_t_2 != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":191
- *             bufmode = PyBUF_C_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         elif self.mode == u"fortran":
- *             bufmode = PyBUF_F_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS             # <<<<<<<<<<<<<<
- *         if not (flags & bufmode):
- *             raise ValueError("Can only create a buffer that is contiguous in memory.")
- */
-    __pyx_v_bufmode = (PyBUF_F_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS);
-
-    /* "View.MemoryView":190
- *         if self.mode == u"c":
- *             bufmode = PyBUF_C_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         elif self.mode == u"fortran":             # <<<<<<<<<<<<<<
- *             bufmode = PyBUF_F_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         if not (flags & bufmode):
- */
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseRecordCodec(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *)o;
+  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseRecordCodec)); if (e) return e;
+  if (p->fields_codecs) {
+    e = (*v)(p->fields_codecs, a); if (e) return e;
   }
-  __pyx_L3:;
-
-  /* "View.MemoryView":192
- *         elif self.mode == u"fortran":
- *             bufmode = PyBUF_F_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         if not (flags & bufmode):             # <<<<<<<<<<<<<<
- *             raise ValueError("Can only create a buffer that is contiguous in memory.")
- *         info.buf = self.data
- */
-  __pyx_t_1 = ((!((__pyx_v_flags & __pyx_v_bufmode) != 0)) != 0);
-  if (unlikely(__pyx_t_1)) {
-
-    /* "View.MemoryView":193
- *             bufmode = PyBUF_F_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         if not (flags & bufmode):
- *             raise ValueError("Can only create a buffer that is contiguous in memory.")             # <<<<<<<<<<<<<<
- *         info.buf = self.data
- *         info.len = self.len
- */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__102, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 193, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_Raise(__pyx_t_3, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(2, 193, __pyx_L1_error)
+  return 0;
+}
 
-    /* "View.MemoryView":192
- *         elif self.mode == u"fortran":
- *             bufmode = PyBUF_F_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         if not (flags & bufmode):             # <<<<<<<<<<<<<<
- *             raise ValueError("Can only create a buffer that is contiguous in memory.")
- *         info.buf = self.data
- */
-  }
-
-  /* "View.MemoryView":194
- *         if not (flags & bufmode):
- *             raise ValueError("Can only create a buffer that is contiguous in memory.")
- *         info.buf = self.data             # <<<<<<<<<<<<<<
- *         info.len = self.len
- *         info.ndim = self.ndim
- */
-  __pyx_t_4 = __pyx_v_self->data;
-  __pyx_v_info->buf = __pyx_t_4;
-
-  /* "View.MemoryView":195
- *             raise ValueError("Can only create a buffer that is contiguous in memory.")
- *         info.buf = self.data
- *         info.len = self.len             # <<<<<<<<<<<<<<
- *         info.ndim = self.ndim
- *         info.shape = self._shape
- */
-  __pyx_t_5 = __pyx_v_self->len;
-  __pyx_v_info->len = __pyx_t_5;
-
-  /* "View.MemoryView":196
- *         info.buf = self.data
- *         info.len = self.len
- *         info.ndim = self.ndim             # <<<<<<<<<<<<<<
- *         info.shape = self._shape
- *         info.strides = self._strides
- */
-  __pyx_t_6 = __pyx_v_self->ndim;
-  __pyx_v_info->ndim = __pyx_t_6;
-
-  /* "View.MemoryView":197
- *         info.len = self.len
- *         info.ndim = self.ndim
- *         info.shape = self._shape             # <<<<<<<<<<<<<<
- *         info.strides = self._strides
- *         info.suboffsets = NULL
- */
-  __pyx_t_7 = __pyx_v_self->_shape;
-  __pyx_v_info->shape = __pyx_t_7;
-
-  /* "View.MemoryView":198
- *         info.ndim = self.ndim
- *         info.shape = self._shape
- *         info.strides = self._strides             # <<<<<<<<<<<<<<
- *         info.suboffsets = NULL
- *         info.itemsize = self.itemsize
- */
-  __pyx_t_7 = __pyx_v_self->_strides;
-  __pyx_v_info->strides = __pyx_t_7;
-
-  /* "View.MemoryView":199
- *         info.shape = self._shape
- *         info.strides = self._strides
- *         info.suboffsets = NULL             # <<<<<<<<<<<<<<
- *         info.itemsize = self.itemsize
- *         info.readonly = 0
- */
-  __pyx_v_info->suboffsets = NULL;
-
-  /* "View.MemoryView":200
- *         info.strides = self._strides
- *         info.suboffsets = NULL
- *         info.itemsize = self.itemsize             # <<<<<<<<<<<<<<
- *         info.readonly = 0
- * 
- */
-  __pyx_t_5 = __pyx_v_self->itemsize;
-  __pyx_v_info->itemsize = __pyx_t_5;
-
-  /* "View.MemoryView":201
- *         info.suboffsets = NULL
- *         info.itemsize = self.itemsize
- *         info.readonly = 0             # <<<<<<<<<<<<<<
- * 
- *         if flags & PyBUF_FORMAT:
- */
-  __pyx_v_info->readonly = 0;
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseRecordCodec(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *)o;
+  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseRecordCodec);
+  tmp = ((PyObject*)p->fields_codecs);
+  p->fields_codecs = ((PyObject*)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
 
-  /* "View.MemoryView":203
- *         info.readonly = 0
- * 
- *         if flags & PyBUF_FORMAT:             # <<<<<<<<<<<<<<
- *             info.format = self.format
- *         else:
- */
-  __pyx_t_1 = ((__pyx_v_flags & PyBUF_FORMAT) != 0);
-  if (__pyx_t_1) {
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_BaseRecordCodec[] = {
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15BaseRecordCodec_3__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15BaseRecordCodec_5__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-    /* "View.MemoryView":204
- * 
- *         if flags & PyBUF_FORMAT:
- *             info.format = self.format             # <<<<<<<<<<<<<<
- *         else:
- *             info.format = NULL
- */
-    __pyx_t_4 = __pyx_v_self->format;
-    __pyx_v_info->format = __pyx_t_4;
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_BaseRecordCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.BaseRecordCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EmptyTupleCodec __pyx_vtable_6edgedb_8protocol_8protocol_EmptyTupleCodec;
 
-    /* "View.MemoryView":203
- *         info.readonly = 0
- * 
- *         if flags & PyBUF_FORMAT:             # <<<<<<<<<<<<<<
- *             info.format = self.format
- *         else:
- */
-    goto __pyx_L5;
-  }
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_EmptyTupleCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *)o);
+  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_EmptyTupleCodec;
+  p->empty_tup = Py_None; Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_15EmptyTupleCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
+}
 
-  /* "View.MemoryView":206
- *             info.format = self.format
- *         else:
- *             info.format = NULL             # <<<<<<<<<<<<<<
- * 
- *         info.obj = self
- */
-  /*else*/ {
-    __pyx_v_info->format = NULL;
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EmptyTupleCodec(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
-  __pyx_L5:;
-
-  /* "View.MemoryView":208
- *             info.format = NULL
- * 
- *         info.obj = self             # <<<<<<<<<<<<<<
- * 
- *     __pyx_getbuffer = capsule(<void *> &__pyx_array_getbuffer, "getbuffer(obj, view, flags)")
- */
-  __Pyx_INCREF(((PyObject *)__pyx_v_self));
-  __Pyx_GIVEREF(((PyObject *)__pyx_v_self));
-  __Pyx_GOTREF(__pyx_v_info->obj);
-  __Pyx_DECREF(__pyx_v_info->obj);
-  __pyx_v_info->obj = ((PyObject *)__pyx_v_self);
-
-  /* "View.MemoryView":186
- * 
- *     @cname('getbuffer')
- *     def __getbuffer__(self, Py_buffer *info, int flags):             # <<<<<<<<<<<<<<
- *         cdef int bufmode = -1
- *         if self.mode == u"c":
- */
+  #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->empty_tup);
+  #if CYTHON_USE_TYPE_SLOTS
+  if (PyType_IS_GC(Py_TYPE(o)->tp_base))
+  #endif
+  PyObject_GC_Track(o);
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
+}
 
-  /* function exit code */
-  __pyx_r = 0;
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.array.__getbuffer__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  if (__pyx_v_info->obj != NULL) {
-    __Pyx_GOTREF(__pyx_v_info->obj);
-    __Pyx_DECREF(__pyx_v_info->obj); __pyx_v_info->obj = 0;
-  }
-  goto __pyx_L2;
-  __pyx_L0:;
-  if (__pyx_v_info->obj == Py_None) {
-    __Pyx_GOTREF(__pyx_v_info->obj);
-    __Pyx_DECREF(__pyx_v_info->obj); __pyx_v_info->obj = 0;
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_EmptyTupleCodec(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *)o;
+  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_EmptyTupleCodec)); if (e) return e;
+  if (p->empty_tup) {
+    e = (*v)(p->empty_tup, a); if (e) return e;
   }
-  __pyx_L2:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+  return 0;
 }
 
-/* "View.MemoryView":212
- *     __pyx_getbuffer = capsule(<void *> &__pyx_array_getbuffer, "getbuffer(obj, view, flags)")
- * 
- *     def __dealloc__(array self):             # <<<<<<<<<<<<<<
- *         if self.callback_free_data != NULL:
- *             self.callback_free_data(self.data)
- */
-
-/* Python wrapper */
-static void __pyx_array___dealloc__(PyObject *__pyx_v_self); /*proto*/
-static void __pyx_array___dealloc__(PyObject *__pyx_v_self) {
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__dealloc__ (wrapper)", 0);
-  __pyx_array___pyx_pf_15View_dot_MemoryView_5array_4__dealloc__(((struct __pyx_array_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_EmptyTupleCodec(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *)o;
+  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_EmptyTupleCodec);
+  tmp = ((PyObject*)p->empty_tup);
+  p->empty_tup = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
 }
 
-static void __pyx_array___pyx_pf_15View_dot_MemoryView_5array_4__dealloc__(struct __pyx_array_obj *__pyx_v_self) {
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  __Pyx_RefNannySetupContext("__dealloc__", 0);
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_EmptyTupleCodec[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15EmptyTupleCodec_3make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15EmptyTupleCodec_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15EmptyTupleCodec_7__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-  /* "View.MemoryView":213
- * 
- *     def __dealloc__(array self):
- *         if self.callback_free_data != NULL:             # <<<<<<<<<<<<<<
- *             self.callback_free_data(self.data)
- *         elif self.free_data:
- */
-  __pyx_t_1 = ((__pyx_v_self->callback_free_data != NULL) != 0);
-  if (__pyx_t_1) {
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_EmptyTupleCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.EmptyTupleCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EmptyTupleCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_EmptyTupleCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_EmptyTupleCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_EmptyTupleCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_EmptyTupleCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_NullCodec __pyx_vtable_6edgedb_8protocol_8protocol_NullCodec;
 
-    /* "View.MemoryView":214
- *     def __dealloc__(array self):
- *         if self.callback_free_data != NULL:
- *             self.callback_free_data(self.data)             # <<<<<<<<<<<<<<
- *         elif self.free_data:
- *             if self.dtype_is_object:
- */
-    __pyx_v_self->callback_free_data(__pyx_v_self->data);
-
-    /* "View.MemoryView":213
- * 
- *     def __dealloc__(array self):
- *         if self.callback_free_data != NULL:             # <<<<<<<<<<<<<<
- *             self.callback_free_data(self.data)
- *         elif self.free_data:
- */
-    goto __pyx_L3;
-  }
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_NullCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec *)o);
+  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_NullCodec;
+  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_9NullCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
+}
 
-  /* "View.MemoryView":215
- *         if self.callback_free_data != NULL:
- *             self.callback_free_data(self.data)
- *         elif self.free_data:             # <<<<<<<<<<<<<<
- *             if self.dtype_is_object:
- *                 refcount_objects_in_slice(self.data, self._shape,
- */
-  __pyx_t_1 = (__pyx_v_self->free_data != 0);
-  if (__pyx_t_1) {
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_NullCodec[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9NullCodec_3make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9NullCodec_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9NullCodec_7__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-    /* "View.MemoryView":216
- *             self.callback_free_data(self.data)
- *         elif self.free_data:
- *             if self.dtype_is_object:             # <<<<<<<<<<<<<<
- *                 refcount_objects_in_slice(self.data, self._shape,
- *                                           self._strides, self.ndim, False)
- */
-    __pyx_t_1 = (__pyx_v_self->dtype_is_object != 0);
-    if (__pyx_t_1) {
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_NullCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.NullCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE, /*tp_flags*/
+  0, /*tp_doc*/
+  0, /*tp_traverse*/
+  0, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_NullCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_NullCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseNamedRecordCodec __pyx_vtable_6edgedb_8protocol_8protocol_BaseNamedRecordCodec;
 
-      /* "View.MemoryView":217
- *         elif self.free_data:
- *             if self.dtype_is_object:
- *                 refcount_objects_in_slice(self.data, self._shape,             # <<<<<<<<<<<<<<
- *                                           self._strides, self.ndim, False)
- *             free(self.data)
- */
-      __pyx_memoryview_refcount_objects_in_slice(__pyx_v_self->data, __pyx_v_self->_shape, __pyx_v_self->_strides, __pyx_v_self->ndim, 0);
-
-      /* "View.MemoryView":216
- *             self.callback_free_data(self.data)
- *         elif self.free_data:
- *             if self.dtype_is_object:             # <<<<<<<<<<<<<<
- *                 refcount_objects_in_slice(self.data, self._shape,
- *                                           self._strides, self.ndim, False)
- */
-    }
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseRecordCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *)o);
+  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseNamedRecordCodec;
+  p->descriptor = Py_None; Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_20BaseNamedRecordCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
+}
 
-    /* "View.MemoryView":219
- *                 refcount_objects_in_slice(self.data, self._shape,
- *                                           self._strides, self.ndim, False)
- *             free(self.data)             # <<<<<<<<<<<<<<
- *         PyObject_Free(self._shape)
- * 
- */
-    free(__pyx_v_self->data);
-
-    /* "View.MemoryView":215
- *         if self.callback_free_data != NULL:
- *             self.callback_free_data(self.data)
- *         elif self.free_data:             # <<<<<<<<<<<<<<
- *             if self.dtype_is_object:
- *                 refcount_objects_in_slice(self.data, self._shape,
- */
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
-  __pyx_L3:;
-
-  /* "View.MemoryView":220
- *                                           self._strides, self.ndim, False)
- *             free(self.data)
- *         PyObject_Free(self._shape)             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  PyObject_Free(__pyx_v_self->_shape);
-
-  /* "View.MemoryView":212
- *     __pyx_getbuffer = capsule(<void *> &__pyx_array_getbuffer, "getbuffer(obj, view, flags)")
- * 
- *     def __dealloc__(array self):             # <<<<<<<<<<<<<<
- *         if self.callback_free_data != NULL:
- *             self.callback_free_data(self.data)
- */
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
+  #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->descriptor);
+  PyObject_GC_Track(o);
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseRecordCodec(o);
 }
 
-/* "View.MemoryView":223
- * 
- *     @property
- *     def memview(self):             # <<<<<<<<<<<<<<
- *         return self.get_memview()
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_5array_7memview_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_5array_7memview_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_5array_7memview___get__(((struct __pyx_array_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *)o;
+  e = __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseRecordCodec(o, v, a); if (e) return e;
+  if (p->descriptor) {
+    e = (*v)(p->descriptor, a); if (e) return e;
+  }
+  return 0;
 }
 
-static PyObject *__pyx_pf_15View_dot_MemoryView_5array_7memview___get__(struct __pyx_array_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *)o;
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseRecordCodec(o);
+  tmp = ((PyObject*)p->descriptor);
+  p->descriptor = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
 
-  /* "View.MemoryView":224
- *     @property
- *     def memview(self):
- *         return self.get_memview()             # <<<<<<<<<<<<<<
- * 
- *     @cname('get_memview')
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = ((struct __pyx_vtabstruct_array *)__pyx_v_self->__pyx_vtab)->get_memview(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 224, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_BaseNamedRecordCodec[] = {
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_20BaseNamedRecordCodec_3__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_20BaseNamedRecordCodec_5__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-  /* "View.MemoryView":223
- * 
- *     @property
- *     def memview(self):             # <<<<<<<<<<<<<<
- *         return self.get_memview()
- * 
- */
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_BaseNamedRecordCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.BaseNamedRecordCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseNamedRecordCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseNamedRecordCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseNamedRecordCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_BaseNamedRecordCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_BaseNamedRecordCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EdegDBCodecContext __pyx_vtable_6edgedb_8protocol_8protocol_EdegDBCodecContext;
 
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.array.memview.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_EdegDBCodecContext(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *p;
+  PyObject *o = __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_new(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *)o);
+  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_CodecContext*)__pyx_vtabptr_6edgedb_8protocol_8protocol_EdegDBCodecContext;
+  p->_codec = Py_None; Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_18EdegDBCodecContext_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
 }
 
-/* "View.MemoryView":227
- * 
- *     @cname('get_memview')
- *     cdef get_memview(self):             # <<<<<<<<<<<<<<
- *         flags =  PyBUF_ANY_CONTIGUOUS|PyBUF_FORMAT|PyBUF_WRITABLE
- *         return  memoryview(self, flags, self.dtype_is_object)
- */
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EdegDBCodecContext(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *)o;
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->_codec);
+  #if CYTHON_USE_TYPE_SLOTS
+  if (PyType_IS_GC(Py_TYPE(o)->tp_base))
+  #endif
+  PyObject_GC_Track(o);
+  if (likely(__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext)) __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_dealloc(o); else __Pyx_call_next_tp_dealloc(o, __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EdegDBCodecContext);
+}
 
-static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *__pyx_v_self) {
-  int __pyx_v_flags;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("get_memview", 0);
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_EdegDBCodecContext(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *)o;
+  e = ((likely(__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext)) ? ((__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_traverse) ? __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_EdegDBCodecContext)); if (e) return e;
+  if (p->_codec) {
+    e = (*v)(p->_codec, a); if (e) return e;
+  }
+  return 0;
+}
 
-  /* "View.MemoryView":228
- *     @cname('get_memview')
- *     cdef get_memview(self):
- *         flags =  PyBUF_ANY_CONTIGUOUS|PyBUF_FORMAT|PyBUF_WRITABLE             # <<<<<<<<<<<<<<
- *         return  memoryview(self, flags, self.dtype_is_object)
- * 
- */
-  __pyx_v_flags = ((PyBUF_ANY_CONTIGUOUS | PyBUF_FORMAT) | PyBUF_WRITABLE);
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_EdegDBCodecContext(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *)o;
+  if (likely(__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext)) { if (__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_clear) __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_EdegDBCodecContext);
+  tmp = ((PyObject*)p->_codec);
+  p->_codec = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
 
-  /* "View.MemoryView":229
- *     cdef get_memview(self):
- *         flags =  PyBUF_ANY_CONTIGUOUS|PyBUF_FORMAT|PyBUF_WRITABLE
- *         return  memoryview(self, flags, self.dtype_is_object)             # <<<<<<<<<<<<<<
- * 
- *     def __len__(self):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_flags); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 229, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyBool_FromLong(__pyx_v_self->dtype_is_object); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 229, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 229, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_INCREF(((PyObject *)__pyx_v_self));
-  __Pyx_GIVEREF(((PyObject *)__pyx_v_self));
-  PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_v_self));
-  __Pyx_GIVEREF(__pyx_t_1);
-  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_2);
-  PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_t_2);
-  __pyx_t_1 = 0;
-  __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_memoryview_type), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 229, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
-  goto __pyx_L0;
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_EdegDBCodecContext[] = {
+  {"get_text_codec", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_18EdegDBCodecContext_3get_text_codec, METH_NOARGS, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_18EdegDBCodecContext_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_18EdegDBCodecContext_7__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-  /* "View.MemoryView":227
- * 
- *     @cname('get_memview')
- *     cdef get_memview(self):             # <<<<<<<<<<<<<<
- *         flags =  PyBUF_ANY_CONTIGUOUS|PyBUF_FORMAT|PyBUF_WRITABLE
- *         return  memoryview(self, flags, self.dtype_is_object)
- */
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_EdegDBCodecContext = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.EdegDBCodecContext", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EdegDBCodecContext, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_EdegDBCodecContext, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_EdegDBCodecContext, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_EdegDBCodecContext, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  0, /*tp_init*/
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_EdegDBCodecContext, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ScalarCodec __pyx_vtable_6edgedb_8protocol_8protocol_ScalarCodec;
 
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.array.get_memview", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_ScalarCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)o);
+  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_ScalarCodec;
+  p->base_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)Py_None); Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_11ScalarCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
 }
 
-/* "View.MemoryView":231
- *         return  memoryview(self, flags, self.dtype_is_object)
- * 
- *     def __len__(self):             # <<<<<<<<<<<<<<
- *         return self._shape[0]
- * 
- */
-
-/* Python wrapper */
-static Py_ssize_t __pyx_array___len__(PyObject *__pyx_v_self); /*proto*/
-static Py_ssize_t __pyx_array___len__(PyObject *__pyx_v_self) {
-  Py_ssize_t __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__len__ (wrapper)", 0);
-  __pyx_r = __pyx_array___pyx_pf_15View_dot_MemoryView_5array_6__len__(((struct __pyx_array_obj *)__pyx_v_self));
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_ScalarCodec(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)o;
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->base_codec);
+  #if CYTHON_USE_TYPE_SLOTS
+  if (PyType_IS_GC(Py_TYPE(o)->tp_base))
+  #endif
+  PyObject_GC_Track(o);
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
+}
 
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_ScalarCodec(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)o;
+  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_ScalarCodec)); if (e) return e;
+  if (p->base_codec) {
+    e = (*v)(((PyObject *)p->base_codec), a); if (e) return e;
+  }
+  return 0;
 }
 
-static Py_ssize_t __pyx_array___pyx_pf_15View_dot_MemoryView_5array_6__len__(struct __pyx_array_obj *__pyx_v_self) {
-  Py_ssize_t __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__len__", 0);
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_ScalarCodec(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)o;
+  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_ScalarCodec);
+  tmp = ((PyObject*)p->base_codec);
+  p->base_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
 
-  /* "View.MemoryView":232
- * 
- *     def __len__(self):
- *         return self._shape[0]             # <<<<<<<<<<<<<<
- * 
- *     def __getattr__(self, attr):
- */
-  __pyx_r = (__pyx_v_self->_shape[0]);
-  goto __pyx_L0;
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_ScalarCodec[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ScalarCodec_3make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ScalarCodec_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ScalarCodec_7__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-  /* "View.MemoryView":231
- *         return  memoryview(self, flags, self.dtype_is_object)
- * 
- *     def __len__(self):             # <<<<<<<<<<<<<<
- *         return self._shape[0]
- * 
- */
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_ScalarCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.ScalarCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_ScalarCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_ScalarCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_ScalarCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_ScalarCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_ScalarCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_TupleCodec __pyx_vtable_6edgedb_8protocol_8protocol_TupleCodec;
 
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_TupleCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseRecordCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec *)o);
+  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_TupleCodec;
+  return o;
 }
 
-/* "View.MemoryView":234
- *         return self._shape[0]
- * 
- *     def __getattr__(self, attr):             # <<<<<<<<<<<<<<
- *         return getattr(self.memview, attr)
- * 
- */
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_TupleCodec[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10TupleCodec_1make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10TupleCodec_3__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10TupleCodec_5__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-/* Python wrapper */
-static PyObject *__pyx_array___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_attr); /*proto*/
-static PyObject *__pyx_array___getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_attr) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__getattr__ (wrapper)", 0);
-  __pyx_r = __pyx_array___pyx_pf_15View_dot_MemoryView_5array_8__getattr__(((struct __pyx_array_obj *)__pyx_v_self), ((PyObject *)__pyx_v_attr));
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_TupleCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.TupleCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_TupleCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_TupleCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_NamedTupleCodec __pyx_vtable_6edgedb_8protocol_8protocol_NamedTupleCodec;
 
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_NamedTupleCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *)o);
+  p->__pyx_base.__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_NamedTupleCodec;
+  p->namedtuple_type = Py_None; Py_INCREF(Py_None);
+  return o;
 }
 
-static PyObject *__pyx_array___pyx_pf_15View_dot_MemoryView_5array_8__getattr__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_attr) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__getattr__", 0);
-
-  /* "View.MemoryView":235
- * 
- *     def __getattr__(self, attr):
- *         return getattr(self.memview, attr)             # <<<<<<<<<<<<<<
- * 
- *     def __getitem__(self, item):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_memview); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 235, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_GetAttr(__pyx_t_1, __pyx_v_attr); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 235, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
-  goto __pyx_L0;
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_NamedTupleCodec(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *)o;
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->namedtuple_type);
+  PyObject_GC_Track(o);
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o);
+}
 
-  /* "View.MemoryView":234
- *         return self._shape[0]
- * 
- *     def __getattr__(self, attr):             # <<<<<<<<<<<<<<
- *         return getattr(self.memview, attr)
- * 
- */
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_NamedTupleCodec(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *)o;
+  e = __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o, v, a); if (e) return e;
+  if (p->namedtuple_type) {
+    e = (*v)(p->namedtuple_type, a); if (e) return e;
+  }
+  return 0;
+}
 
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("View.MemoryView.array.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_NamedTupleCodec(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *)o;
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o);
+  tmp = ((PyObject*)p->namedtuple_type);
+  p->namedtuple_type = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
 }
 
-/* "View.MemoryView":237
- *         return getattr(self.memview, attr)
- * 
- *     def __getitem__(self, item):             # <<<<<<<<<<<<<<
- *         return self.memview[item]
- * 
- */
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_NamedTupleCodec[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15NamedTupleCodec_1make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15NamedTupleCodec_3__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15NamedTupleCodec_5__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-/* Python wrapper */
-static PyObject *__pyx_array___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_item); /*proto*/
-static PyObject *__pyx_array___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_item) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__getitem__ (wrapper)", 0);
-  __pyx_r = __pyx_array___pyx_pf_15View_dot_MemoryView_5array_10__getitem__(((struct __pyx_array_obj *)__pyx_v_self), ((PyObject *)__pyx_v_item));
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_NamedTupleCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.NamedTupleCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_NamedTupleCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_NamedTupleCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_NamedTupleCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_NamedTupleCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_NamedTupleCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ObjectCodec __pyx_vtable_6edgedb_8protocol_8protocol_ObjectCodec;
 
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_ObjectCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *)o);
+  p->__pyx_base.__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_ObjectCodec;
+  p->cached_dataclass_fields = Py_None; Py_INCREF(Py_None);
+  return o;
 }
 
-static PyObject *__pyx_array___pyx_pf_15View_dot_MemoryView_5array_10__getitem__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_item) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__getitem__", 0);
-
-  /* "View.MemoryView":238
- * 
- *     def __getitem__(self, item):
- *         return self.memview[item]             # <<<<<<<<<<<<<<
- * 
- *     def __setitem__(self, item, value):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_memview); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 238, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetItem(__pyx_t_1, __pyx_v_item); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 238, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
-  goto __pyx_L0;
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_ObjectCodec(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *)o;
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->cached_dataclass_fields);
+  PyObject_GC_Track(o);
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o);
+}
 
-  /* "View.MemoryView":237
- *         return getattr(self.memview, attr)
- * 
- *     def __getitem__(self, item):             # <<<<<<<<<<<<<<
- *         return self.memview[item]
- * 
- */
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_ObjectCodec(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *)o;
+  e = __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o, v, a); if (e) return e;
+  if (p->cached_dataclass_fields) {
+    e = (*v)(p->cached_dataclass_fields, a); if (e) return e;
+  }
+  return 0;
+}
 
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("View.MemoryView.array.__getitem__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_ObjectCodec(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *)o;
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o);
+  tmp = ((PyObject*)p->cached_dataclass_fields);
+  p->cached_dataclass_fields = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
 }
 
-/* "View.MemoryView":240
- *         return self.memview[item]
- * 
- *     def __setitem__(self, item, value):             # <<<<<<<<<<<<<<
- *         self.memview[item] = value
- * 
- */
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_ObjectCodec[] = {
+  {"_make_missing_args_error_message", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ObjectCodec_1_make_missing_args_error_message, METH_O, 0},
+  {"get_dataclass_fields", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ObjectCodec_3get_dataclass_fields, METH_NOARGS, 0},
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ObjectCodec_5make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ObjectCodec_7__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ObjectCodec_9__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-/* Python wrapper */
-static int __pyx_array___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_item, PyObject *__pyx_v_value); /*proto*/
-static int __pyx_array___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_item, PyObject *__pyx_v_value) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__setitem__ (wrapper)", 0);
-  __pyx_r = __pyx_array___pyx_pf_15View_dot_MemoryView_5array_12__setitem__(((struct __pyx_array_obj *)__pyx_v_self), ((PyObject *)__pyx_v_item), ((PyObject *)__pyx_v_value));
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_ObjectCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.ObjectCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_ObjectCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_ObjectCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_ObjectCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_ObjectCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_ObjectCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseArrayCodec __pyx_vtable_6edgedb_8protocol_8protocol_BaseArrayCodec;
 
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseArrayCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *)o);
+  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseArrayCodec;
+  p->sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_14BaseArrayCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
 }
 
-static int __pyx_array___pyx_pf_15View_dot_MemoryView_5array_12__setitem__(struct __pyx_array_obj *__pyx_v_self, PyObject *__pyx_v_item, PyObject *__pyx_v_value) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__setitem__", 0);
-
-  /* "View.MemoryView":241
- * 
- *     def __setitem__(self, item, value):
- *         self.memview[item] = value             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_memview); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 241, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (unlikely(PyObject_SetItem(__pyx_t_1, __pyx_v_item, __pyx_v_value) < 0)) __PYX_ERR(2, 241, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseArrayCodec(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
+  }
+  #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->sub_codec);
+  #if CYTHON_USE_TYPE_SLOTS
+  if (PyType_IS_GC(Py_TYPE(o)->tp_base))
+  #endif
+  PyObject_GC_Track(o);
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
+}
 
-  /* "View.MemoryView":240
- *         return self.memview[item]
- * 
- *     def __setitem__(self, item, value):             # <<<<<<<<<<<<<<
- *         self.memview[item] = value
- * 
- */
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseArrayCodec(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *)o;
+  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseArrayCodec)); if (e) return e;
+  if (p->sub_codec) {
+    e = (*v)(((PyObject *)p->sub_codec), a); if (e) return e;
+  }
+  return 0;
+}
 
-  /* function exit code */
-  __pyx_r = 0;
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.array.__setitem__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  __pyx_L0:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseArrayCodec(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *)o;
+  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseArrayCodec);
+  tmp = ((PyObject*)p->sub_codec);
+  p->sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
 }
 
-/* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- */
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_BaseArrayCodec[] = {
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_14BaseArrayCodec_3__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_14BaseArrayCodec_5__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-/* Python wrapper */
-static PyObject *__pyx_pw___pyx_array_1__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_pw___pyx_array_1__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf___pyx_array___reduce_cython__(((struct __pyx_array_obj *)__pyx_v_self));
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_BaseArrayCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.BaseArrayCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ArrayCodec __pyx_vtable_6edgedb_8protocol_8protocol_ArrayCodec;
 
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_ArrayCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseArrayCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec *)o);
+  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_ArrayCodec;
+  return o;
 }
 
-static PyObject *__pyx_pf___pyx_array___reduce_cython__(CYTHON_UNUSED struct __pyx_array_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
-
-  /* "(tree fragment)":2
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__103, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 2, __pyx_L1_error)
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_ArrayCodec[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10ArrayCodec_1make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10ArrayCodec_3__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10ArrayCodec_5__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-  /* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- */
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_ArrayCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.ArrayCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_ArrayCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_ArrayCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_RangeCodec __pyx_vtable_6edgedb_8protocol_8protocol_RangeCodec;
 
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.array.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_RangeCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *)o);
+  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_RangeCodec;
+  p->sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_10RangeCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
 }
 
-/* "(tree fragment)":3
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw___pyx_array_3__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
-static PyObject *__pyx_pw___pyx_array_3__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf___pyx_array_2__setstate_cython__(((struct __pyx_array_obj *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_RangeCodec(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *)o;
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->sub_codec);
+  #if CYTHON_USE_TYPE_SLOTS
+  if (PyType_IS_GC(Py_TYPE(o)->tp_base))
+  #endif
+  PyObject_GC_Track(o);
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
+}
 
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_RangeCodec(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *)o;
+  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_RangeCodec)); if (e) return e;
+  if (p->sub_codec) {
+    e = (*v)(((PyObject *)p->sub_codec), a); if (e) return e;
+  }
+  return 0;
 }
 
-static PyObject *__pyx_pf___pyx_array_2__setstate_cython__(CYTHON_UNUSED struct __pyx_array_obj *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_RangeCodec(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *)o;
+  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_RangeCodec);
+  tmp = ((PyObject*)p->sub_codec);
+  p->sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
 
-  /* "(tree fragment)":4
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__104, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 4, __pyx_L1_error)
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_RangeCodec[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10RangeCodec_3make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10RangeCodec_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10RangeCodec_7__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-  /* "(tree fragment)":3
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_RangeCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.RangeCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_RangeCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_RangeCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_RangeCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_RangeCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_RangeCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SetCodec __pyx_vtable_6edgedb_8protocol_8protocol_SetCodec;
 
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.array.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_SetCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseArrayCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec *)o);
+  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_SetCodec;
+  return o;
 }
 
-/* "View.MemoryView":245
- * 
- * @cname("__pyx_array_new")
- * cdef array array_cwrapper(tuple shape, Py_ssize_t itemsize, char *format,             # <<<<<<<<<<<<<<
- *                           char *mode, char *buf):
- *     cdef array result
- */
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_SetCodec[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_8SetCodec_1make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_8SetCodec_3__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_8SetCodec_5__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-static struct __pyx_array_obj *__pyx_array_new(PyObject *__pyx_v_shape, Py_ssize_t __pyx_v_itemsize, char *__pyx_v_format, char *__pyx_v_mode, char *__pyx_v_buf) {
-  struct __pyx_array_obj *__pyx_v_result = 0;
-  struct __pyx_array_obj *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  PyObject *__pyx_t_5 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("array_cwrapper", 0);
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_SetCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.SetCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_SetCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_SetCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EnumCodec __pyx_vtable_6edgedb_8protocol_8protocol_EnumCodec;
 
-  /* "View.MemoryView":249
- *     cdef array result
- * 
- *     if buf == NULL:             # <<<<<<<<<<<<<<
- *         result = array(shape, itemsize, format, mode.decode('ASCII'))
- *     else:
- */
-  __pyx_t_1 = ((__pyx_v_buf == NULL) != 0);
-  if (__pyx_t_1) {
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_EnumCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *p;
+  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *)o);
+  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_EnumCodec;
+  p->cls = Py_None; Py_INCREF(Py_None);
+  return o;
+}
 
-    /* "View.MemoryView":250
- * 
- *     if buf == NULL:
- *         result = array(shape, itemsize, format, mode.decode('ASCII'))             # <<<<<<<<<<<<<<
- *     else:
- *         result = array(shape, itemsize, format, mode.decode('ASCII'),
- */
-    __pyx_t_2 = PyInt_FromSsize_t(__pyx_v_itemsize); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 250, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyBytes_FromString(__pyx_v_format); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 250, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = __Pyx_decode_c_string(__pyx_v_mode, 0, strlen(__pyx_v_mode), NULL, NULL, PyUnicode_DecodeASCII); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 250, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = PyTuple_New(4); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 250, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_INCREF(__pyx_v_shape);
-    __Pyx_GIVEREF(__pyx_v_shape);
-    PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_shape);
-    __Pyx_GIVEREF(__pyx_t_2);
-    PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_2);
-    __Pyx_GIVEREF(__pyx_t_3);
-    PyTuple_SET_ITEM(__pyx_t_5, 2, __pyx_t_3);
-    __Pyx_GIVEREF(__pyx_t_4);
-    PyTuple_SET_ITEM(__pyx_t_5, 3, __pyx_t_4);
-    __pyx_t_2 = 0;
-    __pyx_t_3 = 0;
-    __pyx_t_4 = 0;
-    __pyx_t_4 = __Pyx_PyObject_Call(((PyObject *)__pyx_array_type), __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 250, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __pyx_v_result = ((struct __pyx_array_obj *)__pyx_t_4);
-    __pyx_t_4 = 0;
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EnumCodec(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *)o;
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->cls);
+  #if CYTHON_USE_TYPE_SLOTS
+  if (PyType_IS_GC(Py_TYPE(o)->tp_base))
+  #endif
+  PyObject_GC_Track(o);
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
+}
 
-    /* "View.MemoryView":249
- *     cdef array result
- * 
- *     if buf == NULL:             # <<<<<<<<<<<<<<
- *         result = array(shape, itemsize, format, mode.decode('ASCII'))
- *     else:
- */
-    goto __pyx_L3;
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_EnumCodec(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *)o;
+  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_EnumCodec)); if (e) return e;
+  if (p->cls) {
+    e = (*v)(p->cls, a); if (e) return e;
   }
+  return 0;
+}
 
-  /* "View.MemoryView":252
- *         result = array(shape, itemsize, format, mode.decode('ASCII'))
- *     else:
- *         result = array(shape, itemsize, format, mode.decode('ASCII'),             # <<<<<<<<<<<<<<
- *                        allocate_buffer=False)
- *         result.data = buf
- */
-  /*else*/ {
-    __pyx_t_4 = PyInt_FromSsize_t(__pyx_v_itemsize); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 252, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = __Pyx_PyBytes_FromString(__pyx_v_format); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 252, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_3 = __Pyx_decode_c_string(__pyx_v_mode, 0, strlen(__pyx_v_mode), NULL, NULL, PyUnicode_DecodeASCII); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 252, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 252, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_INCREF(__pyx_v_shape);
-    __Pyx_GIVEREF(__pyx_v_shape);
-    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_shape);
-    __Pyx_GIVEREF(__pyx_t_4);
-    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_5);
-    PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_t_5);
-    __Pyx_GIVEREF(__pyx_t_3);
-    PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_t_3);
-    __pyx_t_4 = 0;
-    __pyx_t_5 = 0;
-    __pyx_t_3 = 0;
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_EnumCodec(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *)o;
+  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_EnumCodec);
+  tmp = ((PyObject*)p->cls);
+  p->cls = Py_None; Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
 
-    /* "View.MemoryView":253
- *     else:
- *         result = array(shape, itemsize, format, mode.decode('ASCII'),
- *                        allocate_buffer=False)             # <<<<<<<<<<<<<<
- *         result.data = buf
- * 
- */
-    __pyx_t_3 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 253, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_allocate_buffer, Py_False) < 0) __PYX_ERR(2, 253, __pyx_L1_error)
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_EnumCodec[] = {
+  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9EnumCodec_1make_type, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9EnumCodec_3__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9EnumCodec_5__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-    /* "View.MemoryView":252
- *         result = array(shape, itemsize, format, mode.decode('ASCII'))
- *     else:
- *         result = array(shape, itemsize, format, mode.decode('ASCII'),             # <<<<<<<<<<<<<<
- *                        allocate_buffer=False)
- *         result.data = buf
- */
-    __pyx_t_5 = __Pyx_PyObject_Call(((PyObject *)__pyx_array_type), __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 252, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_v_result = ((struct __pyx_array_obj *)__pyx_t_5);
-    __pyx_t_5 = 0;
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_EnumCodec = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.EnumCodec", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EnumCodec, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_EnumCodec, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_EnumCodec, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_EnumCodec, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  #if CYTHON_COMPILING_IN_PYPY
+  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
+  #else
+  0, /*tp_init*/
+  #endif
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_EnumCodec, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_CodecsRegistry __pyx_vtable_6edgedb_8protocol_8protocol_CodecsRegistry;
 
-    /* "View.MemoryView":254
- *         result = array(shape, itemsize, format, mode.decode('ASCII'),
- *                        allocate_buffer=False)
- *         result.data = buf             # <<<<<<<<<<<<<<
- * 
- *     return result
- */
-    __pyx_v_result->data = __pyx_v_buf;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_CodecsRegistry(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *p;
+  PyObject *o;
+  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
+    o = (*t->tp_alloc)(t, 0);
+  } else {
+    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
-  __pyx_L3:;
-
-  /* "View.MemoryView":256
- *         result.data = buf
- * 
- *     return result             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __Pyx_XDECREF(((PyObject *)__pyx_r));
-  __Pyx_INCREF(((PyObject *)__pyx_v_result));
-  __pyx_r = __pyx_v_result;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":245
- * 
- * @cname("__pyx_array_new")
- * cdef array array_cwrapper(tuple shape, Py_ssize_t itemsize, char *format,             # <<<<<<<<<<<<<<
- *                           char *mode, char *buf):
- *     cdef array result
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_AddTraceback("View.MemoryView.array_cwrapper", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XDECREF((PyObject *)__pyx_v_result);
-  __Pyx_XGIVEREF((PyObject *)__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)o);
+  p->__pyx_vtab = __pyx_vtabptr_6edgedb_8protocol_8protocol_CodecsRegistry;
+  p->codecs_build_cache = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
+  p->codecs = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
+  p->base_codec_overrides = ((PyObject*)Py_None); Py_INCREF(Py_None);
+  return o;
 }
 
-/* "View.MemoryView":282
- * cdef class Enum(object):
- *     cdef object name
- *     def __init__(self, name):             # <<<<<<<<<<<<<<
- *         self.name = name
- *     def __repr__(self):
- */
-
-/* Python wrapper */
-static int __pyx_MemviewEnum___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static int __pyx_MemviewEnum___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  PyObject *__pyx_v_name = 0;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__init__ (wrapper)", 0);
-  {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_name_2,0};
-    PyObject* values[1] = {0};
-    if (unlikely(__pyx_kwds)) {
-      Py_ssize_t kw_args;
-      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
-      switch (pos_args) {
-        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = PyDict_Size(__pyx_kwds);
-      switch (pos_args) {
-        case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_name_2)) != 0)) kw_args--;
-        else goto __pyx_L5_argtuple_error;
-      }
-      if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(2, 282, __pyx_L3_error)
-      }
-    } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
-      goto __pyx_L5_argtuple_error;
-    } else {
-      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-    }
-    __pyx_v_name = values[0];
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_CodecsRegistry(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(2, 282, __pyx_L3_error)
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("View.MemoryView.Enum.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return -1;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_MemviewEnum___pyx_pf_15View_dot_MemoryView_4Enum___init__(((struct __pyx_MemviewEnum_obj *)__pyx_v_self), __pyx_v_name);
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+  #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->codecs_build_cache);
+  Py_CLEAR(p->codecs);
+  Py_CLEAR(p->base_codec_overrides);
+  (*Py_TYPE(o)->tp_free)(o);
 }
 
-static int __pyx_MemviewEnum___pyx_pf_15View_dot_MemoryView_4Enum___init__(struct __pyx_MemviewEnum_obj *__pyx_v_self, PyObject *__pyx_v_name) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__init__", 0);
-
-  /* "View.MemoryView":283
- *     cdef object name
- *     def __init__(self, name):
- *         self.name = name             # <<<<<<<<<<<<<<
- *     def __repr__(self):
- *         return self.name
- */
-  __Pyx_INCREF(__pyx_v_name);
-  __Pyx_GIVEREF(__pyx_v_name);
-  __Pyx_GOTREF(__pyx_v_self->name);
-  __Pyx_DECREF(__pyx_v_self->name);
-  __pyx_v_self->name = __pyx_v_name;
-
-  /* "View.MemoryView":282
- * cdef class Enum(object):
- *     cdef object name
- *     def __init__(self, name):             # <<<<<<<<<<<<<<
- *         self.name = name
- *     def __repr__(self):
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_CodecsRegistry(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)o;
+  if (p->codecs_build_cache) {
+    e = (*v)(((PyObject *)p->codecs_build_cache), a); if (e) return e;
+  }
+  if (p->codecs) {
+    e = (*v)(((PyObject *)p->codecs), a); if (e) return e;
+  }
+  if (p->base_codec_overrides) {
+    e = (*v)(p->base_codec_overrides, a); if (e) return e;
+  }
+  return 0;
 }
 
-/* "View.MemoryView":284
- *     def __init__(self, name):
- *         self.name = name
- *     def __repr__(self):             # <<<<<<<<<<<<<<
- *         return self.name
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_MemviewEnum___repr__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_MemviewEnum___repr__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__repr__ (wrapper)", 0);
-  __pyx_r = __pyx_MemviewEnum___pyx_pf_15View_dot_MemoryView_4Enum_2__repr__(((struct __pyx_MemviewEnum_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_CodecsRegistry(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)o;
+  tmp = ((PyObject*)p->codecs_build_cache);
+  p->codecs_build_cache = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  tmp = ((PyObject*)p->codecs);
+  p->codecs = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  tmp = ((PyObject*)p->base_codec_overrides);
+  p->base_codec_overrides = ((PyObject*)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
 }
 
-static PyObject *__pyx_MemviewEnum___pyx_pf_15View_dot_MemoryView_4Enum_2__repr__(struct __pyx_MemviewEnum_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__repr__", 0);
-
-  /* "View.MemoryView":285
- *         self.name = name
- *     def __repr__(self):
- *         return self.name             # <<<<<<<<<<<<<<
- * 
- * cdef generic = Enum("<strided and direct or indirect>")
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(__pyx_v_self->name);
-  __pyx_r = __pyx_v_self->name;
-  goto __pyx_L0;
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_CodecsRegistry[] = {
+  {"clear_cache", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_14CodecsRegistry_3clear_cache, METH_NOARGS, 0},
+  {"set_type_codec", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6edgedb_8protocol_8protocol_14CodecsRegistry_5set_type_codec, METH_VARARGS|METH_KEYWORDS, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_14CodecsRegistry_7__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_14CodecsRegistry_9__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
-  /* "View.MemoryView":284
- *     def __init__(self, name):
- *         self.name = name
- *     def __repr__(self):             # <<<<<<<<<<<<<<
- *         return self.name
- * 
- */
+static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "edgedb.protocol.protocol.CodecsRegistry", /*tp_name*/
+  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_CodecsRegistry, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_6edgedb_8protocol_8protocol_CodecsRegistry, /*tp_traverse*/
+  __pyx_tp_clear_6edgedb_8protocol_8protocol_CodecsRegistry, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_6edgedb_8protocol_8protocol_CodecsRegistry, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  __pyx_pw_6edgedb_8protocol_8protocol_14CodecsRegistry_1__init__, /*tp_init*/
+  0, /*tp_alloc*/
+  __pyx_tp_new_6edgedb_8protocol_8protocol_CodecsRegistry, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_QueryCodecsCache __pyx_vtable_6edgedb_8protocol_8protocol_QueryCodecsCache;
 
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_QueryCodecsCache(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *p;
+  PyObject *o;
+  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
+    o = (*t->tp_alloc)(t, 0);
+  } else {
+    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
+  }
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *)o);
+  p->__pyx_vtab = __pyx_vtabptr_6edgedb_8protocol_8protocol_QueryCodecsCache;
+  p->queries = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
+  return o;
 }
 
-/* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     cdef tuple state
- *     cdef object _dict
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw___pyx_MemviewEnum_1__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_pw___pyx_MemviewEnum_1__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf___pyx_MemviewEnum___reduce_cython__(((struct __pyx_MemviewEnum_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
+static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_QueryCodecsCache(PyObject *o) {
+  struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
+  }
+  #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->queries);
+  (*Py_TYPE(o)->tp_free)(o);
 }
 
-static PyObject *__pyx_pf___pyx_MemviewEnum___reduce_cython__(struct __pyx_MemviewEnum_obj *__pyx_v_self) {
-  PyObject *__pyx_v_state = 0;
-  PyObject *__pyx_v__dict = 0;
-  int __pyx_v_use_setstate;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  PyObject *__pyx_t_4 = NULL;
-  PyObject *__pyx_t_5 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
-
-  /* "(tree fragment)":5
- *     cdef object _dict
- *     cdef bint use_setstate
- *     state = (self.name,)             # <<<<<<<<<<<<<<
- *     _dict = getattr(self, '__dict__', None)
- *     if _dict is not None:
- */
-  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 5, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_INCREF(__pyx_v_self->name);
-  __Pyx_GIVEREF(__pyx_v_self->name);
-  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_self->name);
-  __pyx_v_state = ((PyObject*)__pyx_t_1);
-  __pyx_t_1 = 0;
+static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_QueryCodecsCache(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *)o;
+  if (p->queries) {
+    e = (*v)(((PyObject *)p->queries), a); if (e) return e;
+  }
+  return 0;
+}
 
-  /* "(tree fragment)":6
- *     cdef bint use_setstate
- *     state = (self.name,)
- *     _dict = getattr(self, '__dict__', None)             # <<<<<<<<<<<<<<
- *     if _dict is not None:
- *         state += (_dict,)
- */
-  __pyx_t_1 = __Pyx_GetAttr3(((PyObject *)__pyx_v_self), __pyx_n_s_dict, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 6, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_v__dict = __pyx_t_1;
-  __pyx_t_1 = 0;
+static int __pyx_tp_clear_6edgedb_8protocol_8protocol_QueryCodecsCache(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *)o;
+  tmp = ((PyObject*)p->queries);
+  p->queries = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
 
-  /* "(tree fragment)":7
- *     state = (self.name,)
- *     _dict = getattr(self, '__dict__', None)
- *     if _dict is not None:             # <<<<<<<<<<<<<<
- *         state += (_dict,)
- *         use_setstate = True
- */
-  __pyx_t_2 = (__pyx_v__dict != Py_None);
-  __pyx_t_3 = (__pyx_t_2 != 0);
-  if (__pyx_t_3) {
-
-    /* "(tree fragment)":8
- *     _dict = getattr(self, '__dict__', None)
- *     if _dict is not None:
- *         state += (_dict,)             # <<<<<<<<<<<<<<
- *         use_setstate = True
- *     else:
- */
-    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 8, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_INCREF(__pyx_v__dict);
-    __Pyx_GIVEREF(__pyx_v__dict);
-    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v__dict);
-    __pyx_t_4 = PyNumber_InPlaceAdd(__pyx_v_state, __pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 8, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __Pyx_DECREF_SET(__pyx_v_state, ((PyObject*)__pyx_t_4));
-    __pyx_t_4 = 0;
-
-    /* "(tree fragment)":9
- *     if _dict is not None:
- *         state += (_dict,)
- *         use_setstate = True             # <<<<<<<<<<<<<<
- *     else:
- *         use_setstate = self.name is not None
- */
-    __pyx_v_use_setstate = 1;
-
-    /* "(tree fragment)":7
- *     state = (self.name,)
- *     _dict = getattr(self, '__dict__', None)
- *     if _dict is not None:             # <<<<<<<<<<<<<<
- *         state += (_dict,)
- *         use_setstate = True
- */
-    goto __pyx_L3;
-  }
-
-  /* "(tree fragment)":11
- *         use_setstate = True
- *     else:
- *         use_setstate = self.name is not None             # <<<<<<<<<<<<<<
- *     if use_setstate:
- *         return __pyx_unpickle_Enum, (type(self), 0xb068931, None), state
- */
-  /*else*/ {
-    __pyx_t_3 = (__pyx_v_self->name != Py_None);
-    __pyx_v_use_setstate = __pyx_t_3;
-  }
-  __pyx_L3:;
-
-  /* "(tree fragment)":12
- *     else:
- *         use_setstate = self.name is not None
- *     if use_setstate:             # <<<<<<<<<<<<<<
- *         return __pyx_unpickle_Enum, (type(self), 0xb068931, None), state
- *     else:
- */
-  __pyx_t_3 = (__pyx_v_use_setstate != 0);
-  if (__pyx_t_3) {
-
-    /* "(tree fragment)":13
- *         use_setstate = self.name is not None
- *     if use_setstate:
- *         return __pyx_unpickle_Enum, (type(self), 0xb068931, None), state             # <<<<<<<<<<<<<<
- *     else:
- *         return __pyx_unpickle_Enum, (type(self), 0xb068931, state)
- */
-    __Pyx_XDECREF(__pyx_r);
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_pyx_unpickle_Enum); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 13, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 13, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_INCREF(((PyObject *)Py_TYPE(((PyObject *)__pyx_v_self))));
-    __Pyx_GIVEREF(((PyObject *)Py_TYPE(((PyObject *)__pyx_v_self))));
-    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)Py_TYPE(((PyObject *)__pyx_v_self))));
-    __Pyx_INCREF(__pyx_int_184977713);
-    __Pyx_GIVEREF(__pyx_int_184977713);
-    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_int_184977713);
-    __Pyx_INCREF(Py_None);
-    __Pyx_GIVEREF(Py_None);
-    PyTuple_SET_ITEM(__pyx_t_1, 2, Py_None);
-    __pyx_t_5 = PyTuple_New(3); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 13, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_GIVEREF(__pyx_t_4);
-    PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_1);
-    PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_1);
-    __Pyx_INCREF(__pyx_v_state);
-    __Pyx_GIVEREF(__pyx_v_state);
-    PyTuple_SET_ITEM(__pyx_t_5, 2, __pyx_v_state);
-    __pyx_t_4 = 0;
-    __pyx_t_1 = 0;
-    __pyx_r = __pyx_t_5;
-    __pyx_t_5 = 0;
-    goto __pyx_L0;
-
-    /* "(tree fragment)":12
- *     else:
- *         use_setstate = self.name is not None
- *     if use_setstate:             # <<<<<<<<<<<<<<
- *         return __pyx_unpickle_Enum, (type(self), 0xb068931, None), state
- *     else:
- */
-  }
-
-  /* "(tree fragment)":15
- *         return __pyx_unpickle_Enum, (type(self), 0xb068931, None), state
- *     else:
- *         return __pyx_unpickle_Enum, (type(self), 0xb068931, state)             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     __pyx_unpickle_Enum__set_state(self, __pyx_state)
- */
-  /*else*/ {
-    __Pyx_XDECREF(__pyx_r);
-    __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_pyx_unpickle_Enum); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 15, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 15, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_INCREF(((PyObject *)Py_TYPE(((PyObject *)__pyx_v_self))));
-    __Pyx_GIVEREF(((PyObject *)Py_TYPE(((PyObject *)__pyx_v_self))));
-    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)Py_TYPE(((PyObject *)__pyx_v_self))));
-    __Pyx_INCREF(__pyx_int_184977713);
-    __Pyx_GIVEREF(__pyx_int_184977713);
-    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_int_184977713);
-    __Pyx_INCREF(__pyx_v_state);
-    __Pyx_GIVEREF(__pyx_v_state);
-    PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_v_state);
-    __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 15, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_5);
-    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_5);
-    __Pyx_GIVEREF(__pyx_t_1);
-    PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_1);
-    __pyx_t_5 = 0;
-    __pyx_t_1 = 0;
-    __pyx_r = __pyx_t_4;
-    __pyx_t_4 = 0;
-    goto __pyx_L0;
-  }
-
-  /* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     cdef tuple state
- *     cdef object _dict
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_AddTraceback("View.MemoryView.Enum.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_state);
-  __Pyx_XDECREF(__pyx_v__dict);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "(tree fragment)":16
- *     else:
- *         return __pyx_unpickle_Enum, (type(self), 0xb068931, state)
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     __pyx_unpickle_Enum__set_state(self, __pyx_state)
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw___pyx_MemviewEnum_3__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
-static PyObject *__pyx_pw___pyx_MemviewEnum_3__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf___pyx_MemviewEnum_2__setstate_cython__(((struct __pyx_MemviewEnum_obj *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf___pyx_MemviewEnum_2__setstate_cython__(struct __pyx_MemviewEnum_obj *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
-
-  /* "(tree fragment)":17
- *         return __pyx_unpickle_Enum, (type(self), 0xb068931, state)
- * def __setstate_cython__(self, __pyx_state):
- *     __pyx_unpickle_Enum__set_state(self, __pyx_state)             # <<<<<<<<<<<<<<
- */
-  if (!(likely(PyTuple_CheckExact(__pyx_v___pyx_state))||((__pyx_v___pyx_state) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "tuple", Py_TYPE(__pyx_v___pyx_state)->tp_name), 0))) __PYX_ERR(2, 17, __pyx_L1_error)
-  __pyx_t_1 = __pyx_unpickle_Enum__set_state(__pyx_v_self, ((PyObject*)__pyx_v___pyx_state)); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 17, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-
-  /* "(tree fragment)":16
- *     else:
- *         return __pyx_unpickle_Enum, (type(self), 0xb068931, state)
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     __pyx_unpickle_Enum__set_state(self, __pyx_state)
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.Enum.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":299
- * 
- * @cname('__pyx_align_pointer')
- * cdef void *align_pointer(void *memory, size_t alignment) nogil:             # <<<<<<<<<<<<<<
- *     "Align pointer memory on a given boundary"
- *     cdef Py_intptr_t aligned_p = <Py_intptr_t> memory
- */
-
-static void *__pyx_align_pointer(void *__pyx_v_memory, size_t __pyx_v_alignment) {
-  Py_intptr_t __pyx_v_aligned_p;
-  size_t __pyx_v_offset;
-  void *__pyx_r;
-  int __pyx_t_1;
-
-  /* "View.MemoryView":301
- * cdef void *align_pointer(void *memory, size_t alignment) nogil:
- *     "Align pointer memory on a given boundary"
- *     cdef Py_intptr_t aligned_p = <Py_intptr_t> memory             # <<<<<<<<<<<<<<
- *     cdef size_t offset
- * 
- */
-  __pyx_v_aligned_p = ((Py_intptr_t)__pyx_v_memory);
-
-  /* "View.MemoryView":305
- * 
- *     with cython.cdivision(True):
- *         offset = aligned_p % alignment             # <<<<<<<<<<<<<<
- * 
- *     if offset > 0:
- */
-  __pyx_v_offset = (__pyx_v_aligned_p % __pyx_v_alignment);
-
-  /* "View.MemoryView":307
- *         offset = aligned_p % alignment
- * 
- *     if offset > 0:             # <<<<<<<<<<<<<<
- *         aligned_p += alignment - offset
- * 
- */
-  __pyx_t_1 = ((__pyx_v_offset > 0) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":308
- * 
- *     if offset > 0:
- *         aligned_p += alignment - offset             # <<<<<<<<<<<<<<
- * 
- *     return <void *> aligned_p
- */
-    __pyx_v_aligned_p = (__pyx_v_aligned_p + (__pyx_v_alignment - __pyx_v_offset));
-
-    /* "View.MemoryView":307
- *         offset = aligned_p % alignment
- * 
- *     if offset > 0:             # <<<<<<<<<<<<<<
- *         aligned_p += alignment - offset
- * 
- */
-  }
-
-  /* "View.MemoryView":310
- *         aligned_p += alignment - offset
- * 
- *     return <void *> aligned_p             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_r = ((void *)__pyx_v_aligned_p);
-  goto __pyx_L0;
-
-  /* "View.MemoryView":299
- * 
- * @cname('__pyx_align_pointer')
- * cdef void *align_pointer(void *memory, size_t alignment) nogil:             # <<<<<<<<<<<<<<
- *     "Align pointer memory on a given boundary"
- *     cdef Py_intptr_t aligned_p = <Py_intptr_t> memory
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  return __pyx_r;
-}
-
-/* "View.MemoryView":346
- *     cdef __Pyx_TypeInfo *typeinfo
- * 
- *     def __cinit__(memoryview self, object obj, int flags, bint dtype_is_object=False):             # <<<<<<<<<<<<<<
- *         self.obj = obj
- *         self.flags = flags
- */
-
-/* Python wrapper */
-static int __pyx_memoryview___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static int __pyx_memoryview___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  PyObject *__pyx_v_obj = 0;
-  int __pyx_v_flags;
-  int __pyx_v_dtype_is_object;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
-  {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_obj,&__pyx_n_s_flags,&__pyx_n_s_dtype_is_object,0};
-    PyObject* values[3] = {0,0,0};
-    if (unlikely(__pyx_kwds)) {
-      Py_ssize_t kw_args;
-      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
-      switch (pos_args) {
-        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-        CYTHON_FALLTHROUGH;
-        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-        CYTHON_FALLTHROUGH;
-        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = PyDict_Size(__pyx_kwds);
-      switch (pos_args) {
-        case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_obj)) != 0)) kw_args--;
-        else goto __pyx_L5_argtuple_error;
-        CYTHON_FALLTHROUGH;
-        case  1:
-        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_flags)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 2, 3, 1); __PYX_ERR(2, 346, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  2:
-        if (kw_args > 0) {
-          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_dtype_is_object);
-          if (value) { values[2] = value; kw_args--; }
-        }
-      }
-      if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(2, 346, __pyx_L3_error)
-      }
-    } else {
-      switch (PyTuple_GET_SIZE(__pyx_args)) {
-        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-        CYTHON_FALLTHROUGH;
-        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-    }
-    __pyx_v_obj = values[0];
-    __pyx_v_flags = __Pyx_PyInt_As_int(values[1]); if (unlikely((__pyx_v_flags == (int)-1) && PyErr_Occurred())) __PYX_ERR(2, 346, __pyx_L3_error)
-    if (values[2]) {
-      __pyx_v_dtype_is_object = __Pyx_PyObject_IsTrue(values[2]); if (unlikely((__pyx_v_dtype_is_object == (int)-1) && PyErr_Occurred())) __PYX_ERR(2, 346, __pyx_L3_error)
-    } else {
-      __pyx_v_dtype_is_object = ((int)0);
-    }
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(2, 346, __pyx_L3_error)
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("View.MemoryView.memoryview.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return -1;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview___cinit__(((struct __pyx_memoryview_obj *)__pyx_v_self), __pyx_v_obj, __pyx_v_flags, __pyx_v_dtype_is_object);
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static int __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview___cinit__(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_obj, int __pyx_v_flags, int __pyx_v_dtype_is_object) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  int __pyx_t_4;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__cinit__", 0);
-
-  /* "View.MemoryView":347
- * 
- *     def __cinit__(memoryview self, object obj, int flags, bint dtype_is_object=False):
- *         self.obj = obj             # <<<<<<<<<<<<<<
- *         self.flags = flags
- *         if type(self) is memoryview or obj is not None:
- */
-  __Pyx_INCREF(__pyx_v_obj);
-  __Pyx_GIVEREF(__pyx_v_obj);
-  __Pyx_GOTREF(__pyx_v_self->obj);
-  __Pyx_DECREF(__pyx_v_self->obj);
-  __pyx_v_self->obj = __pyx_v_obj;
-
-  /* "View.MemoryView":348
- *     def __cinit__(memoryview self, object obj, int flags, bint dtype_is_object=False):
- *         self.obj = obj
- *         self.flags = flags             # <<<<<<<<<<<<<<
- *         if type(self) is memoryview or obj is not None:
- *             __Pyx_GetBuffer(obj, &self.view, flags)
- */
-  __pyx_v_self->flags = __pyx_v_flags;
-
-  /* "View.MemoryView":349
- *         self.obj = obj
- *         self.flags = flags
- *         if type(self) is memoryview or obj is not None:             # <<<<<<<<<<<<<<
- *             __Pyx_GetBuffer(obj, &self.view, flags)
- *             if <PyObject *> self.view.obj == NULL:
- */
-  __pyx_t_2 = (((PyObject *)Py_TYPE(((PyObject *)__pyx_v_self))) == ((PyObject *)__pyx_memoryview_type));
-  __pyx_t_3 = (__pyx_t_2 != 0);
-  if (!__pyx_t_3) {
-  } else {
-    __pyx_t_1 = __pyx_t_3;
-    goto __pyx_L4_bool_binop_done;
-  }
-  __pyx_t_3 = (__pyx_v_obj != Py_None);
-  __pyx_t_2 = (__pyx_t_3 != 0);
-  __pyx_t_1 = __pyx_t_2;
-  __pyx_L4_bool_binop_done:;
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":350
- *         self.flags = flags
- *         if type(self) is memoryview or obj is not None:
- *             __Pyx_GetBuffer(obj, &self.view, flags)             # <<<<<<<<<<<<<<
- *             if <PyObject *> self.view.obj == NULL:
- *                 (<__pyx_buffer *> &self.view).obj = Py_None
- */
-    __pyx_t_4 = __Pyx_GetBuffer(__pyx_v_obj, (&__pyx_v_self->view), __pyx_v_flags); if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(2, 350, __pyx_L1_error)
-
-    /* "View.MemoryView":351
- *         if type(self) is memoryview or obj is not None:
- *             __Pyx_GetBuffer(obj, &self.view, flags)
- *             if <PyObject *> self.view.obj == NULL:             # <<<<<<<<<<<<<<
- *                 (<__pyx_buffer *> &self.view).obj = Py_None
- *                 Py_INCREF(Py_None)
- */
-    __pyx_t_1 = ((((PyObject *)__pyx_v_self->view.obj) == NULL) != 0);
-    if (__pyx_t_1) {
-
-      /* "View.MemoryView":352
- *             __Pyx_GetBuffer(obj, &self.view, flags)
- *             if <PyObject *> self.view.obj == NULL:
- *                 (<__pyx_buffer *> &self.view).obj = Py_None             # <<<<<<<<<<<<<<
- *                 Py_INCREF(Py_None)
- * 
- */
-      ((Py_buffer *)(&__pyx_v_self->view))->obj = Py_None;
-
-      /* "View.MemoryView":353
- *             if <PyObject *> self.view.obj == NULL:
- *                 (<__pyx_buffer *> &self.view).obj = Py_None
- *                 Py_INCREF(Py_None)             # <<<<<<<<<<<<<<
- * 
- *         if not __PYX_CYTHON_ATOMICS_ENABLED():
- */
-      Py_INCREF(Py_None);
-
-      /* "View.MemoryView":351
- *         if type(self) is memoryview or obj is not None:
- *             __Pyx_GetBuffer(obj, &self.view, flags)
- *             if <PyObject *> self.view.obj == NULL:             # <<<<<<<<<<<<<<
- *                 (<__pyx_buffer *> &self.view).obj = Py_None
- *                 Py_INCREF(Py_None)
- */
-    }
-
-    /* "View.MemoryView":349
- *         self.obj = obj
- *         self.flags = flags
- *         if type(self) is memoryview or obj is not None:             # <<<<<<<<<<<<<<
- *             __Pyx_GetBuffer(obj, &self.view, flags)
- *             if <PyObject *> self.view.obj == NULL:
- */
-  }
-
-  /* "View.MemoryView":355
- *                 Py_INCREF(Py_None)
- * 
- *         if not __PYX_CYTHON_ATOMICS_ENABLED():             # <<<<<<<<<<<<<<
- *             global __pyx_memoryview_thread_locks_used
- *             if __pyx_memoryview_thread_locks_used < THREAD_LOCKS_PREALLOCATED:
- */
-  __pyx_t_1 = ((!(__PYX_CYTHON_ATOMICS_ENABLED() != 0)) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":357
- *         if not __PYX_CYTHON_ATOMICS_ENABLED():
- *             global __pyx_memoryview_thread_locks_used
- *             if __pyx_memoryview_thread_locks_used < THREAD_LOCKS_PREALLOCATED:             # <<<<<<<<<<<<<<
- *                 self.lock = __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used]
- *                 __pyx_memoryview_thread_locks_used += 1
- */
-    __pyx_t_1 = ((__pyx_memoryview_thread_locks_used < 8) != 0);
-    if (__pyx_t_1) {
-
-      /* "View.MemoryView":358
- *             global __pyx_memoryview_thread_locks_used
- *             if __pyx_memoryview_thread_locks_used < THREAD_LOCKS_PREALLOCATED:
- *                 self.lock = __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used]             # <<<<<<<<<<<<<<
- *                 __pyx_memoryview_thread_locks_used += 1
- *             if self.lock is NULL:
- */
-      __pyx_v_self->lock = (__pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used]);
-
-      /* "View.MemoryView":359
- *             if __pyx_memoryview_thread_locks_used < THREAD_LOCKS_PREALLOCATED:
- *                 self.lock = __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used]
- *                 __pyx_memoryview_thread_locks_used += 1             # <<<<<<<<<<<<<<
- *             if self.lock is NULL:
- *                 self.lock = PyThread_allocate_lock()
- */
-      __pyx_memoryview_thread_locks_used = (__pyx_memoryview_thread_locks_used + 1);
-
-      /* "View.MemoryView":357
- *         if not __PYX_CYTHON_ATOMICS_ENABLED():
- *             global __pyx_memoryview_thread_locks_used
- *             if __pyx_memoryview_thread_locks_used < THREAD_LOCKS_PREALLOCATED:             # <<<<<<<<<<<<<<
- *                 self.lock = __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used]
- *                 __pyx_memoryview_thread_locks_used += 1
- */
-    }
-
-    /* "View.MemoryView":360
- *                 self.lock = __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used]
- *                 __pyx_memoryview_thread_locks_used += 1
- *             if self.lock is NULL:             # <<<<<<<<<<<<<<
- *                 self.lock = PyThread_allocate_lock()
- *                 if self.lock is NULL:
- */
-    __pyx_t_1 = ((__pyx_v_self->lock == NULL) != 0);
-    if (__pyx_t_1) {
-
-      /* "View.MemoryView":361
- *                 __pyx_memoryview_thread_locks_used += 1
- *             if self.lock is NULL:
- *                 self.lock = PyThread_allocate_lock()             # <<<<<<<<<<<<<<
- *                 if self.lock is NULL:
- *                     raise MemoryError
- */
-      __pyx_v_self->lock = PyThread_allocate_lock();
-
-      /* "View.MemoryView":362
- *             if self.lock is NULL:
- *                 self.lock = PyThread_allocate_lock()
- *                 if self.lock is NULL:             # <<<<<<<<<<<<<<
- *                     raise MemoryError
- * 
- */
-      __pyx_t_1 = ((__pyx_v_self->lock == NULL) != 0);
-      if (unlikely(__pyx_t_1)) {
-
-        /* "View.MemoryView":363
- *                 self.lock = PyThread_allocate_lock()
- *                 if self.lock is NULL:
- *                     raise MemoryError             # <<<<<<<<<<<<<<
- * 
- *         if flags & PyBUF_FORMAT:
- */
-        PyErr_NoMemory(); __PYX_ERR(2, 363, __pyx_L1_error)
-
-        /* "View.MemoryView":362
- *             if self.lock is NULL:
- *                 self.lock = PyThread_allocate_lock()
- *                 if self.lock is NULL:             # <<<<<<<<<<<<<<
- *                     raise MemoryError
- * 
- */
-      }
-
-      /* "View.MemoryView":360
- *                 self.lock = __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used]
- *                 __pyx_memoryview_thread_locks_used += 1
- *             if self.lock is NULL:             # <<<<<<<<<<<<<<
- *                 self.lock = PyThread_allocate_lock()
- *                 if self.lock is NULL:
- */
-    }
-
-    /* "View.MemoryView":355
- *                 Py_INCREF(Py_None)
- * 
- *         if not __PYX_CYTHON_ATOMICS_ENABLED():             # <<<<<<<<<<<<<<
- *             global __pyx_memoryview_thread_locks_used
- *             if __pyx_memoryview_thread_locks_used < THREAD_LOCKS_PREALLOCATED:
- */
-  }
-
-  /* "View.MemoryView":365
- *                     raise MemoryError
- * 
- *         if flags & PyBUF_FORMAT:             # <<<<<<<<<<<<<<
- *             self.dtype_is_object = (self.view.format[0] == b'O' and self.view.format[1] == b'\0')
- *         else:
- */
-  __pyx_t_1 = ((__pyx_v_flags & PyBUF_FORMAT) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":366
- * 
- *         if flags & PyBUF_FORMAT:
- *             self.dtype_is_object = (self.view.format[0] == b'O' and self.view.format[1] == b'\0')             # <<<<<<<<<<<<<<
- *         else:
- *             self.dtype_is_object = dtype_is_object
- */
-    __pyx_t_2 = (((__pyx_v_self->view.format[0]) == 'O') != 0);
-    if (__pyx_t_2) {
-    } else {
-      __pyx_t_1 = __pyx_t_2;
-      goto __pyx_L12_bool_binop_done;
-    }
-    __pyx_t_2 = (((__pyx_v_self->view.format[1]) == '\x00') != 0);
-    __pyx_t_1 = __pyx_t_2;
-    __pyx_L12_bool_binop_done:;
-    __pyx_v_self->dtype_is_object = __pyx_t_1;
-
-    /* "View.MemoryView":365
- *                     raise MemoryError
- * 
- *         if flags & PyBUF_FORMAT:             # <<<<<<<<<<<<<<
- *             self.dtype_is_object = (self.view.format[0] == b'O' and self.view.format[1] == b'\0')
- *         else:
- */
-    goto __pyx_L11;
-  }
-
-  /* "View.MemoryView":368
- *             self.dtype_is_object = (self.view.format[0] == b'O' and self.view.format[1] == b'\0')
- *         else:
- *             self.dtype_is_object = dtype_is_object             # <<<<<<<<<<<<<<
- * 
- *         self.acquisition_count_aligned_p = <__pyx_atomic_int *> align_pointer(
- */
-  /*else*/ {
-    __pyx_v_self->dtype_is_object = __pyx_v_dtype_is_object;
-  }
-  __pyx_L11:;
-
-  /* "View.MemoryView":370
- *             self.dtype_is_object = dtype_is_object
- * 
- *         self.acquisition_count_aligned_p = <__pyx_atomic_int *> align_pointer(             # <<<<<<<<<<<<<<
- *                   <void *> &self.acquisition_count[0], sizeof(__pyx_atomic_int))
- *         self.typeinfo = NULL
- */
-  __pyx_v_self->acquisition_count_aligned_p = ((__pyx_atomic_int *)__pyx_align_pointer(((void *)(&(__pyx_v_self->acquisition_count[0]))), (sizeof(__pyx_atomic_int))));
-
-  /* "View.MemoryView":372
- *         self.acquisition_count_aligned_p = <__pyx_atomic_int *> align_pointer(
- *                   <void *> &self.acquisition_count[0], sizeof(__pyx_atomic_int))
- *         self.typeinfo = NULL             # <<<<<<<<<<<<<<
- * 
- *     def __dealloc__(memoryview self):
- */
-  __pyx_v_self->typeinfo = NULL;
-
-  /* "View.MemoryView":346
- *     cdef __Pyx_TypeInfo *typeinfo
- * 
- *     def __cinit__(memoryview self, object obj, int flags, bint dtype_is_object=False):             # <<<<<<<<<<<<<<
- *         self.obj = obj
- *         self.flags = flags
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_AddTraceback("View.MemoryView.memoryview.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  __pyx_L0:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":374
- *         self.typeinfo = NULL
- * 
- *     def __dealloc__(memoryview self):             # <<<<<<<<<<<<<<
- *         if self.obj is not None:
- *             __Pyx_ReleaseBuffer(&self.view)
- */
-
-/* Python wrapper */
-static void __pyx_memoryview___dealloc__(PyObject *__pyx_v_self); /*proto*/
-static void __pyx_memoryview___dealloc__(PyObject *__pyx_v_self) {
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__dealloc__ (wrapper)", 0);
-  __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_2__dealloc__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-}
-
-static void __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_2__dealloc__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  int __pyx_v_i;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  int __pyx_t_4;
-  int __pyx_t_5;
-  PyThread_type_lock __pyx_t_6;
-  PyThread_type_lock __pyx_t_7;
-  __Pyx_RefNannySetupContext("__dealloc__", 0);
-
-  /* "View.MemoryView":375
- * 
- *     def __dealloc__(memoryview self):
- *         if self.obj is not None:             # <<<<<<<<<<<<<<
- *             __Pyx_ReleaseBuffer(&self.view)
- *         elif (<__pyx_buffer *> &self.view).obj == Py_None:
- */
-  __pyx_t_1 = (__pyx_v_self->obj != Py_None);
-  __pyx_t_2 = (__pyx_t_1 != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":376
- *     def __dealloc__(memoryview self):
- *         if self.obj is not None:
- *             __Pyx_ReleaseBuffer(&self.view)             # <<<<<<<<<<<<<<
- *         elif (<__pyx_buffer *> &self.view).obj == Py_None:
- * 
- */
-    __Pyx_ReleaseBuffer((&__pyx_v_self->view));
-
-    /* "View.MemoryView":375
- * 
- *     def __dealloc__(memoryview self):
- *         if self.obj is not None:             # <<<<<<<<<<<<<<
- *             __Pyx_ReleaseBuffer(&self.view)
- *         elif (<__pyx_buffer *> &self.view).obj == Py_None:
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":377
- *         if self.obj is not None:
- *             __Pyx_ReleaseBuffer(&self.view)
- *         elif (<__pyx_buffer *> &self.view).obj == Py_None:             # <<<<<<<<<<<<<<
- * 
- *             (<__pyx_buffer *> &self.view).obj = NULL
- */
-  __pyx_t_2 = ((((Py_buffer *)(&__pyx_v_self->view))->obj == Py_None) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":379
- *         elif (<__pyx_buffer *> &self.view).obj == Py_None:
- * 
- *             (<__pyx_buffer *> &self.view).obj = NULL             # <<<<<<<<<<<<<<
- *             Py_DECREF(Py_None)
- * 
- */
-    ((Py_buffer *)(&__pyx_v_self->view))->obj = NULL;
-
-    /* "View.MemoryView":380
- * 
- *             (<__pyx_buffer *> &self.view).obj = NULL
- *             Py_DECREF(Py_None)             # <<<<<<<<<<<<<<
- * 
- *         cdef int i
- */
-    Py_DECREF(Py_None);
-
-    /* "View.MemoryView":377
- *         if self.obj is not None:
- *             __Pyx_ReleaseBuffer(&self.view)
- *         elif (<__pyx_buffer *> &self.view).obj == Py_None:             # <<<<<<<<<<<<<<
- * 
- *             (<__pyx_buffer *> &self.view).obj = NULL
- */
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":384
- *         cdef int i
- *         global __pyx_memoryview_thread_locks_used
- *         if self.lock != NULL:             # <<<<<<<<<<<<<<
- *             for i in range(__pyx_memoryview_thread_locks_used):
- *                 if __pyx_memoryview_thread_locks[i] is self.lock:
- */
-  __pyx_t_2 = ((__pyx_v_self->lock != NULL) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":385
- *         global __pyx_memoryview_thread_locks_used
- *         if self.lock != NULL:
- *             for i in range(__pyx_memoryview_thread_locks_used):             # <<<<<<<<<<<<<<
- *                 if __pyx_memoryview_thread_locks[i] is self.lock:
- *                     __pyx_memoryview_thread_locks_used -= 1
- */
-    __pyx_t_3 = __pyx_memoryview_thread_locks_used;
-    __pyx_t_4 = __pyx_t_3;
-    for (__pyx_t_5 = 0; __pyx_t_5 < __pyx_t_4; __pyx_t_5+=1) {
-      __pyx_v_i = __pyx_t_5;
-
-      /* "View.MemoryView":386
- *         if self.lock != NULL:
- *             for i in range(__pyx_memoryview_thread_locks_used):
- *                 if __pyx_memoryview_thread_locks[i] is self.lock:             # <<<<<<<<<<<<<<
- *                     __pyx_memoryview_thread_locks_used -= 1
- *                     if i != __pyx_memoryview_thread_locks_used:
- */
-      __pyx_t_2 = (((__pyx_memoryview_thread_locks[__pyx_v_i]) == __pyx_v_self->lock) != 0);
-      if (__pyx_t_2) {
-
-        /* "View.MemoryView":387
- *             for i in range(__pyx_memoryview_thread_locks_used):
- *                 if __pyx_memoryview_thread_locks[i] is self.lock:
- *                     __pyx_memoryview_thread_locks_used -= 1             # <<<<<<<<<<<<<<
- *                     if i != __pyx_memoryview_thread_locks_used:
- *                         __pyx_memoryview_thread_locks[i], __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used] = (
- */
-        __pyx_memoryview_thread_locks_used = (__pyx_memoryview_thread_locks_used - 1);
-
-        /* "View.MemoryView":388
- *                 if __pyx_memoryview_thread_locks[i] is self.lock:
- *                     __pyx_memoryview_thread_locks_used -= 1
- *                     if i != __pyx_memoryview_thread_locks_used:             # <<<<<<<<<<<<<<
- *                         __pyx_memoryview_thread_locks[i], __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used] = (
- *                             __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used], __pyx_memoryview_thread_locks[i])
- */
-        __pyx_t_2 = ((__pyx_v_i != __pyx_memoryview_thread_locks_used) != 0);
-        if (__pyx_t_2) {
-
-          /* "View.MemoryView":390
- *                     if i != __pyx_memoryview_thread_locks_used:
- *                         __pyx_memoryview_thread_locks[i], __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used] = (
- *                             __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used], __pyx_memoryview_thread_locks[i])             # <<<<<<<<<<<<<<
- *                     break
- *             else:
- */
-          __pyx_t_6 = (__pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used]);
-          __pyx_t_7 = (__pyx_memoryview_thread_locks[__pyx_v_i]);
-
-          /* "View.MemoryView":389
- *                     __pyx_memoryview_thread_locks_used -= 1
- *                     if i != __pyx_memoryview_thread_locks_used:
- *                         __pyx_memoryview_thread_locks[i], __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used] = (             # <<<<<<<<<<<<<<
- *                             __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used], __pyx_memoryview_thread_locks[i])
- *                     break
- */
-          (__pyx_memoryview_thread_locks[__pyx_v_i]) = __pyx_t_6;
-          (__pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used]) = __pyx_t_7;
-
-          /* "View.MemoryView":388
- *                 if __pyx_memoryview_thread_locks[i] is self.lock:
- *                     __pyx_memoryview_thread_locks_used -= 1
- *                     if i != __pyx_memoryview_thread_locks_used:             # <<<<<<<<<<<<<<
- *                         __pyx_memoryview_thread_locks[i], __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used] = (
- *                             __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used], __pyx_memoryview_thread_locks[i])
- */
-        }
-
-        /* "View.MemoryView":391
- *                         __pyx_memoryview_thread_locks[i], __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used] = (
- *                             __pyx_memoryview_thread_locks[__pyx_memoryview_thread_locks_used], __pyx_memoryview_thread_locks[i])
- *                     break             # <<<<<<<<<<<<<<
- *             else:
- *                 PyThread_free_lock(self.lock)
- */
-        goto __pyx_L6_break;
-
-        /* "View.MemoryView":386
- *         if self.lock != NULL:
- *             for i in range(__pyx_memoryview_thread_locks_used):
- *                 if __pyx_memoryview_thread_locks[i] is self.lock:             # <<<<<<<<<<<<<<
- *                     __pyx_memoryview_thread_locks_used -= 1
- *                     if i != __pyx_memoryview_thread_locks_used:
- */
-      }
-    }
-    /*else*/ {
-
-      /* "View.MemoryView":393
- *                     break
- *             else:
- *                 PyThread_free_lock(self.lock)             # <<<<<<<<<<<<<<
- * 
- *     cdef char *get_item_pointer(memoryview self, object index) except NULL:
- */
-      PyThread_free_lock(__pyx_v_self->lock);
-    }
-    __pyx_L6_break:;
-
-    /* "View.MemoryView":384
- *         cdef int i
- *         global __pyx_memoryview_thread_locks_used
- *         if self.lock != NULL:             # <<<<<<<<<<<<<<
- *             for i in range(__pyx_memoryview_thread_locks_used):
- *                 if __pyx_memoryview_thread_locks[i] is self.lock:
- */
-  }
-
-  /* "View.MemoryView":374
- *         self.typeinfo = NULL
- * 
- *     def __dealloc__(memoryview self):             # <<<<<<<<<<<<<<
- *         if self.obj is not None:
- *             __Pyx_ReleaseBuffer(&self.view)
- */
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-}
-
-/* "View.MemoryView":395
- *                 PyThread_free_lock(self.lock)
- * 
- *     cdef char *get_item_pointer(memoryview self, object index) except NULL:             # <<<<<<<<<<<<<<
- *         cdef Py_ssize_t dim
- *         cdef char *itemp = <char *> self.view.buf
- */
-
-static char *__pyx_memoryview_get_item_pointer(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index) {
-  Py_ssize_t __pyx_v_dim;
-  char *__pyx_v_itemp;
-  PyObject *__pyx_v_idx = NULL;
-  char *__pyx_r;
-  __Pyx_RefNannyDeclarations
-  Py_ssize_t __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  Py_ssize_t __pyx_t_3;
-  PyObject *(*__pyx_t_4)(PyObject *);
-  PyObject *__pyx_t_5 = NULL;
-  Py_ssize_t __pyx_t_6;
-  char *__pyx_t_7;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("get_item_pointer", 0);
-
-  /* "View.MemoryView":397
- *     cdef char *get_item_pointer(memoryview self, object index) except NULL:
- *         cdef Py_ssize_t dim
- *         cdef char *itemp = <char *> self.view.buf             # <<<<<<<<<<<<<<
- * 
- *         for dim, idx in enumerate(index):
- */
-  __pyx_v_itemp = ((char *)__pyx_v_self->view.buf);
-
-  /* "View.MemoryView":399
- *         cdef char *itemp = <char *> self.view.buf
- * 
- *         for dim, idx in enumerate(index):             # <<<<<<<<<<<<<<
- *             itemp = pybuffer_index(&self.view, itemp, idx, dim)
- * 
- */
-  __pyx_t_1 = 0;
-  if (likely(PyList_CheckExact(__pyx_v_index)) || PyTuple_CheckExact(__pyx_v_index)) {
-    __pyx_t_2 = __pyx_v_index; __Pyx_INCREF(__pyx_t_2); __pyx_t_3 = 0;
-    __pyx_t_4 = NULL;
-  } else {
-    __pyx_t_3 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_index); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 399, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_4 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 399, __pyx_L1_error)
-  }
-  for (;;) {
-    if (likely(!__pyx_t_4)) {
-      if (likely(PyList_CheckExact(__pyx_t_2))) {
-        if (__pyx_t_3 >= PyList_GET_SIZE(__pyx_t_2)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_5 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_5); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(2, 399, __pyx_L1_error)
-        #else
-        __pyx_t_5 = PySequence_ITEM(__pyx_t_2, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 399, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_5);
-        #endif
-      } else {
-        if (__pyx_t_3 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_5); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(2, 399, __pyx_L1_error)
-        #else
-        __pyx_t_5 = PySequence_ITEM(__pyx_t_2, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 399, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_5);
-        #endif
-      }
-    } else {
-      __pyx_t_5 = __pyx_t_4(__pyx_t_2);
-      if (unlikely(!__pyx_t_5)) {
-        PyObject* exc_type = PyErr_Occurred();
-        if (exc_type) {
-          if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(2, 399, __pyx_L1_error)
-        }
-        break;
-      }
-      __Pyx_GOTREF(__pyx_t_5);
-    }
-    __Pyx_XDECREF_SET(__pyx_v_idx, __pyx_t_5);
-    __pyx_t_5 = 0;
-    __pyx_v_dim = __pyx_t_1;
-    __pyx_t_1 = (__pyx_t_1 + 1);
-
-    /* "View.MemoryView":400
- * 
- *         for dim, idx in enumerate(index):
- *             itemp = pybuffer_index(&self.view, itemp, idx, dim)             # <<<<<<<<<<<<<<
- * 
- *         return itemp
- */
-    __pyx_t_6 = __Pyx_PyIndex_AsSsize_t(__pyx_v_idx); if (unlikely((__pyx_t_6 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(2, 400, __pyx_L1_error)
-    __pyx_t_7 = __pyx_pybuffer_index((&__pyx_v_self->view), __pyx_v_itemp, __pyx_t_6, __pyx_v_dim); if (unlikely(__pyx_t_7 == ((char *)NULL))) __PYX_ERR(2, 400, __pyx_L1_error)
-    __pyx_v_itemp = __pyx_t_7;
-
-    /* "View.MemoryView":399
- *         cdef char *itemp = <char *> self.view.buf
- * 
- *         for dim, idx in enumerate(index):             # <<<<<<<<<<<<<<
- *             itemp = pybuffer_index(&self.view, itemp, idx, dim)
- * 
- */
-  }
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-
-  /* "View.MemoryView":402
- *             itemp = pybuffer_index(&self.view, itemp, idx, dim)
- * 
- *         return itemp             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_r = __pyx_v_itemp;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":395
- *                 PyThread_free_lock(self.lock)
- * 
- *     cdef char *get_item_pointer(memoryview self, object index) except NULL:             # <<<<<<<<<<<<<<
- *         cdef Py_ssize_t dim
- *         cdef char *itemp = <char *> self.view.buf
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.get_item_pointer", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_idx);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":405
- * 
- * 
- *     def __getitem__(memoryview self, object index):             # <<<<<<<<<<<<<<
- *         if index is Ellipsis:
- *             return self
- */
-
-/* Python wrapper */
-static PyObject *__pyx_memoryview___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_index); /*proto*/
-static PyObject *__pyx_memoryview___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_index) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__getitem__ (wrapper)", 0);
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_4__getitem__(((struct __pyx_memoryview_obj *)__pyx_v_self), ((PyObject *)__pyx_v_index));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_4__getitem__(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index) {
-  PyObject *__pyx_v_have_slices = NULL;
-  PyObject *__pyx_v_indices = NULL;
-  char *__pyx_v_itemp;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  PyObject *__pyx_t_5 = NULL;
-  char *__pyx_t_6;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__getitem__", 0);
-
-  /* "View.MemoryView":406
- * 
- *     def __getitem__(memoryview self, object index):
- *         if index is Ellipsis:             # <<<<<<<<<<<<<<
- *             return self
- * 
- */
-  __pyx_t_1 = (__pyx_v_index == __pyx_builtin_Ellipsis);
-  __pyx_t_2 = (__pyx_t_1 != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":407
- *     def __getitem__(memoryview self, object index):
- *         if index is Ellipsis:
- *             return self             # <<<<<<<<<<<<<<
- * 
- *         have_slices, indices = _unellipsify(index, self.view.ndim)
- */
-    __Pyx_XDECREF(__pyx_r);
-    __Pyx_INCREF(((PyObject *)__pyx_v_self));
-    __pyx_r = ((PyObject *)__pyx_v_self);
-    goto __pyx_L0;
-
-    /* "View.MemoryView":406
- * 
- *     def __getitem__(memoryview self, object index):
- *         if index is Ellipsis:             # <<<<<<<<<<<<<<
- *             return self
- * 
- */
-  }
-
-  /* "View.MemoryView":409
- *             return self
- * 
- *         have_slices, indices = _unellipsify(index, self.view.ndim)             # <<<<<<<<<<<<<<
- * 
- *         cdef char *itemp
- */
-  __pyx_t_3 = _unellipsify(__pyx_v_index, __pyx_v_self->view.ndim); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 409, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (likely(__pyx_t_3 != Py_None)) {
-    PyObject* sequence = __pyx_t_3;
-    Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
-    if (unlikely(size != 2)) {
-      if (size > 2) __Pyx_RaiseTooManyValuesError(2);
-      else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-      __PYX_ERR(2, 409, __pyx_L1_error)
-    }
-    #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-    __pyx_t_4 = PyTuple_GET_ITEM(sequence, 0); 
-    __pyx_t_5 = PyTuple_GET_ITEM(sequence, 1); 
-    __Pyx_INCREF(__pyx_t_4);
-    __Pyx_INCREF(__pyx_t_5);
-    #else
-    __pyx_t_4 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 409, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 409, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    #endif
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  } else {
-    __Pyx_RaiseNoneNotIterableError(); __PYX_ERR(2, 409, __pyx_L1_error)
-  }
-  __pyx_v_have_slices = __pyx_t_4;
-  __pyx_t_4 = 0;
-  __pyx_v_indices = __pyx_t_5;
-  __pyx_t_5 = 0;
-
-  /* "View.MemoryView":412
- * 
- *         cdef char *itemp
- *         if have_slices:             # <<<<<<<<<<<<<<
- *             return memview_slice(self, indices)
- *         else:
- */
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_have_slices); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 412, __pyx_L1_error)
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":413
- *         cdef char *itemp
- *         if have_slices:
- *             return memview_slice(self, indices)             # <<<<<<<<<<<<<<
- *         else:
- *             itemp = self.get_item_pointer(indices)
- */
-    __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = ((PyObject *)__pyx_memview_slice(__pyx_v_self, __pyx_v_indices)); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 413, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_r = __pyx_t_3;
-    __pyx_t_3 = 0;
-    goto __pyx_L0;
-
-    /* "View.MemoryView":412
- * 
- *         cdef char *itemp
- *         if have_slices:             # <<<<<<<<<<<<<<
- *             return memview_slice(self, indices)
- *         else:
- */
-  }
-
-  /* "View.MemoryView":415
- *             return memview_slice(self, indices)
- *         else:
- *             itemp = self.get_item_pointer(indices)             # <<<<<<<<<<<<<<
- *             return self.convert_item_to_object(itemp)
- * 
- */
-  /*else*/ {
-    __pyx_t_6 = ((struct __pyx_vtabstruct_memoryview *)__pyx_v_self->__pyx_vtab)->get_item_pointer(__pyx_v_self, __pyx_v_indices); if (unlikely(__pyx_t_6 == ((char *)NULL))) __PYX_ERR(2, 415, __pyx_L1_error)
-    __pyx_v_itemp = __pyx_t_6;
-
-    /* "View.MemoryView":416
- *         else:
- *             itemp = self.get_item_pointer(indices)
- *             return self.convert_item_to_object(itemp)             # <<<<<<<<<<<<<<
- * 
- *     def __setitem__(memoryview self, object index, object value):
- */
-    __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = ((struct __pyx_vtabstruct_memoryview *)__pyx_v_self->__pyx_vtab)->convert_item_to_object(__pyx_v_self, __pyx_v_itemp); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 416, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_r = __pyx_t_3;
-    __pyx_t_3 = 0;
-    goto __pyx_L0;
-  }
-
-  /* "View.MemoryView":405
- * 
- * 
- *     def __getitem__(memoryview self, object index):             # <<<<<<<<<<<<<<
- *         if index is Ellipsis:
- *             return self
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.__getitem__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_have_slices);
-  __Pyx_XDECREF(__pyx_v_indices);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":418
- *             return self.convert_item_to_object(itemp)
- * 
- *     def __setitem__(memoryview self, object index, object value):             # <<<<<<<<<<<<<<
- *         if self.view.readonly:
- *             raise TypeError("Cannot assign to read-only memoryview")
- */
-
-/* Python wrapper */
-static int __pyx_memoryview___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_index, PyObject *__pyx_v_value); /*proto*/
-static int __pyx_memoryview___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_index, PyObject *__pyx_v_value) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__setitem__ (wrapper)", 0);
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_6__setitem__(((struct __pyx_memoryview_obj *)__pyx_v_self), ((PyObject *)__pyx_v_index), ((PyObject *)__pyx_v_value));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static int __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_6__setitem__(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index, PyObject *__pyx_v_value) {
-  PyObject *__pyx_v_have_slices = NULL;
-  PyObject *__pyx_v_obj = NULL;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__setitem__", 0);
-  __Pyx_INCREF(__pyx_v_index);
-
-  /* "View.MemoryView":419
- * 
- *     def __setitem__(memoryview self, object index, object value):
- *         if self.view.readonly:             # <<<<<<<<<<<<<<
- *             raise TypeError("Cannot assign to read-only memoryview")
- * 
- */
-  __pyx_t_1 = (__pyx_v_self->view.readonly != 0);
-  if (unlikely(__pyx_t_1)) {
-
-    /* "View.MemoryView":420
- *     def __setitem__(memoryview self, object index, object value):
- *         if self.view.readonly:
- *             raise TypeError("Cannot assign to read-only memoryview")             # <<<<<<<<<<<<<<
- * 
- *         have_slices, index = _unellipsify(index, self.view.ndim)
- */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__105, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 420, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_Raise(__pyx_t_2, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(2, 420, __pyx_L1_error)
-
-    /* "View.MemoryView":419
- * 
- *     def __setitem__(memoryview self, object index, object value):
- *         if self.view.readonly:             # <<<<<<<<<<<<<<
- *             raise TypeError("Cannot assign to read-only memoryview")
- * 
- */
-  }
-
-  /* "View.MemoryView":422
- *             raise TypeError("Cannot assign to read-only memoryview")
- * 
- *         have_slices, index = _unellipsify(index, self.view.ndim)             # <<<<<<<<<<<<<<
- * 
- *         if have_slices:
- */
-  __pyx_t_2 = _unellipsify(__pyx_v_index, __pyx_v_self->view.ndim); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 422, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  if (likely(__pyx_t_2 != Py_None)) {
-    PyObject* sequence = __pyx_t_2;
-    Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
-    if (unlikely(size != 2)) {
-      if (size > 2) __Pyx_RaiseTooManyValuesError(2);
-      else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-      __PYX_ERR(2, 422, __pyx_L1_error)
-    }
-    #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-    __pyx_t_3 = PyTuple_GET_ITEM(sequence, 0); 
-    __pyx_t_4 = PyTuple_GET_ITEM(sequence, 1); 
-    __Pyx_INCREF(__pyx_t_3);
-    __Pyx_INCREF(__pyx_t_4);
-    #else
-    __pyx_t_3 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 422, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 422, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    #endif
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  } else {
-    __Pyx_RaiseNoneNotIterableError(); __PYX_ERR(2, 422, __pyx_L1_error)
-  }
-  __pyx_v_have_slices = __pyx_t_3;
-  __pyx_t_3 = 0;
-  __Pyx_DECREF_SET(__pyx_v_index, __pyx_t_4);
-  __pyx_t_4 = 0;
-
-  /* "View.MemoryView":424
- *         have_slices, index = _unellipsify(index, self.view.ndim)
- * 
- *         if have_slices:             # <<<<<<<<<<<<<<
- *             obj = self.is_slice(value)
- *             if obj:
- */
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_have_slices); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(2, 424, __pyx_L1_error)
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":425
- * 
- *         if have_slices:
- *             obj = self.is_slice(value)             # <<<<<<<<<<<<<<
- *             if obj:
- *                 self.setitem_slice_assignment(self[index], obj)
- */
-    __pyx_t_2 = ((struct __pyx_vtabstruct_memoryview *)__pyx_v_self->__pyx_vtab)->is_slice(__pyx_v_self, __pyx_v_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 425, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __pyx_v_obj = __pyx_t_2;
-    __pyx_t_2 = 0;
-
-    /* "View.MemoryView":426
- *         if have_slices:
- *             obj = self.is_slice(value)
- *             if obj:             # <<<<<<<<<<<<<<
- *                 self.setitem_slice_assignment(self[index], obj)
- *             else:
- */
-    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_obj); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(2, 426, __pyx_L1_error)
-    if (__pyx_t_1) {
-
-      /* "View.MemoryView":427
- *             obj = self.is_slice(value)
- *             if obj:
- *                 self.setitem_slice_assignment(self[index], obj)             # <<<<<<<<<<<<<<
- *             else:
- *                 self.setitem_slice_assign_scalar(self[index], value)
- */
-      __pyx_t_2 = __Pyx_PyObject_GetItem(((PyObject *)__pyx_v_self), __pyx_v_index); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 427, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_2);
-      __pyx_t_4 = ((struct __pyx_vtabstruct_memoryview *)__pyx_v_self->__pyx_vtab)->setitem_slice_assignment(__pyx_v_self, __pyx_t_2, __pyx_v_obj); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 427, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-
-      /* "View.MemoryView":426
- *         if have_slices:
- *             obj = self.is_slice(value)
- *             if obj:             # <<<<<<<<<<<<<<
- *                 self.setitem_slice_assignment(self[index], obj)
- *             else:
- */
-      goto __pyx_L5;
-    }
-
-    /* "View.MemoryView":429
- *                 self.setitem_slice_assignment(self[index], obj)
- *             else:
- *                 self.setitem_slice_assign_scalar(self[index], value)             # <<<<<<<<<<<<<<
- *         else:
- *             self.setitem_indexed(index, value)
- */
-    /*else*/ {
-      __pyx_t_4 = __Pyx_PyObject_GetItem(((PyObject *)__pyx_v_self), __pyx_v_index); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 429, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      if (!(likely(((__pyx_t_4) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_4, __pyx_memoryview_type))))) __PYX_ERR(2, 429, __pyx_L1_error)
-      __pyx_t_2 = ((struct __pyx_vtabstruct_memoryview *)__pyx_v_self->__pyx_vtab)->setitem_slice_assign_scalar(__pyx_v_self, ((struct __pyx_memoryview_obj *)__pyx_t_4), __pyx_v_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 429, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_2);
-      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    }
-    __pyx_L5:;
-
-    /* "View.MemoryView":424
- *         have_slices, index = _unellipsify(index, self.view.ndim)
- * 
- *         if have_slices:             # <<<<<<<<<<<<<<
- *             obj = self.is_slice(value)
- *             if obj:
- */
-    goto __pyx_L4;
-  }
-
-  /* "View.MemoryView":431
- *                 self.setitem_slice_assign_scalar(self[index], value)
- *         else:
- *             self.setitem_indexed(index, value)             # <<<<<<<<<<<<<<
- * 
- *     cdef is_slice(self, obj):
- */
-  /*else*/ {
-    __pyx_t_2 = ((struct __pyx_vtabstruct_memoryview *)__pyx_v_self->__pyx_vtab)->setitem_indexed(__pyx_v_self, __pyx_v_index, __pyx_v_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 431, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  }
-  __pyx_L4:;
-
-  /* "View.MemoryView":418
- *             return self.convert_item_to_object(itemp)
- * 
- *     def __setitem__(memoryview self, object index, object value):             # <<<<<<<<<<<<<<
- *         if self.view.readonly:
- *             raise TypeError("Cannot assign to read-only memoryview")
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.__setitem__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_have_slices);
-  __Pyx_XDECREF(__pyx_v_obj);
-  __Pyx_XDECREF(__pyx_v_index);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":433
- *             self.setitem_indexed(index, value)
- * 
- *     cdef is_slice(self, obj):             # <<<<<<<<<<<<<<
- *         if not isinstance(obj, memoryview):
- *             try:
- */
-
-static PyObject *__pyx_memoryview_is_slice(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_obj) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  PyObject *__pyx_t_5 = NULL;
-  PyObject *__pyx_t_6 = NULL;
-  PyObject *__pyx_t_7 = NULL;
-  PyObject *__pyx_t_8 = NULL;
-  int __pyx_t_9;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("is_slice", 0);
-  __Pyx_INCREF(__pyx_v_obj);
-
-  /* "View.MemoryView":434
- * 
- *     cdef is_slice(self, obj):
- *         if not isinstance(obj, memoryview):             # <<<<<<<<<<<<<<
- *             try:
- *                 obj = memoryview(obj, self.flags & ~PyBUF_WRITABLE | PyBUF_ANY_CONTIGUOUS,
- */
-  __pyx_t_1 = __Pyx_TypeCheck(__pyx_v_obj, __pyx_memoryview_type); 
-  __pyx_t_2 = ((!(__pyx_t_1 != 0)) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":435
- *     cdef is_slice(self, obj):
- *         if not isinstance(obj, memoryview):
- *             try:             # <<<<<<<<<<<<<<
- *                 obj = memoryview(obj, self.flags & ~PyBUF_WRITABLE | PyBUF_ANY_CONTIGUOUS,
- *                                  self.dtype_is_object)
- */
-    {
-      __Pyx_PyThreadState_declare
-      __Pyx_PyThreadState_assign
-      __Pyx_ExceptionSave(&__pyx_t_3, &__pyx_t_4, &__pyx_t_5);
-      __Pyx_XGOTREF(__pyx_t_3);
-      __Pyx_XGOTREF(__pyx_t_4);
-      __Pyx_XGOTREF(__pyx_t_5);
-      /*try:*/ {
-
-        /* "View.MemoryView":436
- *         if not isinstance(obj, memoryview):
- *             try:
- *                 obj = memoryview(obj, self.flags & ~PyBUF_WRITABLE | PyBUF_ANY_CONTIGUOUS,             # <<<<<<<<<<<<<<
- *                                  self.dtype_is_object)
- *             except TypeError:
- */
-        __pyx_t_6 = __Pyx_PyInt_From_int(((__pyx_v_self->flags & (~PyBUF_WRITABLE)) | PyBUF_ANY_CONTIGUOUS)); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 436, __pyx_L4_error)
-        __Pyx_GOTREF(__pyx_t_6);
-
-        /* "View.MemoryView":437
- *             try:
- *                 obj = memoryview(obj, self.flags & ~PyBUF_WRITABLE | PyBUF_ANY_CONTIGUOUS,
- *                                  self.dtype_is_object)             # <<<<<<<<<<<<<<
- *             except TypeError:
- *                 return None
- */
-        __pyx_t_7 = __Pyx_PyBool_FromLong(__pyx_v_self->dtype_is_object); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 437, __pyx_L4_error)
-        __Pyx_GOTREF(__pyx_t_7);
-
-        /* "View.MemoryView":436
- *         if not isinstance(obj, memoryview):
- *             try:
- *                 obj = memoryview(obj, self.flags & ~PyBUF_WRITABLE | PyBUF_ANY_CONTIGUOUS,             # <<<<<<<<<<<<<<
- *                                  self.dtype_is_object)
- *             except TypeError:
- */
-        __pyx_t_8 = PyTuple_New(3); if (unlikely(!__pyx_t_8)) __PYX_ERR(2, 436, __pyx_L4_error)
-        __Pyx_GOTREF(__pyx_t_8);
-        __Pyx_INCREF(__pyx_v_obj);
-        __Pyx_GIVEREF(__pyx_v_obj);
-        PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_v_obj);
-        __Pyx_GIVEREF(__pyx_t_6);
-        PyTuple_SET_ITEM(__pyx_t_8, 1, __pyx_t_6);
-        __Pyx_GIVEREF(__pyx_t_7);
-        PyTuple_SET_ITEM(__pyx_t_8, 2, __pyx_t_7);
-        __pyx_t_6 = 0;
-        __pyx_t_7 = 0;
-        __pyx_t_7 = __Pyx_PyObject_Call(((PyObject *)__pyx_memoryview_type), __pyx_t_8, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 436, __pyx_L4_error)
-        __Pyx_GOTREF(__pyx_t_7);
-        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-        __Pyx_DECREF_SET(__pyx_v_obj, __pyx_t_7);
-        __pyx_t_7 = 0;
-
-        /* "View.MemoryView":435
- *     cdef is_slice(self, obj):
- *         if not isinstance(obj, memoryview):
- *             try:             # <<<<<<<<<<<<<<
- *                 obj = memoryview(obj, self.flags & ~PyBUF_WRITABLE | PyBUF_ANY_CONTIGUOUS,
- *                                  self.dtype_is_object)
- */
-      }
-      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-      __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      goto __pyx_L9_try_end;
-      __pyx_L4_error:;
-      __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-
-      /* "View.MemoryView":438
- *                 obj = memoryview(obj, self.flags & ~PyBUF_WRITABLE | PyBUF_ANY_CONTIGUOUS,
- *                                  self.dtype_is_object)
- *             except TypeError:             # <<<<<<<<<<<<<<
- *                 return None
- * 
- */
-      __pyx_t_9 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_TypeError);
-      if (__pyx_t_9) {
-        __Pyx_AddTraceback("View.MemoryView.memoryview.is_slice", __pyx_clineno, __pyx_lineno, __pyx_filename);
-        if (__Pyx_GetException(&__pyx_t_7, &__pyx_t_8, &__pyx_t_6) < 0) __PYX_ERR(2, 438, __pyx_L6_except_error)
-        __Pyx_GOTREF(__pyx_t_7);
-        __Pyx_GOTREF(__pyx_t_8);
-        __Pyx_GOTREF(__pyx_t_6);
-
-        /* "View.MemoryView":439
- *                                  self.dtype_is_object)
- *             except TypeError:
- *                 return None             # <<<<<<<<<<<<<<
- * 
- *         return obj
- */
-        __Pyx_XDECREF(__pyx_r);
-        __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-        goto __pyx_L7_except_return;
-      }
-      goto __pyx_L6_except_error;
-      __pyx_L6_except_error:;
-
-      /* "View.MemoryView":435
- *     cdef is_slice(self, obj):
- *         if not isinstance(obj, memoryview):
- *             try:             # <<<<<<<<<<<<<<
- *                 obj = memoryview(obj, self.flags & ~PyBUF_WRITABLE | PyBUF_ANY_CONTIGUOUS,
- *                                  self.dtype_is_object)
- */
-      __Pyx_XGIVEREF(__pyx_t_3);
-      __Pyx_XGIVEREF(__pyx_t_4);
-      __Pyx_XGIVEREF(__pyx_t_5);
-      __Pyx_ExceptionReset(__pyx_t_3, __pyx_t_4, __pyx_t_5);
-      goto __pyx_L1_error;
-      __pyx_L7_except_return:;
-      __Pyx_XGIVEREF(__pyx_t_3);
-      __Pyx_XGIVEREF(__pyx_t_4);
-      __Pyx_XGIVEREF(__pyx_t_5);
-      __Pyx_ExceptionReset(__pyx_t_3, __pyx_t_4, __pyx_t_5);
-      goto __pyx_L0;
-      __pyx_L9_try_end:;
-    }
-
-    /* "View.MemoryView":434
- * 
- *     cdef is_slice(self, obj):
- *         if not isinstance(obj, memoryview):             # <<<<<<<<<<<<<<
- *             try:
- *                 obj = memoryview(obj, self.flags & ~PyBUF_WRITABLE | PyBUF_ANY_CONTIGUOUS,
- */
-  }
-
-  /* "View.MemoryView":441
- *                 return None
- * 
- *         return obj             # <<<<<<<<<<<<<<
- * 
- *     cdef setitem_slice_assignment(self, dst, src):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(__pyx_v_obj);
-  __pyx_r = __pyx_v_obj;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":433
- *             self.setitem_indexed(index, value)
- * 
- *     cdef is_slice(self, obj):             # <<<<<<<<<<<<<<
- *         if not isinstance(obj, memoryview):
- *             try:
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_6);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_XDECREF(__pyx_t_8);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.is_slice", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_obj);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":443
- *         return obj
- * 
- *     cdef setitem_slice_assignment(self, dst, src):             # <<<<<<<<<<<<<<
- *         cdef __Pyx_memviewslice dst_slice
- *         cdef __Pyx_memviewslice src_slice
- */
-
-static PyObject *__pyx_memoryview_setitem_slice_assignment(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_dst, PyObject *__pyx_v_src) {
-  __Pyx_memviewslice __pyx_v_dst_slice;
-  __Pyx_memviewslice __pyx_v_src_slice;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_memviewslice *__pyx_t_1;
-  __Pyx_memviewslice *__pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_t_4;
-  int __pyx_t_5;
-  int __pyx_t_6;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("setitem_slice_assignment", 0);
-
-  /* "View.MemoryView":447
- *         cdef __Pyx_memviewslice src_slice
- * 
- *         memoryview_copy_contents(get_slice_from_memview(src, &src_slice)[0],             # <<<<<<<<<<<<<<
- *                                  get_slice_from_memview(dst, &dst_slice)[0],
- *                                  src.ndim, dst.ndim, self.dtype_is_object)
- */
-  if (!(likely(((__pyx_v_src) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_src, __pyx_memoryview_type))))) __PYX_ERR(2, 447, __pyx_L1_error)
-  __pyx_t_1 = __pyx_memoryview_get_slice_from_memoryview(((struct __pyx_memoryview_obj *)__pyx_v_src), (&__pyx_v_src_slice)); if (unlikely(__pyx_t_1 == ((__Pyx_memviewslice *)NULL))) __PYX_ERR(2, 447, __pyx_L1_error)
-
-  /* "View.MemoryView":448
- * 
- *         memoryview_copy_contents(get_slice_from_memview(src, &src_slice)[0],
- *                                  get_slice_from_memview(dst, &dst_slice)[0],             # <<<<<<<<<<<<<<
- *                                  src.ndim, dst.ndim, self.dtype_is_object)
- * 
- */
-  if (!(likely(((__pyx_v_dst) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_dst, __pyx_memoryview_type))))) __PYX_ERR(2, 448, __pyx_L1_error)
-  __pyx_t_2 = __pyx_memoryview_get_slice_from_memoryview(((struct __pyx_memoryview_obj *)__pyx_v_dst), (&__pyx_v_dst_slice)); if (unlikely(__pyx_t_2 == ((__Pyx_memviewslice *)NULL))) __PYX_ERR(2, 448, __pyx_L1_error)
-
-  /* "View.MemoryView":449
- *         memoryview_copy_contents(get_slice_from_memview(src, &src_slice)[0],
- *                                  get_slice_from_memview(dst, &dst_slice)[0],
- *                                  src.ndim, dst.ndim, self.dtype_is_object)             # <<<<<<<<<<<<<<
- * 
- *     cdef setitem_slice_assign_scalar(self, memoryview dst, value):
- */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_src, __pyx_n_s_ndim); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 449, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_PyInt_As_int(__pyx_t_3); if (unlikely((__pyx_t_4 == (int)-1) && PyErr_Occurred())) __PYX_ERR(2, 449, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_dst, __pyx_n_s_ndim); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 449, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_5 = __Pyx_PyInt_As_int(__pyx_t_3); if (unlikely((__pyx_t_5 == (int)-1) && PyErr_Occurred())) __PYX_ERR(2, 449, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-  /* "View.MemoryView":447
- *         cdef __Pyx_memviewslice src_slice
- * 
- *         memoryview_copy_contents(get_slice_from_memview(src, &src_slice)[0],             # <<<<<<<<<<<<<<
- *                                  get_slice_from_memview(dst, &dst_slice)[0],
- *                                  src.ndim, dst.ndim, self.dtype_is_object)
- */
-  __pyx_t_6 = __pyx_memoryview_copy_contents((__pyx_t_1[0]), (__pyx_t_2[0]), __pyx_t_4, __pyx_t_5, __pyx_v_self->dtype_is_object); if (unlikely(__pyx_t_6 == ((int)-1))) __PYX_ERR(2, 447, __pyx_L1_error)
-
-  /* "View.MemoryView":443
- *         return obj
- * 
- *     cdef setitem_slice_assignment(self, dst, src):             # <<<<<<<<<<<<<<
- *         cdef __Pyx_memviewslice dst_slice
- *         cdef __Pyx_memviewslice src_slice
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.setitem_slice_assignment", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":451
- *                                  src.ndim, dst.ndim, self.dtype_is_object)
- * 
- *     cdef setitem_slice_assign_scalar(self, memoryview dst, value):             # <<<<<<<<<<<<<<
- *         cdef int array[128]
- *         cdef void *tmp = NULL
- */
-
-static PyObject *__pyx_memoryview_setitem_slice_assign_scalar(struct __pyx_memoryview_obj *__pyx_v_self, struct __pyx_memoryview_obj *__pyx_v_dst, PyObject *__pyx_v_value) {
-  int __pyx_v_array[0x80];
-  void *__pyx_v_tmp;
-  void *__pyx_v_item;
-  __Pyx_memviewslice *__pyx_v_dst_slice;
-  __Pyx_memviewslice __pyx_v_tmp_slice;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_memviewslice *__pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_t_4;
-  int __pyx_t_5;
-  char const *__pyx_t_6;
-  PyObject *__pyx_t_7 = NULL;
-  PyObject *__pyx_t_8 = NULL;
-  PyObject *__pyx_t_9 = NULL;
-  PyObject *__pyx_t_10 = NULL;
-  PyObject *__pyx_t_11 = NULL;
-  PyObject *__pyx_t_12 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("setitem_slice_assign_scalar", 0);
-
-  /* "View.MemoryView":453
- *     cdef setitem_slice_assign_scalar(self, memoryview dst, value):
- *         cdef int array[128]
- *         cdef void *tmp = NULL             # <<<<<<<<<<<<<<
- *         cdef void *item
- * 
- */
-  __pyx_v_tmp = NULL;
-
-  /* "View.MemoryView":458
- *         cdef __Pyx_memviewslice *dst_slice
- *         cdef __Pyx_memviewslice tmp_slice
- *         dst_slice = get_slice_from_memview(dst, &tmp_slice)             # <<<<<<<<<<<<<<
- * 
- *         if <size_t>self.view.itemsize > sizeof(array):
- */
-  __pyx_t_1 = __pyx_memoryview_get_slice_from_memoryview(__pyx_v_dst, (&__pyx_v_tmp_slice)); if (unlikely(__pyx_t_1 == ((__Pyx_memviewslice *)NULL))) __PYX_ERR(2, 458, __pyx_L1_error)
-  __pyx_v_dst_slice = __pyx_t_1;
-
-  /* "View.MemoryView":460
- *         dst_slice = get_slice_from_memview(dst, &tmp_slice)
- * 
- *         if <size_t>self.view.itemsize > sizeof(array):             # <<<<<<<<<<<<<<
- *             tmp = PyMem_Malloc(self.view.itemsize)
- *             if tmp == NULL:
- */
-  __pyx_t_2 = ((((size_t)__pyx_v_self->view.itemsize) > (sizeof(__pyx_v_array))) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":461
- * 
- *         if <size_t>self.view.itemsize > sizeof(array):
- *             tmp = PyMem_Malloc(self.view.itemsize)             # <<<<<<<<<<<<<<
- *             if tmp == NULL:
- *                 raise MemoryError
- */
-    __pyx_v_tmp = PyMem_Malloc(__pyx_v_self->view.itemsize);
-
-    /* "View.MemoryView":462
- *         if <size_t>self.view.itemsize > sizeof(array):
- *             tmp = PyMem_Malloc(self.view.itemsize)
- *             if tmp == NULL:             # <<<<<<<<<<<<<<
- *                 raise MemoryError
- *             item = tmp
- */
-    __pyx_t_2 = ((__pyx_v_tmp == NULL) != 0);
-    if (unlikely(__pyx_t_2)) {
-
-      /* "View.MemoryView":463
- *             tmp = PyMem_Malloc(self.view.itemsize)
- *             if tmp == NULL:
- *                 raise MemoryError             # <<<<<<<<<<<<<<
- *             item = tmp
- *         else:
- */
-      PyErr_NoMemory(); __PYX_ERR(2, 463, __pyx_L1_error)
-
-      /* "View.MemoryView":462
- *         if <size_t>self.view.itemsize > sizeof(array):
- *             tmp = PyMem_Malloc(self.view.itemsize)
- *             if tmp == NULL:             # <<<<<<<<<<<<<<
- *                 raise MemoryError
- *             item = tmp
- */
-    }
-
-    /* "View.MemoryView":464
- *             if tmp == NULL:
- *                 raise MemoryError
- *             item = tmp             # <<<<<<<<<<<<<<
- *         else:
- *             item = <void *> array
- */
-    __pyx_v_item = __pyx_v_tmp;
-
-    /* "View.MemoryView":460
- *         dst_slice = get_slice_from_memview(dst, &tmp_slice)
- * 
- *         if <size_t>self.view.itemsize > sizeof(array):             # <<<<<<<<<<<<<<
- *             tmp = PyMem_Malloc(self.view.itemsize)
- *             if tmp == NULL:
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":466
- *             item = tmp
- *         else:
- *             item = <void *> array             # <<<<<<<<<<<<<<
- * 
- *         try:
- */
-  /*else*/ {
-    __pyx_v_item = ((void *)__pyx_v_array);
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":468
- *             item = <void *> array
- * 
- *         try:             # <<<<<<<<<<<<<<
- *             if self.dtype_is_object:
- *                 (<PyObject **> item)[0] = <PyObject *> value
- */
-  /*try:*/ {
-
-    /* "View.MemoryView":469
- * 
- *         try:
- *             if self.dtype_is_object:             # <<<<<<<<<<<<<<
- *                 (<PyObject **> item)[0] = <PyObject *> value
- *             else:
- */
-    __pyx_t_2 = (__pyx_v_self->dtype_is_object != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":470
- *         try:
- *             if self.dtype_is_object:
- *                 (<PyObject **> item)[0] = <PyObject *> value             # <<<<<<<<<<<<<<
- *             else:
- *                 self.assign_item_from_object(<char *> item, value)
- */
-      (((PyObject **)__pyx_v_item)[0]) = ((PyObject *)__pyx_v_value);
-
-      /* "View.MemoryView":469
- * 
- *         try:
- *             if self.dtype_is_object:             # <<<<<<<<<<<<<<
- *                 (<PyObject **> item)[0] = <PyObject *> value
- *             else:
- */
-      goto __pyx_L8;
-    }
-
-    /* "View.MemoryView":472
- *                 (<PyObject **> item)[0] = <PyObject *> value
- *             else:
- *                 self.assign_item_from_object(<char *> item, value)             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    /*else*/ {
-      __pyx_t_3 = ((struct __pyx_vtabstruct_memoryview *)__pyx_v_self->__pyx_vtab)->assign_item_from_object(__pyx_v_self, ((char *)__pyx_v_item), __pyx_v_value); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 472, __pyx_L6_error)
-      __Pyx_GOTREF(__pyx_t_3);
-      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    }
-    __pyx_L8:;
-
-    /* "View.MemoryView":476
- * 
- * 
- *             if self.view.suboffsets != NULL:             # <<<<<<<<<<<<<<
- *                 assert_direct_dimensions(self.view.suboffsets, self.view.ndim)
- *             slice_assign_scalar(dst_slice, dst.view.ndim, self.view.itemsize,
- */
-    __pyx_t_2 = ((__pyx_v_self->view.suboffsets != NULL) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":477
- * 
- *             if self.view.suboffsets != NULL:
- *                 assert_direct_dimensions(self.view.suboffsets, self.view.ndim)             # <<<<<<<<<<<<<<
- *             slice_assign_scalar(dst_slice, dst.view.ndim, self.view.itemsize,
- *                                 item, self.dtype_is_object)
- */
-      __pyx_t_3 = assert_direct_dimensions(__pyx_v_self->view.suboffsets, __pyx_v_self->view.ndim); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 477, __pyx_L6_error)
-      __Pyx_GOTREF(__pyx_t_3);
-      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-      /* "View.MemoryView":476
- * 
- * 
- *             if self.view.suboffsets != NULL:             # <<<<<<<<<<<<<<
- *                 assert_direct_dimensions(self.view.suboffsets, self.view.ndim)
- *             slice_assign_scalar(dst_slice, dst.view.ndim, self.view.itemsize,
- */
-    }
-
-    /* "View.MemoryView":478
- *             if self.view.suboffsets != NULL:
- *                 assert_direct_dimensions(self.view.suboffsets, self.view.ndim)
- *             slice_assign_scalar(dst_slice, dst.view.ndim, self.view.itemsize,             # <<<<<<<<<<<<<<
- *                                 item, self.dtype_is_object)
- *         finally:
- */
-    __pyx_memoryview_slice_assign_scalar(__pyx_v_dst_slice, __pyx_v_dst->view.ndim, __pyx_v_self->view.itemsize, __pyx_v_item, __pyx_v_self->dtype_is_object);
-  }
-
-  /* "View.MemoryView":481
- *                                 item, self.dtype_is_object)
- *         finally:
- *             PyMem_Free(tmp)             # <<<<<<<<<<<<<<
- * 
- *     cdef setitem_indexed(self, index, value):
- */
-  /*finally:*/ {
-    /*normal exit:*/{
-      PyMem_Free(__pyx_v_tmp);
-      goto __pyx_L7;
-    }
-    __pyx_L6_error:;
-    /*exception exit:*/{
-      __Pyx_PyThreadState_declare
-      __Pyx_PyThreadState_assign
-      __pyx_t_7 = 0; __pyx_t_8 = 0; __pyx_t_9 = 0; __pyx_t_10 = 0; __pyx_t_11 = 0; __pyx_t_12 = 0;
-      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-      if (PY_MAJOR_VERSION >= 3) __Pyx_ExceptionSwap(&__pyx_t_10, &__pyx_t_11, &__pyx_t_12);
-      if ((PY_MAJOR_VERSION < 3) || unlikely(__Pyx_GetException(&__pyx_t_7, &__pyx_t_8, &__pyx_t_9) < 0)) __Pyx_ErrFetch(&__pyx_t_7, &__pyx_t_8, &__pyx_t_9);
-      __Pyx_XGOTREF(__pyx_t_7);
-      __Pyx_XGOTREF(__pyx_t_8);
-      __Pyx_XGOTREF(__pyx_t_9);
-      __Pyx_XGOTREF(__pyx_t_10);
-      __Pyx_XGOTREF(__pyx_t_11);
-      __Pyx_XGOTREF(__pyx_t_12);
-      __pyx_t_4 = __pyx_lineno; __pyx_t_5 = __pyx_clineno; __pyx_t_6 = __pyx_filename;
-      {
-        PyMem_Free(__pyx_v_tmp);
-      }
-      if (PY_MAJOR_VERSION >= 3) {
-        __Pyx_XGIVEREF(__pyx_t_10);
-        __Pyx_XGIVEREF(__pyx_t_11);
-        __Pyx_XGIVEREF(__pyx_t_12);
-        __Pyx_ExceptionReset(__pyx_t_10, __pyx_t_11, __pyx_t_12);
-      }
-      __Pyx_XGIVEREF(__pyx_t_7);
-      __Pyx_XGIVEREF(__pyx_t_8);
-      __Pyx_XGIVEREF(__pyx_t_9);
-      __Pyx_ErrRestore(__pyx_t_7, __pyx_t_8, __pyx_t_9);
-      __pyx_t_7 = 0; __pyx_t_8 = 0; __pyx_t_9 = 0; __pyx_t_10 = 0; __pyx_t_11 = 0; __pyx_t_12 = 0;
-      __pyx_lineno = __pyx_t_4; __pyx_clineno = __pyx_t_5; __pyx_filename = __pyx_t_6;
-      goto __pyx_L1_error;
-    }
-    __pyx_L7:;
-  }
-
-  /* "View.MemoryView":451
- *                                  src.ndim, dst.ndim, self.dtype_is_object)
- * 
- *     cdef setitem_slice_assign_scalar(self, memoryview dst, value):             # <<<<<<<<<<<<<<
- *         cdef int array[128]
- *         cdef void *tmp = NULL
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.setitem_slice_assign_scalar", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":483
- *             PyMem_Free(tmp)
- * 
- *     cdef setitem_indexed(self, index, value):             # <<<<<<<<<<<<<<
- *         cdef char *itemp = self.get_item_pointer(index)
- *         self.assign_item_from_object(itemp, value)
- */
-
-static PyObject *__pyx_memoryview_setitem_indexed(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index, PyObject *__pyx_v_value) {
-  char *__pyx_v_itemp;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  char *__pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("setitem_indexed", 0);
-
-  /* "View.MemoryView":484
- * 
- *     cdef setitem_indexed(self, index, value):
- *         cdef char *itemp = self.get_item_pointer(index)             # <<<<<<<<<<<<<<
- *         self.assign_item_from_object(itemp, value)
- * 
- */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_memoryview *)__pyx_v_self->__pyx_vtab)->get_item_pointer(__pyx_v_self, __pyx_v_index); if (unlikely(__pyx_t_1 == ((char *)NULL))) __PYX_ERR(2, 484, __pyx_L1_error)
-  __pyx_v_itemp = __pyx_t_1;
-
-  /* "View.MemoryView":485
- *     cdef setitem_indexed(self, index, value):
- *         cdef char *itemp = self.get_item_pointer(index)
- *         self.assign_item_from_object(itemp, value)             # <<<<<<<<<<<<<<
- * 
- *     cdef convert_item_to_object(self, char *itemp):
- */
-  __pyx_t_2 = ((struct __pyx_vtabstruct_memoryview *)__pyx_v_self->__pyx_vtab)->assign_item_from_object(__pyx_v_self, __pyx_v_itemp, __pyx_v_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 485, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-
-  /* "View.MemoryView":483
- *             PyMem_Free(tmp)
- * 
- *     cdef setitem_indexed(self, index, value):             # <<<<<<<<<<<<<<
- *         cdef char *itemp = self.get_item_pointer(index)
- *         self.assign_item_from_object(itemp, value)
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.setitem_indexed", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":487
- *         self.assign_item_from_object(itemp, value)
- * 
- *     cdef convert_item_to_object(self, char *itemp):             # <<<<<<<<<<<<<<
- *         """Only used if instantiated manually by the user, or if Cython doesn't
- *         know how to convert the type"""
- */
-
-static PyObject *__pyx_memoryview_convert_item_to_object(struct __pyx_memoryview_obj *__pyx_v_self, char *__pyx_v_itemp) {
-  PyObject *__pyx_v_struct = NULL;
-  PyObject *__pyx_v_bytesitem = 0;
-  PyObject *__pyx_v_result = NULL;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  PyObject *__pyx_t_5 = NULL;
-  PyObject *__pyx_t_6 = NULL;
-  PyObject *__pyx_t_7 = NULL;
-  int __pyx_t_8;
-  PyObject *__pyx_t_9 = NULL;
-  size_t __pyx_t_10;
-  int __pyx_t_11;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("convert_item_to_object", 0);
-
-  /* "View.MemoryView":490
- *         """Only used if instantiated manually by the user, or if Cython doesn't
- *         know how to convert the type"""
- *         import struct             # <<<<<<<<<<<<<<
- *         cdef bytes bytesitem
- * 
- */
-  __pyx_t_1 = __Pyx_Import(__pyx_n_s_struct, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 490, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_v_struct = __pyx_t_1;
-  __pyx_t_1 = 0;
-
-  /* "View.MemoryView":493
- *         cdef bytes bytesitem
- * 
- *         bytesitem = itemp[:self.view.itemsize]             # <<<<<<<<<<<<<<
- *         try:
- *             result = struct.unpack(self.view.format, bytesitem)
- */
-  __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(__pyx_v_itemp + 0, __pyx_v_self->view.itemsize - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 493, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_v_bytesitem = ((PyObject*)__pyx_t_1);
-  __pyx_t_1 = 0;
-
-  /* "View.MemoryView":494
- * 
- *         bytesitem = itemp[:self.view.itemsize]
- *         try:             # <<<<<<<<<<<<<<
- *             result = struct.unpack(self.view.format, bytesitem)
- *         except struct.error:
- */
-  {
-    __Pyx_PyThreadState_declare
-    __Pyx_PyThreadState_assign
-    __Pyx_ExceptionSave(&__pyx_t_2, &__pyx_t_3, &__pyx_t_4);
-    __Pyx_XGOTREF(__pyx_t_2);
-    __Pyx_XGOTREF(__pyx_t_3);
-    __Pyx_XGOTREF(__pyx_t_4);
-    /*try:*/ {
-
-      /* "View.MemoryView":495
- *         bytesitem = itemp[:self.view.itemsize]
- *         try:
- *             result = struct.unpack(self.view.format, bytesitem)             # <<<<<<<<<<<<<<
- *         except struct.error:
- *             raise ValueError("Unable to convert item to object")
- */
-      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_struct, __pyx_n_s_unpack); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 495, __pyx_L3_error)
-      __Pyx_GOTREF(__pyx_t_5);
-      __pyx_t_6 = __Pyx_PyBytes_FromString(__pyx_v_self->view.format); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 495, __pyx_L3_error)
-      __Pyx_GOTREF(__pyx_t_6);
-      __pyx_t_7 = NULL;
-      __pyx_t_8 = 0;
-      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
-        __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_5);
-        if (likely(__pyx_t_7)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
-          __Pyx_INCREF(__pyx_t_7);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_5, function);
-          __pyx_t_8 = 1;
-        }
-      }
-      #if CYTHON_FAST_PYCALL
-      if (PyFunction_Check(__pyx_t_5)) {
-        PyObject *__pyx_temp[3] = {__pyx_t_7, __pyx_t_6, __pyx_v_bytesitem};
-        __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_8, 2+__pyx_t_8); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 495, __pyx_L3_error)
-        __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-        __Pyx_GOTREF(__pyx_t_1);
-        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      } else
-      #endif
-      #if CYTHON_FAST_PYCCALL
-      if (__Pyx_PyFastCFunction_Check(__pyx_t_5)) {
-        PyObject *__pyx_temp[3] = {__pyx_t_7, __pyx_t_6, __pyx_v_bytesitem};
-        __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_8, 2+__pyx_t_8); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 495, __pyx_L3_error)
-        __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-        __Pyx_GOTREF(__pyx_t_1);
-        __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      } else
-      #endif
-      {
-        __pyx_t_9 = PyTuple_New(2+__pyx_t_8); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 495, __pyx_L3_error)
-        __Pyx_GOTREF(__pyx_t_9);
-        if (__pyx_t_7) {
-          __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_7); __pyx_t_7 = NULL;
-        }
-        __Pyx_GIVEREF(__pyx_t_6);
-        PyTuple_SET_ITEM(__pyx_t_9, 0+__pyx_t_8, __pyx_t_6);
-        __Pyx_INCREF(__pyx_v_bytesitem);
-        __Pyx_GIVEREF(__pyx_v_bytesitem);
-        PyTuple_SET_ITEM(__pyx_t_9, 1+__pyx_t_8, __pyx_v_bytesitem);
-        __pyx_t_6 = 0;
-        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_9, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 495, __pyx_L3_error)
-        __Pyx_GOTREF(__pyx_t_1);
-        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      }
-      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __pyx_v_result = __pyx_t_1;
-      __pyx_t_1 = 0;
-
-      /* "View.MemoryView":494
- * 
- *         bytesitem = itemp[:self.view.itemsize]
- *         try:             # <<<<<<<<<<<<<<
- *             result = struct.unpack(self.view.format, bytesitem)
- *         except struct.error:
- */
-    }
-
-    /* "View.MemoryView":499
- *             raise ValueError("Unable to convert item to object")
- *         else:
- *             if len(self.view.format) == 1:             # <<<<<<<<<<<<<<
- *                 return result[0]
- *             return result
- */
-    /*else:*/ {
-      __pyx_t_10 = strlen(__pyx_v_self->view.format); 
-      __pyx_t_11 = ((__pyx_t_10 == 1) != 0);
-      if (__pyx_t_11) {
-
-        /* "View.MemoryView":500
- *         else:
- *             if len(self.view.format) == 1:
- *                 return result[0]             # <<<<<<<<<<<<<<
- *             return result
- * 
- */
-        __Pyx_XDECREF(__pyx_r);
-        __pyx_t_1 = __Pyx_GetItemInt(__pyx_v_result, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 500, __pyx_L5_except_error)
-        __Pyx_GOTREF(__pyx_t_1);
-        __pyx_r = __pyx_t_1;
-        __pyx_t_1 = 0;
-        goto __pyx_L6_except_return;
-
-        /* "View.MemoryView":499
- *             raise ValueError("Unable to convert item to object")
- *         else:
- *             if len(self.view.format) == 1:             # <<<<<<<<<<<<<<
- *                 return result[0]
- *             return result
- */
-      }
-
-      /* "View.MemoryView":501
- *             if len(self.view.format) == 1:
- *                 return result[0]
- *             return result             # <<<<<<<<<<<<<<
- * 
- *     cdef assign_item_from_object(self, char *itemp, object value):
- */
-      __Pyx_XDECREF(__pyx_r);
-      __Pyx_INCREF(__pyx_v_result);
-      __pyx_r = __pyx_v_result;
-      goto __pyx_L6_except_return;
-    }
-    __pyx_L3_error:;
-    __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-    __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-    __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-
-    /* "View.MemoryView":496
- *         try:
- *             result = struct.unpack(self.view.format, bytesitem)
- *         except struct.error:             # <<<<<<<<<<<<<<
- *             raise ValueError("Unable to convert item to object")
- *         else:
- */
-    __Pyx_ErrFetch(&__pyx_t_1, &__pyx_t_5, &__pyx_t_9);
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_struct, __pyx_n_s_error); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 496, __pyx_L5_except_error)
-    __Pyx_GOTREF(__pyx_t_6);
-    __pyx_t_8 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_1, __pyx_t_6);
-    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    __Pyx_ErrRestore(__pyx_t_1, __pyx_t_5, __pyx_t_9);
-    __pyx_t_1 = 0; __pyx_t_5 = 0; __pyx_t_9 = 0;
-    if (__pyx_t_8) {
-      __Pyx_AddTraceback("View.MemoryView.memoryview.convert_item_to_object", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_9, &__pyx_t_5, &__pyx_t_1) < 0) __PYX_ERR(2, 496, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __Pyx_GOTREF(__pyx_t_5);
-      __Pyx_GOTREF(__pyx_t_1);
-
-      /* "View.MemoryView":497
- *             result = struct.unpack(self.view.format, bytesitem)
- *         except struct.error:
- *             raise ValueError("Unable to convert item to object")             # <<<<<<<<<<<<<<
- *         else:
- *             if len(self.view.format) == 1:
- */
-      __pyx_t_6 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__106, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 497, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_6);
-      __Pyx_Raise(__pyx_t_6, 0, 0, 0);
-      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __PYX_ERR(2, 497, __pyx_L5_except_error)
-    }
-    goto __pyx_L5_except_error;
-    __pyx_L5_except_error:;
-
-    /* "View.MemoryView":494
- * 
- *         bytesitem = itemp[:self.view.itemsize]
- *         try:             # <<<<<<<<<<<<<<
- *             result = struct.unpack(self.view.format, bytesitem)
- *         except struct.error:
- */
-    __Pyx_XGIVEREF(__pyx_t_2);
-    __Pyx_XGIVEREF(__pyx_t_3);
-    __Pyx_XGIVEREF(__pyx_t_4);
-    __Pyx_ExceptionReset(__pyx_t_2, __pyx_t_3, __pyx_t_4);
-    goto __pyx_L1_error;
-    __pyx_L6_except_return:;
-    __Pyx_XGIVEREF(__pyx_t_2);
-    __Pyx_XGIVEREF(__pyx_t_3);
-    __Pyx_XGIVEREF(__pyx_t_4);
-    __Pyx_ExceptionReset(__pyx_t_2, __pyx_t_3, __pyx_t_4);
-    goto __pyx_L0;
-  }
-
-  /* "View.MemoryView":487
- *         self.assign_item_from_object(itemp, value)
- * 
- *     cdef convert_item_to_object(self, char *itemp):             # <<<<<<<<<<<<<<
- *         """Only used if instantiated manually by the user, or if Cython doesn't
- *         know how to convert the type"""
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_XDECREF(__pyx_t_6);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_XDECREF(__pyx_t_9);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.convert_item_to_object", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_struct);
-  __Pyx_XDECREF(__pyx_v_bytesitem);
-  __Pyx_XDECREF(__pyx_v_result);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":503
- *             return result
- * 
- *     cdef assign_item_from_object(self, char *itemp, object value):             # <<<<<<<<<<<<<<
- *         """Only used if instantiated manually by the user, or if Cython doesn't
- *         know how to convert the type"""
- */
-
-static PyObject *__pyx_memoryview_assign_item_from_object(struct __pyx_memoryview_obj *__pyx_v_self, char *__pyx_v_itemp, PyObject *__pyx_v_value) {
-  PyObject *__pyx_v_struct = NULL;
-  char __pyx_v_c;
-  PyObject *__pyx_v_bytesvalue = 0;
-  Py_ssize_t __pyx_v_i;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  PyObject *__pyx_t_4 = NULL;
-  PyObject *__pyx_t_5 = NULL;
-  PyObject *__pyx_t_6 = NULL;
-  int __pyx_t_7;
-  PyObject *__pyx_t_8 = NULL;
-  Py_ssize_t __pyx_t_9;
-  PyObject *__pyx_t_10 = NULL;
-  char *__pyx_t_11;
-  char *__pyx_t_12;
-  char *__pyx_t_13;
-  char *__pyx_t_14;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("assign_item_from_object", 0);
-
-  /* "View.MemoryView":506
- *         """Only used if instantiated manually by the user, or if Cython doesn't
- *         know how to convert the type"""
- *         import struct             # <<<<<<<<<<<<<<
- *         cdef char c
- *         cdef bytes bytesvalue
- */
-  __pyx_t_1 = __Pyx_Import(__pyx_n_s_struct, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 506, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_v_struct = __pyx_t_1;
-  __pyx_t_1 = 0;
-
-  /* "View.MemoryView":511
- *         cdef Py_ssize_t i
- * 
- *         if isinstance(value, tuple):             # <<<<<<<<<<<<<<
- *             bytesvalue = struct.pack(self.view.format, *value)
- *         else:
- */
-  __pyx_t_2 = PyTuple_Check(__pyx_v_value); 
-  __pyx_t_3 = (__pyx_t_2 != 0);
-  if (__pyx_t_3) {
-
-    /* "View.MemoryView":512
- * 
- *         if isinstance(value, tuple):
- *             bytesvalue = struct.pack(self.view.format, *value)             # <<<<<<<<<<<<<<
- *         else:
- *             bytesvalue = struct.pack(self.view.format, value)
- */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_struct, __pyx_n_s_pack); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 512, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_4 = __Pyx_PyBytes_FromString(__pyx_v_self->view.format); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 512, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 512, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_GIVEREF(__pyx_t_4);
-    PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4);
-    __pyx_t_4 = 0;
-    __pyx_t_4 = __Pyx_PySequence_Tuple(__pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 512, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_6 = PyNumber_Add(__pyx_t_5, __pyx_t_4); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 512, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_6);
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_6, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 512, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (!(likely(PyBytes_CheckExact(__pyx_t_4))||((__pyx_t_4) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "bytes", Py_TYPE(__pyx_t_4)->tp_name), 0))) __PYX_ERR(2, 512, __pyx_L1_error)
-    __pyx_v_bytesvalue = ((PyObject*)__pyx_t_4);
-    __pyx_t_4 = 0;
-
-    /* "View.MemoryView":511
- *         cdef Py_ssize_t i
- * 
- *         if isinstance(value, tuple):             # <<<<<<<<<<<<<<
- *             bytesvalue = struct.pack(self.view.format, *value)
- *         else:
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":514
- *             bytesvalue = struct.pack(self.view.format, *value)
- *         else:
- *             bytesvalue = struct.pack(self.view.format, value)             # <<<<<<<<<<<<<<
- * 
- *         for i, c in enumerate(bytesvalue):
- */
-  /*else*/ {
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_struct, __pyx_n_s_pack); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 514, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_6);
-    __pyx_t_1 = __Pyx_PyBytes_FromString(__pyx_v_self->view.format); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 514, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_5 = NULL;
-    __pyx_t_7 = 0;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
-      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_6);
-      if (likely(__pyx_t_5)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
-        __Pyx_INCREF(__pyx_t_5);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_6, function);
-        __pyx_t_7 = 1;
-      }
-    }
-    #if CYTHON_FAST_PYCALL
-    if (PyFunction_Check(__pyx_t_6)) {
-      PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_t_1, __pyx_v_value};
-      __pyx_t_4 = __Pyx_PyFunction_FastCall(__pyx_t_6, __pyx_temp+1-__pyx_t_7, 2+__pyx_t_7); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 514, __pyx_L1_error)
-      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __Pyx_GOTREF(__pyx_t_4);
-      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    } else
-    #endif
-    #if CYTHON_FAST_PYCCALL
-    if (__Pyx_PyFastCFunction_Check(__pyx_t_6)) {
-      PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_t_1, __pyx_v_value};
-      __pyx_t_4 = __Pyx_PyCFunction_FastCall(__pyx_t_6, __pyx_temp+1-__pyx_t_7, 2+__pyx_t_7); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 514, __pyx_L1_error)
-      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __Pyx_GOTREF(__pyx_t_4);
-      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    } else
-    #endif
-    {
-      __pyx_t_8 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(2, 514, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_8);
-      if (__pyx_t_5) {
-        __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_5); __pyx_t_5 = NULL;
-      }
-      __Pyx_GIVEREF(__pyx_t_1);
-      PyTuple_SET_ITEM(__pyx_t_8, 0+__pyx_t_7, __pyx_t_1);
-      __Pyx_INCREF(__pyx_v_value);
-      __Pyx_GIVEREF(__pyx_v_value);
-      PyTuple_SET_ITEM(__pyx_t_8, 1+__pyx_t_7, __pyx_v_value);
-      __pyx_t_1 = 0;
-      __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_8, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 514, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    }
-    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (!(likely(PyBytes_CheckExact(__pyx_t_4))||((__pyx_t_4) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "bytes", Py_TYPE(__pyx_t_4)->tp_name), 0))) __PYX_ERR(2, 514, __pyx_L1_error)
-    __pyx_v_bytesvalue = ((PyObject*)__pyx_t_4);
-    __pyx_t_4 = 0;
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":516
- *             bytesvalue = struct.pack(self.view.format, value)
- * 
- *         for i, c in enumerate(bytesvalue):             # <<<<<<<<<<<<<<
- *             itemp[i] = c
- * 
- */
-  __pyx_t_9 = 0;
-  if (unlikely(__pyx_v_bytesvalue == Py_None)) {
-    PyErr_SetString(PyExc_TypeError, "'NoneType' is not iterable");
-    __PYX_ERR(2, 516, __pyx_L1_error)
-  }
-  __Pyx_INCREF(__pyx_v_bytesvalue);
-  __pyx_t_10 = __pyx_v_bytesvalue;
-  __pyx_t_12 = PyBytes_AS_STRING(__pyx_t_10);
-  __pyx_t_13 = (__pyx_t_12 + PyBytes_GET_SIZE(__pyx_t_10));
-  for (__pyx_t_14 = __pyx_t_12; __pyx_t_14 < __pyx_t_13; __pyx_t_14++) {
-    __pyx_t_11 = __pyx_t_14;
-    __pyx_v_c = (__pyx_t_11[0]);
-
-    /* "View.MemoryView":517
- * 
- *         for i, c in enumerate(bytesvalue):
- *             itemp[i] = c             # <<<<<<<<<<<<<<
- * 
- *     @cname('getbuffer')
- */
-    __pyx_v_i = __pyx_t_9;
-
-    /* "View.MemoryView":516
- *             bytesvalue = struct.pack(self.view.format, value)
- * 
- *         for i, c in enumerate(bytesvalue):             # <<<<<<<<<<<<<<
- *             itemp[i] = c
- * 
- */
-    __pyx_t_9 = (__pyx_t_9 + 1);
-
-    /* "View.MemoryView":517
- * 
- *         for i, c in enumerate(bytesvalue):
- *             itemp[i] = c             # <<<<<<<<<<<<<<
- * 
- *     @cname('getbuffer')
- */
-    (__pyx_v_itemp[__pyx_v_i]) = __pyx_v_c;
-  }
-  __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-
-  /* "View.MemoryView":503
- *             return result
- * 
- *     cdef assign_item_from_object(self, char *itemp, object value):             # <<<<<<<<<<<<<<
- *         """Only used if instantiated manually by the user, or if Cython doesn't
- *         know how to convert the type"""
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_XDECREF(__pyx_t_6);
-  __Pyx_XDECREF(__pyx_t_8);
-  __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.assign_item_from_object", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_struct);
-  __Pyx_XDECREF(__pyx_v_bytesvalue);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":520
- * 
- *     @cname('getbuffer')
- *     def __getbuffer__(self, Py_buffer *info, int flags):             # <<<<<<<<<<<<<<
- *         if flags & PyBUF_WRITABLE and self.view.readonly:
- *             raise ValueError("Cannot create writable memory view from read-only memoryview")
- */
-
-/* Python wrapper */
-static CYTHON_UNUSED int __pyx_memoryview_getbuffer(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /*proto*/
-static CYTHON_UNUSED int __pyx_memoryview_getbuffer(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__getbuffer__ (wrapper)", 0);
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_8__getbuffer__(((struct __pyx_memoryview_obj *)__pyx_v_self), ((Py_buffer *)__pyx_v_info), ((int)__pyx_v_flags));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static int __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_8__getbuffer__(struct __pyx_memoryview_obj *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  Py_ssize_t *__pyx_t_4;
-  char *__pyx_t_5;
-  void *__pyx_t_6;
-  int __pyx_t_7;
-  Py_ssize_t __pyx_t_8;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  if (__pyx_v_info == NULL) {
-    PyErr_SetString(PyExc_BufferError, "PyObject_GetBuffer: view==NULL argument is obsolete");
-    return -1;
-  }
-  __Pyx_RefNannySetupContext("__getbuffer__", 0);
-  __pyx_v_info->obj = Py_None; __Pyx_INCREF(Py_None);
-  __Pyx_GIVEREF(__pyx_v_info->obj);
-
-  /* "View.MemoryView":521
- *     @cname('getbuffer')
- *     def __getbuffer__(self, Py_buffer *info, int flags):
- *         if flags & PyBUF_WRITABLE and self.view.readonly:             # <<<<<<<<<<<<<<
- *             raise ValueError("Cannot create writable memory view from read-only memoryview")
- * 
- */
-  __pyx_t_2 = ((__pyx_v_flags & PyBUF_WRITABLE) != 0);
-  if (__pyx_t_2) {
-  } else {
-    __pyx_t_1 = __pyx_t_2;
-    goto __pyx_L4_bool_binop_done;
-  }
-  __pyx_t_2 = (__pyx_v_self->view.readonly != 0);
-  __pyx_t_1 = __pyx_t_2;
-  __pyx_L4_bool_binop_done:;
-  if (unlikely(__pyx_t_1)) {
-
-    /* "View.MemoryView":522
- *     def __getbuffer__(self, Py_buffer *info, int flags):
- *         if flags & PyBUF_WRITABLE and self.view.readonly:
- *             raise ValueError("Cannot create writable memory view from read-only memoryview")             # <<<<<<<<<<<<<<
- * 
- *         if flags & PyBUF_ND:
- */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__107, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 522, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_Raise(__pyx_t_3, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(2, 522, __pyx_L1_error)
-
-    /* "View.MemoryView":521
- *     @cname('getbuffer')
- *     def __getbuffer__(self, Py_buffer *info, int flags):
- *         if flags & PyBUF_WRITABLE and self.view.readonly:             # <<<<<<<<<<<<<<
- *             raise ValueError("Cannot create writable memory view from read-only memoryview")
- * 
- */
-  }
-
-  /* "View.MemoryView":524
- *             raise ValueError("Cannot create writable memory view from read-only memoryview")
- * 
- *         if flags & PyBUF_ND:             # <<<<<<<<<<<<<<
- *             info.shape = self.view.shape
- *         else:
- */
-  __pyx_t_1 = ((__pyx_v_flags & PyBUF_ND) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":525
- * 
- *         if flags & PyBUF_ND:
- *             info.shape = self.view.shape             # <<<<<<<<<<<<<<
- *         else:
- *             info.shape = NULL
- */
-    __pyx_t_4 = __pyx_v_self->view.shape;
-    __pyx_v_info->shape = __pyx_t_4;
-
-    /* "View.MemoryView":524
- *             raise ValueError("Cannot create writable memory view from read-only memoryview")
- * 
- *         if flags & PyBUF_ND:             # <<<<<<<<<<<<<<
- *             info.shape = self.view.shape
- *         else:
- */
-    goto __pyx_L6;
-  }
-
-  /* "View.MemoryView":527
- *             info.shape = self.view.shape
- *         else:
- *             info.shape = NULL             # <<<<<<<<<<<<<<
- * 
- *         if flags & PyBUF_STRIDES:
- */
-  /*else*/ {
-    __pyx_v_info->shape = NULL;
-  }
-  __pyx_L6:;
-
-  /* "View.MemoryView":529
- *             info.shape = NULL
- * 
- *         if flags & PyBUF_STRIDES:             # <<<<<<<<<<<<<<
- *             info.strides = self.view.strides
- *         else:
- */
-  __pyx_t_1 = ((__pyx_v_flags & PyBUF_STRIDES) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":530
- * 
- *         if flags & PyBUF_STRIDES:
- *             info.strides = self.view.strides             # <<<<<<<<<<<<<<
- *         else:
- *             info.strides = NULL
- */
-    __pyx_t_4 = __pyx_v_self->view.strides;
-    __pyx_v_info->strides = __pyx_t_4;
-
-    /* "View.MemoryView":529
- *             info.shape = NULL
- * 
- *         if flags & PyBUF_STRIDES:             # <<<<<<<<<<<<<<
- *             info.strides = self.view.strides
- *         else:
- */
-    goto __pyx_L7;
-  }
-
-  /* "View.MemoryView":532
- *             info.strides = self.view.strides
- *         else:
- *             info.strides = NULL             # <<<<<<<<<<<<<<
- * 
- *         if flags & PyBUF_INDIRECT:
- */
-  /*else*/ {
-    __pyx_v_info->strides = NULL;
-  }
-  __pyx_L7:;
-
-  /* "View.MemoryView":534
- *             info.strides = NULL
- * 
- *         if flags & PyBUF_INDIRECT:             # <<<<<<<<<<<<<<
- *             info.suboffsets = self.view.suboffsets
- *         else:
- */
-  __pyx_t_1 = ((__pyx_v_flags & PyBUF_INDIRECT) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":535
- * 
- *         if flags & PyBUF_INDIRECT:
- *             info.suboffsets = self.view.suboffsets             # <<<<<<<<<<<<<<
- *         else:
- *             info.suboffsets = NULL
- */
-    __pyx_t_4 = __pyx_v_self->view.suboffsets;
-    __pyx_v_info->suboffsets = __pyx_t_4;
-
-    /* "View.MemoryView":534
- *             info.strides = NULL
- * 
- *         if flags & PyBUF_INDIRECT:             # <<<<<<<<<<<<<<
- *             info.suboffsets = self.view.suboffsets
- *         else:
- */
-    goto __pyx_L8;
-  }
-
-  /* "View.MemoryView":537
- *             info.suboffsets = self.view.suboffsets
- *         else:
- *             info.suboffsets = NULL             # <<<<<<<<<<<<<<
- * 
- *         if flags & PyBUF_FORMAT:
- */
-  /*else*/ {
-    __pyx_v_info->suboffsets = NULL;
-  }
-  __pyx_L8:;
-
-  /* "View.MemoryView":539
- *             info.suboffsets = NULL
- * 
- *         if flags & PyBUF_FORMAT:             # <<<<<<<<<<<<<<
- *             info.format = self.view.format
- *         else:
- */
-  __pyx_t_1 = ((__pyx_v_flags & PyBUF_FORMAT) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":540
- * 
- *         if flags & PyBUF_FORMAT:
- *             info.format = self.view.format             # <<<<<<<<<<<<<<
- *         else:
- *             info.format = NULL
- */
-    __pyx_t_5 = __pyx_v_self->view.format;
-    __pyx_v_info->format = __pyx_t_5;
-
-    /* "View.MemoryView":539
- *             info.suboffsets = NULL
- * 
- *         if flags & PyBUF_FORMAT:             # <<<<<<<<<<<<<<
- *             info.format = self.view.format
- *         else:
- */
-    goto __pyx_L9;
-  }
-
-  /* "View.MemoryView":542
- *             info.format = self.view.format
- *         else:
- *             info.format = NULL             # <<<<<<<<<<<<<<
- * 
- *         info.buf = self.view.buf
- */
-  /*else*/ {
-    __pyx_v_info->format = NULL;
-  }
-  __pyx_L9:;
-
-  /* "View.MemoryView":544
- *             info.format = NULL
- * 
- *         info.buf = self.view.buf             # <<<<<<<<<<<<<<
- *         info.ndim = self.view.ndim
- *         info.itemsize = self.view.itemsize
- */
-  __pyx_t_6 = __pyx_v_self->view.buf;
-  __pyx_v_info->buf = __pyx_t_6;
-
-  /* "View.MemoryView":545
- * 
- *         info.buf = self.view.buf
- *         info.ndim = self.view.ndim             # <<<<<<<<<<<<<<
- *         info.itemsize = self.view.itemsize
- *         info.len = self.view.len
- */
-  __pyx_t_7 = __pyx_v_self->view.ndim;
-  __pyx_v_info->ndim = __pyx_t_7;
-
-  /* "View.MemoryView":546
- *         info.buf = self.view.buf
- *         info.ndim = self.view.ndim
- *         info.itemsize = self.view.itemsize             # <<<<<<<<<<<<<<
- *         info.len = self.view.len
- *         info.readonly = self.view.readonly
- */
-  __pyx_t_8 = __pyx_v_self->view.itemsize;
-  __pyx_v_info->itemsize = __pyx_t_8;
-
-  /* "View.MemoryView":547
- *         info.ndim = self.view.ndim
- *         info.itemsize = self.view.itemsize
- *         info.len = self.view.len             # <<<<<<<<<<<<<<
- *         info.readonly = self.view.readonly
- *         info.obj = self
- */
-  __pyx_t_8 = __pyx_v_self->view.len;
-  __pyx_v_info->len = __pyx_t_8;
-
-  /* "View.MemoryView":548
- *         info.itemsize = self.view.itemsize
- *         info.len = self.view.len
- *         info.readonly = self.view.readonly             # <<<<<<<<<<<<<<
- *         info.obj = self
- * 
- */
-  __pyx_t_1 = __pyx_v_self->view.readonly;
-  __pyx_v_info->readonly = __pyx_t_1;
-
-  /* "View.MemoryView":549
- *         info.len = self.view.len
- *         info.readonly = self.view.readonly
- *         info.obj = self             # <<<<<<<<<<<<<<
- * 
- *     __pyx_getbuffer = capsule(<void *> &__pyx_memoryview_getbuffer, "getbuffer(obj, view, flags)")
- */
-  __Pyx_INCREF(((PyObject *)__pyx_v_self));
-  __Pyx_GIVEREF(((PyObject *)__pyx_v_self));
-  __Pyx_GOTREF(__pyx_v_info->obj);
-  __Pyx_DECREF(__pyx_v_info->obj);
-  __pyx_v_info->obj = ((PyObject *)__pyx_v_self);
-
-  /* "View.MemoryView":520
- * 
- *     @cname('getbuffer')
- *     def __getbuffer__(self, Py_buffer *info, int flags):             # <<<<<<<<<<<<<<
- *         if flags & PyBUF_WRITABLE and self.view.readonly:
- *             raise ValueError("Cannot create writable memory view from read-only memoryview")
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.__getbuffer__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  if (__pyx_v_info->obj != NULL) {
-    __Pyx_GOTREF(__pyx_v_info->obj);
-    __Pyx_DECREF(__pyx_v_info->obj); __pyx_v_info->obj = 0;
-  }
-  goto __pyx_L2;
-  __pyx_L0:;
-  if (__pyx_v_info->obj == Py_None) {
-    __Pyx_GOTREF(__pyx_v_info->obj);
-    __Pyx_DECREF(__pyx_v_info->obj); __pyx_v_info->obj = 0;
-  }
-  __pyx_L2:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":555
- * 
- *     @property
- *     def T(self):             # <<<<<<<<<<<<<<
- *         cdef _memoryviewslice result = memoryview_copy(self)
- *         transpose_memslice(&result.from_slice)
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_1T_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_1T_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_10memoryview_1T___get__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_1T___get__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  struct __pyx_memoryviewslice_obj *__pyx_v_result = 0;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_t_2;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "View.MemoryView":556
- *     @property
- *     def T(self):
- *         cdef _memoryviewslice result = memoryview_copy(self)             # <<<<<<<<<<<<<<
- *         transpose_memslice(&result.from_slice)
- *         return result
- */
-  __pyx_t_1 = __pyx_memoryview_copy_object(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 556, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_memoryviewslice_type))))) __PYX_ERR(2, 556, __pyx_L1_error)
-  __pyx_v_result = ((struct __pyx_memoryviewslice_obj *)__pyx_t_1);
-  __pyx_t_1 = 0;
-
-  /* "View.MemoryView":557
- *     def T(self):
- *         cdef _memoryviewslice result = memoryview_copy(self)
- *         transpose_memslice(&result.from_slice)             # <<<<<<<<<<<<<<
- *         return result
- * 
- */
-  __pyx_t_2 = __pyx_memslice_transpose((&__pyx_v_result->from_slice)); if (unlikely(__pyx_t_2 == ((int)0))) __PYX_ERR(2, 557, __pyx_L1_error)
-
-  /* "View.MemoryView":558
- *         cdef _memoryviewslice result = memoryview_copy(self)
- *         transpose_memslice(&result.from_slice)
- *         return result             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_result));
-  __pyx_r = ((PyObject *)__pyx_v_result);
-  goto __pyx_L0;
-
-  /* "View.MemoryView":555
- * 
- *     @property
- *     def T(self):             # <<<<<<<<<<<<<<
- *         cdef _memoryviewslice result = memoryview_copy(self)
- *         transpose_memslice(&result.from_slice)
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.T.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XDECREF((PyObject *)__pyx_v_result);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":561
- * 
- *     @property
- *     def base(self):             # <<<<<<<<<<<<<<
- *         return self.obj
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_4base_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_4base_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_10memoryview_4base___get__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_4base___get__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "View.MemoryView":562
- *     @property
- *     def base(self):
- *         return self.obj             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(__pyx_v_self->obj);
-  __pyx_r = __pyx_v_self->obj;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":561
- * 
- *     @property
- *     def base(self):             # <<<<<<<<<<<<<<
- *         return self.obj
- * 
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":565
- * 
- *     @property
- *     def shape(self):             # <<<<<<<<<<<<<<
- *         return tuple([length for length in self.view.shape[:self.view.ndim]])
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_5shape_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_5shape_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_10memoryview_5shape___get__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_5shape___get__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  Py_ssize_t __pyx_v_length;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  Py_ssize_t *__pyx_t_2;
-  Py_ssize_t *__pyx_t_3;
-  Py_ssize_t *__pyx_t_4;
-  PyObject *__pyx_t_5 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "View.MemoryView":566
- *     @property
- *     def shape(self):
- *         return tuple([length for length in self.view.shape[:self.view.ndim]])             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 566, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = (__pyx_v_self->view.shape + __pyx_v_self->view.ndim);
-  for (__pyx_t_4 = __pyx_v_self->view.shape; __pyx_t_4 < __pyx_t_3; __pyx_t_4++) {
-    __pyx_t_2 = __pyx_t_4;
-    __pyx_v_length = (__pyx_t_2[0]);
-    __pyx_t_5 = PyInt_FromSsize_t(__pyx_v_length); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 566, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    if (unlikely(__Pyx_ListComp_Append(__pyx_t_1, (PyObject*)__pyx_t_5))) __PYX_ERR(2, 566, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  }
-  __pyx_t_5 = PyList_AsTuple(((PyObject*)__pyx_t_1)); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 566, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_5);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_r = __pyx_t_5;
-  __pyx_t_5 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":565
- * 
- *     @property
- *     def shape(self):             # <<<<<<<<<<<<<<
- *         return tuple([length for length in self.view.shape[:self.view.ndim]])
- * 
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.shape.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":569
- * 
- *     @property
- *     def strides(self):             # <<<<<<<<<<<<<<
- *         if self.view.strides == NULL:
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_7strides_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_7strides_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_10memoryview_7strides___get__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_7strides___get__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  Py_ssize_t __pyx_v_stride;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  Py_ssize_t *__pyx_t_3;
-  Py_ssize_t *__pyx_t_4;
-  Py_ssize_t *__pyx_t_5;
-  PyObject *__pyx_t_6 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "View.MemoryView":570
- *     @property
- *     def strides(self):
- *         if self.view.strides == NULL:             # <<<<<<<<<<<<<<
- * 
- *             raise ValueError("Buffer view does not expose strides")
- */
-  __pyx_t_1 = ((__pyx_v_self->view.strides == NULL) != 0);
-  if (unlikely(__pyx_t_1)) {
-
-    /* "View.MemoryView":572
- *         if self.view.strides == NULL:
- * 
- *             raise ValueError("Buffer view does not expose strides")             # <<<<<<<<<<<<<<
- * 
- *         return tuple([stride for stride in self.view.strides[:self.view.ndim]])
- */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__108, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 572, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_Raise(__pyx_t_2, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(2, 572, __pyx_L1_error)
-
-    /* "View.MemoryView":570
- *     @property
- *     def strides(self):
- *         if self.view.strides == NULL:             # <<<<<<<<<<<<<<
- * 
- *             raise ValueError("Buffer view does not expose strides")
- */
-  }
-
-  /* "View.MemoryView":574
- *             raise ValueError("Buffer view does not expose strides")
- * 
- *         return tuple([stride for stride in self.view.strides[:self.view.ndim]])             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 574, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_4 = (__pyx_v_self->view.strides + __pyx_v_self->view.ndim);
-  for (__pyx_t_5 = __pyx_v_self->view.strides; __pyx_t_5 < __pyx_t_4; __pyx_t_5++) {
-    __pyx_t_3 = __pyx_t_5;
-    __pyx_v_stride = (__pyx_t_3[0]);
-    __pyx_t_6 = PyInt_FromSsize_t(__pyx_v_stride); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 574, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_6);
-    if (unlikely(__Pyx_ListComp_Append(__pyx_t_2, (PyObject*)__pyx_t_6))) __PYX_ERR(2, 574, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-  }
-  __pyx_t_6 = PyList_AsTuple(((PyObject*)__pyx_t_2)); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 574, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_6);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_r = __pyx_t_6;
-  __pyx_t_6 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":569
- * 
- *     @property
- *     def strides(self):             # <<<<<<<<<<<<<<
- *         if self.view.strides == NULL:
- * 
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_6);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.strides.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":577
- * 
- *     @property
- *     def suboffsets(self):             # <<<<<<<<<<<<<<
- *         if self.view.suboffsets == NULL:
- *             return (-1,) * self.view.ndim
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_10suboffsets_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_10suboffsets_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_10memoryview_10suboffsets___get__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_10suboffsets___get__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  Py_ssize_t __pyx_v_suboffset;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  Py_ssize_t *__pyx_t_4;
-  Py_ssize_t *__pyx_t_5;
-  Py_ssize_t *__pyx_t_6;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "View.MemoryView":578
- *     @property
- *     def suboffsets(self):
- *         if self.view.suboffsets == NULL:             # <<<<<<<<<<<<<<
- *             return (-1,) * self.view.ndim
- * 
- */
-  __pyx_t_1 = ((__pyx_v_self->view.suboffsets == NULL) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":579
- *     def suboffsets(self):
- *         if self.view.suboffsets == NULL:
- *             return (-1,) * self.view.ndim             # <<<<<<<<<<<<<<
- * 
- *         return tuple([suboffset for suboffset in self.view.suboffsets[:self.view.ndim]])
- */
-    __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyInt_From_int(__pyx_v_self->view.ndim); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 579, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = PyNumber_Multiply(__pyx_tuple__109, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 579, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_r = __pyx_t_3;
-    __pyx_t_3 = 0;
-    goto __pyx_L0;
-
-    /* "View.MemoryView":578
- *     @property
- *     def suboffsets(self):
- *         if self.view.suboffsets == NULL:             # <<<<<<<<<<<<<<
- *             return (-1,) * self.view.ndim
- * 
- */
-  }
-
-  /* "View.MemoryView":581
- *             return (-1,) * self.view.ndim
- * 
- *         return tuple([suboffset for suboffset in self.view.suboffsets[:self.view.ndim]])             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 581, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_5 = (__pyx_v_self->view.suboffsets + __pyx_v_self->view.ndim);
-  for (__pyx_t_6 = __pyx_v_self->view.suboffsets; __pyx_t_6 < __pyx_t_5; __pyx_t_6++) {
-    __pyx_t_4 = __pyx_t_6;
-    __pyx_v_suboffset = (__pyx_t_4[0]);
-    __pyx_t_2 = PyInt_FromSsize_t(__pyx_v_suboffset); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 581, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    if (unlikely(__Pyx_ListComp_Append(__pyx_t_3, (PyObject*)__pyx_t_2))) __PYX_ERR(2, 581, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  }
-  __pyx_t_2 = PyList_AsTuple(((PyObject*)__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 581, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":577
- * 
- *     @property
- *     def suboffsets(self):             # <<<<<<<<<<<<<<
- *         if self.view.suboffsets == NULL:
- *             return (-1,) * self.view.ndim
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.suboffsets.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":584
- * 
- *     @property
- *     def ndim(self):             # <<<<<<<<<<<<<<
- *         return self.view.ndim
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_4ndim_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_4ndim_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_10memoryview_4ndim___get__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_4ndim___get__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "View.MemoryView":585
- *     @property
- *     def ndim(self):
- *         return self.view.ndim             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->view.ndim); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 585, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":584
- * 
- *     @property
- *     def ndim(self):             # <<<<<<<<<<<<<<
- *         return self.view.ndim
- * 
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.ndim.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":588
- * 
- *     @property
- *     def itemsize(self):             # <<<<<<<<<<<<<<
- *         return self.view.itemsize
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_8itemsize_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_8itemsize_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_10memoryview_8itemsize___get__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_8itemsize___get__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "View.MemoryView":589
- *     @property
- *     def itemsize(self):
- *         return self.view.itemsize             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyInt_FromSsize_t(__pyx_v_self->view.itemsize); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 589, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":588
- * 
- *     @property
- *     def itemsize(self):             # <<<<<<<<<<<<<<
- *         return self.view.itemsize
- * 
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.itemsize.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":592
- * 
- *     @property
- *     def nbytes(self):             # <<<<<<<<<<<<<<
- *         return self.size * self.view.itemsize
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_6nbytes_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_6nbytes_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_10memoryview_6nbytes___get__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_6nbytes___get__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "View.MemoryView":593
- *     @property
- *     def nbytes(self):
- *         return self.size * self.view.itemsize             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_size); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 593, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = PyInt_FromSsize_t(__pyx_v_self->view.itemsize); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 593, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyNumber_Multiply(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 593, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_r = __pyx_t_3;
-  __pyx_t_3 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":592
- * 
- *     @property
- *     def nbytes(self):             # <<<<<<<<<<<<<<
- *         return self.size * self.view.itemsize
- * 
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.nbytes.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":596
- * 
- *     @property
- *     def size(self):             # <<<<<<<<<<<<<<
- *         if self._size is None:
- *             result = 1
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_4size_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_10memoryview_4size_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_10memoryview_4size___get__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView_10memoryview_4size___get__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  PyObject *__pyx_v_result = NULL;
-  PyObject *__pyx_v_length = NULL;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  Py_ssize_t *__pyx_t_3;
-  Py_ssize_t *__pyx_t_4;
-  Py_ssize_t *__pyx_t_5;
-  PyObject *__pyx_t_6 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "View.MemoryView":597
- *     @property
- *     def size(self):
- *         if self._size is None:             # <<<<<<<<<<<<<<
- *             result = 1
- * 
- */
-  __pyx_t_1 = (__pyx_v_self->_size == Py_None);
-  __pyx_t_2 = (__pyx_t_1 != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":598
- *     def size(self):
- *         if self._size is None:
- *             result = 1             # <<<<<<<<<<<<<<
- * 
- *             for length in self.view.shape[:self.view.ndim]:
- */
-    __Pyx_INCREF(__pyx_int_1);
-    __pyx_v_result = __pyx_int_1;
-
-    /* "View.MemoryView":600
- *             result = 1
- * 
- *             for length in self.view.shape[:self.view.ndim]:             # <<<<<<<<<<<<<<
- *                 result *= length
- * 
- */
-    __pyx_t_4 = (__pyx_v_self->view.shape + __pyx_v_self->view.ndim);
-    for (__pyx_t_5 = __pyx_v_self->view.shape; __pyx_t_5 < __pyx_t_4; __pyx_t_5++) {
-      __pyx_t_3 = __pyx_t_5;
-      __pyx_t_6 = PyInt_FromSsize_t((__pyx_t_3[0])); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 600, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_6);
-      __Pyx_XDECREF_SET(__pyx_v_length, __pyx_t_6);
-      __pyx_t_6 = 0;
-
-      /* "View.MemoryView":601
- * 
- *             for length in self.view.shape[:self.view.ndim]:
- *                 result *= length             # <<<<<<<<<<<<<<
- * 
- *             self._size = result
- */
-      __pyx_t_6 = PyNumber_InPlaceMultiply(__pyx_v_result, __pyx_v_length); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 601, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_6);
-      __Pyx_DECREF_SET(__pyx_v_result, __pyx_t_6);
-      __pyx_t_6 = 0;
-    }
-
-    /* "View.MemoryView":603
- *                 result *= length
- * 
- *             self._size = result             # <<<<<<<<<<<<<<
- * 
- *         return self._size
- */
-    __Pyx_INCREF(__pyx_v_result);
-    __Pyx_GIVEREF(__pyx_v_result);
-    __Pyx_GOTREF(__pyx_v_self->_size);
-    __Pyx_DECREF(__pyx_v_self->_size);
-    __pyx_v_self->_size = __pyx_v_result;
-
-    /* "View.MemoryView":597
- *     @property
- *     def size(self):
- *         if self._size is None:             # <<<<<<<<<<<<<<
- *             result = 1
- * 
- */
-  }
-
-  /* "View.MemoryView":605
- *             self._size = result
- * 
- *         return self._size             # <<<<<<<<<<<<<<
- * 
- *     def __len__(self):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(__pyx_v_self->_size);
-  __pyx_r = __pyx_v_self->_size;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":596
- * 
- *     @property
- *     def size(self):             # <<<<<<<<<<<<<<
- *         if self._size is None:
- *             result = 1
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_6);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.size.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_result);
-  __Pyx_XDECREF(__pyx_v_length);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":607
- *         return self._size
- * 
- *     def __len__(self):             # <<<<<<<<<<<<<<
- *         if self.view.ndim >= 1:
- *             return self.view.shape[0]
- */
-
-/* Python wrapper */
-static Py_ssize_t __pyx_memoryview___len__(PyObject *__pyx_v_self); /*proto*/
-static Py_ssize_t __pyx_memoryview___len__(PyObject *__pyx_v_self) {
-  Py_ssize_t __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__len__ (wrapper)", 0);
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_10__len__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static Py_ssize_t __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_10__len__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  Py_ssize_t __pyx_r;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  __Pyx_RefNannySetupContext("__len__", 0);
-
-  /* "View.MemoryView":608
- * 
- *     def __len__(self):
- *         if self.view.ndim >= 1:             # <<<<<<<<<<<<<<
- *             return self.view.shape[0]
- * 
- */
-  __pyx_t_1 = ((__pyx_v_self->view.ndim >= 1) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":609
- *     def __len__(self):
- *         if self.view.ndim >= 1:
- *             return self.view.shape[0]             # <<<<<<<<<<<<<<
- * 
- *         return 0
- */
-    __pyx_r = (__pyx_v_self->view.shape[0]);
-    goto __pyx_L0;
-
-    /* "View.MemoryView":608
- * 
- *     def __len__(self):
- *         if self.view.ndim >= 1:             # <<<<<<<<<<<<<<
- *             return self.view.shape[0]
- * 
- */
-  }
-
-  /* "View.MemoryView":611
- *             return self.view.shape[0]
- * 
- *         return 0             # <<<<<<<<<<<<<<
- * 
- *     def __repr__(self):
- */
-  __pyx_r = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":607
- *         return self._size
- * 
- *     def __len__(self):             # <<<<<<<<<<<<<<
- *         if self.view.ndim >= 1:
- *             return self.view.shape[0]
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":613
- *         return 0
- * 
- *     def __repr__(self):             # <<<<<<<<<<<<<<
- *         return "<MemoryView of %r at 0x%x>" % (self.base.__class__.__name__,
- *                                                id(self))
- */
-
-/* Python wrapper */
-static PyObject *__pyx_memoryview___repr__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_memoryview___repr__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__repr__ (wrapper)", 0);
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_12__repr__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_12__repr__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__repr__", 0);
-
-  /* "View.MemoryView":614
- * 
- *     def __repr__(self):
- *         return "<MemoryView of %r at 0x%x>" % (self.base.__class__.__name__,             # <<<<<<<<<<<<<<
- *                                                id(self))
- * 
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_base); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 614, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_class); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 614, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 614, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-
-  /* "View.MemoryView":615
- *     def __repr__(self):
- *         return "<MemoryView of %r at 0x%x>" % (self.base.__class__.__name__,
- *                                                id(self))             # <<<<<<<<<<<<<<
- * 
- *     def __str__(self):
- */
-  __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_id, ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 615, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-
-  /* "View.MemoryView":614
- * 
- *     def __repr__(self):
- *         return "<MemoryView of %r at 0x%x>" % (self.base.__class__.__name__,             # <<<<<<<<<<<<<<
- *                                                id(self))
- * 
- */
-  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 614, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_GIVEREF(__pyx_t_1);
-  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_2);
-  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_2);
-  __pyx_t_1 = 0;
-  __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyString_Format(__pyx_kp_s_MemoryView_of_r_at_0x_x, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 614, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":613
- *         return 0
- * 
- *     def __repr__(self):             # <<<<<<<<<<<<<<
- *         return "<MemoryView of %r at 0x%x>" % (self.base.__class__.__name__,
- *                                                id(self))
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.__repr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":617
- *                                                id(self))
- * 
- *     def __str__(self):             # <<<<<<<<<<<<<<
- *         return "<MemoryView of %r object>" % (self.base.__class__.__name__,)
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_memoryview___str__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_memoryview___str__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__str__ (wrapper)", 0);
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_14__str__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_14__str__(struct __pyx_memoryview_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__str__", 0);
-
-  /* "View.MemoryView":618
- * 
- *     def __str__(self):
- *         return "<MemoryView of %r object>" % (self.base.__class__.__name__,)             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_base); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 618, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_class); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 618, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 618, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 618, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_GIVEREF(__pyx_t_1);
-  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
-  __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyString_Format(__pyx_kp_s_MemoryView_of_r_object, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 618, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":617
- *                                                id(self))
- * 
- *     def __str__(self):             # <<<<<<<<<<<<<<
- *         return "<MemoryView of %r object>" % (self.base.__class__.__name__,)
- * 
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.__str__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":621
- * 
- * 
- *     def is_c_contig(self):             # <<<<<<<<<<<<<<
- *         cdef __Pyx_memviewslice *mslice
- *         cdef __Pyx_memviewslice tmp
- */
-
-/* Python wrapper */
-static PyObject *__pyx_memoryview_is_c_contig(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_memoryview_is_c_contig(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("is_c_contig (wrapper)", 0);
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_16is_c_contig(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_16is_c_contig(struct __pyx_memoryview_obj *__pyx_v_self) {
-  __Pyx_memviewslice *__pyx_v_mslice;
-  __Pyx_memviewslice __pyx_v_tmp;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_memviewslice *__pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("is_c_contig", 0);
-
-  /* "View.MemoryView":624
- *         cdef __Pyx_memviewslice *mslice
- *         cdef __Pyx_memviewslice tmp
- *         mslice = get_slice_from_memview(self, &tmp)             # <<<<<<<<<<<<<<
- *         return slice_is_contig(mslice[0], 'C', self.view.ndim)
- * 
- */
-  __pyx_t_1 = __pyx_memoryview_get_slice_from_memoryview(__pyx_v_self, (&__pyx_v_tmp)); if (unlikely(__pyx_t_1 == ((__Pyx_memviewslice *)NULL))) __PYX_ERR(2, 624, __pyx_L1_error)
-  __pyx_v_mslice = __pyx_t_1;
-
-  /* "View.MemoryView":625
- *         cdef __Pyx_memviewslice tmp
- *         mslice = get_slice_from_memview(self, &tmp)
- *         return slice_is_contig(mslice[0], 'C', self.view.ndim)             # <<<<<<<<<<<<<<
- * 
- *     def is_f_contig(self):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyBool_FromLong(__pyx_memviewslice_is_contig((__pyx_v_mslice[0]), 'C', __pyx_v_self->view.ndim)); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 625, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":621
- * 
- * 
- *     def is_c_contig(self):             # <<<<<<<<<<<<<<
- *         cdef __Pyx_memviewslice *mslice
- *         cdef __Pyx_memviewslice tmp
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.is_c_contig", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":627
- *         return slice_is_contig(mslice[0], 'C', self.view.ndim)
- * 
- *     def is_f_contig(self):             # <<<<<<<<<<<<<<
- *         cdef __Pyx_memviewslice *mslice
- *         cdef __Pyx_memviewslice tmp
- */
-
-/* Python wrapper */
-static PyObject *__pyx_memoryview_is_f_contig(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_memoryview_is_f_contig(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("is_f_contig (wrapper)", 0);
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_18is_f_contig(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_18is_f_contig(struct __pyx_memoryview_obj *__pyx_v_self) {
-  __Pyx_memviewslice *__pyx_v_mslice;
-  __Pyx_memviewslice __pyx_v_tmp;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_memviewslice *__pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("is_f_contig", 0);
-
-  /* "View.MemoryView":630
- *         cdef __Pyx_memviewslice *mslice
- *         cdef __Pyx_memviewslice tmp
- *         mslice = get_slice_from_memview(self, &tmp)             # <<<<<<<<<<<<<<
- *         return slice_is_contig(mslice[0], 'F', self.view.ndim)
- * 
- */
-  __pyx_t_1 = __pyx_memoryview_get_slice_from_memoryview(__pyx_v_self, (&__pyx_v_tmp)); if (unlikely(__pyx_t_1 == ((__Pyx_memviewslice *)NULL))) __PYX_ERR(2, 630, __pyx_L1_error)
-  __pyx_v_mslice = __pyx_t_1;
-
-  /* "View.MemoryView":631
- *         cdef __Pyx_memviewslice tmp
- *         mslice = get_slice_from_memview(self, &tmp)
- *         return slice_is_contig(mslice[0], 'F', self.view.ndim)             # <<<<<<<<<<<<<<
- * 
- *     def copy(self):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyBool_FromLong(__pyx_memviewslice_is_contig((__pyx_v_mslice[0]), 'F', __pyx_v_self->view.ndim)); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 631, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":627
- *         return slice_is_contig(mslice[0], 'C', self.view.ndim)
- * 
- *     def is_f_contig(self):             # <<<<<<<<<<<<<<
- *         cdef __Pyx_memviewslice *mslice
- *         cdef __Pyx_memviewslice tmp
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.is_f_contig", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":633
- *         return slice_is_contig(mslice[0], 'F', self.view.ndim)
- * 
- *     def copy(self):             # <<<<<<<<<<<<<<
- *         cdef __Pyx_memviewslice mslice
- *         cdef int flags = self.flags & ~PyBUF_F_CONTIGUOUS
- */
-
-/* Python wrapper */
-static PyObject *__pyx_memoryview_copy(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_memoryview_copy(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("copy (wrapper)", 0);
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_20copy(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_20copy(struct __pyx_memoryview_obj *__pyx_v_self) {
-  __Pyx_memviewslice __pyx_v_mslice;
-  int __pyx_v_flags;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_memviewslice __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("copy", 0);
-
-  /* "View.MemoryView":635
- *     def copy(self):
- *         cdef __Pyx_memviewslice mslice
- *         cdef int flags = self.flags & ~PyBUF_F_CONTIGUOUS             # <<<<<<<<<<<<<<
- * 
- *         slice_copy(self, &mslice)
- */
-  __pyx_v_flags = (__pyx_v_self->flags & (~PyBUF_F_CONTIGUOUS));
-
-  /* "View.MemoryView":637
- *         cdef int flags = self.flags & ~PyBUF_F_CONTIGUOUS
- * 
- *         slice_copy(self, &mslice)             # <<<<<<<<<<<<<<
- *         mslice = slice_copy_contig(&mslice, "c", self.view.ndim,
- *                                    self.view.itemsize,
- */
-  __pyx_memoryview_slice_copy(__pyx_v_self, (&__pyx_v_mslice));
-
-  /* "View.MemoryView":638
- * 
- *         slice_copy(self, &mslice)
- *         mslice = slice_copy_contig(&mslice, "c", self.view.ndim,             # <<<<<<<<<<<<<<
- *                                    self.view.itemsize,
- *                                    flags|PyBUF_C_CONTIGUOUS,
- */
-  __pyx_t_1 = __pyx_memoryview_copy_new_contig((&__pyx_v_mslice), ((char *)"c"), __pyx_v_self->view.ndim, __pyx_v_self->view.itemsize, (__pyx_v_flags | PyBUF_C_CONTIGUOUS), __pyx_v_self->dtype_is_object); if (unlikely(PyErr_Occurred())) __PYX_ERR(2, 638, __pyx_L1_error)
-  __pyx_v_mslice = __pyx_t_1;
-
-  /* "View.MemoryView":643
- *                                    self.dtype_is_object)
- * 
- *         return memoryview_copy_from_slice(self, &mslice)             # <<<<<<<<<<<<<<
- * 
- *     def copy_fortran(self):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __pyx_memoryview_copy_object_from_slice(__pyx_v_self, (&__pyx_v_mslice)); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 643, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":633
- *         return slice_is_contig(mslice[0], 'F', self.view.ndim)
- * 
- *     def copy(self):             # <<<<<<<<<<<<<<
- *         cdef __Pyx_memviewslice mslice
- *         cdef int flags = self.flags & ~PyBUF_F_CONTIGUOUS
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.copy", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":645
- *         return memoryview_copy_from_slice(self, &mslice)
- * 
- *     def copy_fortran(self):             # <<<<<<<<<<<<<<
- *         cdef __Pyx_memviewslice src, dst
- *         cdef int flags = self.flags & ~PyBUF_C_CONTIGUOUS
- */
-
-/* Python wrapper */
-static PyObject *__pyx_memoryview_copy_fortran(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_memoryview_copy_fortran(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("copy_fortran (wrapper)", 0);
-  __pyx_r = __pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_22copy_fortran(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_memoryview___pyx_pf_15View_dot_MemoryView_10memoryview_22copy_fortran(struct __pyx_memoryview_obj *__pyx_v_self) {
-  __Pyx_memviewslice __pyx_v_src;
-  __Pyx_memviewslice __pyx_v_dst;
-  int __pyx_v_flags;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_memviewslice __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("copy_fortran", 0);
-
-  /* "View.MemoryView":647
- *     def copy_fortran(self):
- *         cdef __Pyx_memviewslice src, dst
- *         cdef int flags = self.flags & ~PyBUF_C_CONTIGUOUS             # <<<<<<<<<<<<<<
- * 
- *         slice_copy(self, &src)
- */
-  __pyx_v_flags = (__pyx_v_self->flags & (~PyBUF_C_CONTIGUOUS));
-
-  /* "View.MemoryView":649
- *         cdef int flags = self.flags & ~PyBUF_C_CONTIGUOUS
- * 
- *         slice_copy(self, &src)             # <<<<<<<<<<<<<<
- *         dst = slice_copy_contig(&src, "fortran", self.view.ndim,
- *                                 self.view.itemsize,
- */
-  __pyx_memoryview_slice_copy(__pyx_v_self, (&__pyx_v_src));
-
-  /* "View.MemoryView":650
- * 
- *         slice_copy(self, &src)
- *         dst = slice_copy_contig(&src, "fortran", self.view.ndim,             # <<<<<<<<<<<<<<
- *                                 self.view.itemsize,
- *                                 flags|PyBUF_F_CONTIGUOUS,
- */
-  __pyx_t_1 = __pyx_memoryview_copy_new_contig((&__pyx_v_src), ((char *)"fortran"), __pyx_v_self->view.ndim, __pyx_v_self->view.itemsize, (__pyx_v_flags | PyBUF_F_CONTIGUOUS), __pyx_v_self->dtype_is_object); if (unlikely(PyErr_Occurred())) __PYX_ERR(2, 650, __pyx_L1_error)
-  __pyx_v_dst = __pyx_t_1;
-
-  /* "View.MemoryView":655
- *                                 self.dtype_is_object)
- * 
- *         return memoryview_copy_from_slice(self, &dst)             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __pyx_memoryview_copy_object_from_slice(__pyx_v_self, (&__pyx_v_dst)); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 655, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":645
- *         return memoryview_copy_from_slice(self, &mslice)
- * 
- *     def copy_fortran(self):             # <<<<<<<<<<<<<<
- *         cdef __Pyx_memviewslice src, dst
- *         cdef int flags = self.flags & ~PyBUF_C_CONTIGUOUS
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.copy_fortran", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw___pyx_memoryview_1__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_pw___pyx_memoryview_1__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf___pyx_memoryview___reduce_cython__(((struct __pyx_memoryview_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf___pyx_memoryview___reduce_cython__(CYTHON_UNUSED struct __pyx_memoryview_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
-
-  /* "(tree fragment)":2
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__110, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 2, __pyx_L1_error)
-
-  /* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "(tree fragment)":3
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw___pyx_memoryview_3__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
-static PyObject *__pyx_pw___pyx_memoryview_3__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf___pyx_memoryview_2__setstate_cython__(((struct __pyx_memoryview_obj *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf___pyx_memoryview_2__setstate_cython__(CYTHON_UNUSED struct __pyx_memoryview_obj *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
-
-  /* "(tree fragment)":4
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__111, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 4, __pyx_L1_error)
-
-  /* "(tree fragment)":3
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.memoryview.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":659
- * 
- * @cname('__pyx_memoryview_new')
- * cdef memoryview_cwrapper(object o, int flags, bint dtype_is_object, __Pyx_TypeInfo *typeinfo):             # <<<<<<<<<<<<<<
- *     cdef memoryview result = memoryview(o, flags, dtype_is_object)
- *     result.typeinfo = typeinfo
- */
-
-static PyObject *__pyx_memoryview_new(PyObject *__pyx_v_o, int __pyx_v_flags, int __pyx_v_dtype_is_object, __Pyx_TypeInfo *__pyx_v_typeinfo) {
-  struct __pyx_memoryview_obj *__pyx_v_result = 0;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("memoryview_cwrapper", 0);
-
-  /* "View.MemoryView":660
- * @cname('__pyx_memoryview_new')
- * cdef memoryview_cwrapper(object o, int flags, bint dtype_is_object, __Pyx_TypeInfo *typeinfo):
- *     cdef memoryview result = memoryview(o, flags, dtype_is_object)             # <<<<<<<<<<<<<<
- *     result.typeinfo = typeinfo
- *     return result
- */
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_flags); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 660, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyBool_FromLong(__pyx_v_dtype_is_object); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 660, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 660, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_INCREF(__pyx_v_o);
-  __Pyx_GIVEREF(__pyx_v_o);
-  PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_o);
-  __Pyx_GIVEREF(__pyx_t_1);
-  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_2);
-  PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_t_2);
-  __pyx_t_1 = 0;
-  __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_memoryview_type), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 660, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_v_result = ((struct __pyx_memoryview_obj *)__pyx_t_2);
-  __pyx_t_2 = 0;
-
-  /* "View.MemoryView":661
- * cdef memoryview_cwrapper(object o, int flags, bint dtype_is_object, __Pyx_TypeInfo *typeinfo):
- *     cdef memoryview result = memoryview(o, flags, dtype_is_object)
- *     result.typeinfo = typeinfo             # <<<<<<<<<<<<<<
- *     return result
- * 
- */
-  __pyx_v_result->typeinfo = __pyx_v_typeinfo;
-
-  /* "View.MemoryView":662
- *     cdef memoryview result = memoryview(o, flags, dtype_is_object)
- *     result.typeinfo = typeinfo
- *     return result             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_check')
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_result));
-  __pyx_r = ((PyObject *)__pyx_v_result);
-  goto __pyx_L0;
-
-  /* "View.MemoryView":659
- * 
- * @cname('__pyx_memoryview_new')
- * cdef memoryview_cwrapper(object o, int flags, bint dtype_is_object, __Pyx_TypeInfo *typeinfo):             # <<<<<<<<<<<<<<
- *     cdef memoryview result = memoryview(o, flags, dtype_is_object)
- *     result.typeinfo = typeinfo
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.memoryview_cwrapper", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XDECREF((PyObject *)__pyx_v_result);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":665
- * 
- * @cname('__pyx_memoryview_check')
- * cdef inline bint memoryview_check(object o):             # <<<<<<<<<<<<<<
- *     return isinstance(o, memoryview)
- * 
- */
-
-static CYTHON_INLINE int __pyx_memoryview_check(PyObject *__pyx_v_o) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  __Pyx_RefNannySetupContext("memoryview_check", 0);
-
-  /* "View.MemoryView":666
- * @cname('__pyx_memoryview_check')
- * cdef inline bint memoryview_check(object o):
- *     return isinstance(o, memoryview)             # <<<<<<<<<<<<<<
- * 
- * cdef tuple _unellipsify(object index, int ndim):
- */
-  __pyx_t_1 = __Pyx_TypeCheck(__pyx_v_o, __pyx_memoryview_type); 
-  __pyx_r = __pyx_t_1;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":665
- * 
- * @cname('__pyx_memoryview_check')
- * cdef inline bint memoryview_check(object o):             # <<<<<<<<<<<<<<
- *     return isinstance(o, memoryview)
- * 
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":668
- *     return isinstance(o, memoryview)
- * 
- * cdef tuple _unellipsify(object index, int ndim):             # <<<<<<<<<<<<<<
- *     """
- *     Replace all ellipses with full slices and fill incomplete indices with
- */
-
-static PyObject *_unellipsify(PyObject *__pyx_v_index, int __pyx_v_ndim) {
-  PyObject *__pyx_v_tup = NULL;
-  PyObject *__pyx_v_result = NULL;
-  int __pyx_v_have_slices;
-  int __pyx_v_seen_ellipsis;
-  CYTHON_UNUSED PyObject *__pyx_v_idx = NULL;
-  PyObject *__pyx_v_item = NULL;
-  Py_ssize_t __pyx_v_nslices;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  PyObject *(*__pyx_t_6)(PyObject *);
-  PyObject *__pyx_t_7 = NULL;
-  Py_ssize_t __pyx_t_8;
-  int __pyx_t_9;
-  int __pyx_t_10;
-  PyObject *__pyx_t_11 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("_unellipsify", 0);
-
-  /* "View.MemoryView":673
- *     full slices.
- *     """
- *     if not isinstance(index, tuple):             # <<<<<<<<<<<<<<
- *         tup = (index,)
- *     else:
- */
-  __pyx_t_1 = PyTuple_Check(__pyx_v_index); 
-  __pyx_t_2 = ((!(__pyx_t_1 != 0)) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":674
- *     """
- *     if not isinstance(index, tuple):
- *         tup = (index,)             # <<<<<<<<<<<<<<
- *     else:
- *         tup = index
- */
-    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 674, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_INCREF(__pyx_v_index);
-    __Pyx_GIVEREF(__pyx_v_index);
-    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_index);
-    __pyx_v_tup = __pyx_t_3;
-    __pyx_t_3 = 0;
-
-    /* "View.MemoryView":673
- *     full slices.
- *     """
- *     if not isinstance(index, tuple):             # <<<<<<<<<<<<<<
- *         tup = (index,)
- *     else:
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":676
- *         tup = (index,)
- *     else:
- *         tup = index             # <<<<<<<<<<<<<<
- * 
- *     result = []
- */
-  /*else*/ {
-    __Pyx_INCREF(__pyx_v_index);
-    __pyx_v_tup = __pyx_v_index;
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":678
- *         tup = index
- * 
- *     result = []             # <<<<<<<<<<<<<<
- *     have_slices = False
- *     seen_ellipsis = False
- */
-  __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 678, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __pyx_v_result = ((PyObject*)__pyx_t_3);
-  __pyx_t_3 = 0;
-
-  /* "View.MemoryView":679
- * 
- *     result = []
- *     have_slices = False             # <<<<<<<<<<<<<<
- *     seen_ellipsis = False
- *     for idx, item in enumerate(tup):
- */
-  __pyx_v_have_slices = 0;
-
-  /* "View.MemoryView":680
- *     result = []
- *     have_slices = False
- *     seen_ellipsis = False             # <<<<<<<<<<<<<<
- *     for idx, item in enumerate(tup):
- *         if item is Ellipsis:
- */
-  __pyx_v_seen_ellipsis = 0;
-
-  /* "View.MemoryView":681
- *     have_slices = False
- *     seen_ellipsis = False
- *     for idx, item in enumerate(tup):             # <<<<<<<<<<<<<<
- *         if item is Ellipsis:
- *             if not seen_ellipsis:
- */
-  __Pyx_INCREF(__pyx_int_0);
-  __pyx_t_3 = __pyx_int_0;
-  if (likely(PyList_CheckExact(__pyx_v_tup)) || PyTuple_CheckExact(__pyx_v_tup)) {
-    __pyx_t_4 = __pyx_v_tup; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
-    __pyx_t_6 = NULL;
-  } else {
-    __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_tup); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 681, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 681, __pyx_L1_error)
-  }
-  for (;;) {
-    if (likely(!__pyx_t_6)) {
-      if (likely(PyList_CheckExact(__pyx_t_4))) {
-        if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(2, 681, __pyx_L1_error)
-        #else
-        __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 681, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_7);
-        #endif
-      } else {
-        if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(2, 681, __pyx_L1_error)
-        #else
-        __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 681, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_7);
-        #endif
-      }
-    } else {
-      __pyx_t_7 = __pyx_t_6(__pyx_t_4);
-      if (unlikely(!__pyx_t_7)) {
-        PyObject* exc_type = PyErr_Occurred();
-        if (exc_type) {
-          if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(2, 681, __pyx_L1_error)
-        }
-        break;
-      }
-      __Pyx_GOTREF(__pyx_t_7);
-    }
-    __Pyx_XDECREF_SET(__pyx_v_item, __pyx_t_7);
-    __pyx_t_7 = 0;
-    __Pyx_INCREF(__pyx_t_3);
-    __Pyx_XDECREF_SET(__pyx_v_idx, __pyx_t_3);
-    __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_3, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 681, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __Pyx_DECREF(__pyx_t_3);
-    __pyx_t_3 = __pyx_t_7;
-    __pyx_t_7 = 0;
-
-    /* "View.MemoryView":682
- *     seen_ellipsis = False
- *     for idx, item in enumerate(tup):
- *         if item is Ellipsis:             # <<<<<<<<<<<<<<
- *             if not seen_ellipsis:
- *                 result.extend([slice(None)] * (ndim - len(tup) + 1))
- */
-    __pyx_t_2 = (__pyx_v_item == __pyx_builtin_Ellipsis);
-    __pyx_t_1 = (__pyx_t_2 != 0);
-    if (__pyx_t_1) {
-
-      /* "View.MemoryView":683
- *     for idx, item in enumerate(tup):
- *         if item is Ellipsis:
- *             if not seen_ellipsis:             # <<<<<<<<<<<<<<
- *                 result.extend([slice(None)] * (ndim - len(tup) + 1))
- *                 seen_ellipsis = True
- */
-      __pyx_t_1 = ((!(__pyx_v_seen_ellipsis != 0)) != 0);
-      if (__pyx_t_1) {
-
-        /* "View.MemoryView":684
- *         if item is Ellipsis:
- *             if not seen_ellipsis:
- *                 result.extend([slice(None)] * (ndim - len(tup) + 1))             # <<<<<<<<<<<<<<
- *                 seen_ellipsis = True
- *             else:
- */
-        __pyx_t_8 = PyObject_Length(__pyx_v_tup); if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(2, 684, __pyx_L1_error)
-        __pyx_t_7 = PyList_New(1 * ((((__pyx_v_ndim - __pyx_t_8) + 1)<0) ? 0:((__pyx_v_ndim - __pyx_t_8) + 1))); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 684, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_7);
-        { Py_ssize_t __pyx_temp;
-          for (__pyx_temp=0; __pyx_temp < ((__pyx_v_ndim - __pyx_t_8) + 1); __pyx_temp++) {
-            __Pyx_INCREF(__pyx_slice__112);
-            __Pyx_GIVEREF(__pyx_slice__112);
-            PyList_SET_ITEM(__pyx_t_7, __pyx_temp, __pyx_slice__112);
-          }
-        }
-        __pyx_t_9 = __Pyx_PyList_Extend(__pyx_v_result, __pyx_t_7); if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(2, 684, __pyx_L1_error)
-        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-
-        /* "View.MemoryView":685
- *             if not seen_ellipsis:
- *                 result.extend([slice(None)] * (ndim - len(tup) + 1))
- *                 seen_ellipsis = True             # <<<<<<<<<<<<<<
- *             else:
- *                 result.append(slice(None))
- */
-        __pyx_v_seen_ellipsis = 1;
-
-        /* "View.MemoryView":683
- *     for idx, item in enumerate(tup):
- *         if item is Ellipsis:
- *             if not seen_ellipsis:             # <<<<<<<<<<<<<<
- *                 result.extend([slice(None)] * (ndim - len(tup) + 1))
- *                 seen_ellipsis = True
- */
-        goto __pyx_L7;
-      }
-
-      /* "View.MemoryView":687
- *                 seen_ellipsis = True
- *             else:
- *                 result.append(slice(None))             # <<<<<<<<<<<<<<
- *             have_slices = True
- *         else:
- */
-      /*else*/ {
-        __pyx_t_9 = __Pyx_PyList_Append(__pyx_v_result, __pyx_slice__112); if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(2, 687, __pyx_L1_error)
-      }
-      __pyx_L7:;
-
-      /* "View.MemoryView":688
- *             else:
- *                 result.append(slice(None))
- *             have_slices = True             # <<<<<<<<<<<<<<
- *         else:
- *             if not isinstance(item, slice) and not PyIndex_Check(item):
- */
-      __pyx_v_have_slices = 1;
-
-      /* "View.MemoryView":682
- *     seen_ellipsis = False
- *     for idx, item in enumerate(tup):
- *         if item is Ellipsis:             # <<<<<<<<<<<<<<
- *             if not seen_ellipsis:
- *                 result.extend([slice(None)] * (ndim - len(tup) + 1))
- */
-      goto __pyx_L6;
-    }
-
-    /* "View.MemoryView":690
- *             have_slices = True
- *         else:
- *             if not isinstance(item, slice) and not PyIndex_Check(item):             # <<<<<<<<<<<<<<
- *                 raise TypeError("Cannot index with type '%s'" % type(item))
- * 
- */
-    /*else*/ {
-      __pyx_t_2 = PySlice_Check(__pyx_v_item); 
-      __pyx_t_10 = ((!(__pyx_t_2 != 0)) != 0);
-      if (__pyx_t_10) {
-      } else {
-        __pyx_t_1 = __pyx_t_10;
-        goto __pyx_L9_bool_binop_done;
-      }
-      __pyx_t_10 = ((!(PyIndex_Check(__pyx_v_item) != 0)) != 0);
-      __pyx_t_1 = __pyx_t_10;
-      __pyx_L9_bool_binop_done:;
-      if (unlikely(__pyx_t_1)) {
-
-        /* "View.MemoryView":691
- *         else:
- *             if not isinstance(item, slice) and not PyIndex_Check(item):
- *                 raise TypeError("Cannot index with type '%s'" % type(item))             # <<<<<<<<<<<<<<
- * 
- *             have_slices = have_slices or isinstance(item, slice)
- */
-        __pyx_t_7 = __Pyx_PyString_FormatSafe(__pyx_kp_s_Cannot_index_with_type_s, ((PyObject *)Py_TYPE(__pyx_v_item))); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 691, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_7);
-        __pyx_t_11 = __Pyx_PyObject_CallOneArg(__pyx_builtin_TypeError, __pyx_t_7); if (unlikely(!__pyx_t_11)) __PYX_ERR(2, 691, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_11);
-        __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-        __Pyx_Raise(__pyx_t_11, 0, 0, 0);
-        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-        __PYX_ERR(2, 691, __pyx_L1_error)
-
-        /* "View.MemoryView":690
- *             have_slices = True
- *         else:
- *             if not isinstance(item, slice) and not PyIndex_Check(item):             # <<<<<<<<<<<<<<
- *                 raise TypeError("Cannot index with type '%s'" % type(item))
- * 
- */
-      }
-
-      /* "View.MemoryView":693
- *                 raise TypeError("Cannot index with type '%s'" % type(item))
- * 
- *             have_slices = have_slices or isinstance(item, slice)             # <<<<<<<<<<<<<<
- *             result.append(item)
- * 
- */
-      __pyx_t_10 = (__pyx_v_have_slices != 0);
-      if (!__pyx_t_10) {
-      } else {
-        __pyx_t_1 = __pyx_t_10;
-        goto __pyx_L11_bool_binop_done;
-      }
-      __pyx_t_10 = PySlice_Check(__pyx_v_item); 
-      __pyx_t_2 = (__pyx_t_10 != 0);
-      __pyx_t_1 = __pyx_t_2;
-      __pyx_L11_bool_binop_done:;
-      __pyx_v_have_slices = __pyx_t_1;
-
-      /* "View.MemoryView":694
- * 
- *             have_slices = have_slices or isinstance(item, slice)
- *             result.append(item)             # <<<<<<<<<<<<<<
- * 
- *     nslices = ndim - len(result)
- */
-      __pyx_t_9 = __Pyx_PyList_Append(__pyx_v_result, __pyx_v_item); if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(2, 694, __pyx_L1_error)
-    }
-    __pyx_L6:;
-
-    /* "View.MemoryView":681
- *     have_slices = False
- *     seen_ellipsis = False
- *     for idx, item in enumerate(tup):             # <<<<<<<<<<<<<<
- *         if item is Ellipsis:
- *             if not seen_ellipsis:
- */
-  }
-  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-  /* "View.MemoryView":696
- *             result.append(item)
- * 
- *     nslices = ndim - len(result)             # <<<<<<<<<<<<<<
- *     if nslices:
- *         result.extend([slice(None)] * nslices)
- */
-  __pyx_t_5 = PyList_GET_SIZE(__pyx_v_result); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(2, 696, __pyx_L1_error)
-  __pyx_v_nslices = (__pyx_v_ndim - __pyx_t_5);
-
-  /* "View.MemoryView":697
- * 
- *     nslices = ndim - len(result)
- *     if nslices:             # <<<<<<<<<<<<<<
- *         result.extend([slice(None)] * nslices)
- * 
- */
-  __pyx_t_1 = (__pyx_v_nslices != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":698
- *     nslices = ndim - len(result)
- *     if nslices:
- *         result.extend([slice(None)] * nslices)             # <<<<<<<<<<<<<<
- * 
- *     return have_slices or nslices, tuple(result)
- */
-    __pyx_t_3 = PyList_New(1 * ((__pyx_v_nslices<0) ? 0:__pyx_v_nslices)); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 698, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    { Py_ssize_t __pyx_temp;
-      for (__pyx_temp=0; __pyx_temp < __pyx_v_nslices; __pyx_temp++) {
-        __Pyx_INCREF(__pyx_slice__112);
-        __Pyx_GIVEREF(__pyx_slice__112);
-        PyList_SET_ITEM(__pyx_t_3, __pyx_temp, __pyx_slice__112);
-      }
-    }
-    __pyx_t_9 = __Pyx_PyList_Extend(__pyx_v_result, __pyx_t_3); if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(2, 698, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-    /* "View.MemoryView":697
- * 
- *     nslices = ndim - len(result)
- *     if nslices:             # <<<<<<<<<<<<<<
- *         result.extend([slice(None)] * nslices)
- * 
- */
-  }
-
-  /* "View.MemoryView":700
- *         result.extend([slice(None)] * nslices)
- * 
- *     return have_slices or nslices, tuple(result)             # <<<<<<<<<<<<<<
- * 
- * cdef assert_direct_dimensions(Py_ssize_t *suboffsets, int ndim):
- */
-  __Pyx_XDECREF(__pyx_r);
-  if (!__pyx_v_have_slices) {
-  } else {
-    __pyx_t_4 = __Pyx_PyBool_FromLong(__pyx_v_have_slices); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 700, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_3 = __pyx_t_4;
-    __pyx_t_4 = 0;
-    goto __pyx_L14_bool_binop_done;
-  }
-  __pyx_t_4 = PyInt_FromSsize_t(__pyx_v_nslices); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 700, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_3 = __pyx_t_4;
-  __pyx_t_4 = 0;
-  __pyx_L14_bool_binop_done:;
-  __pyx_t_4 = PyList_AsTuple(__pyx_v_result); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 700, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_11 = PyTuple_New(2); if (unlikely(!__pyx_t_11)) __PYX_ERR(2, 700, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_11);
-  __Pyx_GIVEREF(__pyx_t_3);
-  PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_3);
-  __Pyx_GIVEREF(__pyx_t_4);
-  PyTuple_SET_ITEM(__pyx_t_11, 1, __pyx_t_4);
-  __pyx_t_3 = 0;
-  __pyx_t_4 = 0;
-  __pyx_r = ((PyObject*)__pyx_t_11);
-  __pyx_t_11 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":668
- *     return isinstance(o, memoryview)
- * 
- * cdef tuple _unellipsify(object index, int ndim):             # <<<<<<<<<<<<<<
- *     """
- *     Replace all ellipses with full slices and fill incomplete indices with
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_XDECREF(__pyx_t_11);
-  __Pyx_AddTraceback("View.MemoryView._unellipsify", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_tup);
-  __Pyx_XDECREF(__pyx_v_result);
-  __Pyx_XDECREF(__pyx_v_idx);
-  __Pyx_XDECREF(__pyx_v_item);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":702
- *     return have_slices or nslices, tuple(result)
- * 
- * cdef assert_direct_dimensions(Py_ssize_t *suboffsets, int ndim):             # <<<<<<<<<<<<<<
- *     for suboffset in suboffsets[:ndim]:
- *         if suboffset >= 0:
- */
-
-static PyObject *assert_direct_dimensions(Py_ssize_t *__pyx_v_suboffsets, int __pyx_v_ndim) {
-  Py_ssize_t __pyx_v_suboffset;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  Py_ssize_t *__pyx_t_1;
-  Py_ssize_t *__pyx_t_2;
-  Py_ssize_t *__pyx_t_3;
-  int __pyx_t_4;
-  PyObject *__pyx_t_5 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("assert_direct_dimensions", 0);
-
-  /* "View.MemoryView":703
- * 
- * cdef assert_direct_dimensions(Py_ssize_t *suboffsets, int ndim):
- *     for suboffset in suboffsets[:ndim]:             # <<<<<<<<<<<<<<
- *         if suboffset >= 0:
- *             raise ValueError("Indirect dimensions not supported")
- */
-  __pyx_t_2 = (__pyx_v_suboffsets + __pyx_v_ndim);
-  for (__pyx_t_3 = __pyx_v_suboffsets; __pyx_t_3 < __pyx_t_2; __pyx_t_3++) {
-    __pyx_t_1 = __pyx_t_3;
-    __pyx_v_suboffset = (__pyx_t_1[0]);
-
-    /* "View.MemoryView":704
- * cdef assert_direct_dimensions(Py_ssize_t *suboffsets, int ndim):
- *     for suboffset in suboffsets[:ndim]:
- *         if suboffset >= 0:             # <<<<<<<<<<<<<<
- *             raise ValueError("Indirect dimensions not supported")
- * 
- */
-    __pyx_t_4 = ((__pyx_v_suboffset >= 0) != 0);
-    if (unlikely(__pyx_t_4)) {
-
-      /* "View.MemoryView":705
- *     for suboffset in suboffsets[:ndim]:
- *         if suboffset >= 0:
- *             raise ValueError("Indirect dimensions not supported")             # <<<<<<<<<<<<<<
- * 
- * 
- */
-      __pyx_t_5 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__113, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 705, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_5);
-      __Pyx_Raise(__pyx_t_5, 0, 0, 0);
-      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __PYX_ERR(2, 705, __pyx_L1_error)
-
-      /* "View.MemoryView":704
- * cdef assert_direct_dimensions(Py_ssize_t *suboffsets, int ndim):
- *     for suboffset in suboffsets[:ndim]:
- *         if suboffset >= 0:             # <<<<<<<<<<<<<<
- *             raise ValueError("Indirect dimensions not supported")
- * 
- */
-    }
-  }
-
-  /* "View.MemoryView":702
- *     return have_slices or nslices, tuple(result)
- * 
- * cdef assert_direct_dimensions(Py_ssize_t *suboffsets, int ndim):             # <<<<<<<<<<<<<<
- *     for suboffset in suboffsets[:ndim]:
- *         if suboffset >= 0:
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_AddTraceback("View.MemoryView.assert_direct_dimensions", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":712
- * 
- * @cname('__pyx_memview_slice')
- * cdef memoryview memview_slice(memoryview memview, object indices):             # <<<<<<<<<<<<<<
- *     cdef int new_ndim = 0, suboffset_dim = -1, dim
- *     cdef bint negative_step
- */
-
-static struct __pyx_memoryview_obj *__pyx_memview_slice(struct __pyx_memoryview_obj *__pyx_v_memview, PyObject *__pyx_v_indices) {
-  int __pyx_v_new_ndim;
-  int __pyx_v_suboffset_dim;
-  int __pyx_v_dim;
-  __Pyx_memviewslice __pyx_v_src;
-  __Pyx_memviewslice __pyx_v_dst;
-  __Pyx_memviewslice *__pyx_v_p_src;
-  struct __pyx_memoryviewslice_obj *__pyx_v_memviewsliceobj = 0;
-  __Pyx_memviewslice *__pyx_v_p_dst;
-  int *__pyx_v_p_suboffset_dim;
-  Py_ssize_t __pyx_v_start;
-  Py_ssize_t __pyx_v_stop;
-  Py_ssize_t __pyx_v_step;
-  int __pyx_v_have_start;
-  int __pyx_v_have_stop;
-  int __pyx_v_have_step;
-  PyObject *__pyx_v_index = NULL;
-  struct __pyx_memoryview_obj *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  struct __pyx_memoryview_obj *__pyx_t_4;
-  char *__pyx_t_5;
-  int __pyx_t_6;
-  Py_ssize_t __pyx_t_7;
-  PyObject *(*__pyx_t_8)(PyObject *);
-  PyObject *__pyx_t_9 = NULL;
-  Py_ssize_t __pyx_t_10;
-  int __pyx_t_11;
-  Py_ssize_t __pyx_t_12;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("memview_slice", 0);
-
-  /* "View.MemoryView":713
- * @cname('__pyx_memview_slice')
- * cdef memoryview memview_slice(memoryview memview, object indices):
- *     cdef int new_ndim = 0, suboffset_dim = -1, dim             # <<<<<<<<<<<<<<
- *     cdef bint negative_step
- *     cdef __Pyx_memviewslice src, dst
- */
-  __pyx_v_new_ndim = 0;
-  __pyx_v_suboffset_dim = -1;
-
-  /* "View.MemoryView":720
- * 
- * 
- *     memset(&dst, 0, sizeof(dst))             # <<<<<<<<<<<<<<
- * 
- *     cdef _memoryviewslice memviewsliceobj
- */
-  (void)(memset((&__pyx_v_dst), 0, (sizeof(__pyx_v_dst))));
-
-  /* "View.MemoryView":724
- *     cdef _memoryviewslice memviewsliceobj
- * 
- *     assert memview.view.ndim > 0             # <<<<<<<<<<<<<<
- * 
- *     if isinstance(memview, _memoryviewslice):
- */
-  #ifndef CYTHON_WITHOUT_ASSERTIONS
-  if (unlikely(!Py_OptimizeFlag)) {
-    if (unlikely(!((__pyx_v_memview->view.ndim > 0) != 0))) {
-      PyErr_SetNone(PyExc_AssertionError);
-      __PYX_ERR(2, 724, __pyx_L1_error)
-    }
-  }
-  #endif
-
-  /* "View.MemoryView":726
- *     assert memview.view.ndim > 0
- * 
- *     if isinstance(memview, _memoryviewslice):             # <<<<<<<<<<<<<<
- *         memviewsliceobj = memview
- *         p_src = &memviewsliceobj.from_slice
- */
-  __pyx_t_1 = __Pyx_TypeCheck(((PyObject *)__pyx_v_memview), __pyx_memoryviewslice_type); 
-  __pyx_t_2 = (__pyx_t_1 != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":727
- * 
- *     if isinstance(memview, _memoryviewslice):
- *         memviewsliceobj = memview             # <<<<<<<<<<<<<<
- *         p_src = &memviewsliceobj.from_slice
- *     else:
- */
-    if (!(likely(((((PyObject *)__pyx_v_memview)) == Py_None) || likely(__Pyx_TypeTest(((PyObject *)__pyx_v_memview), __pyx_memoryviewslice_type))))) __PYX_ERR(2, 727, __pyx_L1_error)
-    __pyx_t_3 = ((PyObject *)__pyx_v_memview);
-    __Pyx_INCREF(__pyx_t_3);
-    __pyx_v_memviewsliceobj = ((struct __pyx_memoryviewslice_obj *)__pyx_t_3);
-    __pyx_t_3 = 0;
-
-    /* "View.MemoryView":728
- *     if isinstance(memview, _memoryviewslice):
- *         memviewsliceobj = memview
- *         p_src = &memviewsliceobj.from_slice             # <<<<<<<<<<<<<<
- *     else:
- *         slice_copy(memview, &src)
- */
-    __pyx_v_p_src = (&__pyx_v_memviewsliceobj->from_slice);
-
-    /* "View.MemoryView":726
- *     assert memview.view.ndim > 0
- * 
- *     if isinstance(memview, _memoryviewslice):             # <<<<<<<<<<<<<<
- *         memviewsliceobj = memview
- *         p_src = &memviewsliceobj.from_slice
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":730
- *         p_src = &memviewsliceobj.from_slice
- *     else:
- *         slice_copy(memview, &src)             # <<<<<<<<<<<<<<
- *         p_src = &src
- * 
- */
-  /*else*/ {
-    __pyx_memoryview_slice_copy(__pyx_v_memview, (&__pyx_v_src));
-
-    /* "View.MemoryView":731
- *     else:
- *         slice_copy(memview, &src)
- *         p_src = &src             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    __pyx_v_p_src = (&__pyx_v_src);
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":737
- * 
- * 
- *     dst.memview = p_src.memview             # <<<<<<<<<<<<<<
- *     dst.data = p_src.data
- * 
- */
-  __pyx_t_4 = __pyx_v_p_src->memview;
-  __pyx_v_dst.memview = __pyx_t_4;
-
-  /* "View.MemoryView":738
- * 
- *     dst.memview = p_src.memview
- *     dst.data = p_src.data             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_5 = __pyx_v_p_src->data;
-  __pyx_v_dst.data = __pyx_t_5;
-
-  /* "View.MemoryView":743
- * 
- * 
- *     cdef __Pyx_memviewslice *p_dst = &dst             # <<<<<<<<<<<<<<
- *     cdef int *p_suboffset_dim = &suboffset_dim
- *     cdef Py_ssize_t start, stop, step
- */
-  __pyx_v_p_dst = (&__pyx_v_dst);
-
-  /* "View.MemoryView":744
- * 
- *     cdef __Pyx_memviewslice *p_dst = &dst
- *     cdef int *p_suboffset_dim = &suboffset_dim             # <<<<<<<<<<<<<<
- *     cdef Py_ssize_t start, stop, step
- *     cdef bint have_start, have_stop, have_step
- */
-  __pyx_v_p_suboffset_dim = (&__pyx_v_suboffset_dim);
-
-  /* "View.MemoryView":748
- *     cdef bint have_start, have_stop, have_step
- * 
- *     for dim, index in enumerate(indices):             # <<<<<<<<<<<<<<
- *         if PyIndex_Check(index):
- *             slice_memviewslice(
- */
-  __pyx_t_6 = 0;
-  if (likely(PyList_CheckExact(__pyx_v_indices)) || PyTuple_CheckExact(__pyx_v_indices)) {
-    __pyx_t_3 = __pyx_v_indices; __Pyx_INCREF(__pyx_t_3); __pyx_t_7 = 0;
-    __pyx_t_8 = NULL;
-  } else {
-    __pyx_t_7 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_v_indices); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 748, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_8 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_8)) __PYX_ERR(2, 748, __pyx_L1_error)
-  }
-  for (;;) {
-    if (likely(!__pyx_t_8)) {
-      if (likely(PyList_CheckExact(__pyx_t_3))) {
-        if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_3)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_9 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_7); __Pyx_INCREF(__pyx_t_9); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(2, 748, __pyx_L1_error)
-        #else
-        __pyx_t_9 = PySequence_ITEM(__pyx_t_3, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 748, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_9);
-        #endif
-      } else {
-        if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_9 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_7); __Pyx_INCREF(__pyx_t_9); __pyx_t_7++; if (unlikely(0 < 0)) __PYX_ERR(2, 748, __pyx_L1_error)
-        #else
-        __pyx_t_9 = PySequence_ITEM(__pyx_t_3, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 748, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_9);
-        #endif
-      }
-    } else {
-      __pyx_t_9 = __pyx_t_8(__pyx_t_3);
-      if (unlikely(!__pyx_t_9)) {
-        PyObject* exc_type = PyErr_Occurred();
-        if (exc_type) {
-          if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(2, 748, __pyx_L1_error)
-        }
-        break;
-      }
-      __Pyx_GOTREF(__pyx_t_9);
-    }
-    __Pyx_XDECREF_SET(__pyx_v_index, __pyx_t_9);
-    __pyx_t_9 = 0;
-    __pyx_v_dim = __pyx_t_6;
-    __pyx_t_6 = (__pyx_t_6 + 1);
-
-    /* "View.MemoryView":749
- * 
- *     for dim, index in enumerate(indices):
- *         if PyIndex_Check(index):             # <<<<<<<<<<<<<<
- *             slice_memviewslice(
- *                 p_dst, p_src.shape[dim], p_src.strides[dim], p_src.suboffsets[dim],
- */
-    __pyx_t_2 = (PyIndex_Check(__pyx_v_index) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":753
- *                 p_dst, p_src.shape[dim], p_src.strides[dim], p_src.suboffsets[dim],
- *                 dim, new_ndim, p_suboffset_dim,
- *                 index, 0, 0, # start, stop, step             # <<<<<<<<<<<<<<
- *                 0, 0, 0, # have_{start,stop,step}
- *                 False)
- */
-      __pyx_t_10 = __Pyx_PyIndex_AsSsize_t(__pyx_v_index); if (unlikely((__pyx_t_10 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(2, 753, __pyx_L1_error)
-
-      /* "View.MemoryView":750
- *     for dim, index in enumerate(indices):
- *         if PyIndex_Check(index):
- *             slice_memviewslice(             # <<<<<<<<<<<<<<
- *                 p_dst, p_src.shape[dim], p_src.strides[dim], p_src.suboffsets[dim],
- *                 dim, new_ndim, p_suboffset_dim,
- */
-      __pyx_t_11 = __pyx_memoryview_slice_memviewslice(__pyx_v_p_dst, (__pyx_v_p_src->shape[__pyx_v_dim]), (__pyx_v_p_src->strides[__pyx_v_dim]), (__pyx_v_p_src->suboffsets[__pyx_v_dim]), __pyx_v_dim, __pyx_v_new_ndim, __pyx_v_p_suboffset_dim, __pyx_t_10, 0, 0, 0, 0, 0, 0); if (unlikely(__pyx_t_11 == ((int)-1))) __PYX_ERR(2, 750, __pyx_L1_error)
-
-      /* "View.MemoryView":749
- * 
- *     for dim, index in enumerate(indices):
- *         if PyIndex_Check(index):             # <<<<<<<<<<<<<<
- *             slice_memviewslice(
- *                 p_dst, p_src.shape[dim], p_src.strides[dim], p_src.suboffsets[dim],
- */
-      goto __pyx_L6;
-    }
-
-    /* "View.MemoryView":756
- *                 0, 0, 0, # have_{start,stop,step}
- *                 False)
- *         elif index is None:             # <<<<<<<<<<<<<<
- *             p_dst.shape[new_ndim] = 1
- *             p_dst.strides[new_ndim] = 0
- */
-    __pyx_t_2 = (__pyx_v_index == Py_None);
-    __pyx_t_1 = (__pyx_t_2 != 0);
-    if (__pyx_t_1) {
-
-      /* "View.MemoryView":757
- *                 False)
- *         elif index is None:
- *             p_dst.shape[new_ndim] = 1             # <<<<<<<<<<<<<<
- *             p_dst.strides[new_ndim] = 0
- *             p_dst.suboffsets[new_ndim] = -1
- */
-      (__pyx_v_p_dst->shape[__pyx_v_new_ndim]) = 1;
-
-      /* "View.MemoryView":758
- *         elif index is None:
- *             p_dst.shape[new_ndim] = 1
- *             p_dst.strides[new_ndim] = 0             # <<<<<<<<<<<<<<
- *             p_dst.suboffsets[new_ndim] = -1
- *             new_ndim += 1
- */
-      (__pyx_v_p_dst->strides[__pyx_v_new_ndim]) = 0;
-
-      /* "View.MemoryView":759
- *             p_dst.shape[new_ndim] = 1
- *             p_dst.strides[new_ndim] = 0
- *             p_dst.suboffsets[new_ndim] = -1             # <<<<<<<<<<<<<<
- *             new_ndim += 1
- *         else:
- */
-      (__pyx_v_p_dst->suboffsets[__pyx_v_new_ndim]) = -1L;
-
-      /* "View.MemoryView":760
- *             p_dst.strides[new_ndim] = 0
- *             p_dst.suboffsets[new_ndim] = -1
- *             new_ndim += 1             # <<<<<<<<<<<<<<
- *         else:
- *             start = index.start or 0
- */
-      __pyx_v_new_ndim = (__pyx_v_new_ndim + 1);
-
-      /* "View.MemoryView":756
- *                 0, 0, 0, # have_{start,stop,step}
- *                 False)
- *         elif index is None:             # <<<<<<<<<<<<<<
- *             p_dst.shape[new_ndim] = 1
- *             p_dst.strides[new_ndim] = 0
- */
-      goto __pyx_L6;
-    }
-
-    /* "View.MemoryView":762
- *             new_ndim += 1
- *         else:
- *             start = index.start or 0             # <<<<<<<<<<<<<<
- *             stop = index.stop or 0
- *             step = index.step or 0
- */
-    /*else*/ {
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_index, __pyx_n_s_start); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 762, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_9); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(2, 762, __pyx_L1_error)
-      if (!__pyx_t_1) {
-        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      } else {
-        __pyx_t_12 = __Pyx_PyIndex_AsSsize_t(__pyx_t_9); if (unlikely((__pyx_t_12 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(2, 762, __pyx_L1_error)
-        __pyx_t_10 = __pyx_t_12;
-        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-        goto __pyx_L7_bool_binop_done;
-      }
-      __pyx_t_10 = 0;
-      __pyx_L7_bool_binop_done:;
-      __pyx_v_start = __pyx_t_10;
-
-      /* "View.MemoryView":763
- *         else:
- *             start = index.start or 0
- *             stop = index.stop or 0             # <<<<<<<<<<<<<<
- *             step = index.step or 0
- * 
- */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_index, __pyx_n_s_stop); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 763, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_9); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(2, 763, __pyx_L1_error)
-      if (!__pyx_t_1) {
-        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      } else {
-        __pyx_t_12 = __Pyx_PyIndex_AsSsize_t(__pyx_t_9); if (unlikely((__pyx_t_12 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(2, 763, __pyx_L1_error)
-        __pyx_t_10 = __pyx_t_12;
-        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-        goto __pyx_L9_bool_binop_done;
-      }
-      __pyx_t_10 = 0;
-      __pyx_L9_bool_binop_done:;
-      __pyx_v_stop = __pyx_t_10;
-
-      /* "View.MemoryView":764
- *             start = index.start or 0
- *             stop = index.stop or 0
- *             step = index.step or 0             # <<<<<<<<<<<<<<
- * 
- *             have_start = index.start is not None
- */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_index, __pyx_n_s_step); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 764, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_9); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(2, 764, __pyx_L1_error)
-      if (!__pyx_t_1) {
-        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      } else {
-        __pyx_t_12 = __Pyx_PyIndex_AsSsize_t(__pyx_t_9); if (unlikely((__pyx_t_12 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(2, 764, __pyx_L1_error)
-        __pyx_t_10 = __pyx_t_12;
-        __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-        goto __pyx_L11_bool_binop_done;
-      }
-      __pyx_t_10 = 0;
-      __pyx_L11_bool_binop_done:;
-      __pyx_v_step = __pyx_t_10;
-
-      /* "View.MemoryView":766
- *             step = index.step or 0
- * 
- *             have_start = index.start is not None             # <<<<<<<<<<<<<<
- *             have_stop = index.stop is not None
- *             have_step = index.step is not None
- */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_index, __pyx_n_s_start); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 766, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __pyx_t_1 = (__pyx_t_9 != Py_None);
-      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __pyx_v_have_start = __pyx_t_1;
-
-      /* "View.MemoryView":767
- * 
- *             have_start = index.start is not None
- *             have_stop = index.stop is not None             # <<<<<<<<<<<<<<
- *             have_step = index.step is not None
- * 
- */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_index, __pyx_n_s_stop); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 767, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __pyx_t_1 = (__pyx_t_9 != Py_None);
-      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __pyx_v_have_stop = __pyx_t_1;
-
-      /* "View.MemoryView":768
- *             have_start = index.start is not None
- *             have_stop = index.stop is not None
- *             have_step = index.step is not None             # <<<<<<<<<<<<<<
- * 
- *             slice_memviewslice(
- */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_index, __pyx_n_s_step); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 768, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __pyx_t_1 = (__pyx_t_9 != Py_None);
-      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __pyx_v_have_step = __pyx_t_1;
-
-      /* "View.MemoryView":770
- *             have_step = index.step is not None
- * 
- *             slice_memviewslice(             # <<<<<<<<<<<<<<
- *                 p_dst, p_src.shape[dim], p_src.strides[dim], p_src.suboffsets[dim],
- *                 dim, new_ndim, p_suboffset_dim,
- */
-      __pyx_t_11 = __pyx_memoryview_slice_memviewslice(__pyx_v_p_dst, (__pyx_v_p_src->shape[__pyx_v_dim]), (__pyx_v_p_src->strides[__pyx_v_dim]), (__pyx_v_p_src->suboffsets[__pyx_v_dim]), __pyx_v_dim, __pyx_v_new_ndim, __pyx_v_p_suboffset_dim, __pyx_v_start, __pyx_v_stop, __pyx_v_step, __pyx_v_have_start, __pyx_v_have_stop, __pyx_v_have_step, 1); if (unlikely(__pyx_t_11 == ((int)-1))) __PYX_ERR(2, 770, __pyx_L1_error)
-
-      /* "View.MemoryView":776
- *                 have_start, have_stop, have_step,
- *                 True)
- *             new_ndim += 1             # <<<<<<<<<<<<<<
- * 
- *     if isinstance(memview, _memoryviewslice):
- */
-      __pyx_v_new_ndim = (__pyx_v_new_ndim + 1);
-    }
-    __pyx_L6:;
-
-    /* "View.MemoryView":748
- *     cdef bint have_start, have_stop, have_step
- * 
- *     for dim, index in enumerate(indices):             # <<<<<<<<<<<<<<
- *         if PyIndex_Check(index):
- *             slice_memviewslice(
- */
-  }
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-  /* "View.MemoryView":778
- *             new_ndim += 1
- * 
- *     if isinstance(memview, _memoryviewslice):             # <<<<<<<<<<<<<<
- *         return memoryview_fromslice(dst, new_ndim,
- *                                     memviewsliceobj.to_object_func,
- */
-  __pyx_t_1 = __Pyx_TypeCheck(((PyObject *)__pyx_v_memview), __pyx_memoryviewslice_type); 
-  __pyx_t_2 = (__pyx_t_1 != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":779
- * 
- *     if isinstance(memview, _memoryviewslice):
- *         return memoryview_fromslice(dst, new_ndim,             # <<<<<<<<<<<<<<
- *                                     memviewsliceobj.to_object_func,
- *                                     memviewsliceobj.to_dtype_func,
- */
-    __Pyx_XDECREF(((PyObject *)__pyx_r));
-
-    /* "View.MemoryView":780
- *     if isinstance(memview, _memoryviewslice):
- *         return memoryview_fromslice(dst, new_ndim,
- *                                     memviewsliceobj.to_object_func,             # <<<<<<<<<<<<<<
- *                                     memviewsliceobj.to_dtype_func,
- *                                     memview.dtype_is_object)
- */
-    if (unlikely(!__pyx_v_memviewsliceobj)) { __Pyx_RaiseUnboundLocalError("memviewsliceobj"); __PYX_ERR(2, 780, __pyx_L1_error) }
-
-    /* "View.MemoryView":781
- *         return memoryview_fromslice(dst, new_ndim,
- *                                     memviewsliceobj.to_object_func,
- *                                     memviewsliceobj.to_dtype_func,             # <<<<<<<<<<<<<<
- *                                     memview.dtype_is_object)
- *     else:
- */
-    if (unlikely(!__pyx_v_memviewsliceobj)) { __Pyx_RaiseUnboundLocalError("memviewsliceobj"); __PYX_ERR(2, 781, __pyx_L1_error) }
-
-    /* "View.MemoryView":779
- * 
- *     if isinstance(memview, _memoryviewslice):
- *         return memoryview_fromslice(dst, new_ndim,             # <<<<<<<<<<<<<<
- *                                     memviewsliceobj.to_object_func,
- *                                     memviewsliceobj.to_dtype_func,
- */
-    __pyx_t_3 = __pyx_memoryview_fromslice(__pyx_v_dst, __pyx_v_new_ndim, __pyx_v_memviewsliceobj->to_object_func, __pyx_v_memviewsliceobj->to_dtype_func, __pyx_v_memview->dtype_is_object); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 779, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_memoryview_type))))) __PYX_ERR(2, 779, __pyx_L1_error)
-    __pyx_r = ((struct __pyx_memoryview_obj *)__pyx_t_3);
-    __pyx_t_3 = 0;
-    goto __pyx_L0;
-
-    /* "View.MemoryView":778
- *             new_ndim += 1
- * 
- *     if isinstance(memview, _memoryviewslice):             # <<<<<<<<<<<<<<
- *         return memoryview_fromslice(dst, new_ndim,
- *                                     memviewsliceobj.to_object_func,
- */
-  }
-
-  /* "View.MemoryView":784
- *                                     memview.dtype_is_object)
- *     else:
- *         return memoryview_fromslice(dst, new_ndim, NULL, NULL,             # <<<<<<<<<<<<<<
- *                                     memview.dtype_is_object)
- * 
- */
-  /*else*/ {
-    __Pyx_XDECREF(((PyObject *)__pyx_r));
-
-    /* "View.MemoryView":785
- *     else:
- *         return memoryview_fromslice(dst, new_ndim, NULL, NULL,
- *                                     memview.dtype_is_object)             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    __pyx_t_3 = __pyx_memoryview_fromslice(__pyx_v_dst, __pyx_v_new_ndim, NULL, NULL, __pyx_v_memview->dtype_is_object); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 784, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-
-    /* "View.MemoryView":784
- *                                     memview.dtype_is_object)
- *     else:
- *         return memoryview_fromslice(dst, new_ndim, NULL, NULL,             # <<<<<<<<<<<<<<
- *                                     memview.dtype_is_object)
- * 
- */
-    if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_memoryview_type))))) __PYX_ERR(2, 784, __pyx_L1_error)
-    __pyx_r = ((struct __pyx_memoryview_obj *)__pyx_t_3);
-    __pyx_t_3 = 0;
-    goto __pyx_L0;
-  }
-
-  /* "View.MemoryView":712
- * 
- * @cname('__pyx_memview_slice')
- * cdef memoryview memview_slice(memoryview memview, object indices):             # <<<<<<<<<<<<<<
- *     cdef int new_ndim = 0, suboffset_dim = -1, dim
- *     cdef bint negative_step
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_9);
-  __Pyx_AddTraceback("View.MemoryView.memview_slice", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XDECREF((PyObject *)__pyx_v_memviewsliceobj);
-  __Pyx_XDECREF(__pyx_v_index);
-  __Pyx_XGIVEREF((PyObject *)__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":809
- * 
- * @cname('__pyx_memoryview_slice_memviewslice')
- * cdef int slice_memviewslice(             # <<<<<<<<<<<<<<
- *         __Pyx_memviewslice *dst,
- *         Py_ssize_t shape, Py_ssize_t stride, Py_ssize_t suboffset,
- */
-
-static int __pyx_memoryview_slice_memviewslice(__Pyx_memviewslice *__pyx_v_dst, Py_ssize_t __pyx_v_shape, Py_ssize_t __pyx_v_stride, Py_ssize_t __pyx_v_suboffset, int __pyx_v_dim, int __pyx_v_new_ndim, int *__pyx_v_suboffset_dim, Py_ssize_t __pyx_v_start, Py_ssize_t __pyx_v_stop, Py_ssize_t __pyx_v_step, int __pyx_v_have_start, int __pyx_v_have_stop, int __pyx_v_have_step, int __pyx_v_is_slice) {
-  Py_ssize_t __pyx_v_new_shape;
-  int __pyx_v_negative_step;
-  int __pyx_r;
-  int __pyx_t_1;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-
-  /* "View.MemoryView":829
- *     cdef bint negative_step
- * 
- *     if not is_slice:             # <<<<<<<<<<<<<<
- * 
- *         if start < 0:
- */
-  __pyx_t_1 = ((!(__pyx_v_is_slice != 0)) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":831
- *     if not is_slice:
- * 
- *         if start < 0:             # <<<<<<<<<<<<<<
- *             start += shape
- *         if not 0 <= start < shape:
- */
-    __pyx_t_1 = ((__pyx_v_start < 0) != 0);
-    if (__pyx_t_1) {
-
-      /* "View.MemoryView":832
- * 
- *         if start < 0:
- *             start += shape             # <<<<<<<<<<<<<<
- *         if not 0 <= start < shape:
- *             _err_dim(IndexError, "Index out of bounds (axis %d)", dim)
- */
-      __pyx_v_start = (__pyx_v_start + __pyx_v_shape);
-
-      /* "View.MemoryView":831
- *     if not is_slice:
- * 
- *         if start < 0:             # <<<<<<<<<<<<<<
- *             start += shape
- *         if not 0 <= start < shape:
- */
-    }
-
-    /* "View.MemoryView":833
- *         if start < 0:
- *             start += shape
- *         if not 0 <= start < shape:             # <<<<<<<<<<<<<<
- *             _err_dim(IndexError, "Index out of bounds (axis %d)", dim)
- *     else:
- */
-    __pyx_t_1 = (0 <= __pyx_v_start);
-    if (__pyx_t_1) {
-      __pyx_t_1 = (__pyx_v_start < __pyx_v_shape);
-    }
-    __pyx_t_2 = ((!(__pyx_t_1 != 0)) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":834
- *             start += shape
- *         if not 0 <= start < shape:
- *             _err_dim(IndexError, "Index out of bounds (axis %d)", dim)             # <<<<<<<<<<<<<<
- *     else:
- * 
- */
-      __pyx_t_3 = __pyx_memoryview_err_dim(__pyx_builtin_IndexError, ((char *)"Index out of bounds (axis %d)"), __pyx_v_dim); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(2, 834, __pyx_L1_error)
-
-      /* "View.MemoryView":833
- *         if start < 0:
- *             start += shape
- *         if not 0 <= start < shape:             # <<<<<<<<<<<<<<
- *             _err_dim(IndexError, "Index out of bounds (axis %d)", dim)
- *     else:
- */
-    }
-
-    /* "View.MemoryView":829
- *     cdef bint negative_step
- * 
- *     if not is_slice:             # <<<<<<<<<<<<<<
- * 
- *         if start < 0:
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":837
- *     else:
- * 
- *         negative_step = have_step != 0 and step < 0             # <<<<<<<<<<<<<<
- * 
- *         if have_step and step == 0:
- */
-  /*else*/ {
-    __pyx_t_1 = ((__pyx_v_have_step != 0) != 0);
-    if (__pyx_t_1) {
-    } else {
-      __pyx_t_2 = __pyx_t_1;
-      goto __pyx_L6_bool_binop_done;
-    }
-    __pyx_t_1 = ((__pyx_v_step < 0) != 0);
-    __pyx_t_2 = __pyx_t_1;
-    __pyx_L6_bool_binop_done:;
-    __pyx_v_negative_step = __pyx_t_2;
-
-    /* "View.MemoryView":839
- *         negative_step = have_step != 0 and step < 0
- * 
- *         if have_step and step == 0:             # <<<<<<<<<<<<<<
- *             _err_dim(ValueError, "Step may not be zero (axis %d)", dim)
- * 
- */
-    __pyx_t_1 = (__pyx_v_have_step != 0);
-    if (__pyx_t_1) {
-    } else {
-      __pyx_t_2 = __pyx_t_1;
-      goto __pyx_L9_bool_binop_done;
-    }
-    __pyx_t_1 = ((__pyx_v_step == 0) != 0);
-    __pyx_t_2 = __pyx_t_1;
-    __pyx_L9_bool_binop_done:;
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":840
- * 
- *         if have_step and step == 0:
- *             _err_dim(ValueError, "Step may not be zero (axis %d)", dim)             # <<<<<<<<<<<<<<
- * 
- * 
- */
-      __pyx_t_3 = __pyx_memoryview_err_dim(__pyx_builtin_ValueError, ((char *)"Step may not be zero (axis %d)"), __pyx_v_dim); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(2, 840, __pyx_L1_error)
-
-      /* "View.MemoryView":839
- *         negative_step = have_step != 0 and step < 0
- * 
- *         if have_step and step == 0:             # <<<<<<<<<<<<<<
- *             _err_dim(ValueError, "Step may not be zero (axis %d)", dim)
- * 
- */
-    }
-
-    /* "View.MemoryView":843
- * 
- * 
- *         if have_start:             # <<<<<<<<<<<<<<
- *             if start < 0:
- *                 start += shape
- */
-    __pyx_t_2 = (__pyx_v_have_start != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":844
- * 
- *         if have_start:
- *             if start < 0:             # <<<<<<<<<<<<<<
- *                 start += shape
- *                 if start < 0:
- */
-      __pyx_t_2 = ((__pyx_v_start < 0) != 0);
-      if (__pyx_t_2) {
-
-        /* "View.MemoryView":845
- *         if have_start:
- *             if start < 0:
- *                 start += shape             # <<<<<<<<<<<<<<
- *                 if start < 0:
- *                     start = 0
- */
-        __pyx_v_start = (__pyx_v_start + __pyx_v_shape);
-
-        /* "View.MemoryView":846
- *             if start < 0:
- *                 start += shape
- *                 if start < 0:             # <<<<<<<<<<<<<<
- *                     start = 0
- *             elif start >= shape:
- */
-        __pyx_t_2 = ((__pyx_v_start < 0) != 0);
-        if (__pyx_t_2) {
-
-          /* "View.MemoryView":847
- *                 start += shape
- *                 if start < 0:
- *                     start = 0             # <<<<<<<<<<<<<<
- *             elif start >= shape:
- *                 if negative_step:
- */
-          __pyx_v_start = 0;
-
-          /* "View.MemoryView":846
- *             if start < 0:
- *                 start += shape
- *                 if start < 0:             # <<<<<<<<<<<<<<
- *                     start = 0
- *             elif start >= shape:
- */
-        }
-
-        /* "View.MemoryView":844
- * 
- *         if have_start:
- *             if start < 0:             # <<<<<<<<<<<<<<
- *                 start += shape
- *                 if start < 0:
- */
-        goto __pyx_L12;
-      }
-
-      /* "View.MemoryView":848
- *                 if start < 0:
- *                     start = 0
- *             elif start >= shape:             # <<<<<<<<<<<<<<
- *                 if negative_step:
- *                     start = shape - 1
- */
-      __pyx_t_2 = ((__pyx_v_start >= __pyx_v_shape) != 0);
-      if (__pyx_t_2) {
-
-        /* "View.MemoryView":849
- *                     start = 0
- *             elif start >= shape:
- *                 if negative_step:             # <<<<<<<<<<<<<<
- *                     start = shape - 1
- *                 else:
- */
-        __pyx_t_2 = (__pyx_v_negative_step != 0);
-        if (__pyx_t_2) {
-
-          /* "View.MemoryView":850
- *             elif start >= shape:
- *                 if negative_step:
- *                     start = shape - 1             # <<<<<<<<<<<<<<
- *                 else:
- *                     start = shape
- */
-          __pyx_v_start = (__pyx_v_shape - 1);
-
-          /* "View.MemoryView":849
- *                     start = 0
- *             elif start >= shape:
- *                 if negative_step:             # <<<<<<<<<<<<<<
- *                     start = shape - 1
- *                 else:
- */
-          goto __pyx_L14;
-        }
-
-        /* "View.MemoryView":852
- *                     start = shape - 1
- *                 else:
- *                     start = shape             # <<<<<<<<<<<<<<
- *         else:
- *             if negative_step:
- */
-        /*else*/ {
-          __pyx_v_start = __pyx_v_shape;
-        }
-        __pyx_L14:;
-
-        /* "View.MemoryView":848
- *                 if start < 0:
- *                     start = 0
- *             elif start >= shape:             # <<<<<<<<<<<<<<
- *                 if negative_step:
- *                     start = shape - 1
- */
-      }
-      __pyx_L12:;
-
-      /* "View.MemoryView":843
- * 
- * 
- *         if have_start:             # <<<<<<<<<<<<<<
- *             if start < 0:
- *                 start += shape
- */
-      goto __pyx_L11;
-    }
-
-    /* "View.MemoryView":854
- *                     start = shape
- *         else:
- *             if negative_step:             # <<<<<<<<<<<<<<
- *                 start = shape - 1
- *             else:
- */
-    /*else*/ {
-      __pyx_t_2 = (__pyx_v_negative_step != 0);
-      if (__pyx_t_2) {
-
-        /* "View.MemoryView":855
- *         else:
- *             if negative_step:
- *                 start = shape - 1             # <<<<<<<<<<<<<<
- *             else:
- *                 start = 0
- */
-        __pyx_v_start = (__pyx_v_shape - 1);
-
-        /* "View.MemoryView":854
- *                     start = shape
- *         else:
- *             if negative_step:             # <<<<<<<<<<<<<<
- *                 start = shape - 1
- *             else:
- */
-        goto __pyx_L15;
-      }
-
-      /* "View.MemoryView":857
- *                 start = shape - 1
- *             else:
- *                 start = 0             # <<<<<<<<<<<<<<
- * 
- *         if have_stop:
- */
-      /*else*/ {
-        __pyx_v_start = 0;
-      }
-      __pyx_L15:;
-    }
-    __pyx_L11:;
-
-    /* "View.MemoryView":859
- *                 start = 0
- * 
- *         if have_stop:             # <<<<<<<<<<<<<<
- *             if stop < 0:
- *                 stop += shape
- */
-    __pyx_t_2 = (__pyx_v_have_stop != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":860
- * 
- *         if have_stop:
- *             if stop < 0:             # <<<<<<<<<<<<<<
- *                 stop += shape
- *                 if stop < 0:
- */
-      __pyx_t_2 = ((__pyx_v_stop < 0) != 0);
-      if (__pyx_t_2) {
-
-        /* "View.MemoryView":861
- *         if have_stop:
- *             if stop < 0:
- *                 stop += shape             # <<<<<<<<<<<<<<
- *                 if stop < 0:
- *                     stop = 0
- */
-        __pyx_v_stop = (__pyx_v_stop + __pyx_v_shape);
-
-        /* "View.MemoryView":862
- *             if stop < 0:
- *                 stop += shape
- *                 if stop < 0:             # <<<<<<<<<<<<<<
- *                     stop = 0
- *             elif stop > shape:
- */
-        __pyx_t_2 = ((__pyx_v_stop < 0) != 0);
-        if (__pyx_t_2) {
-
-          /* "View.MemoryView":863
- *                 stop += shape
- *                 if stop < 0:
- *                     stop = 0             # <<<<<<<<<<<<<<
- *             elif stop > shape:
- *                 stop = shape
- */
-          __pyx_v_stop = 0;
-
-          /* "View.MemoryView":862
- *             if stop < 0:
- *                 stop += shape
- *                 if stop < 0:             # <<<<<<<<<<<<<<
- *                     stop = 0
- *             elif stop > shape:
- */
-        }
-
-        /* "View.MemoryView":860
- * 
- *         if have_stop:
- *             if stop < 0:             # <<<<<<<<<<<<<<
- *                 stop += shape
- *                 if stop < 0:
- */
-        goto __pyx_L17;
-      }
-
-      /* "View.MemoryView":864
- *                 if stop < 0:
- *                     stop = 0
- *             elif stop > shape:             # <<<<<<<<<<<<<<
- *                 stop = shape
- *         else:
- */
-      __pyx_t_2 = ((__pyx_v_stop > __pyx_v_shape) != 0);
-      if (__pyx_t_2) {
-
-        /* "View.MemoryView":865
- *                     stop = 0
- *             elif stop > shape:
- *                 stop = shape             # <<<<<<<<<<<<<<
- *         else:
- *             if negative_step:
- */
-        __pyx_v_stop = __pyx_v_shape;
-
-        /* "View.MemoryView":864
- *                 if stop < 0:
- *                     stop = 0
- *             elif stop > shape:             # <<<<<<<<<<<<<<
- *                 stop = shape
- *         else:
- */
-      }
-      __pyx_L17:;
-
-      /* "View.MemoryView":859
- *                 start = 0
- * 
- *         if have_stop:             # <<<<<<<<<<<<<<
- *             if stop < 0:
- *                 stop += shape
- */
-      goto __pyx_L16;
-    }
-
-    /* "View.MemoryView":867
- *                 stop = shape
- *         else:
- *             if negative_step:             # <<<<<<<<<<<<<<
- *                 stop = -1
- *             else:
- */
-    /*else*/ {
-      __pyx_t_2 = (__pyx_v_negative_step != 0);
-      if (__pyx_t_2) {
-
-        /* "View.MemoryView":868
- *         else:
- *             if negative_step:
- *                 stop = -1             # <<<<<<<<<<<<<<
- *             else:
- *                 stop = shape
- */
-        __pyx_v_stop = -1L;
-
-        /* "View.MemoryView":867
- *                 stop = shape
- *         else:
- *             if negative_step:             # <<<<<<<<<<<<<<
- *                 stop = -1
- *             else:
- */
-        goto __pyx_L19;
-      }
-
-      /* "View.MemoryView":870
- *                 stop = -1
- *             else:
- *                 stop = shape             # <<<<<<<<<<<<<<
- * 
- *         if not have_step:
- */
-      /*else*/ {
-        __pyx_v_stop = __pyx_v_shape;
-      }
-      __pyx_L19:;
-    }
-    __pyx_L16:;
-
-    /* "View.MemoryView":872
- *                 stop = shape
- * 
- *         if not have_step:             # <<<<<<<<<<<<<<
- *             step = 1
- * 
- */
-    __pyx_t_2 = ((!(__pyx_v_have_step != 0)) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":873
- * 
- *         if not have_step:
- *             step = 1             # <<<<<<<<<<<<<<
- * 
- * 
- */
-      __pyx_v_step = 1;
-
-      /* "View.MemoryView":872
- *                 stop = shape
- * 
- *         if not have_step:             # <<<<<<<<<<<<<<
- *             step = 1
- * 
- */
-    }
-
-    /* "View.MemoryView":877
- * 
- *         with cython.cdivision(True):
- *             new_shape = (stop - start) // step             # <<<<<<<<<<<<<<
- * 
- *             if (stop - start) - step * new_shape:
- */
-    __pyx_v_new_shape = ((__pyx_v_stop - __pyx_v_start) / __pyx_v_step);
-
-    /* "View.MemoryView":879
- *             new_shape = (stop - start) // step
- * 
- *             if (stop - start) - step * new_shape:             # <<<<<<<<<<<<<<
- *                 new_shape += 1
- * 
- */
-    __pyx_t_2 = (((__pyx_v_stop - __pyx_v_start) - (__pyx_v_step * __pyx_v_new_shape)) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":880
- * 
- *             if (stop - start) - step * new_shape:
- *                 new_shape += 1             # <<<<<<<<<<<<<<
- * 
- *         if new_shape < 0:
- */
-      __pyx_v_new_shape = (__pyx_v_new_shape + 1);
-
-      /* "View.MemoryView":879
- *             new_shape = (stop - start) // step
- * 
- *             if (stop - start) - step * new_shape:             # <<<<<<<<<<<<<<
- *                 new_shape += 1
- * 
- */
-    }
-
-    /* "View.MemoryView":882
- *                 new_shape += 1
- * 
- *         if new_shape < 0:             # <<<<<<<<<<<<<<
- *             new_shape = 0
- * 
- */
-    __pyx_t_2 = ((__pyx_v_new_shape < 0) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":883
- * 
- *         if new_shape < 0:
- *             new_shape = 0             # <<<<<<<<<<<<<<
- * 
- * 
- */
-      __pyx_v_new_shape = 0;
-
-      /* "View.MemoryView":882
- *                 new_shape += 1
- * 
- *         if new_shape < 0:             # <<<<<<<<<<<<<<
- *             new_shape = 0
- * 
- */
-    }
-
-    /* "View.MemoryView":886
- * 
- * 
- *         dst.strides[new_ndim] = stride * step             # <<<<<<<<<<<<<<
- *         dst.shape[new_ndim] = new_shape
- *         dst.suboffsets[new_ndim] = suboffset
- */
-    (__pyx_v_dst->strides[__pyx_v_new_ndim]) = (__pyx_v_stride * __pyx_v_step);
-
-    /* "View.MemoryView":887
- * 
- *         dst.strides[new_ndim] = stride * step
- *         dst.shape[new_ndim] = new_shape             # <<<<<<<<<<<<<<
- *         dst.suboffsets[new_ndim] = suboffset
- * 
- */
-    (__pyx_v_dst->shape[__pyx_v_new_ndim]) = __pyx_v_new_shape;
-
-    /* "View.MemoryView":888
- *         dst.strides[new_ndim] = stride * step
- *         dst.shape[new_ndim] = new_shape
- *         dst.suboffsets[new_ndim] = suboffset             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    (__pyx_v_dst->suboffsets[__pyx_v_new_ndim]) = __pyx_v_suboffset;
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":891
- * 
- * 
- *     if suboffset_dim[0] < 0:             # <<<<<<<<<<<<<<
- *         dst.data += start * stride
- *     else:
- */
-  __pyx_t_2 = (((__pyx_v_suboffset_dim[0]) < 0) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":892
- * 
- *     if suboffset_dim[0] < 0:
- *         dst.data += start * stride             # <<<<<<<<<<<<<<
- *     else:
- *         dst.suboffsets[suboffset_dim[0]] += start * stride
- */
-    __pyx_v_dst->data = (__pyx_v_dst->data + (__pyx_v_start * __pyx_v_stride));
-
-    /* "View.MemoryView":891
- * 
- * 
- *     if suboffset_dim[0] < 0:             # <<<<<<<<<<<<<<
- *         dst.data += start * stride
- *     else:
- */
-    goto __pyx_L23;
-  }
-
-  /* "View.MemoryView":894
- *         dst.data += start * stride
- *     else:
- *         dst.suboffsets[suboffset_dim[0]] += start * stride             # <<<<<<<<<<<<<<
- * 
- *     if suboffset >= 0:
- */
-  /*else*/ {
-    __pyx_t_3 = (__pyx_v_suboffset_dim[0]);
-    (__pyx_v_dst->suboffsets[__pyx_t_3]) = ((__pyx_v_dst->suboffsets[__pyx_t_3]) + (__pyx_v_start * __pyx_v_stride));
-  }
-  __pyx_L23:;
-
-  /* "View.MemoryView":896
- *         dst.suboffsets[suboffset_dim[0]] += start * stride
- * 
- *     if suboffset >= 0:             # <<<<<<<<<<<<<<
- *         if not is_slice:
- *             if new_ndim == 0:
- */
-  __pyx_t_2 = ((__pyx_v_suboffset >= 0) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":897
- * 
- *     if suboffset >= 0:
- *         if not is_slice:             # <<<<<<<<<<<<<<
- *             if new_ndim == 0:
- *                 dst.data = (<char **> dst.data)[0] + suboffset
- */
-    __pyx_t_2 = ((!(__pyx_v_is_slice != 0)) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":898
- *     if suboffset >= 0:
- *         if not is_slice:
- *             if new_ndim == 0:             # <<<<<<<<<<<<<<
- *                 dst.data = (<char **> dst.data)[0] + suboffset
- *             else:
- */
-      __pyx_t_2 = ((__pyx_v_new_ndim == 0) != 0);
-      if (__pyx_t_2) {
-
-        /* "View.MemoryView":899
- *         if not is_slice:
- *             if new_ndim == 0:
- *                 dst.data = (<char **> dst.data)[0] + suboffset             # <<<<<<<<<<<<<<
- *             else:
- *                 _err_dim(IndexError, "All dimensions preceding dimension %d "
- */
-        __pyx_v_dst->data = ((((char **)__pyx_v_dst->data)[0]) + __pyx_v_suboffset);
-
-        /* "View.MemoryView":898
- *     if suboffset >= 0:
- *         if not is_slice:
- *             if new_ndim == 0:             # <<<<<<<<<<<<<<
- *                 dst.data = (<char **> dst.data)[0] + suboffset
- *             else:
- */
-        goto __pyx_L26;
-      }
-
-      /* "View.MemoryView":901
- *                 dst.data = (<char **> dst.data)[0] + suboffset
- *             else:
- *                 _err_dim(IndexError, "All dimensions preceding dimension %d "             # <<<<<<<<<<<<<<
- *                                      "must be indexed and not sliced", dim)
- *         else:
- */
-      /*else*/ {
-
-        /* "View.MemoryView":902
- *             else:
- *                 _err_dim(IndexError, "All dimensions preceding dimension %d "
- *                                      "must be indexed and not sliced", dim)             # <<<<<<<<<<<<<<
- *         else:
- *             suboffset_dim[0] = new_ndim
- */
-        __pyx_t_3 = __pyx_memoryview_err_dim(__pyx_builtin_IndexError, ((char *)"All dimensions preceding dimension %d must be indexed and not sliced"), __pyx_v_dim); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(2, 901, __pyx_L1_error)
-      }
-      __pyx_L26:;
-
-      /* "View.MemoryView":897
- * 
- *     if suboffset >= 0:
- *         if not is_slice:             # <<<<<<<<<<<<<<
- *             if new_ndim == 0:
- *                 dst.data = (<char **> dst.data)[0] + suboffset
- */
-      goto __pyx_L25;
-    }
-
-    /* "View.MemoryView":904
- *                                      "must be indexed and not sliced", dim)
- *         else:
- *             suboffset_dim[0] = new_ndim             # <<<<<<<<<<<<<<
- * 
- *     return 0
- */
-    /*else*/ {
-      (__pyx_v_suboffset_dim[0]) = __pyx_v_new_ndim;
-    }
-    __pyx_L25:;
-
-    /* "View.MemoryView":896
- *         dst.suboffsets[suboffset_dim[0]] += start * stride
- * 
- *     if suboffset >= 0:             # <<<<<<<<<<<<<<
- *         if not is_slice:
- *             if new_ndim == 0:
- */
-  }
-
-  /* "View.MemoryView":906
- *             suboffset_dim[0] = new_ndim
- * 
- *     return 0             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_r = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":809
- * 
- * @cname('__pyx_memoryview_slice_memviewslice')
- * cdef int slice_memviewslice(             # <<<<<<<<<<<<<<
- *         __Pyx_memviewslice *dst,
- *         Py_ssize_t shape, Py_ssize_t stride, Py_ssize_t suboffset,
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  {
-    #ifdef WITH_THREAD
-    PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-    #endif
-    __Pyx_AddTraceback("View.MemoryView.slice_memviewslice", __pyx_clineno, __pyx_lineno, __pyx_filename);
-    #ifdef WITH_THREAD
-    __Pyx_PyGILState_Release(__pyx_gilstate_save);
-    #endif
-  }
-  __pyx_r = -1;
-  __pyx_L0:;
-  return __pyx_r;
-}
-
-/* "View.MemoryView":912
- * 
- * @cname('__pyx_pybuffer_index')
- * cdef char *pybuffer_index(Py_buffer *view, char *bufp, Py_ssize_t index,             # <<<<<<<<<<<<<<
- *                           Py_ssize_t dim) except NULL:
- *     cdef Py_ssize_t shape, stride, suboffset = -1
- */
-
-static char *__pyx_pybuffer_index(Py_buffer *__pyx_v_view, char *__pyx_v_bufp, Py_ssize_t __pyx_v_index, Py_ssize_t __pyx_v_dim) {
-  Py_ssize_t __pyx_v_shape;
-  Py_ssize_t __pyx_v_stride;
-  Py_ssize_t __pyx_v_suboffset;
-  Py_ssize_t __pyx_v_itemsize;
-  char *__pyx_v_resultp;
-  char *__pyx_r;
-  __Pyx_RefNannyDeclarations
-  Py_ssize_t __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("pybuffer_index", 0);
-
-  /* "View.MemoryView":914
- * cdef char *pybuffer_index(Py_buffer *view, char *bufp, Py_ssize_t index,
- *                           Py_ssize_t dim) except NULL:
- *     cdef Py_ssize_t shape, stride, suboffset = -1             # <<<<<<<<<<<<<<
- *     cdef Py_ssize_t itemsize = view.itemsize
- *     cdef char *resultp
- */
-  __pyx_v_suboffset = -1L;
-
-  /* "View.MemoryView":915
- *                           Py_ssize_t dim) except NULL:
- *     cdef Py_ssize_t shape, stride, suboffset = -1
- *     cdef Py_ssize_t itemsize = view.itemsize             # <<<<<<<<<<<<<<
- *     cdef char *resultp
- * 
- */
-  __pyx_t_1 = __pyx_v_view->itemsize;
-  __pyx_v_itemsize = __pyx_t_1;
-
-  /* "View.MemoryView":918
- *     cdef char *resultp
- * 
- *     if view.ndim == 0:             # <<<<<<<<<<<<<<
- *         shape = view.len / itemsize
- *         stride = itemsize
- */
-  __pyx_t_2 = ((__pyx_v_view->ndim == 0) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":919
- * 
- *     if view.ndim == 0:
- *         shape = view.len / itemsize             # <<<<<<<<<<<<<<
- *         stride = itemsize
- *     else:
- */
-    if (unlikely(__pyx_v_itemsize == 0)) {
-      PyErr_SetString(PyExc_ZeroDivisionError, "integer division or modulo by zero");
-      __PYX_ERR(2, 919, __pyx_L1_error)
-    }
-    else if (sizeof(Py_ssize_t) == sizeof(long) && (!(((Py_ssize_t)-1) > 0)) && unlikely(__pyx_v_itemsize == (Py_ssize_t)-1)  && unlikely(UNARY_NEG_WOULD_OVERFLOW(__pyx_v_view->len))) {
-      PyErr_SetString(PyExc_OverflowError, "value too large to perform division");
-      __PYX_ERR(2, 919, __pyx_L1_error)
-    }
-    __pyx_v_shape = __Pyx_div_Py_ssize_t(__pyx_v_view->len, __pyx_v_itemsize);
-
-    /* "View.MemoryView":920
- *     if view.ndim == 0:
- *         shape = view.len / itemsize
- *         stride = itemsize             # <<<<<<<<<<<<<<
- *     else:
- *         shape = view.shape[dim]
- */
-    __pyx_v_stride = __pyx_v_itemsize;
-
-    /* "View.MemoryView":918
- *     cdef char *resultp
- * 
- *     if view.ndim == 0:             # <<<<<<<<<<<<<<
- *         shape = view.len / itemsize
- *         stride = itemsize
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":922
- *         stride = itemsize
- *     else:
- *         shape = view.shape[dim]             # <<<<<<<<<<<<<<
- *         stride = view.strides[dim]
- *         if view.suboffsets != NULL:
- */
-  /*else*/ {
-    __pyx_v_shape = (__pyx_v_view->shape[__pyx_v_dim]);
-
-    /* "View.MemoryView":923
- *     else:
- *         shape = view.shape[dim]
- *         stride = view.strides[dim]             # <<<<<<<<<<<<<<
- *         if view.suboffsets != NULL:
- *             suboffset = view.suboffsets[dim]
- */
-    __pyx_v_stride = (__pyx_v_view->strides[__pyx_v_dim]);
-
-    /* "View.MemoryView":924
- *         shape = view.shape[dim]
- *         stride = view.strides[dim]
- *         if view.suboffsets != NULL:             # <<<<<<<<<<<<<<
- *             suboffset = view.suboffsets[dim]
- * 
- */
-    __pyx_t_2 = ((__pyx_v_view->suboffsets != NULL) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":925
- *         stride = view.strides[dim]
- *         if view.suboffsets != NULL:
- *             suboffset = view.suboffsets[dim]             # <<<<<<<<<<<<<<
- * 
- *     if index < 0:
- */
-      __pyx_v_suboffset = (__pyx_v_view->suboffsets[__pyx_v_dim]);
-
-      /* "View.MemoryView":924
- *         shape = view.shape[dim]
- *         stride = view.strides[dim]
- *         if view.suboffsets != NULL:             # <<<<<<<<<<<<<<
- *             suboffset = view.suboffsets[dim]
- * 
- */
-    }
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":927
- *             suboffset = view.suboffsets[dim]
- * 
- *     if index < 0:             # <<<<<<<<<<<<<<
- *         index += view.shape[dim]
- *         if index < 0:
- */
-  __pyx_t_2 = ((__pyx_v_index < 0) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":928
- * 
- *     if index < 0:
- *         index += view.shape[dim]             # <<<<<<<<<<<<<<
- *         if index < 0:
- *             raise IndexError("Out of bounds on buffer access (axis %d)" % dim)
- */
-    __pyx_v_index = (__pyx_v_index + (__pyx_v_view->shape[__pyx_v_dim]));
-
-    /* "View.MemoryView":929
- *     if index < 0:
- *         index += view.shape[dim]
- *         if index < 0:             # <<<<<<<<<<<<<<
- *             raise IndexError("Out of bounds on buffer access (axis %d)" % dim)
- * 
- */
-    __pyx_t_2 = ((__pyx_v_index < 0) != 0);
-    if (unlikely(__pyx_t_2)) {
-
-      /* "View.MemoryView":930
- *         index += view.shape[dim]
- *         if index < 0:
- *             raise IndexError("Out of bounds on buffer access (axis %d)" % dim)             # <<<<<<<<<<<<<<
- * 
- *     if index >= shape:
- */
-      __pyx_t_3 = PyInt_FromSsize_t(__pyx_v_dim); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 930, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_4 = __Pyx_PyString_Format(__pyx_kp_s_Out_of_bounds_on_buffer_access_a, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 930, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_IndexError, __pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 930, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_3);
-      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-      __Pyx_Raise(__pyx_t_3, 0, 0, 0);
-      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      __PYX_ERR(2, 930, __pyx_L1_error)
-
-      /* "View.MemoryView":929
- *     if index < 0:
- *         index += view.shape[dim]
- *         if index < 0:             # <<<<<<<<<<<<<<
- *             raise IndexError("Out of bounds on buffer access (axis %d)" % dim)
- * 
- */
-    }
-
-    /* "View.MemoryView":927
- *             suboffset = view.suboffsets[dim]
- * 
- *     if index < 0:             # <<<<<<<<<<<<<<
- *         index += view.shape[dim]
- *         if index < 0:
- */
-  }
-
-  /* "View.MemoryView":932
- *             raise IndexError("Out of bounds on buffer access (axis %d)" % dim)
- * 
- *     if index >= shape:             # <<<<<<<<<<<<<<
- *         raise IndexError("Out of bounds on buffer access (axis %d)" % dim)
- * 
- */
-  __pyx_t_2 = ((__pyx_v_index >= __pyx_v_shape) != 0);
-  if (unlikely(__pyx_t_2)) {
-
-    /* "View.MemoryView":933
- * 
- *     if index >= shape:
- *         raise IndexError("Out of bounds on buffer access (axis %d)" % dim)             # <<<<<<<<<<<<<<
- * 
- *     resultp = bufp + index * stride
- */
-    __pyx_t_3 = PyInt_FromSsize_t(__pyx_v_dim); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 933, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = __Pyx_PyString_Format(__pyx_kp_s_Out_of_bounds_on_buffer_access_a, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 933, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_IndexError, __pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 933, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __Pyx_Raise(__pyx_t_3, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(2, 933, __pyx_L1_error)
-
-    /* "View.MemoryView":932
- *             raise IndexError("Out of bounds on buffer access (axis %d)" % dim)
- * 
- *     if index >= shape:             # <<<<<<<<<<<<<<
- *         raise IndexError("Out of bounds on buffer access (axis %d)" % dim)
- * 
- */
-  }
-
-  /* "View.MemoryView":935
- *         raise IndexError("Out of bounds on buffer access (axis %d)" % dim)
- * 
- *     resultp = bufp + index * stride             # <<<<<<<<<<<<<<
- *     if suboffset >= 0:
- *         resultp = (<char **> resultp)[0] + suboffset
- */
-  __pyx_v_resultp = (__pyx_v_bufp + (__pyx_v_index * __pyx_v_stride));
-
-  /* "View.MemoryView":936
- * 
- *     resultp = bufp + index * stride
- *     if suboffset >= 0:             # <<<<<<<<<<<<<<
- *         resultp = (<char **> resultp)[0] + suboffset
- * 
- */
-  __pyx_t_2 = ((__pyx_v_suboffset >= 0) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":937
- *     resultp = bufp + index * stride
- *     if suboffset >= 0:
- *         resultp = (<char **> resultp)[0] + suboffset             # <<<<<<<<<<<<<<
- * 
- *     return resultp
- */
-    __pyx_v_resultp = ((((char **)__pyx_v_resultp)[0]) + __pyx_v_suboffset);
-
-    /* "View.MemoryView":936
- * 
- *     resultp = bufp + index * stride
- *     if suboffset >= 0:             # <<<<<<<<<<<<<<
- *         resultp = (<char **> resultp)[0] + suboffset
- * 
- */
-  }
-
-  /* "View.MemoryView":939
- *         resultp = (<char **> resultp)[0] + suboffset
- * 
- *     return resultp             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_r = __pyx_v_resultp;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":912
- * 
- * @cname('__pyx_pybuffer_index')
- * cdef char *pybuffer_index(Py_buffer *view, char *bufp, Py_ssize_t index,             # <<<<<<<<<<<<<<
- *                           Py_ssize_t dim) except NULL:
- *     cdef Py_ssize_t shape, stride, suboffset = -1
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_AddTraceback("View.MemoryView.pybuffer_index", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":945
- * 
- * @cname('__pyx_memslice_transpose')
- * cdef int transpose_memslice(__Pyx_memviewslice *memslice) nogil except 0:             # <<<<<<<<<<<<<<
- *     cdef int ndim = memslice.memview.view.ndim
- * 
- */
-
-static int __pyx_memslice_transpose(__Pyx_memviewslice *__pyx_v_memslice) {
-  int __pyx_v_ndim;
-  Py_ssize_t *__pyx_v_shape;
-  Py_ssize_t *__pyx_v_strides;
-  int __pyx_v_i;
-  int __pyx_v_j;
-  int __pyx_r;
-  int __pyx_t_1;
-  Py_ssize_t *__pyx_t_2;
-  long __pyx_t_3;
-  long __pyx_t_4;
-  Py_ssize_t __pyx_t_5;
-  Py_ssize_t __pyx_t_6;
-  int __pyx_t_7;
-  int __pyx_t_8;
-  int __pyx_t_9;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-
-  /* "View.MemoryView":946
- * @cname('__pyx_memslice_transpose')
- * cdef int transpose_memslice(__Pyx_memviewslice *memslice) nogil except 0:
- *     cdef int ndim = memslice.memview.view.ndim             # <<<<<<<<<<<<<<
- * 
- *     cdef Py_ssize_t *shape = memslice.shape
- */
-  __pyx_t_1 = __pyx_v_memslice->memview->view.ndim;
-  __pyx_v_ndim = __pyx_t_1;
-
-  /* "View.MemoryView":948
- *     cdef int ndim = memslice.memview.view.ndim
- * 
- *     cdef Py_ssize_t *shape = memslice.shape             # <<<<<<<<<<<<<<
- *     cdef Py_ssize_t *strides = memslice.strides
- * 
- */
-  __pyx_t_2 = __pyx_v_memslice->shape;
-  __pyx_v_shape = __pyx_t_2;
-
-  /* "View.MemoryView":949
- * 
- *     cdef Py_ssize_t *shape = memslice.shape
- *     cdef Py_ssize_t *strides = memslice.strides             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_2 = __pyx_v_memslice->strides;
-  __pyx_v_strides = __pyx_t_2;
-
-  /* "View.MemoryView":953
- * 
- *     cdef int i, j
- *     for i in range(ndim / 2):             # <<<<<<<<<<<<<<
- *         j = ndim - 1 - i
- *         strides[i], strides[j] = strides[j], strides[i]
- */
-  __pyx_t_3 = __Pyx_div_long(__pyx_v_ndim, 2);
-  __pyx_t_4 = __pyx_t_3;
-  for (__pyx_t_1 = 0; __pyx_t_1 < __pyx_t_4; __pyx_t_1+=1) {
-    __pyx_v_i = __pyx_t_1;
-
-    /* "View.MemoryView":954
- *     cdef int i, j
- *     for i in range(ndim / 2):
- *         j = ndim - 1 - i             # <<<<<<<<<<<<<<
- *         strides[i], strides[j] = strides[j], strides[i]
- *         shape[i], shape[j] = shape[j], shape[i]
- */
-    __pyx_v_j = ((__pyx_v_ndim - 1) - __pyx_v_i);
-
-    /* "View.MemoryView":955
- *     for i in range(ndim / 2):
- *         j = ndim - 1 - i
- *         strides[i], strides[j] = strides[j], strides[i]             # <<<<<<<<<<<<<<
- *         shape[i], shape[j] = shape[j], shape[i]
- * 
- */
-    __pyx_t_5 = (__pyx_v_strides[__pyx_v_j]);
-    __pyx_t_6 = (__pyx_v_strides[__pyx_v_i]);
-    (__pyx_v_strides[__pyx_v_i]) = __pyx_t_5;
-    (__pyx_v_strides[__pyx_v_j]) = __pyx_t_6;
-
-    /* "View.MemoryView":956
- *         j = ndim - 1 - i
- *         strides[i], strides[j] = strides[j], strides[i]
- *         shape[i], shape[j] = shape[j], shape[i]             # <<<<<<<<<<<<<<
- * 
- *         if memslice.suboffsets[i] >= 0 or memslice.suboffsets[j] >= 0:
- */
-    __pyx_t_6 = (__pyx_v_shape[__pyx_v_j]);
-    __pyx_t_5 = (__pyx_v_shape[__pyx_v_i]);
-    (__pyx_v_shape[__pyx_v_i]) = __pyx_t_6;
-    (__pyx_v_shape[__pyx_v_j]) = __pyx_t_5;
-
-    /* "View.MemoryView":958
- *         shape[i], shape[j] = shape[j], shape[i]
- * 
- *         if memslice.suboffsets[i] >= 0 or memslice.suboffsets[j] >= 0:             # <<<<<<<<<<<<<<
- *             _err(ValueError, "Cannot transpose memoryview with indirect dimensions")
- * 
- */
-    __pyx_t_8 = (((__pyx_v_memslice->suboffsets[__pyx_v_i]) >= 0) != 0);
-    if (!__pyx_t_8) {
-    } else {
-      __pyx_t_7 = __pyx_t_8;
-      goto __pyx_L6_bool_binop_done;
-    }
-    __pyx_t_8 = (((__pyx_v_memslice->suboffsets[__pyx_v_j]) >= 0) != 0);
-    __pyx_t_7 = __pyx_t_8;
-    __pyx_L6_bool_binop_done:;
-    if (__pyx_t_7) {
-
-      /* "View.MemoryView":959
- * 
- *         if memslice.suboffsets[i] >= 0 or memslice.suboffsets[j] >= 0:
- *             _err(ValueError, "Cannot transpose memoryview with indirect dimensions")             # <<<<<<<<<<<<<<
- * 
- *     return 1
- */
-      __pyx_t_9 = __pyx_memoryview_err(__pyx_builtin_ValueError, ((char *)"Cannot transpose memoryview with indirect dimensions")); if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(2, 959, __pyx_L1_error)
-
-      /* "View.MemoryView":958
- *         shape[i], shape[j] = shape[j], shape[i]
- * 
- *         if memslice.suboffsets[i] >= 0 or memslice.suboffsets[j] >= 0:             # <<<<<<<<<<<<<<
- *             _err(ValueError, "Cannot transpose memoryview with indirect dimensions")
- * 
- */
-    }
-  }
-
-  /* "View.MemoryView":961
- *             _err(ValueError, "Cannot transpose memoryview with indirect dimensions")
- * 
- *     return 1             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_r = 1;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":945
- * 
- * @cname('__pyx_memslice_transpose')
- * cdef int transpose_memslice(__Pyx_memviewslice *memslice) nogil except 0:             # <<<<<<<<<<<<<<
- *     cdef int ndim = memslice.memview.view.ndim
- * 
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  {
-    #ifdef WITH_THREAD
-    PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-    #endif
-    __Pyx_AddTraceback("View.MemoryView.transpose_memslice", __pyx_clineno, __pyx_lineno, __pyx_filename);
-    #ifdef WITH_THREAD
-    __Pyx_PyGILState_Release(__pyx_gilstate_save);
-    #endif
-  }
-  __pyx_r = 0;
-  __pyx_L0:;
-  return __pyx_r;
-}
-
-/* "View.MemoryView":978
- *     cdef int (*to_dtype_func)(char *, object) except 0
- * 
- *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         __PYX_XDEC_MEMVIEW(&self.from_slice, 1)
- * 
- */
-
-/* Python wrapper */
-static void __pyx_memoryviewslice___dealloc__(PyObject *__pyx_v_self); /*proto*/
-static void __pyx_memoryviewslice___dealloc__(PyObject *__pyx_v_self) {
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__dealloc__ (wrapper)", 0);
-  __pyx_memoryviewslice___pyx_pf_15View_dot_MemoryView_16_memoryviewslice___dealloc__(((struct __pyx_memoryviewslice_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-}
-
-static void __pyx_memoryviewslice___pyx_pf_15View_dot_MemoryView_16_memoryviewslice___dealloc__(struct __pyx_memoryviewslice_obj *__pyx_v_self) {
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__dealloc__", 0);
-
-  /* "View.MemoryView":979
- * 
- *     def __dealloc__(self):
- *         __PYX_XDEC_MEMVIEW(&self.from_slice, 1)             # <<<<<<<<<<<<<<
- * 
- *     cdef convert_item_to_object(self, char *itemp):
- */
-  __PYX_XDEC_MEMVIEW((&__pyx_v_self->from_slice), 1);
-
-  /* "View.MemoryView":978
- *     cdef int (*to_dtype_func)(char *, object) except 0
- * 
- *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         __PYX_XDEC_MEMVIEW(&self.from_slice, 1)
- * 
- */
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-}
-
-/* "View.MemoryView":981
- *         __PYX_XDEC_MEMVIEW(&self.from_slice, 1)
- * 
- *     cdef convert_item_to_object(self, char *itemp):             # <<<<<<<<<<<<<<
- *         if self.to_object_func != NULL:
- *             return self.to_object_func(itemp)
- */
-
-static PyObject *__pyx_memoryviewslice_convert_item_to_object(struct __pyx_memoryviewslice_obj *__pyx_v_self, char *__pyx_v_itemp) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("convert_item_to_object", 0);
-
-  /* "View.MemoryView":982
- * 
- *     cdef convert_item_to_object(self, char *itemp):
- *         if self.to_object_func != NULL:             # <<<<<<<<<<<<<<
- *             return self.to_object_func(itemp)
- *         else:
- */
-  __pyx_t_1 = ((__pyx_v_self->to_object_func != NULL) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":983
- *     cdef convert_item_to_object(self, char *itemp):
- *         if self.to_object_func != NULL:
- *             return self.to_object_func(itemp)             # <<<<<<<<<<<<<<
- *         else:
- *             return memoryview.convert_item_to_object(self, itemp)
- */
-    __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __pyx_v_self->to_object_func(__pyx_v_itemp); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 983, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __pyx_r = __pyx_t_2;
-    __pyx_t_2 = 0;
-    goto __pyx_L0;
-
-    /* "View.MemoryView":982
- * 
- *     cdef convert_item_to_object(self, char *itemp):
- *         if self.to_object_func != NULL:             # <<<<<<<<<<<<<<
- *             return self.to_object_func(itemp)
- *         else:
- */
-  }
-
-  /* "View.MemoryView":985
- *             return self.to_object_func(itemp)
- *         else:
- *             return memoryview.convert_item_to_object(self, itemp)             # <<<<<<<<<<<<<<
- * 
- *     cdef assign_item_from_object(self, char *itemp, object value):
- */
-  /*else*/ {
-    __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __pyx_memoryview_convert_item_to_object(((struct __pyx_memoryview_obj *)__pyx_v_self), __pyx_v_itemp); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 985, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __pyx_r = __pyx_t_2;
-    __pyx_t_2 = 0;
-    goto __pyx_L0;
-  }
-
-  /* "View.MemoryView":981
- *         __PYX_XDEC_MEMVIEW(&self.from_slice, 1)
- * 
- *     cdef convert_item_to_object(self, char *itemp):             # <<<<<<<<<<<<<<
- *         if self.to_object_func != NULL:
- *             return self.to_object_func(itemp)
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("View.MemoryView._memoryviewslice.convert_item_to_object", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":987
- *             return memoryview.convert_item_to_object(self, itemp)
- * 
- *     cdef assign_item_from_object(self, char *itemp, object value):             # <<<<<<<<<<<<<<
- *         if self.to_dtype_func != NULL:
- *             self.to_dtype_func(itemp, value)
- */
-
-static PyObject *__pyx_memoryviewslice_assign_item_from_object(struct __pyx_memoryviewslice_obj *__pyx_v_self, char *__pyx_v_itemp, PyObject *__pyx_v_value) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("assign_item_from_object", 0);
-
-  /* "View.MemoryView":988
- * 
- *     cdef assign_item_from_object(self, char *itemp, object value):
- *         if self.to_dtype_func != NULL:             # <<<<<<<<<<<<<<
- *             self.to_dtype_func(itemp, value)
- *         else:
- */
-  __pyx_t_1 = ((__pyx_v_self->to_dtype_func != NULL) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":989
- *     cdef assign_item_from_object(self, char *itemp, object value):
- *         if self.to_dtype_func != NULL:
- *             self.to_dtype_func(itemp, value)             # <<<<<<<<<<<<<<
- *         else:
- *             memoryview.assign_item_from_object(self, itemp, value)
- */
-    __pyx_t_2 = __pyx_v_self->to_dtype_func(__pyx_v_itemp, __pyx_v_value); if (unlikely(__pyx_t_2 == ((int)0))) __PYX_ERR(2, 989, __pyx_L1_error)
-
-    /* "View.MemoryView":988
- * 
- *     cdef assign_item_from_object(self, char *itemp, object value):
- *         if self.to_dtype_func != NULL:             # <<<<<<<<<<<<<<
- *             self.to_dtype_func(itemp, value)
- *         else:
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":991
- *             self.to_dtype_func(itemp, value)
- *         else:
- *             memoryview.assign_item_from_object(self, itemp, value)             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  /*else*/ {
-    __pyx_t_3 = __pyx_memoryview_assign_item_from_object(((struct __pyx_memoryview_obj *)__pyx_v_self), __pyx_v_itemp, __pyx_v_value); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 991, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":987
- *             return memoryview.convert_item_to_object(self, itemp)
- * 
- *     cdef assign_item_from_object(self, char *itemp, object value):             # <<<<<<<<<<<<<<
- *         if self.to_dtype_func != NULL:
- *             self.to_dtype_func(itemp, value)
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView._memoryviewslice.assign_item_from_object", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":994
- * 
- *     @property
- *     def base(self):             # <<<<<<<<<<<<<<
- *         return self.from_object
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_16_memoryviewslice_4base_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_15View_dot_MemoryView_16_memoryviewslice_4base_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_15View_dot_MemoryView_16_memoryviewslice_4base___get__(((struct __pyx_memoryviewslice_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView_16_memoryviewslice_4base___get__(struct __pyx_memoryviewslice_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "View.MemoryView":995
- *     @property
- *     def base(self):
- *         return self.from_object             # <<<<<<<<<<<<<<
- * 
- *     __pyx_getbuffer = capsule(<void *> &__pyx_memoryview_getbuffer, "getbuffer(obj, view, flags)")
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(__pyx_v_self->from_object);
-  __pyx_r = __pyx_v_self->from_object;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":994
- * 
- *     @property
- *     def base(self):             # <<<<<<<<<<<<<<
- *         return self.from_object
- * 
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw___pyx_memoryviewslice_1__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_pw___pyx_memoryviewslice_1__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf___pyx_memoryviewslice___reduce_cython__(((struct __pyx_memoryviewslice_obj *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf___pyx_memoryviewslice___reduce_cython__(CYTHON_UNUSED struct __pyx_memoryviewslice_obj *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
-
-  /* "(tree fragment)":2
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__114, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 2, __pyx_L1_error)
-
-  /* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView._memoryviewslice.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "(tree fragment)":3
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw___pyx_memoryviewslice_3__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
-static PyObject *__pyx_pw___pyx_memoryviewslice_3__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf___pyx_memoryviewslice_2__setstate_cython__(((struct __pyx_memoryviewslice_obj *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf___pyx_memoryviewslice_2__setstate_cython__(CYTHON_UNUSED struct __pyx_memoryviewslice_obj *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
-
-  /* "(tree fragment)":4
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__115, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 4, __pyx_L1_error)
-
-  /* "(tree fragment)":3
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView._memoryviewslice.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1001
- * 
- * @cname('__pyx_memoryview_fromslice')
- * cdef memoryview_fromslice(__Pyx_memviewslice memviewslice,             # <<<<<<<<<<<<<<
- *                           int ndim,
- *                           object (*to_object_func)(char *),
- */
-
-static PyObject *__pyx_memoryview_fromslice(__Pyx_memviewslice __pyx_v_memviewslice, int __pyx_v_ndim, PyObject *(*__pyx_v_to_object_func)(char *), int (*__pyx_v_to_dtype_func)(char *, PyObject *), int __pyx_v_dtype_is_object) {
-  struct __pyx_memoryviewslice_obj *__pyx_v_result = 0;
-  Py_ssize_t __pyx_v_suboffset;
-  PyObject *__pyx_v_length = NULL;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  __Pyx_TypeInfo *__pyx_t_4;
-  Py_buffer __pyx_t_5;
-  Py_ssize_t *__pyx_t_6;
-  Py_ssize_t *__pyx_t_7;
-  Py_ssize_t *__pyx_t_8;
-  Py_ssize_t __pyx_t_9;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("memoryview_fromslice", 0);
-
-  /* "View.MemoryView":1009
- *     cdef _memoryviewslice result
- * 
- *     if <PyObject *> memviewslice.memview == Py_None:             # <<<<<<<<<<<<<<
- *         return None
- * 
- */
-  __pyx_t_1 = ((((PyObject *)__pyx_v_memviewslice.memview) == Py_None) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":1010
- * 
- *     if <PyObject *> memviewslice.memview == Py_None:
- *         return None             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    __Pyx_XDECREF(__pyx_r);
-    __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-    goto __pyx_L0;
-
-    /* "View.MemoryView":1009
- *     cdef _memoryviewslice result
- * 
- *     if <PyObject *> memviewslice.memview == Py_None:             # <<<<<<<<<<<<<<
- *         return None
- * 
- */
-  }
-
-  /* "View.MemoryView":1015
- * 
- * 
- *     result = _memoryviewslice(None, 0, dtype_is_object)             # <<<<<<<<<<<<<<
- * 
- *     result.from_slice = memviewslice
- */
-  __pyx_t_2 = __Pyx_PyBool_FromLong(__pyx_v_dtype_is_object); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 1015, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1015, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_INCREF(Py_None);
-  __Pyx_GIVEREF(Py_None);
-  PyTuple_SET_ITEM(__pyx_t_3, 0, Py_None);
-  __Pyx_INCREF(__pyx_int_0);
-  __Pyx_GIVEREF(__pyx_int_0);
-  PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_int_0);
-  __Pyx_GIVEREF(__pyx_t_2);
-  PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_t_2);
-  __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_memoryviewslice_type), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 1015, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_v_result = ((struct __pyx_memoryviewslice_obj *)__pyx_t_2);
-  __pyx_t_2 = 0;
-
-  /* "View.MemoryView":1017
- *     result = _memoryviewslice(None, 0, dtype_is_object)
- * 
- *     result.from_slice = memviewslice             # <<<<<<<<<<<<<<
- *     __PYX_INC_MEMVIEW(&memviewslice, 1)
- * 
- */
-  __pyx_v_result->from_slice = __pyx_v_memviewslice;
-
-  /* "View.MemoryView":1018
- * 
- *     result.from_slice = memviewslice
- *     __PYX_INC_MEMVIEW(&memviewslice, 1)             # <<<<<<<<<<<<<<
- * 
- *     result.from_object = (<memoryview> memviewslice.memview).base
- */
-  __PYX_INC_MEMVIEW((&__pyx_v_memviewslice), 1);
-
-  /* "View.MemoryView":1020
- *     __PYX_INC_MEMVIEW(&memviewslice, 1)
- * 
- *     result.from_object = (<memoryview> memviewslice.memview).base             # <<<<<<<<<<<<<<
- *     result.typeinfo = memviewslice.memview.typeinfo
- * 
- */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_memviewslice.memview), __pyx_n_s_base); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 1020, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_GIVEREF(__pyx_t_2);
-  __Pyx_GOTREF(__pyx_v_result->from_object);
-  __Pyx_DECREF(__pyx_v_result->from_object);
-  __pyx_v_result->from_object = __pyx_t_2;
-  __pyx_t_2 = 0;
-
-  /* "View.MemoryView":1021
- * 
- *     result.from_object = (<memoryview> memviewslice.memview).base
- *     result.typeinfo = memviewslice.memview.typeinfo             # <<<<<<<<<<<<<<
- * 
- *     result.view = memviewslice.memview.view
- */
-  __pyx_t_4 = __pyx_v_memviewslice.memview->typeinfo;
-  __pyx_v_result->__pyx_base.typeinfo = __pyx_t_4;
-
-  /* "View.MemoryView":1023
- *     result.typeinfo = memviewslice.memview.typeinfo
- * 
- *     result.view = memviewslice.memview.view             # <<<<<<<<<<<<<<
- *     result.view.buf = <void *> memviewslice.data
- *     result.view.ndim = ndim
- */
-  __pyx_t_5 = __pyx_v_memviewslice.memview->view;
-  __pyx_v_result->__pyx_base.view = __pyx_t_5;
-
-  /* "View.MemoryView":1024
- * 
- *     result.view = memviewslice.memview.view
- *     result.view.buf = <void *> memviewslice.data             # <<<<<<<<<<<<<<
- *     result.view.ndim = ndim
- *     (<__pyx_buffer *> &result.view).obj = Py_None
- */
-  __pyx_v_result->__pyx_base.view.buf = ((void *)__pyx_v_memviewslice.data);
-
-  /* "View.MemoryView":1025
- *     result.view = memviewslice.memview.view
- *     result.view.buf = <void *> memviewslice.data
- *     result.view.ndim = ndim             # <<<<<<<<<<<<<<
- *     (<__pyx_buffer *> &result.view).obj = Py_None
- *     Py_INCREF(Py_None)
- */
-  __pyx_v_result->__pyx_base.view.ndim = __pyx_v_ndim;
-
-  /* "View.MemoryView":1026
- *     result.view.buf = <void *> memviewslice.data
- *     result.view.ndim = ndim
- *     (<__pyx_buffer *> &result.view).obj = Py_None             # <<<<<<<<<<<<<<
- *     Py_INCREF(Py_None)
- * 
- */
-  ((Py_buffer *)(&__pyx_v_result->__pyx_base.view))->obj = Py_None;
-
-  /* "View.MemoryView":1027
- *     result.view.ndim = ndim
- *     (<__pyx_buffer *> &result.view).obj = Py_None
- *     Py_INCREF(Py_None)             # <<<<<<<<<<<<<<
- * 
- *     if (<memoryview>memviewslice.memview).flags & PyBUF_WRITABLE:
- */
-  Py_INCREF(Py_None);
-
-  /* "View.MemoryView":1029
- *     Py_INCREF(Py_None)
- * 
- *     if (<memoryview>memviewslice.memview).flags & PyBUF_WRITABLE:             # <<<<<<<<<<<<<<
- *         result.flags = PyBUF_RECORDS
- *     else:
- */
-  __pyx_t_1 = ((((struct __pyx_memoryview_obj *)__pyx_v_memviewslice.memview)->flags & PyBUF_WRITABLE) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":1030
- * 
- *     if (<memoryview>memviewslice.memview).flags & PyBUF_WRITABLE:
- *         result.flags = PyBUF_RECORDS             # <<<<<<<<<<<<<<
- *     else:
- *         result.flags = PyBUF_RECORDS_RO
- */
-    __pyx_v_result->__pyx_base.flags = PyBUF_RECORDS;
-
-    /* "View.MemoryView":1029
- *     Py_INCREF(Py_None)
- * 
- *     if (<memoryview>memviewslice.memview).flags & PyBUF_WRITABLE:             # <<<<<<<<<<<<<<
- *         result.flags = PyBUF_RECORDS
- *     else:
- */
-    goto __pyx_L4;
-  }
-
-  /* "View.MemoryView":1032
- *         result.flags = PyBUF_RECORDS
- *     else:
- *         result.flags = PyBUF_RECORDS_RO             # <<<<<<<<<<<<<<
- * 
- *     result.view.shape = <Py_ssize_t *> result.from_slice.shape
- */
-  /*else*/ {
-    __pyx_v_result->__pyx_base.flags = PyBUF_RECORDS_RO;
-  }
-  __pyx_L4:;
-
-  /* "View.MemoryView":1034
- *         result.flags = PyBUF_RECORDS_RO
- * 
- *     result.view.shape = <Py_ssize_t *> result.from_slice.shape             # <<<<<<<<<<<<<<
- *     result.view.strides = <Py_ssize_t *> result.from_slice.strides
- * 
- */
-  __pyx_v_result->__pyx_base.view.shape = ((Py_ssize_t *)__pyx_v_result->from_slice.shape);
-
-  /* "View.MemoryView":1035
- * 
- *     result.view.shape = <Py_ssize_t *> result.from_slice.shape
- *     result.view.strides = <Py_ssize_t *> result.from_slice.strides             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_v_result->__pyx_base.view.strides = ((Py_ssize_t *)__pyx_v_result->from_slice.strides);
-
-  /* "View.MemoryView":1038
- * 
- * 
- *     result.view.suboffsets = NULL             # <<<<<<<<<<<<<<
- *     for suboffset in result.from_slice.suboffsets[:ndim]:
- *         if suboffset >= 0:
- */
-  __pyx_v_result->__pyx_base.view.suboffsets = NULL;
-
-  /* "View.MemoryView":1039
- * 
- *     result.view.suboffsets = NULL
- *     for suboffset in result.from_slice.suboffsets[:ndim]:             # <<<<<<<<<<<<<<
- *         if suboffset >= 0:
- *             result.view.suboffsets = <Py_ssize_t *> result.from_slice.suboffsets
- */
-  __pyx_t_7 = (__pyx_v_result->from_slice.suboffsets + __pyx_v_ndim);
-  for (__pyx_t_8 = __pyx_v_result->from_slice.suboffsets; __pyx_t_8 < __pyx_t_7; __pyx_t_8++) {
-    __pyx_t_6 = __pyx_t_8;
-    __pyx_v_suboffset = (__pyx_t_6[0]);
-
-    /* "View.MemoryView":1040
- *     result.view.suboffsets = NULL
- *     for suboffset in result.from_slice.suboffsets[:ndim]:
- *         if suboffset >= 0:             # <<<<<<<<<<<<<<
- *             result.view.suboffsets = <Py_ssize_t *> result.from_slice.suboffsets
- *             break
- */
-    __pyx_t_1 = ((__pyx_v_suboffset >= 0) != 0);
-    if (__pyx_t_1) {
-
-      /* "View.MemoryView":1041
- *     for suboffset in result.from_slice.suboffsets[:ndim]:
- *         if suboffset >= 0:
- *             result.view.suboffsets = <Py_ssize_t *> result.from_slice.suboffsets             # <<<<<<<<<<<<<<
- *             break
- * 
- */
-      __pyx_v_result->__pyx_base.view.suboffsets = ((Py_ssize_t *)__pyx_v_result->from_slice.suboffsets);
-
-      /* "View.MemoryView":1042
- *         if suboffset >= 0:
- *             result.view.suboffsets = <Py_ssize_t *> result.from_slice.suboffsets
- *             break             # <<<<<<<<<<<<<<
- * 
- *     result.view.len = result.view.itemsize
- */
-      goto __pyx_L6_break;
-
-      /* "View.MemoryView":1040
- *     result.view.suboffsets = NULL
- *     for suboffset in result.from_slice.suboffsets[:ndim]:
- *         if suboffset >= 0:             # <<<<<<<<<<<<<<
- *             result.view.suboffsets = <Py_ssize_t *> result.from_slice.suboffsets
- *             break
- */
-    }
-  }
-  __pyx_L6_break:;
-
-  /* "View.MemoryView":1044
- *             break
- * 
- *     result.view.len = result.view.itemsize             # <<<<<<<<<<<<<<
- *     for length in result.view.shape[:ndim]:
- *         result.view.len *= length
- */
-  __pyx_t_9 = __pyx_v_result->__pyx_base.view.itemsize;
-  __pyx_v_result->__pyx_base.view.len = __pyx_t_9;
-
-  /* "View.MemoryView":1045
- * 
- *     result.view.len = result.view.itemsize
- *     for length in result.view.shape[:ndim]:             # <<<<<<<<<<<<<<
- *         result.view.len *= length
- * 
- */
-  __pyx_t_7 = (__pyx_v_result->__pyx_base.view.shape + __pyx_v_ndim);
-  for (__pyx_t_8 = __pyx_v_result->__pyx_base.view.shape; __pyx_t_8 < __pyx_t_7; __pyx_t_8++) {
-    __pyx_t_6 = __pyx_t_8;
-    __pyx_t_2 = PyInt_FromSsize_t((__pyx_t_6[0])); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 1045, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_XDECREF_SET(__pyx_v_length, __pyx_t_2);
-    __pyx_t_2 = 0;
-
-    /* "View.MemoryView":1046
- *     result.view.len = result.view.itemsize
- *     for length in result.view.shape[:ndim]:
- *         result.view.len *= length             # <<<<<<<<<<<<<<
- * 
- *     result.to_object_func = to_object_func
- */
-    __pyx_t_2 = PyInt_FromSsize_t(__pyx_v_result->__pyx_base.view.len); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 1046, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = PyNumber_InPlaceMultiply(__pyx_t_2, __pyx_v_length); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1046, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_9 = __Pyx_PyIndex_AsSsize_t(__pyx_t_3); if (unlikely((__pyx_t_9 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(2, 1046, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_v_result->__pyx_base.view.len = __pyx_t_9;
-  }
-
-  /* "View.MemoryView":1048
- *         result.view.len *= length
- * 
- *     result.to_object_func = to_object_func             # <<<<<<<<<<<<<<
- *     result.to_dtype_func = to_dtype_func
- * 
- */
-  __pyx_v_result->to_object_func = __pyx_v_to_object_func;
-
-  /* "View.MemoryView":1049
- * 
- *     result.to_object_func = to_object_func
- *     result.to_dtype_func = to_dtype_func             # <<<<<<<<<<<<<<
- * 
- *     return result
- */
-  __pyx_v_result->to_dtype_func = __pyx_v_to_dtype_func;
-
-  /* "View.MemoryView":1051
- *     result.to_dtype_func = to_dtype_func
- * 
- *     return result             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_get_slice_from_memoryview')
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_result));
-  __pyx_r = ((PyObject *)__pyx_v_result);
-  goto __pyx_L0;
-
-  /* "View.MemoryView":1001
- * 
- * @cname('__pyx_memoryview_fromslice')
- * cdef memoryview_fromslice(__Pyx_memviewslice memviewslice,             # <<<<<<<<<<<<<<
- *                           int ndim,
- *                           object (*to_object_func)(char *),
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.memoryview_fromslice", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XDECREF((PyObject *)__pyx_v_result);
-  __Pyx_XDECREF(__pyx_v_length);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1054
- * 
- * @cname('__pyx_memoryview_get_slice_from_memoryview')
- * cdef __Pyx_memviewslice *get_slice_from_memview(memoryview memview,             # <<<<<<<<<<<<<<
- *                                                    __Pyx_memviewslice *mslice) except NULL:
- *     cdef _memoryviewslice obj
- */
-
-static __Pyx_memviewslice *__pyx_memoryview_get_slice_from_memoryview(struct __pyx_memoryview_obj *__pyx_v_memview, __Pyx_memviewslice *__pyx_v_mslice) {
-  struct __pyx_memoryviewslice_obj *__pyx_v_obj = 0;
-  __Pyx_memviewslice *__pyx_r;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("get_slice_from_memview", 0);
-
-  /* "View.MemoryView":1057
- *                                                    __Pyx_memviewslice *mslice) except NULL:
- *     cdef _memoryviewslice obj
- *     if isinstance(memview, _memoryviewslice):             # <<<<<<<<<<<<<<
- *         obj = memview
- *         return &obj.from_slice
- */
-  __pyx_t_1 = __Pyx_TypeCheck(((PyObject *)__pyx_v_memview), __pyx_memoryviewslice_type); 
-  __pyx_t_2 = (__pyx_t_1 != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":1058
- *     cdef _memoryviewslice obj
- *     if isinstance(memview, _memoryviewslice):
- *         obj = memview             # <<<<<<<<<<<<<<
- *         return &obj.from_slice
- *     else:
- */
-    if (!(likely(((((PyObject *)__pyx_v_memview)) == Py_None) || likely(__Pyx_TypeTest(((PyObject *)__pyx_v_memview), __pyx_memoryviewslice_type))))) __PYX_ERR(2, 1058, __pyx_L1_error)
-    __pyx_t_3 = ((PyObject *)__pyx_v_memview);
-    __Pyx_INCREF(__pyx_t_3);
-    __pyx_v_obj = ((struct __pyx_memoryviewslice_obj *)__pyx_t_3);
-    __pyx_t_3 = 0;
-
-    /* "View.MemoryView":1059
- *     if isinstance(memview, _memoryviewslice):
- *         obj = memview
- *         return &obj.from_slice             # <<<<<<<<<<<<<<
- *     else:
- *         slice_copy(memview, mslice)
- */
-    __pyx_r = (&__pyx_v_obj->from_slice);
-    goto __pyx_L0;
-
-    /* "View.MemoryView":1057
- *                                                    __Pyx_memviewslice *mslice) except NULL:
- *     cdef _memoryviewslice obj
- *     if isinstance(memview, _memoryviewslice):             # <<<<<<<<<<<<<<
- *         obj = memview
- *         return &obj.from_slice
- */
-  }
-
-  /* "View.MemoryView":1061
- *         return &obj.from_slice
- *     else:
- *         slice_copy(memview, mslice)             # <<<<<<<<<<<<<<
- *         return mslice
- * 
- */
-  /*else*/ {
-    __pyx_memoryview_slice_copy(__pyx_v_memview, __pyx_v_mslice);
-
-    /* "View.MemoryView":1062
- *     else:
- *         slice_copy(memview, mslice)
- *         return mslice             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_slice_copy')
- */
-    __pyx_r = __pyx_v_mslice;
-    goto __pyx_L0;
-  }
-
-  /* "View.MemoryView":1054
- * 
- * @cname('__pyx_memoryview_get_slice_from_memoryview')
- * cdef __Pyx_memviewslice *get_slice_from_memview(memoryview memview,             # <<<<<<<<<<<<<<
- *                                                    __Pyx_memviewslice *mslice) except NULL:
- *     cdef _memoryviewslice obj
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("View.MemoryView.get_slice_from_memview", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XDECREF((PyObject *)__pyx_v_obj);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1065
- * 
- * @cname('__pyx_memoryview_slice_copy')
- * cdef void slice_copy(memoryview memview, __Pyx_memviewslice *dst):             # <<<<<<<<<<<<<<
- *     cdef int dim
- *     cdef (Py_ssize_t*) shape, strides, suboffsets
- */
-
-static void __pyx_memoryview_slice_copy(struct __pyx_memoryview_obj *__pyx_v_memview, __Pyx_memviewslice *__pyx_v_dst) {
-  int __pyx_v_dim;
-  Py_ssize_t *__pyx_v_shape;
-  Py_ssize_t *__pyx_v_strides;
-  Py_ssize_t *__pyx_v_suboffsets;
-  __Pyx_RefNannyDeclarations
-  Py_ssize_t *__pyx_t_1;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  int __pyx_t_4;
-  Py_ssize_t __pyx_t_5;
-  __Pyx_RefNannySetupContext("slice_copy", 0);
-
-  /* "View.MemoryView":1069
- *     cdef (Py_ssize_t*) shape, strides, suboffsets
- * 
- *     shape = memview.view.shape             # <<<<<<<<<<<<<<
- *     strides = memview.view.strides
- *     suboffsets = memview.view.suboffsets
- */
-  __pyx_t_1 = __pyx_v_memview->view.shape;
-  __pyx_v_shape = __pyx_t_1;
-
-  /* "View.MemoryView":1070
- * 
- *     shape = memview.view.shape
- *     strides = memview.view.strides             # <<<<<<<<<<<<<<
- *     suboffsets = memview.view.suboffsets
- * 
- */
-  __pyx_t_1 = __pyx_v_memview->view.strides;
-  __pyx_v_strides = __pyx_t_1;
-
-  /* "View.MemoryView":1071
- *     shape = memview.view.shape
- *     strides = memview.view.strides
- *     suboffsets = memview.view.suboffsets             # <<<<<<<<<<<<<<
- * 
- *     dst.memview = <__pyx_memoryview *> memview
- */
-  __pyx_t_1 = __pyx_v_memview->view.suboffsets;
-  __pyx_v_suboffsets = __pyx_t_1;
-
-  /* "View.MemoryView":1073
- *     suboffsets = memview.view.suboffsets
- * 
- *     dst.memview = <__pyx_memoryview *> memview             # <<<<<<<<<<<<<<
- *     dst.data = <char *> memview.view.buf
- * 
- */
-  __pyx_v_dst->memview = ((struct __pyx_memoryview_obj *)__pyx_v_memview);
-
-  /* "View.MemoryView":1074
- * 
- *     dst.memview = <__pyx_memoryview *> memview
- *     dst.data = <char *> memview.view.buf             # <<<<<<<<<<<<<<
- * 
- *     for dim in range(memview.view.ndim):
- */
-  __pyx_v_dst->data = ((char *)__pyx_v_memview->view.buf);
-
-  /* "View.MemoryView":1076
- *     dst.data = <char *> memview.view.buf
- * 
- *     for dim in range(memview.view.ndim):             # <<<<<<<<<<<<<<
- *         dst.shape[dim] = shape[dim]
- *         dst.strides[dim] = strides[dim]
- */
-  __pyx_t_2 = __pyx_v_memview->view.ndim;
-  __pyx_t_3 = __pyx_t_2;
-  for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
-    __pyx_v_dim = __pyx_t_4;
-
-    /* "View.MemoryView":1077
- * 
- *     for dim in range(memview.view.ndim):
- *         dst.shape[dim] = shape[dim]             # <<<<<<<<<<<<<<
- *         dst.strides[dim] = strides[dim]
- *         dst.suboffsets[dim] = suboffsets[dim] if suboffsets else -1
- */
-    (__pyx_v_dst->shape[__pyx_v_dim]) = (__pyx_v_shape[__pyx_v_dim]);
-
-    /* "View.MemoryView":1078
- *     for dim in range(memview.view.ndim):
- *         dst.shape[dim] = shape[dim]
- *         dst.strides[dim] = strides[dim]             # <<<<<<<<<<<<<<
- *         dst.suboffsets[dim] = suboffsets[dim] if suboffsets else -1
- * 
- */
-    (__pyx_v_dst->strides[__pyx_v_dim]) = (__pyx_v_strides[__pyx_v_dim]);
-
-    /* "View.MemoryView":1079
- *         dst.shape[dim] = shape[dim]
- *         dst.strides[dim] = strides[dim]
- *         dst.suboffsets[dim] = suboffsets[dim] if suboffsets else -1             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_copy_object')
- */
-    if ((__pyx_v_suboffsets != 0)) {
-      __pyx_t_5 = (__pyx_v_suboffsets[__pyx_v_dim]);
-    } else {
-      __pyx_t_5 = -1L;
-    }
-    (__pyx_v_dst->suboffsets[__pyx_v_dim]) = __pyx_t_5;
-  }
-
-  /* "View.MemoryView":1065
- * 
- * @cname('__pyx_memoryview_slice_copy')
- * cdef void slice_copy(memoryview memview, __Pyx_memviewslice *dst):             # <<<<<<<<<<<<<<
- *     cdef int dim
- *     cdef (Py_ssize_t*) shape, strides, suboffsets
- */
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-}
-
-/* "View.MemoryView":1082
- * 
- * @cname('__pyx_memoryview_copy_object')
- * cdef memoryview_copy(memoryview memview):             # <<<<<<<<<<<<<<
- *     "Create a new memoryview object"
- *     cdef __Pyx_memviewslice memviewslice
- */
-
-static PyObject *__pyx_memoryview_copy_object(struct __pyx_memoryview_obj *__pyx_v_memview) {
-  __Pyx_memviewslice __pyx_v_memviewslice;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("memoryview_copy", 0);
-
-  /* "View.MemoryView":1085
- *     "Create a new memoryview object"
- *     cdef __Pyx_memviewslice memviewslice
- *     slice_copy(memview, &memviewslice)             # <<<<<<<<<<<<<<
- *     return memoryview_copy_from_slice(memview, &memviewslice)
- * 
- */
-  __pyx_memoryview_slice_copy(__pyx_v_memview, (&__pyx_v_memviewslice));
-
-  /* "View.MemoryView":1086
- *     cdef __Pyx_memviewslice memviewslice
- *     slice_copy(memview, &memviewslice)
- *     return memoryview_copy_from_slice(memview, &memviewslice)             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_copy_object_from_slice')
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_memoryview_copy_object_from_slice(__pyx_v_memview, (&__pyx_v_memviewslice)); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 1086, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":1082
- * 
- * @cname('__pyx_memoryview_copy_object')
- * cdef memoryview_copy(memoryview memview):             # <<<<<<<<<<<<<<
- *     "Create a new memoryview object"
- *     cdef __Pyx_memviewslice memviewslice
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("View.MemoryView.memoryview_copy", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1089
- * 
- * @cname('__pyx_memoryview_copy_object_from_slice')
- * cdef memoryview_copy_from_slice(memoryview memview, __Pyx_memviewslice *memviewslice):             # <<<<<<<<<<<<<<
- *     """
- *     Create a new memoryview object from a given memoryview object and slice.
- */
-
-static PyObject *__pyx_memoryview_copy_object_from_slice(struct __pyx_memoryview_obj *__pyx_v_memview, __Pyx_memviewslice *__pyx_v_memviewslice) {
-  PyObject *(*__pyx_v_to_object_func)(char *);
-  int (*__pyx_v_to_dtype_func)(char *, PyObject *);
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *(*__pyx_t_3)(char *);
-  int (*__pyx_t_4)(char *, PyObject *);
-  PyObject *__pyx_t_5 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("memoryview_copy_from_slice", 0);
-
-  /* "View.MemoryView":1096
- *     cdef int (*to_dtype_func)(char *, object) except 0
- * 
- *     if isinstance(memview, _memoryviewslice):             # <<<<<<<<<<<<<<
- *         to_object_func = (<_memoryviewslice> memview).to_object_func
- *         to_dtype_func = (<_memoryviewslice> memview).to_dtype_func
- */
-  __pyx_t_1 = __Pyx_TypeCheck(((PyObject *)__pyx_v_memview), __pyx_memoryviewslice_type); 
-  __pyx_t_2 = (__pyx_t_1 != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":1097
- * 
- *     if isinstance(memview, _memoryviewslice):
- *         to_object_func = (<_memoryviewslice> memview).to_object_func             # <<<<<<<<<<<<<<
- *         to_dtype_func = (<_memoryviewslice> memview).to_dtype_func
- *     else:
- */
-    __pyx_t_3 = ((struct __pyx_memoryviewslice_obj *)__pyx_v_memview)->to_object_func;
-    __pyx_v_to_object_func = __pyx_t_3;
-
-    /* "View.MemoryView":1098
- *     if isinstance(memview, _memoryviewslice):
- *         to_object_func = (<_memoryviewslice> memview).to_object_func
- *         to_dtype_func = (<_memoryviewslice> memview).to_dtype_func             # <<<<<<<<<<<<<<
- *     else:
- *         to_object_func = NULL
- */
-    __pyx_t_4 = ((struct __pyx_memoryviewslice_obj *)__pyx_v_memview)->to_dtype_func;
-    __pyx_v_to_dtype_func = __pyx_t_4;
-
-    /* "View.MemoryView":1096
- *     cdef int (*to_dtype_func)(char *, object) except 0
- * 
- *     if isinstance(memview, _memoryviewslice):             # <<<<<<<<<<<<<<
- *         to_object_func = (<_memoryviewslice> memview).to_object_func
- *         to_dtype_func = (<_memoryviewslice> memview).to_dtype_func
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":1100
- *         to_dtype_func = (<_memoryviewslice> memview).to_dtype_func
- *     else:
- *         to_object_func = NULL             # <<<<<<<<<<<<<<
- *         to_dtype_func = NULL
- * 
- */
-  /*else*/ {
-    __pyx_v_to_object_func = NULL;
-
-    /* "View.MemoryView":1101
- *     else:
- *         to_object_func = NULL
- *         to_dtype_func = NULL             # <<<<<<<<<<<<<<
- * 
- *     return memoryview_fromslice(memviewslice[0], memview.view.ndim,
- */
-    __pyx_v_to_dtype_func = NULL;
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":1103
- *         to_dtype_func = NULL
- * 
- *     return memoryview_fromslice(memviewslice[0], memview.view.ndim,             # <<<<<<<<<<<<<<
- *                                 to_object_func, to_dtype_func,
- *                                 memview.dtype_is_object)
- */
-  __Pyx_XDECREF(__pyx_r);
-
-  /* "View.MemoryView":1105
- *     return memoryview_fromslice(memviewslice[0], memview.view.ndim,
- *                                 to_object_func, to_dtype_func,
- *                                 memview.dtype_is_object)             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_5 = __pyx_memoryview_fromslice((__pyx_v_memviewslice[0]), __pyx_v_memview->view.ndim, __pyx_v_to_object_func, __pyx_v_to_dtype_func, __pyx_v_memview->dtype_is_object); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 1103, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_5);
-  __pyx_r = __pyx_t_5;
-  __pyx_t_5 = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":1089
- * 
- * @cname('__pyx_memoryview_copy_object_from_slice')
- * cdef memoryview_copy_from_slice(memoryview memview, __Pyx_memviewslice *memviewslice):             # <<<<<<<<<<<<<<
- *     """
- *     Create a new memoryview object from a given memoryview object and slice.
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_AddTraceback("View.MemoryView.memoryview_copy_from_slice", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1111
- * 
- * 
- * cdef Py_ssize_t abs_py_ssize_t(Py_ssize_t arg) nogil:             # <<<<<<<<<<<<<<
- *     if arg < 0:
- *         return -arg
- */
-
-static Py_ssize_t abs_py_ssize_t(Py_ssize_t __pyx_v_arg) {
-  Py_ssize_t __pyx_r;
-  int __pyx_t_1;
-
-  /* "View.MemoryView":1112
- * 
- * cdef Py_ssize_t abs_py_ssize_t(Py_ssize_t arg) nogil:
- *     if arg < 0:             # <<<<<<<<<<<<<<
- *         return -arg
- *     else:
- */
-  __pyx_t_1 = ((__pyx_v_arg < 0) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":1113
- * cdef Py_ssize_t abs_py_ssize_t(Py_ssize_t arg) nogil:
- *     if arg < 0:
- *         return -arg             # <<<<<<<<<<<<<<
- *     else:
- *         return arg
- */
-    __pyx_r = (-__pyx_v_arg);
-    goto __pyx_L0;
-
-    /* "View.MemoryView":1112
- * 
- * cdef Py_ssize_t abs_py_ssize_t(Py_ssize_t arg) nogil:
- *     if arg < 0:             # <<<<<<<<<<<<<<
- *         return -arg
- *     else:
- */
-  }
-
-  /* "View.MemoryView":1115
- *         return -arg
- *     else:
- *         return arg             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_get_best_slice_order')
- */
-  /*else*/ {
-    __pyx_r = __pyx_v_arg;
-    goto __pyx_L0;
-  }
-
-  /* "View.MemoryView":1111
- * 
- * 
- * cdef Py_ssize_t abs_py_ssize_t(Py_ssize_t arg) nogil:             # <<<<<<<<<<<<<<
- *     if arg < 0:
- *         return -arg
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1118
- * 
- * @cname('__pyx_get_best_slice_order')
- * cdef char get_best_order(__Pyx_memviewslice *mslice, int ndim) nogil:             # <<<<<<<<<<<<<<
- *     """
- *     Figure out the best memory access order for a given slice.
- */
-
-static char __pyx_get_best_slice_order(__Pyx_memviewslice *__pyx_v_mslice, int __pyx_v_ndim) {
-  int __pyx_v_i;
-  Py_ssize_t __pyx_v_c_stride;
-  Py_ssize_t __pyx_v_f_stride;
-  char __pyx_r;
-  int __pyx_t_1;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  int __pyx_t_4;
-
-  /* "View.MemoryView":1123
- *     """
- *     cdef int i
- *     cdef Py_ssize_t c_stride = 0             # <<<<<<<<<<<<<<
- *     cdef Py_ssize_t f_stride = 0
- * 
- */
-  __pyx_v_c_stride = 0;
-
-  /* "View.MemoryView":1124
- *     cdef int i
- *     cdef Py_ssize_t c_stride = 0
- *     cdef Py_ssize_t f_stride = 0             # <<<<<<<<<<<<<<
- * 
- *     for i in range(ndim - 1, -1, -1):
- */
-  __pyx_v_f_stride = 0;
-
-  /* "View.MemoryView":1126
- *     cdef Py_ssize_t f_stride = 0
- * 
- *     for i in range(ndim - 1, -1, -1):             # <<<<<<<<<<<<<<
- *         if mslice.shape[i] > 1:
- *             c_stride = mslice.strides[i]
- */
-  for (__pyx_t_1 = (__pyx_v_ndim - 1); __pyx_t_1 > -1; __pyx_t_1-=1) {
-    __pyx_v_i = __pyx_t_1;
-
-    /* "View.MemoryView":1127
- * 
- *     for i in range(ndim - 1, -1, -1):
- *         if mslice.shape[i] > 1:             # <<<<<<<<<<<<<<
- *             c_stride = mslice.strides[i]
- *             break
- */
-    __pyx_t_2 = (((__pyx_v_mslice->shape[__pyx_v_i]) > 1) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":1128
- *     for i in range(ndim - 1, -1, -1):
- *         if mslice.shape[i] > 1:
- *             c_stride = mslice.strides[i]             # <<<<<<<<<<<<<<
- *             break
- * 
- */
-      __pyx_v_c_stride = (__pyx_v_mslice->strides[__pyx_v_i]);
-
-      /* "View.MemoryView":1129
- *         if mslice.shape[i] > 1:
- *             c_stride = mslice.strides[i]
- *             break             # <<<<<<<<<<<<<<
- * 
- *     for i in range(ndim):
- */
-      goto __pyx_L4_break;
-
-      /* "View.MemoryView":1127
- * 
- *     for i in range(ndim - 1, -1, -1):
- *         if mslice.shape[i] > 1:             # <<<<<<<<<<<<<<
- *             c_stride = mslice.strides[i]
- *             break
- */
-    }
-  }
-  __pyx_L4_break:;
-
-  /* "View.MemoryView":1131
- *             break
- * 
- *     for i in range(ndim):             # <<<<<<<<<<<<<<
- *         if mslice.shape[i] > 1:
- *             f_stride = mslice.strides[i]
- */
-  __pyx_t_1 = __pyx_v_ndim;
-  __pyx_t_3 = __pyx_t_1;
-  for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
-    __pyx_v_i = __pyx_t_4;
-
-    /* "View.MemoryView":1132
- * 
- *     for i in range(ndim):
- *         if mslice.shape[i] > 1:             # <<<<<<<<<<<<<<
- *             f_stride = mslice.strides[i]
- *             break
- */
-    __pyx_t_2 = (((__pyx_v_mslice->shape[__pyx_v_i]) > 1) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":1133
- *     for i in range(ndim):
- *         if mslice.shape[i] > 1:
- *             f_stride = mslice.strides[i]             # <<<<<<<<<<<<<<
- *             break
- * 
- */
-      __pyx_v_f_stride = (__pyx_v_mslice->strides[__pyx_v_i]);
-
-      /* "View.MemoryView":1134
- *         if mslice.shape[i] > 1:
- *             f_stride = mslice.strides[i]
- *             break             # <<<<<<<<<<<<<<
- * 
- *     if abs_py_ssize_t(c_stride) <= abs_py_ssize_t(f_stride):
- */
-      goto __pyx_L7_break;
-
-      /* "View.MemoryView":1132
- * 
- *     for i in range(ndim):
- *         if mslice.shape[i] > 1:             # <<<<<<<<<<<<<<
- *             f_stride = mslice.strides[i]
- *             break
- */
-    }
-  }
-  __pyx_L7_break:;
-
-  /* "View.MemoryView":1136
- *             break
- * 
- *     if abs_py_ssize_t(c_stride) <= abs_py_ssize_t(f_stride):             # <<<<<<<<<<<<<<
- *         return 'C'
- *     else:
- */
-  __pyx_t_2 = ((abs_py_ssize_t(__pyx_v_c_stride) <= abs_py_ssize_t(__pyx_v_f_stride)) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":1137
- * 
- *     if abs_py_ssize_t(c_stride) <= abs_py_ssize_t(f_stride):
- *         return 'C'             # <<<<<<<<<<<<<<
- *     else:
- *         return 'F'
- */
-    __pyx_r = 'C';
-    goto __pyx_L0;
-
-    /* "View.MemoryView":1136
- *             break
- * 
- *     if abs_py_ssize_t(c_stride) <= abs_py_ssize_t(f_stride):             # <<<<<<<<<<<<<<
- *         return 'C'
- *     else:
- */
-  }
-
-  /* "View.MemoryView":1139
- *         return 'C'
- *     else:
- *         return 'F'             # <<<<<<<<<<<<<<
- * 
- * @cython.cdivision(True)
- */
-  /*else*/ {
-    __pyx_r = 'F';
-    goto __pyx_L0;
-  }
-
-  /* "View.MemoryView":1118
- * 
- * @cname('__pyx_get_best_slice_order')
- * cdef char get_best_order(__Pyx_memviewslice *mslice, int ndim) nogil:             # <<<<<<<<<<<<<<
- *     """
- *     Figure out the best memory access order for a given slice.
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1142
- * 
- * @cython.cdivision(True)
- * cdef void _copy_strided_to_strided(char *src_data, Py_ssize_t *src_strides,             # <<<<<<<<<<<<<<
- *                                    char *dst_data, Py_ssize_t *dst_strides,
- *                                    Py_ssize_t *src_shape, Py_ssize_t *dst_shape,
- */
-
-static void _copy_strided_to_strided(char *__pyx_v_src_data, Py_ssize_t *__pyx_v_src_strides, char *__pyx_v_dst_data, Py_ssize_t *__pyx_v_dst_strides, Py_ssize_t *__pyx_v_src_shape, Py_ssize_t *__pyx_v_dst_shape, int __pyx_v_ndim, size_t __pyx_v_itemsize) {
-  CYTHON_UNUSED Py_ssize_t __pyx_v_i;
-  CYTHON_UNUSED Py_ssize_t __pyx_v_src_extent;
-  Py_ssize_t __pyx_v_dst_extent;
-  Py_ssize_t __pyx_v_src_stride;
-  Py_ssize_t __pyx_v_dst_stride;
-  int __pyx_t_1;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  Py_ssize_t __pyx_t_4;
-  Py_ssize_t __pyx_t_5;
-  Py_ssize_t __pyx_t_6;
-
-  /* "View.MemoryView":1149
- * 
- *     cdef Py_ssize_t i
- *     cdef Py_ssize_t src_extent = src_shape[0]             # <<<<<<<<<<<<<<
- *     cdef Py_ssize_t dst_extent = dst_shape[0]
- *     cdef Py_ssize_t src_stride = src_strides[0]
- */
-  __pyx_v_src_extent = (__pyx_v_src_shape[0]);
-
-  /* "View.MemoryView":1150
- *     cdef Py_ssize_t i
- *     cdef Py_ssize_t src_extent = src_shape[0]
- *     cdef Py_ssize_t dst_extent = dst_shape[0]             # <<<<<<<<<<<<<<
- *     cdef Py_ssize_t src_stride = src_strides[0]
- *     cdef Py_ssize_t dst_stride = dst_strides[0]
- */
-  __pyx_v_dst_extent = (__pyx_v_dst_shape[0]);
-
-  /* "View.MemoryView":1151
- *     cdef Py_ssize_t src_extent = src_shape[0]
- *     cdef Py_ssize_t dst_extent = dst_shape[0]
- *     cdef Py_ssize_t src_stride = src_strides[0]             # <<<<<<<<<<<<<<
- *     cdef Py_ssize_t dst_stride = dst_strides[0]
- * 
- */
-  __pyx_v_src_stride = (__pyx_v_src_strides[0]);
-
-  /* "View.MemoryView":1152
- *     cdef Py_ssize_t dst_extent = dst_shape[0]
- *     cdef Py_ssize_t src_stride = src_strides[0]
- *     cdef Py_ssize_t dst_stride = dst_strides[0]             # <<<<<<<<<<<<<<
- * 
- *     if ndim == 1:
- */
-  __pyx_v_dst_stride = (__pyx_v_dst_strides[0]);
-
-  /* "View.MemoryView":1154
- *     cdef Py_ssize_t dst_stride = dst_strides[0]
- * 
- *     if ndim == 1:             # <<<<<<<<<<<<<<
- *        if (src_stride > 0 and dst_stride > 0 and
- *            <size_t> src_stride == itemsize == <size_t> dst_stride):
- */
-  __pyx_t_1 = ((__pyx_v_ndim == 1) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":1155
- * 
- *     if ndim == 1:
- *        if (src_stride > 0 and dst_stride > 0 and             # <<<<<<<<<<<<<<
- *            <size_t> src_stride == itemsize == <size_t> dst_stride):
- *            memcpy(dst_data, src_data, itemsize * dst_extent)
- */
-    __pyx_t_2 = ((__pyx_v_src_stride > 0) != 0);
-    if (__pyx_t_2) {
-    } else {
-      __pyx_t_1 = __pyx_t_2;
-      goto __pyx_L5_bool_binop_done;
-    }
-    __pyx_t_2 = ((__pyx_v_dst_stride > 0) != 0);
-    if (__pyx_t_2) {
-    } else {
-      __pyx_t_1 = __pyx_t_2;
-      goto __pyx_L5_bool_binop_done;
-    }
-
-    /* "View.MemoryView":1156
- *     if ndim == 1:
- *        if (src_stride > 0 and dst_stride > 0 and
- *            <size_t> src_stride == itemsize == <size_t> dst_stride):             # <<<<<<<<<<<<<<
- *            memcpy(dst_data, src_data, itemsize * dst_extent)
- *        else:
- */
-    __pyx_t_2 = (((size_t)__pyx_v_src_stride) == __pyx_v_itemsize);
-    if (__pyx_t_2) {
-      __pyx_t_2 = (__pyx_v_itemsize == ((size_t)__pyx_v_dst_stride));
-    }
-    __pyx_t_3 = (__pyx_t_2 != 0);
-    __pyx_t_1 = __pyx_t_3;
-    __pyx_L5_bool_binop_done:;
-
-    /* "View.MemoryView":1155
- * 
- *     if ndim == 1:
- *        if (src_stride > 0 and dst_stride > 0 and             # <<<<<<<<<<<<<<
- *            <size_t> src_stride == itemsize == <size_t> dst_stride):
- *            memcpy(dst_data, src_data, itemsize * dst_extent)
- */
-    if (__pyx_t_1) {
-
-      /* "View.MemoryView":1157
- *        if (src_stride > 0 and dst_stride > 0 and
- *            <size_t> src_stride == itemsize == <size_t> dst_stride):
- *            memcpy(dst_data, src_data, itemsize * dst_extent)             # <<<<<<<<<<<<<<
- *        else:
- *            for i in range(dst_extent):
- */
-      (void)(memcpy(__pyx_v_dst_data, __pyx_v_src_data, (__pyx_v_itemsize * __pyx_v_dst_extent)));
-
-      /* "View.MemoryView":1155
- * 
- *     if ndim == 1:
- *        if (src_stride > 0 and dst_stride > 0 and             # <<<<<<<<<<<<<<
- *            <size_t> src_stride == itemsize == <size_t> dst_stride):
- *            memcpy(dst_data, src_data, itemsize * dst_extent)
- */
-      goto __pyx_L4;
-    }
-
-    /* "View.MemoryView":1159
- *            memcpy(dst_data, src_data, itemsize * dst_extent)
- *        else:
- *            for i in range(dst_extent):             # <<<<<<<<<<<<<<
- *                memcpy(dst_data, src_data, itemsize)
- *                src_data += src_stride
- */
-    /*else*/ {
-      __pyx_t_4 = __pyx_v_dst_extent;
-      __pyx_t_5 = __pyx_t_4;
-      for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
-        __pyx_v_i = __pyx_t_6;
-
-        /* "View.MemoryView":1160
- *        else:
- *            for i in range(dst_extent):
- *                memcpy(dst_data, src_data, itemsize)             # <<<<<<<<<<<<<<
- *                src_data += src_stride
- *                dst_data += dst_stride
- */
-        (void)(memcpy(__pyx_v_dst_data, __pyx_v_src_data, __pyx_v_itemsize));
-
-        /* "View.MemoryView":1161
- *            for i in range(dst_extent):
- *                memcpy(dst_data, src_data, itemsize)
- *                src_data += src_stride             # <<<<<<<<<<<<<<
- *                dst_data += dst_stride
- *     else:
- */
-        __pyx_v_src_data = (__pyx_v_src_data + __pyx_v_src_stride);
-
-        /* "View.MemoryView":1162
- *                memcpy(dst_data, src_data, itemsize)
- *                src_data += src_stride
- *                dst_data += dst_stride             # <<<<<<<<<<<<<<
- *     else:
- *         for i in range(dst_extent):
- */
-        __pyx_v_dst_data = (__pyx_v_dst_data + __pyx_v_dst_stride);
-      }
-    }
-    __pyx_L4:;
-
-    /* "View.MemoryView":1154
- *     cdef Py_ssize_t dst_stride = dst_strides[0]
- * 
- *     if ndim == 1:             # <<<<<<<<<<<<<<
- *        if (src_stride > 0 and dst_stride > 0 and
- *            <size_t> src_stride == itemsize == <size_t> dst_stride):
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":1164
- *                dst_data += dst_stride
- *     else:
- *         for i in range(dst_extent):             # <<<<<<<<<<<<<<
- *             _copy_strided_to_strided(src_data, src_strides + 1,
- *                                      dst_data, dst_strides + 1,
- */
-  /*else*/ {
-    __pyx_t_4 = __pyx_v_dst_extent;
-    __pyx_t_5 = __pyx_t_4;
-    for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
-      __pyx_v_i = __pyx_t_6;
-
-      /* "View.MemoryView":1165
- *     else:
- *         for i in range(dst_extent):
- *             _copy_strided_to_strided(src_data, src_strides + 1,             # <<<<<<<<<<<<<<
- *                                      dst_data, dst_strides + 1,
- *                                      src_shape + 1, dst_shape + 1,
- */
-      _copy_strided_to_strided(__pyx_v_src_data, (__pyx_v_src_strides + 1), __pyx_v_dst_data, (__pyx_v_dst_strides + 1), (__pyx_v_src_shape + 1), (__pyx_v_dst_shape + 1), (__pyx_v_ndim - 1), __pyx_v_itemsize);
-
-      /* "View.MemoryView":1169
- *                                      src_shape + 1, dst_shape + 1,
- *                                      ndim - 1, itemsize)
- *             src_data += src_stride             # <<<<<<<<<<<<<<
- *             dst_data += dst_stride
- * 
- */
-      __pyx_v_src_data = (__pyx_v_src_data + __pyx_v_src_stride);
-
-      /* "View.MemoryView":1170
- *                                      ndim - 1, itemsize)
- *             src_data += src_stride
- *             dst_data += dst_stride             # <<<<<<<<<<<<<<
- * 
- * cdef void copy_strided_to_strided(__Pyx_memviewslice *src,
- */
-      __pyx_v_dst_data = (__pyx_v_dst_data + __pyx_v_dst_stride);
-    }
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":1142
- * 
- * @cython.cdivision(True)
- * cdef void _copy_strided_to_strided(char *src_data, Py_ssize_t *src_strides,             # <<<<<<<<<<<<<<
- *                                    char *dst_data, Py_ssize_t *dst_strides,
- *                                    Py_ssize_t *src_shape, Py_ssize_t *dst_shape,
- */
-
-  /* function exit code */
-}
-
-/* "View.MemoryView":1172
- *             dst_data += dst_stride
- * 
- * cdef void copy_strided_to_strided(__Pyx_memviewslice *src,             # <<<<<<<<<<<<<<
- *                                   __Pyx_memviewslice *dst,
- *                                   int ndim, size_t itemsize) nogil:
- */
-
-static void copy_strided_to_strided(__Pyx_memviewslice *__pyx_v_src, __Pyx_memviewslice *__pyx_v_dst, int __pyx_v_ndim, size_t __pyx_v_itemsize) {
-
-  /* "View.MemoryView":1175
- *                                   __Pyx_memviewslice *dst,
- *                                   int ndim, size_t itemsize) nogil:
- *     _copy_strided_to_strided(src.data, src.strides, dst.data, dst.strides,             # <<<<<<<<<<<<<<
- *                              src.shape, dst.shape, ndim, itemsize)
- * 
- */
-  _copy_strided_to_strided(__pyx_v_src->data, __pyx_v_src->strides, __pyx_v_dst->data, __pyx_v_dst->strides, __pyx_v_src->shape, __pyx_v_dst->shape, __pyx_v_ndim, __pyx_v_itemsize);
-
-  /* "View.MemoryView":1172
- *             dst_data += dst_stride
- * 
- * cdef void copy_strided_to_strided(__Pyx_memviewslice *src,             # <<<<<<<<<<<<<<
- *                                   __Pyx_memviewslice *dst,
- *                                   int ndim, size_t itemsize) nogil:
- */
-
-  /* function exit code */
-}
-
-/* "View.MemoryView":1179
- * 
- * @cname('__pyx_memoryview_slice_get_size')
- * cdef Py_ssize_t slice_get_size(__Pyx_memviewslice *src, int ndim) nogil:             # <<<<<<<<<<<<<<
- *     "Return the size of the memory occupied by the slice in number of bytes"
- *     cdef Py_ssize_t shape, size = src.memview.view.itemsize
- */
-
-static Py_ssize_t __pyx_memoryview_slice_get_size(__Pyx_memviewslice *__pyx_v_src, int __pyx_v_ndim) {
-  Py_ssize_t __pyx_v_shape;
-  Py_ssize_t __pyx_v_size;
-  Py_ssize_t __pyx_r;
-  Py_ssize_t __pyx_t_1;
-  Py_ssize_t *__pyx_t_2;
-  Py_ssize_t *__pyx_t_3;
-  Py_ssize_t *__pyx_t_4;
-
-  /* "View.MemoryView":1181
- * cdef Py_ssize_t slice_get_size(__Pyx_memviewslice *src, int ndim) nogil:
- *     "Return the size of the memory occupied by the slice in number of bytes"
- *     cdef Py_ssize_t shape, size = src.memview.view.itemsize             # <<<<<<<<<<<<<<
- * 
- *     for shape in src.shape[:ndim]:
- */
-  __pyx_t_1 = __pyx_v_src->memview->view.itemsize;
-  __pyx_v_size = __pyx_t_1;
-
-  /* "View.MemoryView":1183
- *     cdef Py_ssize_t shape, size = src.memview.view.itemsize
- * 
- *     for shape in src.shape[:ndim]:             # <<<<<<<<<<<<<<
- *         size *= shape
- * 
- */
-  __pyx_t_3 = (__pyx_v_src->shape + __pyx_v_ndim);
-  for (__pyx_t_4 = __pyx_v_src->shape; __pyx_t_4 < __pyx_t_3; __pyx_t_4++) {
-    __pyx_t_2 = __pyx_t_4;
-    __pyx_v_shape = (__pyx_t_2[0]);
-
-    /* "View.MemoryView":1184
- * 
- *     for shape in src.shape[:ndim]:
- *         size *= shape             # <<<<<<<<<<<<<<
- * 
- *     return size
- */
-    __pyx_v_size = (__pyx_v_size * __pyx_v_shape);
-  }
-
-  /* "View.MemoryView":1186
- *         size *= shape
- * 
- *     return size             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_fill_contig_strides_array')
- */
-  __pyx_r = __pyx_v_size;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":1179
- * 
- * @cname('__pyx_memoryview_slice_get_size')
- * cdef Py_ssize_t slice_get_size(__Pyx_memviewslice *src, int ndim) nogil:             # <<<<<<<<<<<<<<
- *     "Return the size of the memory occupied by the slice in number of bytes"
- *     cdef Py_ssize_t shape, size = src.memview.view.itemsize
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1189
- * 
- * @cname('__pyx_fill_contig_strides_array')
- * cdef Py_ssize_t fill_contig_strides_array(             # <<<<<<<<<<<<<<
- *                 Py_ssize_t *shape, Py_ssize_t *strides, Py_ssize_t stride,
- *                 int ndim, char order) nogil:
- */
-
-static Py_ssize_t __pyx_fill_contig_strides_array(Py_ssize_t *__pyx_v_shape, Py_ssize_t *__pyx_v_strides, Py_ssize_t __pyx_v_stride, int __pyx_v_ndim, char __pyx_v_order) {
-  int __pyx_v_idx;
-  Py_ssize_t __pyx_r;
-  int __pyx_t_1;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  int __pyx_t_4;
-
-  /* "View.MemoryView":1198
- *     cdef int idx
- * 
- *     if order == 'F':             # <<<<<<<<<<<<<<
- *         for idx in range(ndim):
- *             strides[idx] = stride
- */
-  __pyx_t_1 = ((__pyx_v_order == 'F') != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":1199
- * 
- *     if order == 'F':
- *         for idx in range(ndim):             # <<<<<<<<<<<<<<
- *             strides[idx] = stride
- *             stride *= shape[idx]
- */
-    __pyx_t_2 = __pyx_v_ndim;
-    __pyx_t_3 = __pyx_t_2;
-    for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
-      __pyx_v_idx = __pyx_t_4;
-
-      /* "View.MemoryView":1200
- *     if order == 'F':
- *         for idx in range(ndim):
- *             strides[idx] = stride             # <<<<<<<<<<<<<<
- *             stride *= shape[idx]
- *     else:
- */
-      (__pyx_v_strides[__pyx_v_idx]) = __pyx_v_stride;
-
-      /* "View.MemoryView":1201
- *         for idx in range(ndim):
- *             strides[idx] = stride
- *             stride *= shape[idx]             # <<<<<<<<<<<<<<
- *     else:
- *         for idx in range(ndim - 1, -1, -1):
- */
-      __pyx_v_stride = (__pyx_v_stride * (__pyx_v_shape[__pyx_v_idx]));
-    }
-
-    /* "View.MemoryView":1198
- *     cdef int idx
- * 
- *     if order == 'F':             # <<<<<<<<<<<<<<
- *         for idx in range(ndim):
- *             strides[idx] = stride
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":1203
- *             stride *= shape[idx]
- *     else:
- *         for idx in range(ndim - 1, -1, -1):             # <<<<<<<<<<<<<<
- *             strides[idx] = stride
- *             stride *= shape[idx]
- */
-  /*else*/ {
-    for (__pyx_t_2 = (__pyx_v_ndim - 1); __pyx_t_2 > -1; __pyx_t_2-=1) {
-      __pyx_v_idx = __pyx_t_2;
-
-      /* "View.MemoryView":1204
- *     else:
- *         for idx in range(ndim - 1, -1, -1):
- *             strides[idx] = stride             # <<<<<<<<<<<<<<
- *             stride *= shape[idx]
- * 
- */
-      (__pyx_v_strides[__pyx_v_idx]) = __pyx_v_stride;
-
-      /* "View.MemoryView":1205
- *         for idx in range(ndim - 1, -1, -1):
- *             strides[idx] = stride
- *             stride *= shape[idx]             # <<<<<<<<<<<<<<
- * 
- *     return stride
- */
-      __pyx_v_stride = (__pyx_v_stride * (__pyx_v_shape[__pyx_v_idx]));
-    }
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":1207
- *             stride *= shape[idx]
- * 
- *     return stride             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_copy_data_to_temp')
- */
-  __pyx_r = __pyx_v_stride;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":1189
- * 
- * @cname('__pyx_fill_contig_strides_array')
- * cdef Py_ssize_t fill_contig_strides_array(             # <<<<<<<<<<<<<<
- *                 Py_ssize_t *shape, Py_ssize_t *strides, Py_ssize_t stride,
- *                 int ndim, char order) nogil:
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1210
- * 
- * @cname('__pyx_memoryview_copy_data_to_temp')
- * cdef void *copy_data_to_temp(__Pyx_memviewslice *src,             # <<<<<<<<<<<<<<
- *                              __Pyx_memviewslice *tmpslice,
- *                              char order,
- */
-
-static void *__pyx_memoryview_copy_data_to_temp(__Pyx_memviewslice *__pyx_v_src, __Pyx_memviewslice *__pyx_v_tmpslice, char __pyx_v_order, int __pyx_v_ndim) {
-  int __pyx_v_i;
-  void *__pyx_v_result;
-  size_t __pyx_v_itemsize;
-  size_t __pyx_v_size;
-  void *__pyx_r;
-  Py_ssize_t __pyx_t_1;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  struct __pyx_memoryview_obj *__pyx_t_4;
-  int __pyx_t_5;
-  int __pyx_t_6;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-
-  /* "View.MemoryView":1221
- *     cdef void *result
- * 
- *     cdef size_t itemsize = src.memview.view.itemsize             # <<<<<<<<<<<<<<
- *     cdef size_t size = slice_get_size(src, ndim)
- * 
- */
-  __pyx_t_1 = __pyx_v_src->memview->view.itemsize;
-  __pyx_v_itemsize = __pyx_t_1;
-
-  /* "View.MemoryView":1222
- * 
- *     cdef size_t itemsize = src.memview.view.itemsize
- *     cdef size_t size = slice_get_size(src, ndim)             # <<<<<<<<<<<<<<
- * 
- *     result = malloc(size)
- */
-  __pyx_v_size = __pyx_memoryview_slice_get_size(__pyx_v_src, __pyx_v_ndim);
-
-  /* "View.MemoryView":1224
- *     cdef size_t size = slice_get_size(src, ndim)
- * 
- *     result = malloc(size)             # <<<<<<<<<<<<<<
- *     if not result:
- *         _err(MemoryError, NULL)
- */
-  __pyx_v_result = malloc(__pyx_v_size);
-
-  /* "View.MemoryView":1225
- * 
- *     result = malloc(size)
- *     if not result:             # <<<<<<<<<<<<<<
- *         _err(MemoryError, NULL)
- * 
- */
-  __pyx_t_2 = ((!(__pyx_v_result != 0)) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":1226
- *     result = malloc(size)
- *     if not result:
- *         _err(MemoryError, NULL)             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    __pyx_t_3 = __pyx_memoryview_err(__pyx_builtin_MemoryError, NULL); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(2, 1226, __pyx_L1_error)
-
-    /* "View.MemoryView":1225
- * 
- *     result = malloc(size)
- *     if not result:             # <<<<<<<<<<<<<<
- *         _err(MemoryError, NULL)
- * 
- */
-  }
-
-  /* "View.MemoryView":1229
- * 
- * 
- *     tmpslice.data = <char *> result             # <<<<<<<<<<<<<<
- *     tmpslice.memview = src.memview
- *     for i in range(ndim):
- */
-  __pyx_v_tmpslice->data = ((char *)__pyx_v_result);
-
-  /* "View.MemoryView":1230
- * 
- *     tmpslice.data = <char *> result
- *     tmpslice.memview = src.memview             # <<<<<<<<<<<<<<
- *     for i in range(ndim):
- *         tmpslice.shape[i] = src.shape[i]
- */
-  __pyx_t_4 = __pyx_v_src->memview;
-  __pyx_v_tmpslice->memview = __pyx_t_4;
-
-  /* "View.MemoryView":1231
- *     tmpslice.data = <char *> result
- *     tmpslice.memview = src.memview
- *     for i in range(ndim):             # <<<<<<<<<<<<<<
- *         tmpslice.shape[i] = src.shape[i]
- *         tmpslice.suboffsets[i] = -1
- */
-  __pyx_t_3 = __pyx_v_ndim;
-  __pyx_t_5 = __pyx_t_3;
-  for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
-    __pyx_v_i = __pyx_t_6;
-
-    /* "View.MemoryView":1232
- *     tmpslice.memview = src.memview
- *     for i in range(ndim):
- *         tmpslice.shape[i] = src.shape[i]             # <<<<<<<<<<<<<<
- *         tmpslice.suboffsets[i] = -1
- * 
- */
-    (__pyx_v_tmpslice->shape[__pyx_v_i]) = (__pyx_v_src->shape[__pyx_v_i]);
-
-    /* "View.MemoryView":1233
- *     for i in range(ndim):
- *         tmpslice.shape[i] = src.shape[i]
- *         tmpslice.suboffsets[i] = -1             # <<<<<<<<<<<<<<
- * 
- *     fill_contig_strides_array(&tmpslice.shape[0], &tmpslice.strides[0], itemsize,
- */
-    (__pyx_v_tmpslice->suboffsets[__pyx_v_i]) = -1L;
-  }
-
-  /* "View.MemoryView":1235
- *         tmpslice.suboffsets[i] = -1
- * 
- *     fill_contig_strides_array(&tmpslice.shape[0], &tmpslice.strides[0], itemsize,             # <<<<<<<<<<<<<<
- *                               ndim, order)
- * 
- */
-  (void)(__pyx_fill_contig_strides_array((&(__pyx_v_tmpslice->shape[0])), (&(__pyx_v_tmpslice->strides[0])), __pyx_v_itemsize, __pyx_v_ndim, __pyx_v_order));
-
-  /* "View.MemoryView":1239
- * 
- * 
- *     for i in range(ndim):             # <<<<<<<<<<<<<<
- *         if tmpslice.shape[i] == 1:
- *             tmpslice.strides[i] = 0
- */
-  __pyx_t_3 = __pyx_v_ndim;
-  __pyx_t_5 = __pyx_t_3;
-  for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
-    __pyx_v_i = __pyx_t_6;
-
-    /* "View.MemoryView":1240
- * 
- *     for i in range(ndim):
- *         if tmpslice.shape[i] == 1:             # <<<<<<<<<<<<<<
- *             tmpslice.strides[i] = 0
- * 
- */
-    __pyx_t_2 = (((__pyx_v_tmpslice->shape[__pyx_v_i]) == 1) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":1241
- *     for i in range(ndim):
- *         if tmpslice.shape[i] == 1:
- *             tmpslice.strides[i] = 0             # <<<<<<<<<<<<<<
- * 
- *     if slice_is_contig(src[0], order, ndim):
- */
-      (__pyx_v_tmpslice->strides[__pyx_v_i]) = 0;
-
-      /* "View.MemoryView":1240
- * 
- *     for i in range(ndim):
- *         if tmpslice.shape[i] == 1:             # <<<<<<<<<<<<<<
- *             tmpslice.strides[i] = 0
- * 
- */
-    }
-  }
-
-  /* "View.MemoryView":1243
- *             tmpslice.strides[i] = 0
- * 
- *     if slice_is_contig(src[0], order, ndim):             # <<<<<<<<<<<<<<
- *         memcpy(result, src.data, size)
- *     else:
- */
-  __pyx_t_2 = (__pyx_memviewslice_is_contig((__pyx_v_src[0]), __pyx_v_order, __pyx_v_ndim) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":1244
- * 
- *     if slice_is_contig(src[0], order, ndim):
- *         memcpy(result, src.data, size)             # <<<<<<<<<<<<<<
- *     else:
- *         copy_strided_to_strided(src, tmpslice, ndim, itemsize)
- */
-    (void)(memcpy(__pyx_v_result, __pyx_v_src->data, __pyx_v_size));
-
-    /* "View.MemoryView":1243
- *             tmpslice.strides[i] = 0
- * 
- *     if slice_is_contig(src[0], order, ndim):             # <<<<<<<<<<<<<<
- *         memcpy(result, src.data, size)
- *     else:
- */
-    goto __pyx_L9;
-  }
-
-  /* "View.MemoryView":1246
- *         memcpy(result, src.data, size)
- *     else:
- *         copy_strided_to_strided(src, tmpslice, ndim, itemsize)             # <<<<<<<<<<<<<<
- * 
- *     return result
- */
-  /*else*/ {
-    copy_strided_to_strided(__pyx_v_src, __pyx_v_tmpslice, __pyx_v_ndim, __pyx_v_itemsize);
-  }
-  __pyx_L9:;
-
-  /* "View.MemoryView":1248
- *         copy_strided_to_strided(src, tmpslice, ndim, itemsize)
- * 
- *     return result             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_r = __pyx_v_result;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":1210
- * 
- * @cname('__pyx_memoryview_copy_data_to_temp')
- * cdef void *copy_data_to_temp(__Pyx_memviewslice *src,             # <<<<<<<<<<<<<<
- *                              __Pyx_memviewslice *tmpslice,
- *                              char order,
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  {
-    #ifdef WITH_THREAD
-    PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-    #endif
-    __Pyx_AddTraceback("View.MemoryView.copy_data_to_temp", __pyx_clineno, __pyx_lineno, __pyx_filename);
-    #ifdef WITH_THREAD
-    __Pyx_PyGILState_Release(__pyx_gilstate_save);
-    #endif
-  }
-  __pyx_r = NULL;
-  __pyx_L0:;
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1253
- * 
- * @cname('__pyx_memoryview_err_extents')
- * cdef int _err_extents(int i, Py_ssize_t extent1,             # <<<<<<<<<<<<<<
- *                              Py_ssize_t extent2) except -1 with gil:
- *     raise ValueError("got differing extents in dimension %d (got %d and %d)" %
- */
-
-static int __pyx_memoryview_err_extents(int __pyx_v_i, Py_ssize_t __pyx_v_extent1, Py_ssize_t __pyx_v_extent2) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  #ifdef WITH_THREAD
-  PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-  #endif
-  __Pyx_RefNannySetupContext("_err_extents", 0);
-
-  /* "View.MemoryView":1256
- *                              Py_ssize_t extent2) except -1 with gil:
- *     raise ValueError("got differing extents in dimension %d (got %d and %d)" %
- *                                                         (i, extent1, extent2))             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_err_dim')
- */
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_i); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 1256, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = PyInt_FromSsize_t(__pyx_v_extent1); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 1256, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyInt_FromSsize_t(__pyx_v_extent2); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1256, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 1256, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
-  __Pyx_GIVEREF(__pyx_t_1);
-  PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_2);
-  PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_2);
-  __Pyx_GIVEREF(__pyx_t_3);
-  PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_t_3);
-  __pyx_t_1 = 0;
-  __pyx_t_2 = 0;
-  __pyx_t_3 = 0;
-
-  /* "View.MemoryView":1255
- * cdef int _err_extents(int i, Py_ssize_t extent1,
- *                              Py_ssize_t extent2) except -1 with gil:
- *     raise ValueError("got differing extents in dimension %d (got %d and %d)" %             # <<<<<<<<<<<<<<
- *                                                         (i, extent1, extent2))
- * 
- */
-  __pyx_t_3 = __Pyx_PyString_Format(__pyx_kp_s_got_differing_extents_in_dimensi, __pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1255, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 1255, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __Pyx_Raise(__pyx_t_4, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  __PYX_ERR(2, 1255, __pyx_L1_error)
-
-  /* "View.MemoryView":1253
- * 
- * @cname('__pyx_memoryview_err_extents')
- * cdef int _err_extents(int i, Py_ssize_t extent1,             # <<<<<<<<<<<<<<
- *                              Py_ssize_t extent2) except -1 with gil:
- *     raise ValueError("got differing extents in dimension %d (got %d and %d)" %
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_AddTraceback("View.MemoryView._err_extents", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  __Pyx_RefNannyFinishContext();
-  #ifdef WITH_THREAD
-  __Pyx_PyGILState_Release(__pyx_gilstate_save);
-  #endif
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1259
- * 
- * @cname('__pyx_memoryview_err_dim')
- * cdef int _err_dim(object error, char *msg, int dim) except -1 with gil:             # <<<<<<<<<<<<<<
- *     raise error(msg.decode('ascii') % dim)
- * 
- */
-
-static int __pyx_memoryview_err_dim(PyObject *__pyx_v_error, char *__pyx_v_msg, int __pyx_v_dim) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  #ifdef WITH_THREAD
-  PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-  #endif
-  __Pyx_RefNannySetupContext("_err_dim", 0);
-  __Pyx_INCREF(__pyx_v_error);
-
-  /* "View.MemoryView":1260
- * @cname('__pyx_memoryview_err_dim')
- * cdef int _err_dim(object error, char *msg, int dim) except -1 with gil:
- *     raise error(msg.decode('ascii') % dim)             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_err')
- */
-  __pyx_t_2 = __Pyx_decode_c_string(__pyx_v_msg, 0, strlen(__pyx_v_msg), NULL, NULL, PyUnicode_DecodeASCII); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 1260, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyInt_From_int(__pyx_v_dim); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1260, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = PyUnicode_Format(__pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 1260, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __Pyx_INCREF(__pyx_v_error);
-  __pyx_t_3 = __pyx_v_error; __pyx_t_2 = NULL;
-  if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
-    __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
-    if (likely(__pyx_t_2)) {
-      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
-      __Pyx_INCREF(__pyx_t_2);
-      __Pyx_INCREF(function);
-      __Pyx_DECREF_SET(__pyx_t_3, function);
-    }
-  }
-  __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_2, __pyx_t_4) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 1260, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 1260, __pyx_L1_error)
-
-  /* "View.MemoryView":1259
- * 
- * @cname('__pyx_memoryview_err_dim')
- * cdef int _err_dim(object error, char *msg, int dim) except -1 with gil:             # <<<<<<<<<<<<<<
- *     raise error(msg.decode('ascii') % dim)
- * 
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_AddTraceback("View.MemoryView._err_dim", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  __Pyx_XDECREF(__pyx_v_error);
-  __Pyx_RefNannyFinishContext();
-  #ifdef WITH_THREAD
-  __Pyx_PyGILState_Release(__pyx_gilstate_save);
-  #endif
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1263
- * 
- * @cname('__pyx_memoryview_err')
- * cdef int _err(object error, char *msg) except -1 with gil:             # <<<<<<<<<<<<<<
- *     if msg != NULL:
- *         raise error(msg.decode('ascii'))
- */
-
-static int __pyx_memoryview_err(PyObject *__pyx_v_error, char *__pyx_v_msg) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  PyObject *__pyx_t_4 = NULL;
-  PyObject *__pyx_t_5 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  #ifdef WITH_THREAD
-  PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-  #endif
-  __Pyx_RefNannySetupContext("_err", 0);
-  __Pyx_INCREF(__pyx_v_error);
-
-  /* "View.MemoryView":1264
- * @cname('__pyx_memoryview_err')
- * cdef int _err(object error, char *msg) except -1 with gil:
- *     if msg != NULL:             # <<<<<<<<<<<<<<
- *         raise error(msg.decode('ascii'))
- *     else:
- */
-  __pyx_t_1 = ((__pyx_v_msg != NULL) != 0);
-  if (unlikely(__pyx_t_1)) {
-
-    /* "View.MemoryView":1265
- * cdef int _err(object error, char *msg) except -1 with gil:
- *     if msg != NULL:
- *         raise error(msg.decode('ascii'))             # <<<<<<<<<<<<<<
- *     else:
- *         raise error
- */
-    __pyx_t_3 = __Pyx_decode_c_string(__pyx_v_msg, 0, strlen(__pyx_v_msg), NULL, NULL, PyUnicode_DecodeASCII); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1265, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_INCREF(__pyx_v_error);
-    __pyx_t_4 = __pyx_v_error; __pyx_t_5 = NULL;
-    if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
-      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
-      if (likely(__pyx_t_5)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
-        __Pyx_INCREF(__pyx_t_5);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_4, function);
-      }
-    }
-    __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_5, __pyx_t_3) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_3);
-    __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 1265, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __Pyx_Raise(__pyx_t_2, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(2, 1265, __pyx_L1_error)
-
-    /* "View.MemoryView":1264
- * @cname('__pyx_memoryview_err')
- * cdef int _err(object error, char *msg) except -1 with gil:
- *     if msg != NULL:             # <<<<<<<<<<<<<<
- *         raise error(msg.decode('ascii'))
- *     else:
- */
-  }
-
-  /* "View.MemoryView":1267
- *         raise error(msg.decode('ascii'))
- *     else:
- *         raise error             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_copy_contents')
- */
-  /*else*/ {
-    __Pyx_Raise(__pyx_v_error, 0, 0, 0);
-    __PYX_ERR(2, 1267, __pyx_L1_error)
-  }
-
-  /* "View.MemoryView":1263
- * 
- * @cname('__pyx_memoryview_err')
- * cdef int _err(object error, char *msg) except -1 with gil:             # <<<<<<<<<<<<<<
- *     if msg != NULL:
- *         raise error(msg.decode('ascii'))
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_AddTraceback("View.MemoryView._err", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  __Pyx_XDECREF(__pyx_v_error);
-  __Pyx_RefNannyFinishContext();
-  #ifdef WITH_THREAD
-  __Pyx_PyGILState_Release(__pyx_gilstate_save);
-  #endif
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1270
- * 
- * @cname('__pyx_memoryview_copy_contents')
- * cdef int memoryview_copy_contents(__Pyx_memviewslice src,             # <<<<<<<<<<<<<<
- *                                   __Pyx_memviewslice dst,
- *                                   int src_ndim, int dst_ndim,
- */
-
-static int __pyx_memoryview_copy_contents(__Pyx_memviewslice __pyx_v_src, __Pyx_memviewslice __pyx_v_dst, int __pyx_v_src_ndim, int __pyx_v_dst_ndim, int __pyx_v_dtype_is_object) {
-  void *__pyx_v_tmpdata;
-  size_t __pyx_v_itemsize;
-  int __pyx_v_i;
-  char __pyx_v_order;
-  int __pyx_v_broadcasting;
-  int __pyx_v_direct_copy;
-  __Pyx_memviewslice __pyx_v_tmp;
-  int __pyx_v_ndim;
-  int __pyx_r;
-  Py_ssize_t __pyx_t_1;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  int __pyx_t_4;
-  int __pyx_t_5;
-  int __pyx_t_6;
-  void *__pyx_t_7;
-  int __pyx_t_8;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-
-  /* "View.MemoryView":1278
- *     Check for overlapping memory and verify the shapes.
- *     """
- *     cdef void *tmpdata = NULL             # <<<<<<<<<<<<<<
- *     cdef size_t itemsize = src.memview.view.itemsize
- *     cdef int i
- */
-  __pyx_v_tmpdata = NULL;
-
-  /* "View.MemoryView":1279
- *     """
- *     cdef void *tmpdata = NULL
- *     cdef size_t itemsize = src.memview.view.itemsize             # <<<<<<<<<<<<<<
- *     cdef int i
- *     cdef char order = get_best_order(&src, src_ndim)
- */
-  __pyx_t_1 = __pyx_v_src.memview->view.itemsize;
-  __pyx_v_itemsize = __pyx_t_1;
-
-  /* "View.MemoryView":1281
- *     cdef size_t itemsize = src.memview.view.itemsize
- *     cdef int i
- *     cdef char order = get_best_order(&src, src_ndim)             # <<<<<<<<<<<<<<
- *     cdef bint broadcasting = False
- *     cdef bint direct_copy = False
- */
-  __pyx_v_order = __pyx_get_best_slice_order((&__pyx_v_src), __pyx_v_src_ndim);
-
-  /* "View.MemoryView":1282
- *     cdef int i
- *     cdef char order = get_best_order(&src, src_ndim)
- *     cdef bint broadcasting = False             # <<<<<<<<<<<<<<
- *     cdef bint direct_copy = False
- *     cdef __Pyx_memviewslice tmp
- */
-  __pyx_v_broadcasting = 0;
-
-  /* "View.MemoryView":1283
- *     cdef char order = get_best_order(&src, src_ndim)
- *     cdef bint broadcasting = False
- *     cdef bint direct_copy = False             # <<<<<<<<<<<<<<
- *     cdef __Pyx_memviewslice tmp
- * 
- */
-  __pyx_v_direct_copy = 0;
-
-  /* "View.MemoryView":1286
- *     cdef __Pyx_memviewslice tmp
- * 
- *     if src_ndim < dst_ndim:             # <<<<<<<<<<<<<<
- *         broadcast_leading(&src, src_ndim, dst_ndim)
- *     elif dst_ndim < src_ndim:
- */
-  __pyx_t_2 = ((__pyx_v_src_ndim < __pyx_v_dst_ndim) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":1287
- * 
- *     if src_ndim < dst_ndim:
- *         broadcast_leading(&src, src_ndim, dst_ndim)             # <<<<<<<<<<<<<<
- *     elif dst_ndim < src_ndim:
- *         broadcast_leading(&dst, dst_ndim, src_ndim)
- */
-    __pyx_memoryview_broadcast_leading((&__pyx_v_src), __pyx_v_src_ndim, __pyx_v_dst_ndim);
-
-    /* "View.MemoryView":1286
- *     cdef __Pyx_memviewslice tmp
- * 
- *     if src_ndim < dst_ndim:             # <<<<<<<<<<<<<<
- *         broadcast_leading(&src, src_ndim, dst_ndim)
- *     elif dst_ndim < src_ndim:
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":1288
- *     if src_ndim < dst_ndim:
- *         broadcast_leading(&src, src_ndim, dst_ndim)
- *     elif dst_ndim < src_ndim:             # <<<<<<<<<<<<<<
- *         broadcast_leading(&dst, dst_ndim, src_ndim)
- * 
- */
-  __pyx_t_2 = ((__pyx_v_dst_ndim < __pyx_v_src_ndim) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":1289
- *         broadcast_leading(&src, src_ndim, dst_ndim)
- *     elif dst_ndim < src_ndim:
- *         broadcast_leading(&dst, dst_ndim, src_ndim)             # <<<<<<<<<<<<<<
- * 
- *     cdef int ndim = max(src_ndim, dst_ndim)
- */
-    __pyx_memoryview_broadcast_leading((&__pyx_v_dst), __pyx_v_dst_ndim, __pyx_v_src_ndim);
-
-    /* "View.MemoryView":1288
- *     if src_ndim < dst_ndim:
- *         broadcast_leading(&src, src_ndim, dst_ndim)
- *     elif dst_ndim < src_ndim:             # <<<<<<<<<<<<<<
- *         broadcast_leading(&dst, dst_ndim, src_ndim)
- * 
- */
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":1291
- *         broadcast_leading(&dst, dst_ndim, src_ndim)
- * 
- *     cdef int ndim = max(src_ndim, dst_ndim)             # <<<<<<<<<<<<<<
- * 
- *     for i in range(ndim):
- */
-  __pyx_t_3 = __pyx_v_dst_ndim;
-  __pyx_t_4 = __pyx_v_src_ndim;
-  if (((__pyx_t_3 > __pyx_t_4) != 0)) {
-    __pyx_t_5 = __pyx_t_3;
-  } else {
-    __pyx_t_5 = __pyx_t_4;
-  }
-  __pyx_v_ndim = __pyx_t_5;
-
-  /* "View.MemoryView":1293
- *     cdef int ndim = max(src_ndim, dst_ndim)
- * 
- *     for i in range(ndim):             # <<<<<<<<<<<<<<
- *         if src.shape[i] != dst.shape[i]:
- *             if src.shape[i] == 1:
- */
-  __pyx_t_5 = __pyx_v_ndim;
-  __pyx_t_3 = __pyx_t_5;
-  for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
-    __pyx_v_i = __pyx_t_4;
-
-    /* "View.MemoryView":1294
- * 
- *     for i in range(ndim):
- *         if src.shape[i] != dst.shape[i]:             # <<<<<<<<<<<<<<
- *             if src.shape[i] == 1:
- *                 broadcasting = True
- */
-    __pyx_t_2 = (((__pyx_v_src.shape[__pyx_v_i]) != (__pyx_v_dst.shape[__pyx_v_i])) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":1295
- *     for i in range(ndim):
- *         if src.shape[i] != dst.shape[i]:
- *             if src.shape[i] == 1:             # <<<<<<<<<<<<<<
- *                 broadcasting = True
- *                 src.strides[i] = 0
- */
-      __pyx_t_2 = (((__pyx_v_src.shape[__pyx_v_i]) == 1) != 0);
-      if (__pyx_t_2) {
-
-        /* "View.MemoryView":1296
- *         if src.shape[i] != dst.shape[i]:
- *             if src.shape[i] == 1:
- *                 broadcasting = True             # <<<<<<<<<<<<<<
- *                 src.strides[i] = 0
- *             else:
- */
-        __pyx_v_broadcasting = 1;
-
-        /* "View.MemoryView":1297
- *             if src.shape[i] == 1:
- *                 broadcasting = True
- *                 src.strides[i] = 0             # <<<<<<<<<<<<<<
- *             else:
- *                 _err_extents(i, dst.shape[i], src.shape[i])
- */
-        (__pyx_v_src.strides[__pyx_v_i]) = 0;
-
-        /* "View.MemoryView":1295
- *     for i in range(ndim):
- *         if src.shape[i] != dst.shape[i]:
- *             if src.shape[i] == 1:             # <<<<<<<<<<<<<<
- *                 broadcasting = True
- *                 src.strides[i] = 0
- */
-        goto __pyx_L7;
-      }
-
-      /* "View.MemoryView":1299
- *                 src.strides[i] = 0
- *             else:
- *                 _err_extents(i, dst.shape[i], src.shape[i])             # <<<<<<<<<<<<<<
- * 
- *         if src.suboffsets[i] >= 0:
- */
-      /*else*/ {
-        __pyx_t_6 = __pyx_memoryview_err_extents(__pyx_v_i, (__pyx_v_dst.shape[__pyx_v_i]), (__pyx_v_src.shape[__pyx_v_i])); if (unlikely(__pyx_t_6 == ((int)-1))) __PYX_ERR(2, 1299, __pyx_L1_error)
-      }
-      __pyx_L7:;
-
-      /* "View.MemoryView":1294
- * 
- *     for i in range(ndim):
- *         if src.shape[i] != dst.shape[i]:             # <<<<<<<<<<<<<<
- *             if src.shape[i] == 1:
- *                 broadcasting = True
- */
-    }
-
-    /* "View.MemoryView":1301
- *                 _err_extents(i, dst.shape[i], src.shape[i])
- * 
- *         if src.suboffsets[i] >= 0:             # <<<<<<<<<<<<<<
- *             _err_dim(ValueError, "Dimension %d is not direct", i)
- * 
- */
-    __pyx_t_2 = (((__pyx_v_src.suboffsets[__pyx_v_i]) >= 0) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":1302
- * 
- *         if src.suboffsets[i] >= 0:
- *             _err_dim(ValueError, "Dimension %d is not direct", i)             # <<<<<<<<<<<<<<
- * 
- *     if slices_overlap(&src, &dst, ndim, itemsize):
- */
-      __pyx_t_6 = __pyx_memoryview_err_dim(__pyx_builtin_ValueError, ((char *)"Dimension %d is not direct"), __pyx_v_i); if (unlikely(__pyx_t_6 == ((int)-1))) __PYX_ERR(2, 1302, __pyx_L1_error)
-
-      /* "View.MemoryView":1301
- *                 _err_extents(i, dst.shape[i], src.shape[i])
- * 
- *         if src.suboffsets[i] >= 0:             # <<<<<<<<<<<<<<
- *             _err_dim(ValueError, "Dimension %d is not direct", i)
- * 
- */
-    }
-  }
-
-  /* "View.MemoryView":1304
- *             _err_dim(ValueError, "Dimension %d is not direct", i)
- * 
- *     if slices_overlap(&src, &dst, ndim, itemsize):             # <<<<<<<<<<<<<<
- * 
- *         if not slice_is_contig(src, order, ndim):
- */
-  __pyx_t_2 = (__pyx_slices_overlap((&__pyx_v_src), (&__pyx_v_dst), __pyx_v_ndim, __pyx_v_itemsize) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":1306
- *     if slices_overlap(&src, &dst, ndim, itemsize):
- * 
- *         if not slice_is_contig(src, order, ndim):             # <<<<<<<<<<<<<<
- *             order = get_best_order(&dst, ndim)
- * 
- */
-    __pyx_t_2 = ((!(__pyx_memviewslice_is_contig(__pyx_v_src, __pyx_v_order, __pyx_v_ndim) != 0)) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":1307
- * 
- *         if not slice_is_contig(src, order, ndim):
- *             order = get_best_order(&dst, ndim)             # <<<<<<<<<<<<<<
- * 
- *         tmpdata = copy_data_to_temp(&src, &tmp, order, ndim)
- */
-      __pyx_v_order = __pyx_get_best_slice_order((&__pyx_v_dst), __pyx_v_ndim);
-
-      /* "View.MemoryView":1306
- *     if slices_overlap(&src, &dst, ndim, itemsize):
- * 
- *         if not slice_is_contig(src, order, ndim):             # <<<<<<<<<<<<<<
- *             order = get_best_order(&dst, ndim)
- * 
- */
-    }
-
-    /* "View.MemoryView":1309
- *             order = get_best_order(&dst, ndim)
- * 
- *         tmpdata = copy_data_to_temp(&src, &tmp, order, ndim)             # <<<<<<<<<<<<<<
- *         src = tmp
- * 
- */
-    __pyx_t_7 = __pyx_memoryview_copy_data_to_temp((&__pyx_v_src), (&__pyx_v_tmp), __pyx_v_order, __pyx_v_ndim); if (unlikely(__pyx_t_7 == ((void *)NULL))) __PYX_ERR(2, 1309, __pyx_L1_error)
-    __pyx_v_tmpdata = __pyx_t_7;
-
-    /* "View.MemoryView":1310
- * 
- *         tmpdata = copy_data_to_temp(&src, &tmp, order, ndim)
- *         src = tmp             # <<<<<<<<<<<<<<
- * 
- *     if not broadcasting:
- */
-    __pyx_v_src = __pyx_v_tmp;
-
-    /* "View.MemoryView":1304
- *             _err_dim(ValueError, "Dimension %d is not direct", i)
- * 
- *     if slices_overlap(&src, &dst, ndim, itemsize):             # <<<<<<<<<<<<<<
- * 
- *         if not slice_is_contig(src, order, ndim):
- */
-  }
-
-  /* "View.MemoryView":1312
- *         src = tmp
- * 
- *     if not broadcasting:             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_2 = ((!(__pyx_v_broadcasting != 0)) != 0);
-  if (__pyx_t_2) {
-
-    /* "View.MemoryView":1315
- * 
- * 
- *         if slice_is_contig(src, 'C', ndim):             # <<<<<<<<<<<<<<
- *             direct_copy = slice_is_contig(dst, 'C', ndim)
- *         elif slice_is_contig(src, 'F', ndim):
- */
-    __pyx_t_2 = (__pyx_memviewslice_is_contig(__pyx_v_src, 'C', __pyx_v_ndim) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":1316
- * 
- *         if slice_is_contig(src, 'C', ndim):
- *             direct_copy = slice_is_contig(dst, 'C', ndim)             # <<<<<<<<<<<<<<
- *         elif slice_is_contig(src, 'F', ndim):
- *             direct_copy = slice_is_contig(dst, 'F', ndim)
- */
-      __pyx_v_direct_copy = __pyx_memviewslice_is_contig(__pyx_v_dst, 'C', __pyx_v_ndim);
-
-      /* "View.MemoryView":1315
- * 
- * 
- *         if slice_is_contig(src, 'C', ndim):             # <<<<<<<<<<<<<<
- *             direct_copy = slice_is_contig(dst, 'C', ndim)
- *         elif slice_is_contig(src, 'F', ndim):
- */
-      goto __pyx_L12;
-    }
-
-    /* "View.MemoryView":1317
- *         if slice_is_contig(src, 'C', ndim):
- *             direct_copy = slice_is_contig(dst, 'C', ndim)
- *         elif slice_is_contig(src, 'F', ndim):             # <<<<<<<<<<<<<<
- *             direct_copy = slice_is_contig(dst, 'F', ndim)
- * 
- */
-    __pyx_t_2 = (__pyx_memviewslice_is_contig(__pyx_v_src, 'F', __pyx_v_ndim) != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":1318
- *             direct_copy = slice_is_contig(dst, 'C', ndim)
- *         elif slice_is_contig(src, 'F', ndim):
- *             direct_copy = slice_is_contig(dst, 'F', ndim)             # <<<<<<<<<<<<<<
- * 
- *         if direct_copy:
- */
-      __pyx_v_direct_copy = __pyx_memviewslice_is_contig(__pyx_v_dst, 'F', __pyx_v_ndim);
-
-      /* "View.MemoryView":1317
- *         if slice_is_contig(src, 'C', ndim):
- *             direct_copy = slice_is_contig(dst, 'C', ndim)
- *         elif slice_is_contig(src, 'F', ndim):             # <<<<<<<<<<<<<<
- *             direct_copy = slice_is_contig(dst, 'F', ndim)
- * 
- */
-    }
-    __pyx_L12:;
-
-    /* "View.MemoryView":1320
- *             direct_copy = slice_is_contig(dst, 'F', ndim)
- * 
- *         if direct_copy:             # <<<<<<<<<<<<<<
- * 
- *             refcount_copying(&dst, dtype_is_object, ndim, False)
- */
-    __pyx_t_2 = (__pyx_v_direct_copy != 0);
-    if (__pyx_t_2) {
-
-      /* "View.MemoryView":1322
- *         if direct_copy:
- * 
- *             refcount_copying(&dst, dtype_is_object, ndim, False)             # <<<<<<<<<<<<<<
- *             memcpy(dst.data, src.data, slice_get_size(&src, ndim))
- *             refcount_copying(&dst, dtype_is_object, ndim, True)
- */
-      __pyx_memoryview_refcount_copying((&__pyx_v_dst), __pyx_v_dtype_is_object, __pyx_v_ndim, 0);
-
-      /* "View.MemoryView":1323
- * 
- *             refcount_copying(&dst, dtype_is_object, ndim, False)
- *             memcpy(dst.data, src.data, slice_get_size(&src, ndim))             # <<<<<<<<<<<<<<
- *             refcount_copying(&dst, dtype_is_object, ndim, True)
- *             free(tmpdata)
- */
-      (void)(memcpy(__pyx_v_dst.data, __pyx_v_src.data, __pyx_memoryview_slice_get_size((&__pyx_v_src), __pyx_v_ndim)));
-
-      /* "View.MemoryView":1324
- *             refcount_copying(&dst, dtype_is_object, ndim, False)
- *             memcpy(dst.data, src.data, slice_get_size(&src, ndim))
- *             refcount_copying(&dst, dtype_is_object, ndim, True)             # <<<<<<<<<<<<<<
- *             free(tmpdata)
- *             return 0
- */
-      __pyx_memoryview_refcount_copying((&__pyx_v_dst), __pyx_v_dtype_is_object, __pyx_v_ndim, 1);
-
-      /* "View.MemoryView":1325
- *             memcpy(dst.data, src.data, slice_get_size(&src, ndim))
- *             refcount_copying(&dst, dtype_is_object, ndim, True)
- *             free(tmpdata)             # <<<<<<<<<<<<<<
- *             return 0
- * 
- */
-      free(__pyx_v_tmpdata);
-
-      /* "View.MemoryView":1326
- *             refcount_copying(&dst, dtype_is_object, ndim, True)
- *             free(tmpdata)
- *             return 0             # <<<<<<<<<<<<<<
- * 
- *     if order == 'F' == get_best_order(&dst, ndim):
- */
-      __pyx_r = 0;
-      goto __pyx_L0;
-
-      /* "View.MemoryView":1320
- *             direct_copy = slice_is_contig(dst, 'F', ndim)
- * 
- *         if direct_copy:             # <<<<<<<<<<<<<<
- * 
- *             refcount_copying(&dst, dtype_is_object, ndim, False)
- */
-    }
-
-    /* "View.MemoryView":1312
- *         src = tmp
- * 
- *     if not broadcasting:             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  }
-
-  /* "View.MemoryView":1328
- *             return 0
- * 
- *     if order == 'F' == get_best_order(&dst, ndim):             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_2 = (__pyx_v_order == 'F');
-  if (__pyx_t_2) {
-    __pyx_t_2 = ('F' == __pyx_get_best_slice_order((&__pyx_v_dst), __pyx_v_ndim));
-  }
-  __pyx_t_8 = (__pyx_t_2 != 0);
-  if (__pyx_t_8) {
-
-    /* "View.MemoryView":1331
- * 
- * 
- *         transpose_memslice(&src)             # <<<<<<<<<<<<<<
- *         transpose_memslice(&dst)
- * 
- */
-    __pyx_t_5 = __pyx_memslice_transpose((&__pyx_v_src)); if (unlikely(__pyx_t_5 == ((int)0))) __PYX_ERR(2, 1331, __pyx_L1_error)
-
-    /* "View.MemoryView":1332
- * 
- *         transpose_memslice(&src)
- *         transpose_memslice(&dst)             # <<<<<<<<<<<<<<
- * 
- *     refcount_copying(&dst, dtype_is_object, ndim, False)
- */
-    __pyx_t_5 = __pyx_memslice_transpose((&__pyx_v_dst)); if (unlikely(__pyx_t_5 == ((int)0))) __PYX_ERR(2, 1332, __pyx_L1_error)
-
-    /* "View.MemoryView":1328
- *             return 0
- * 
- *     if order == 'F' == get_best_order(&dst, ndim):             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  }
-
-  /* "View.MemoryView":1334
- *         transpose_memslice(&dst)
- * 
- *     refcount_copying(&dst, dtype_is_object, ndim, False)             # <<<<<<<<<<<<<<
- *     copy_strided_to_strided(&src, &dst, ndim, itemsize)
- *     refcount_copying(&dst, dtype_is_object, ndim, True)
- */
-  __pyx_memoryview_refcount_copying((&__pyx_v_dst), __pyx_v_dtype_is_object, __pyx_v_ndim, 0);
-
-  /* "View.MemoryView":1335
- * 
- *     refcount_copying(&dst, dtype_is_object, ndim, False)
- *     copy_strided_to_strided(&src, &dst, ndim, itemsize)             # <<<<<<<<<<<<<<
- *     refcount_copying(&dst, dtype_is_object, ndim, True)
- * 
- */
-  copy_strided_to_strided((&__pyx_v_src), (&__pyx_v_dst), __pyx_v_ndim, __pyx_v_itemsize);
-
-  /* "View.MemoryView":1336
- *     refcount_copying(&dst, dtype_is_object, ndim, False)
- *     copy_strided_to_strided(&src, &dst, ndim, itemsize)
- *     refcount_copying(&dst, dtype_is_object, ndim, True)             # <<<<<<<<<<<<<<
- * 
- *     free(tmpdata)
- */
-  __pyx_memoryview_refcount_copying((&__pyx_v_dst), __pyx_v_dtype_is_object, __pyx_v_ndim, 1);
-
-  /* "View.MemoryView":1338
- *     refcount_copying(&dst, dtype_is_object, ndim, True)
- * 
- *     free(tmpdata)             # <<<<<<<<<<<<<<
- *     return 0
- * 
- */
-  free(__pyx_v_tmpdata);
-
-  /* "View.MemoryView":1339
- * 
- *     free(tmpdata)
- *     return 0             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_broadcast_leading')
- */
-  __pyx_r = 0;
-  goto __pyx_L0;
-
-  /* "View.MemoryView":1270
- * 
- * @cname('__pyx_memoryview_copy_contents')
- * cdef int memoryview_copy_contents(__Pyx_memviewslice src,             # <<<<<<<<<<<<<<
- *                                   __Pyx_memviewslice dst,
- *                                   int src_ndim, int dst_ndim,
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  {
-    #ifdef WITH_THREAD
-    PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-    #endif
-    __Pyx_AddTraceback("View.MemoryView.memoryview_copy_contents", __pyx_clineno, __pyx_lineno, __pyx_filename);
-    #ifdef WITH_THREAD
-    __Pyx_PyGILState_Release(__pyx_gilstate_save);
-    #endif
-  }
-  __pyx_r = -1;
-  __pyx_L0:;
-  return __pyx_r;
-}
-
-/* "View.MemoryView":1342
- * 
- * @cname('__pyx_memoryview_broadcast_leading')
- * cdef void broadcast_leading(__Pyx_memviewslice *mslice,             # <<<<<<<<<<<<<<
- *                             int ndim,
- *                             int ndim_other) nogil:
- */
-
-static void __pyx_memoryview_broadcast_leading(__Pyx_memviewslice *__pyx_v_mslice, int __pyx_v_ndim, int __pyx_v_ndim_other) {
-  int __pyx_v_i;
-  int __pyx_v_offset;
-  int __pyx_t_1;
-  int __pyx_t_2;
-  int __pyx_t_3;
-
-  /* "View.MemoryView":1346
- *                             int ndim_other) nogil:
- *     cdef int i
- *     cdef int offset = ndim_other - ndim             # <<<<<<<<<<<<<<
- * 
- *     for i in range(ndim - 1, -1, -1):
- */
-  __pyx_v_offset = (__pyx_v_ndim_other - __pyx_v_ndim);
-
-  /* "View.MemoryView":1348
- *     cdef int offset = ndim_other - ndim
- * 
- *     for i in range(ndim - 1, -1, -1):             # <<<<<<<<<<<<<<
- *         mslice.shape[i + offset] = mslice.shape[i]
- *         mslice.strides[i + offset] = mslice.strides[i]
- */
-  for (__pyx_t_1 = (__pyx_v_ndim - 1); __pyx_t_1 > -1; __pyx_t_1-=1) {
-    __pyx_v_i = __pyx_t_1;
-
-    /* "View.MemoryView":1349
- * 
- *     for i in range(ndim - 1, -1, -1):
- *         mslice.shape[i + offset] = mslice.shape[i]             # <<<<<<<<<<<<<<
- *         mslice.strides[i + offset] = mslice.strides[i]
- *         mslice.suboffsets[i + offset] = mslice.suboffsets[i]
- */
-    (__pyx_v_mslice->shape[(__pyx_v_i + __pyx_v_offset)]) = (__pyx_v_mslice->shape[__pyx_v_i]);
-
-    /* "View.MemoryView":1350
- *     for i in range(ndim - 1, -1, -1):
- *         mslice.shape[i + offset] = mslice.shape[i]
- *         mslice.strides[i + offset] = mslice.strides[i]             # <<<<<<<<<<<<<<
- *         mslice.suboffsets[i + offset] = mslice.suboffsets[i]
- * 
- */
-    (__pyx_v_mslice->strides[(__pyx_v_i + __pyx_v_offset)]) = (__pyx_v_mslice->strides[__pyx_v_i]);
-
-    /* "View.MemoryView":1351
- *         mslice.shape[i + offset] = mslice.shape[i]
- *         mslice.strides[i + offset] = mslice.strides[i]
- *         mslice.suboffsets[i + offset] = mslice.suboffsets[i]             # <<<<<<<<<<<<<<
- * 
- *     for i in range(offset):
- */
-    (__pyx_v_mslice->suboffsets[(__pyx_v_i + __pyx_v_offset)]) = (__pyx_v_mslice->suboffsets[__pyx_v_i]);
-  }
-
-  /* "View.MemoryView":1353
- *         mslice.suboffsets[i + offset] = mslice.suboffsets[i]
- * 
- *     for i in range(offset):             # <<<<<<<<<<<<<<
- *         mslice.shape[i] = 1
- *         mslice.strides[i] = mslice.strides[0]
- */
-  __pyx_t_1 = __pyx_v_offset;
-  __pyx_t_2 = __pyx_t_1;
-  for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
-    __pyx_v_i = __pyx_t_3;
-
-    /* "View.MemoryView":1354
- * 
- *     for i in range(offset):
- *         mslice.shape[i] = 1             # <<<<<<<<<<<<<<
- *         mslice.strides[i] = mslice.strides[0]
- *         mslice.suboffsets[i] = -1
- */
-    (__pyx_v_mslice->shape[__pyx_v_i]) = 1;
-
-    /* "View.MemoryView":1355
- *     for i in range(offset):
- *         mslice.shape[i] = 1
- *         mslice.strides[i] = mslice.strides[0]             # <<<<<<<<<<<<<<
- *         mslice.suboffsets[i] = -1
- * 
- */
-    (__pyx_v_mslice->strides[__pyx_v_i]) = (__pyx_v_mslice->strides[0]);
-
-    /* "View.MemoryView":1356
- *         mslice.shape[i] = 1
- *         mslice.strides[i] = mslice.strides[0]
- *         mslice.suboffsets[i] = -1             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    (__pyx_v_mslice->suboffsets[__pyx_v_i]) = -1L;
-  }
-
-  /* "View.MemoryView":1342
- * 
- * @cname('__pyx_memoryview_broadcast_leading')
- * cdef void broadcast_leading(__Pyx_memviewslice *mslice,             # <<<<<<<<<<<<<<
- *                             int ndim,
- *                             int ndim_other) nogil:
- */
-
-  /* function exit code */
-}
-
-/* "View.MemoryView":1364
- * 
- * @cname('__pyx_memoryview_refcount_copying')
- * cdef void refcount_copying(__Pyx_memviewslice *dst, bint dtype_is_object,             # <<<<<<<<<<<<<<
- *                            int ndim, bint inc) nogil:
- * 
- */
-
-static void __pyx_memoryview_refcount_copying(__Pyx_memviewslice *__pyx_v_dst, int __pyx_v_dtype_is_object, int __pyx_v_ndim, int __pyx_v_inc) {
-  int __pyx_t_1;
-
-  /* "View.MemoryView":1368
- * 
- * 
- *     if dtype_is_object:             # <<<<<<<<<<<<<<
- *         refcount_objects_in_slice_with_gil(dst.data, dst.shape,
- *                                            dst.strides, ndim, inc)
- */
-  __pyx_t_1 = (__pyx_v_dtype_is_object != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":1369
- * 
- *     if dtype_is_object:
- *         refcount_objects_in_slice_with_gil(dst.data, dst.shape,             # <<<<<<<<<<<<<<
- *                                            dst.strides, ndim, inc)
- * 
- */
-    __pyx_memoryview_refcount_objects_in_slice_with_gil(__pyx_v_dst->data, __pyx_v_dst->shape, __pyx_v_dst->strides, __pyx_v_ndim, __pyx_v_inc);
-
-    /* "View.MemoryView":1368
- * 
- * 
- *     if dtype_is_object:             # <<<<<<<<<<<<<<
- *         refcount_objects_in_slice_with_gil(dst.data, dst.shape,
- *                                            dst.strides, ndim, inc)
- */
-  }
-
-  /* "View.MemoryView":1364
- * 
- * @cname('__pyx_memoryview_refcount_copying')
- * cdef void refcount_copying(__Pyx_memviewslice *dst, bint dtype_is_object,             # <<<<<<<<<<<<<<
- *                            int ndim, bint inc) nogil:
- * 
- */
-
-  /* function exit code */
-}
-
-/* "View.MemoryView":1373
- * 
- * @cname('__pyx_memoryview_refcount_objects_in_slice_with_gil')
- * cdef void refcount_objects_in_slice_with_gil(char *data, Py_ssize_t *shape,             # <<<<<<<<<<<<<<
- *                                              Py_ssize_t *strides, int ndim,
- *                                              bint inc) with gil:
- */
-
-static void __pyx_memoryview_refcount_objects_in_slice_with_gil(char *__pyx_v_data, Py_ssize_t *__pyx_v_shape, Py_ssize_t *__pyx_v_strides, int __pyx_v_ndim, int __pyx_v_inc) {
-  __Pyx_RefNannyDeclarations
-  #ifdef WITH_THREAD
-  PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-  #endif
-  __Pyx_RefNannySetupContext("refcount_objects_in_slice_with_gil", 0);
-
-  /* "View.MemoryView":1376
- *                                              Py_ssize_t *strides, int ndim,
- *                                              bint inc) with gil:
- *     refcount_objects_in_slice(data, shape, strides, ndim, inc)             # <<<<<<<<<<<<<<
- * 
- * @cname('__pyx_memoryview_refcount_objects_in_slice')
- */
-  __pyx_memoryview_refcount_objects_in_slice(__pyx_v_data, __pyx_v_shape, __pyx_v_strides, __pyx_v_ndim, __pyx_v_inc);
-
-  /* "View.MemoryView":1373
- * 
- * @cname('__pyx_memoryview_refcount_objects_in_slice_with_gil')
- * cdef void refcount_objects_in_slice_with_gil(char *data, Py_ssize_t *shape,             # <<<<<<<<<<<<<<
- *                                              Py_ssize_t *strides, int ndim,
- *                                              bint inc) with gil:
- */
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  #ifdef WITH_THREAD
-  __Pyx_PyGILState_Release(__pyx_gilstate_save);
-  #endif
-}
-
-/* "View.MemoryView":1379
- * 
- * @cname('__pyx_memoryview_refcount_objects_in_slice')
- * cdef void refcount_objects_in_slice(char *data, Py_ssize_t *shape,             # <<<<<<<<<<<<<<
- *                                     Py_ssize_t *strides, int ndim, bint inc):
- *     cdef Py_ssize_t i
- */
-
-static void __pyx_memoryview_refcount_objects_in_slice(char *__pyx_v_data, Py_ssize_t *__pyx_v_shape, Py_ssize_t *__pyx_v_strides, int __pyx_v_ndim, int __pyx_v_inc) {
-  CYTHON_UNUSED Py_ssize_t __pyx_v_i;
-  __Pyx_RefNannyDeclarations
-  Py_ssize_t __pyx_t_1;
-  Py_ssize_t __pyx_t_2;
-  Py_ssize_t __pyx_t_3;
-  int __pyx_t_4;
-  __Pyx_RefNannySetupContext("refcount_objects_in_slice", 0);
-
-  /* "View.MemoryView":1383
- *     cdef Py_ssize_t i
- * 
- *     for i in range(shape[0]):             # <<<<<<<<<<<<<<
- *         if ndim == 1:
- *             if inc:
- */
-  __pyx_t_1 = (__pyx_v_shape[0]);
-  __pyx_t_2 = __pyx_t_1;
-  for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
-    __pyx_v_i = __pyx_t_3;
-
-    /* "View.MemoryView":1384
- * 
- *     for i in range(shape[0]):
- *         if ndim == 1:             # <<<<<<<<<<<<<<
- *             if inc:
- *                 Py_INCREF((<PyObject **> data)[0])
- */
-    __pyx_t_4 = ((__pyx_v_ndim == 1) != 0);
-    if (__pyx_t_4) {
-
-      /* "View.MemoryView":1385
- *     for i in range(shape[0]):
- *         if ndim == 1:
- *             if inc:             # <<<<<<<<<<<<<<
- *                 Py_INCREF((<PyObject **> data)[0])
- *             else:
- */
-      __pyx_t_4 = (__pyx_v_inc != 0);
-      if (__pyx_t_4) {
-
-        /* "View.MemoryView":1386
- *         if ndim == 1:
- *             if inc:
- *                 Py_INCREF((<PyObject **> data)[0])             # <<<<<<<<<<<<<<
- *             else:
- *                 Py_DECREF((<PyObject **> data)[0])
- */
-        Py_INCREF((((PyObject **)__pyx_v_data)[0]));
-
-        /* "View.MemoryView":1385
- *     for i in range(shape[0]):
- *         if ndim == 1:
- *             if inc:             # <<<<<<<<<<<<<<
- *                 Py_INCREF((<PyObject **> data)[0])
- *             else:
- */
-        goto __pyx_L6;
-      }
-
-      /* "View.MemoryView":1388
- *                 Py_INCREF((<PyObject **> data)[0])
- *             else:
- *                 Py_DECREF((<PyObject **> data)[0])             # <<<<<<<<<<<<<<
- *         else:
- *             refcount_objects_in_slice(data, shape + 1, strides + 1,
- */
-      /*else*/ {
-        Py_DECREF((((PyObject **)__pyx_v_data)[0]));
-      }
-      __pyx_L6:;
-
-      /* "View.MemoryView":1384
- * 
- *     for i in range(shape[0]):
- *         if ndim == 1:             # <<<<<<<<<<<<<<
- *             if inc:
- *                 Py_INCREF((<PyObject **> data)[0])
- */
-      goto __pyx_L5;
-    }
-
-    /* "View.MemoryView":1390
- *                 Py_DECREF((<PyObject **> data)[0])
- *         else:
- *             refcount_objects_in_slice(data, shape + 1, strides + 1,             # <<<<<<<<<<<<<<
- *                                       ndim - 1, inc)
- * 
- */
-    /*else*/ {
-
-      /* "View.MemoryView":1391
- *         else:
- *             refcount_objects_in_slice(data, shape + 1, strides + 1,
- *                                       ndim - 1, inc)             # <<<<<<<<<<<<<<
- * 
- *         data += strides[0]
- */
-      __pyx_memoryview_refcount_objects_in_slice(__pyx_v_data, (__pyx_v_shape + 1), (__pyx_v_strides + 1), (__pyx_v_ndim - 1), __pyx_v_inc);
-    }
-    __pyx_L5:;
-
-    /* "View.MemoryView":1393
- *                                       ndim - 1, inc)
- * 
- *         data += strides[0]             # <<<<<<<<<<<<<<
- * 
- * 
- */
-    __pyx_v_data = (__pyx_v_data + (__pyx_v_strides[0]));
-  }
-
-  /* "View.MemoryView":1379
- * 
- * @cname('__pyx_memoryview_refcount_objects_in_slice')
- * cdef void refcount_objects_in_slice(char *data, Py_ssize_t *shape,             # <<<<<<<<<<<<<<
- *                                     Py_ssize_t *strides, int ndim, bint inc):
- *     cdef Py_ssize_t i
- */
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-}
-
-/* "View.MemoryView":1399
- * 
- * @cname('__pyx_memoryview_slice_assign_scalar')
- * cdef void slice_assign_scalar(__Pyx_memviewslice *dst, int ndim,             # <<<<<<<<<<<<<<
- *                               size_t itemsize, void *item,
- *                               bint dtype_is_object) nogil:
- */
-
-static void __pyx_memoryview_slice_assign_scalar(__Pyx_memviewslice *__pyx_v_dst, int __pyx_v_ndim, size_t __pyx_v_itemsize, void *__pyx_v_item, int __pyx_v_dtype_is_object) {
-
-  /* "View.MemoryView":1402
- *                               size_t itemsize, void *item,
- *                               bint dtype_is_object) nogil:
- *     refcount_copying(dst, dtype_is_object, ndim, False)             # <<<<<<<<<<<<<<
- *     _slice_assign_scalar(dst.data, dst.shape, dst.strides, ndim,
- *                          itemsize, item)
- */
-  __pyx_memoryview_refcount_copying(__pyx_v_dst, __pyx_v_dtype_is_object, __pyx_v_ndim, 0);
-
-  /* "View.MemoryView":1403
- *                               bint dtype_is_object) nogil:
- *     refcount_copying(dst, dtype_is_object, ndim, False)
- *     _slice_assign_scalar(dst.data, dst.shape, dst.strides, ndim,             # <<<<<<<<<<<<<<
- *                          itemsize, item)
- *     refcount_copying(dst, dtype_is_object, ndim, True)
- */
-  __pyx_memoryview__slice_assign_scalar(__pyx_v_dst->data, __pyx_v_dst->shape, __pyx_v_dst->strides, __pyx_v_ndim, __pyx_v_itemsize, __pyx_v_item);
-
-  /* "View.MemoryView":1405
- *     _slice_assign_scalar(dst.data, dst.shape, dst.strides, ndim,
- *                          itemsize, item)
- *     refcount_copying(dst, dtype_is_object, ndim, True)             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_memoryview_refcount_copying(__pyx_v_dst, __pyx_v_dtype_is_object, __pyx_v_ndim, 1);
-
-  /* "View.MemoryView":1399
- * 
- * @cname('__pyx_memoryview_slice_assign_scalar')
- * cdef void slice_assign_scalar(__Pyx_memviewslice *dst, int ndim,             # <<<<<<<<<<<<<<
- *                               size_t itemsize, void *item,
- *                               bint dtype_is_object) nogil:
- */
-
-  /* function exit code */
-}
-
-/* "View.MemoryView":1409
- * 
- * @cname('__pyx_memoryview__slice_assign_scalar')
- * cdef void _slice_assign_scalar(char *data, Py_ssize_t *shape,             # <<<<<<<<<<<<<<
- *                               Py_ssize_t *strides, int ndim,
- *                               size_t itemsize, void *item) nogil:
- */
-
-static void __pyx_memoryview__slice_assign_scalar(char *__pyx_v_data, Py_ssize_t *__pyx_v_shape, Py_ssize_t *__pyx_v_strides, int __pyx_v_ndim, size_t __pyx_v_itemsize, void *__pyx_v_item) {
-  CYTHON_UNUSED Py_ssize_t __pyx_v_i;
-  Py_ssize_t __pyx_v_stride;
-  Py_ssize_t __pyx_v_extent;
-  int __pyx_t_1;
-  Py_ssize_t __pyx_t_2;
-  Py_ssize_t __pyx_t_3;
-  Py_ssize_t __pyx_t_4;
-
-  /* "View.MemoryView":1413
- *                               size_t itemsize, void *item) nogil:
- *     cdef Py_ssize_t i
- *     cdef Py_ssize_t stride = strides[0]             # <<<<<<<<<<<<<<
- *     cdef Py_ssize_t extent = shape[0]
- * 
- */
-  __pyx_v_stride = (__pyx_v_strides[0]);
-
-  /* "View.MemoryView":1414
- *     cdef Py_ssize_t i
- *     cdef Py_ssize_t stride = strides[0]
- *     cdef Py_ssize_t extent = shape[0]             # <<<<<<<<<<<<<<
- * 
- *     if ndim == 1:
- */
-  __pyx_v_extent = (__pyx_v_shape[0]);
-
-  /* "View.MemoryView":1416
- *     cdef Py_ssize_t extent = shape[0]
- * 
- *     if ndim == 1:             # <<<<<<<<<<<<<<
- *         for i in range(extent):
- *             memcpy(data, item, itemsize)
- */
-  __pyx_t_1 = ((__pyx_v_ndim == 1) != 0);
-  if (__pyx_t_1) {
-
-    /* "View.MemoryView":1417
- * 
- *     if ndim == 1:
- *         for i in range(extent):             # <<<<<<<<<<<<<<
- *             memcpy(data, item, itemsize)
- *             data += stride
- */
-    __pyx_t_2 = __pyx_v_extent;
-    __pyx_t_3 = __pyx_t_2;
-    for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
-      __pyx_v_i = __pyx_t_4;
-
-      /* "View.MemoryView":1418
- *     if ndim == 1:
- *         for i in range(extent):
- *             memcpy(data, item, itemsize)             # <<<<<<<<<<<<<<
- *             data += stride
- *     else:
- */
-      (void)(memcpy(__pyx_v_data, __pyx_v_item, __pyx_v_itemsize));
-
-      /* "View.MemoryView":1419
- *         for i in range(extent):
- *             memcpy(data, item, itemsize)
- *             data += stride             # <<<<<<<<<<<<<<
- *     else:
- *         for i in range(extent):
- */
-      __pyx_v_data = (__pyx_v_data + __pyx_v_stride);
-    }
-
-    /* "View.MemoryView":1416
- *     cdef Py_ssize_t extent = shape[0]
- * 
- *     if ndim == 1:             # <<<<<<<<<<<<<<
- *         for i in range(extent):
- *             memcpy(data, item, itemsize)
- */
-    goto __pyx_L3;
-  }
-
-  /* "View.MemoryView":1421
- *             data += stride
- *     else:
- *         for i in range(extent):             # <<<<<<<<<<<<<<
- *             _slice_assign_scalar(data, shape + 1, strides + 1,
- *                                 ndim - 1, itemsize, item)
- */
-  /*else*/ {
-    __pyx_t_2 = __pyx_v_extent;
-    __pyx_t_3 = __pyx_t_2;
-    for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
-      __pyx_v_i = __pyx_t_4;
-
-      /* "View.MemoryView":1422
- *     else:
- *         for i in range(extent):
- *             _slice_assign_scalar(data, shape + 1, strides + 1,             # <<<<<<<<<<<<<<
- *                                 ndim - 1, itemsize, item)
- *             data += stride
- */
-      __pyx_memoryview__slice_assign_scalar(__pyx_v_data, (__pyx_v_shape + 1), (__pyx_v_strides + 1), (__pyx_v_ndim - 1), __pyx_v_itemsize, __pyx_v_item);
-
-      /* "View.MemoryView":1424
- *             _slice_assign_scalar(data, shape + 1, strides + 1,
- *                                 ndim - 1, itemsize, item)
- *             data += stride             # <<<<<<<<<<<<<<
- * 
- * 
- */
-      __pyx_v_data = (__pyx_v_data + __pyx_v_stride);
-    }
-  }
-  __pyx_L3:;
-
-  /* "View.MemoryView":1409
- * 
- * @cname('__pyx_memoryview__slice_assign_scalar')
- * cdef void _slice_assign_scalar(char *data, Py_ssize_t *shape,             # <<<<<<<<<<<<<<
- *                               Py_ssize_t *strides, int ndim,
- *                               size_t itemsize, void *item) nogil:
- */
-
-  /* function exit code */
-}
-
-/* "(tree fragment)":1
- * def __pyx_unpickle_Enum(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
- *     cdef object __pyx_PickleError
- *     cdef object __pyx_result
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_15View_dot_MemoryView_1__pyx_unpickle_Enum(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static PyMethodDef __pyx_mdef_15View_dot_MemoryView_1__pyx_unpickle_Enum = {"__pyx_unpickle_Enum", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_15View_dot_MemoryView_1__pyx_unpickle_Enum, METH_VARARGS|METH_KEYWORDS, 0};
-static PyObject *__pyx_pw_15View_dot_MemoryView_1__pyx_unpickle_Enum(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  PyObject *__pyx_v___pyx_type = 0;
-  long __pyx_v___pyx_checksum;
-  PyObject *__pyx_v___pyx_state = 0;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__pyx_unpickle_Enum (wrapper)", 0);
-  {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_pyx_type,&__pyx_n_s_pyx_checksum,&__pyx_n_s_pyx_state,0};
-    PyObject* values[3] = {0,0,0};
-    if (unlikely(__pyx_kwds)) {
-      Py_ssize_t kw_args;
-      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
-      switch (pos_args) {
-        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-        CYTHON_FALLTHROUGH;
-        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-        CYTHON_FALLTHROUGH;
-        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = PyDict_Size(__pyx_kwds);
-      switch (pos_args) {
-        case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_pyx_type)) != 0)) kw_args--;
-        else goto __pyx_L5_argtuple_error;
-        CYTHON_FALLTHROUGH;
-        case  1:
-        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_pyx_checksum)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__pyx_unpickle_Enum", 1, 3, 3, 1); __PYX_ERR(2, 1, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  2:
-        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_pyx_state)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__pyx_unpickle_Enum", 1, 3, 3, 2); __PYX_ERR(2, 1, __pyx_L3_error)
-        }
-      }
-      if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__pyx_unpickle_Enum") < 0)) __PYX_ERR(2, 1, __pyx_L3_error)
-      }
-    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
-      goto __pyx_L5_argtuple_error;
-    } else {
-      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-    }
-    __pyx_v___pyx_type = values[0];
-    __pyx_v___pyx_checksum = __Pyx_PyInt_As_long(values[1]); if (unlikely((__pyx_v___pyx_checksum == (long)-1) && PyErr_Occurred())) __PYX_ERR(2, 1, __pyx_L3_error)
-    __pyx_v___pyx_state = values[2];
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__pyx_unpickle_Enum", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(2, 1, __pyx_L3_error)
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("View.MemoryView.__pyx_unpickle_Enum", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return NULL;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_15View_dot_MemoryView___pyx_unpickle_Enum(__pyx_self, __pyx_v___pyx_type, __pyx_v___pyx_checksum, __pyx_v___pyx_state);
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_15View_dot_MemoryView___pyx_unpickle_Enum(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_v___pyx_PickleError = 0;
-  PyObject *__pyx_v___pyx_result = 0;
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_t_2;
-  int __pyx_t_3;
-  PyObject *__pyx_t_4 = NULL;
-  PyObject *__pyx_t_5 = NULL;
-  PyObject *__pyx_t_6 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__pyx_unpickle_Enum", 0);
-
-  /* "(tree fragment)":4
- *     cdef object __pyx_PickleError
- *     cdef object __pyx_result
- *     if __pyx_checksum not in (0xb068931, 0x82a3537, 0x6ae9995):             # <<<<<<<<<<<<<<
- *         from pickle import PickleError as __pyx_PickleError
- *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xb068931, 0x82a3537, 0x6ae9995) = (name))" % __pyx_checksum)
- */
-  __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__116, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_3 = (__pyx_t_2 != 0);
-  if (__pyx_t_3) {
-
-    /* "(tree fragment)":5
- *     cdef object __pyx_result
- *     if __pyx_checksum not in (0xb068931, 0x82a3537, 0x6ae9995):
- *         from pickle import PickleError as __pyx_PickleError             # <<<<<<<<<<<<<<
- *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xb068931, 0x82a3537, 0x6ae9995) = (name))" % __pyx_checksum)
- *     __pyx_result = Enum.__new__(__pyx_type)
- */
-    __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 5, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_INCREF(__pyx_n_s_PickleError);
-    __Pyx_GIVEREF(__pyx_n_s_PickleError);
-    PyList_SET_ITEM(__pyx_t_1, 0, __pyx_n_s_PickleError);
-    __pyx_t_4 = __Pyx_Import(__pyx_n_s_pickle, __pyx_t_1, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 5, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_4, __pyx_n_s_PickleError); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 5, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_INCREF(__pyx_t_1);
-    __pyx_v___pyx_PickleError = __pyx_t_1;
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-
-    /* "(tree fragment)":6
- *     if __pyx_checksum not in (0xb068931, 0x82a3537, 0x6ae9995):
- *         from pickle import PickleError as __pyx_PickleError
- *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xb068931, 0x82a3537, 0x6ae9995) = (name))" % __pyx_checksum)             # <<<<<<<<<<<<<<
- *     __pyx_result = Enum.__new__(__pyx_type)
- *     if __pyx_state is not None:
- */
-    __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 6, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_5 = __Pyx_PyString_Format(__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_6, __pyx_t_1); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 6, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __Pyx_INCREF(__pyx_v___pyx_PickleError);
-    __pyx_t_1 = __pyx_v___pyx_PickleError; __pyx_t_6 = NULL;
-    if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
-      __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_1);
-      if (likely(__pyx_t_6)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
-        __Pyx_INCREF(__pyx_t_6);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_1, function);
-      }
-    }
-    __pyx_t_4 = (__pyx_t_6) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_6, __pyx_t_5) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_5);
-    __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 6, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __Pyx_Raise(__pyx_t_4, 0, 0, 0);
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __PYX_ERR(2, 6, __pyx_L1_error)
-
-    /* "(tree fragment)":4
- *     cdef object __pyx_PickleError
- *     cdef object __pyx_result
- *     if __pyx_checksum not in (0xb068931, 0x82a3537, 0x6ae9995):             # <<<<<<<<<<<<<<
- *         from pickle import PickleError as __pyx_PickleError
- *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xb068931, 0x82a3537, 0x6ae9995) = (name))" % __pyx_checksum)
- */
-  }
-
-  /* "(tree fragment)":7
- *         from pickle import PickleError as __pyx_PickleError
- *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xb068931, 0x82a3537, 0x6ae9995) = (name))" % __pyx_checksum)
- *     __pyx_result = Enum.__new__(__pyx_type)             # <<<<<<<<<<<<<<
- *     if __pyx_state is not None:
- *         __pyx_unpickle_Enum__set_state(<Enum> __pyx_result, __pyx_state)
- */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_MemviewEnum_type), __pyx_n_s_new); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 7, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_5 = NULL;
-  if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
-    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_1);
-    if (likely(__pyx_t_5)) {
-      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
-      __Pyx_INCREF(__pyx_t_5);
-      __Pyx_INCREF(function);
-      __Pyx_DECREF_SET(__pyx_t_1, function);
-    }
-  }
-  __pyx_t_4 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_5, __pyx_v___pyx_type) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v___pyx_type);
-  __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 7, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_v___pyx_result = __pyx_t_4;
-  __pyx_t_4 = 0;
-
-  /* "(tree fragment)":8
- *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xb068931, 0x82a3537, 0x6ae9995) = (name))" % __pyx_checksum)
- *     __pyx_result = Enum.__new__(__pyx_type)
- *     if __pyx_state is not None:             # <<<<<<<<<<<<<<
- *         __pyx_unpickle_Enum__set_state(<Enum> __pyx_result, __pyx_state)
- *     return __pyx_result
- */
-  __pyx_t_3 = (__pyx_v___pyx_state != Py_None);
-  __pyx_t_2 = (__pyx_t_3 != 0);
-  if (__pyx_t_2) {
-
-    /* "(tree fragment)":9
- *     __pyx_result = Enum.__new__(__pyx_type)
- *     if __pyx_state is not None:
- *         __pyx_unpickle_Enum__set_state(<Enum> __pyx_result, __pyx_state)             # <<<<<<<<<<<<<<
- *     return __pyx_result
- * cdef __pyx_unpickle_Enum__set_state(Enum __pyx_result, tuple __pyx_state):
- */
-    if (!(likely(PyTuple_CheckExact(__pyx_v___pyx_state))||((__pyx_v___pyx_state) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "tuple", Py_TYPE(__pyx_v___pyx_state)->tp_name), 0))) __PYX_ERR(2, 9, __pyx_L1_error)
-    __pyx_t_4 = __pyx_unpickle_Enum__set_state(((struct __pyx_MemviewEnum_obj *)__pyx_v___pyx_result), ((PyObject*)__pyx_v___pyx_state)); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 9, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-
-    /* "(tree fragment)":8
- *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xb068931, 0x82a3537, 0x6ae9995) = (name))" % __pyx_checksum)
- *     __pyx_result = Enum.__new__(__pyx_type)
- *     if __pyx_state is not None:             # <<<<<<<<<<<<<<
- *         __pyx_unpickle_Enum__set_state(<Enum> __pyx_result, __pyx_state)
- *     return __pyx_result
- */
-  }
-
-  /* "(tree fragment)":10
- *     if __pyx_state is not None:
- *         __pyx_unpickle_Enum__set_state(<Enum> __pyx_result, __pyx_state)
- *     return __pyx_result             # <<<<<<<<<<<<<<
- * cdef __pyx_unpickle_Enum__set_state(Enum __pyx_result, tuple __pyx_state):
- *     __pyx_result.name = __pyx_state[0]
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(__pyx_v___pyx_result);
-  __pyx_r = __pyx_v___pyx_result;
-  goto __pyx_L0;
-
-  /* "(tree fragment)":1
- * def __pyx_unpickle_Enum(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
- *     cdef object __pyx_PickleError
- *     cdef object __pyx_result
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_XDECREF(__pyx_t_6);
-  __Pyx_AddTraceback("View.MemoryView.__pyx_unpickle_Enum", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v___pyx_PickleError);
-  __Pyx_XDECREF(__pyx_v___pyx_result);
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "(tree fragment)":11
- *         __pyx_unpickle_Enum__set_state(<Enum> __pyx_result, __pyx_state)
- *     return __pyx_result
- * cdef __pyx_unpickle_Enum__set_state(Enum __pyx_result, tuple __pyx_state):             # <<<<<<<<<<<<<<
- *     __pyx_result.name = __pyx_state[0]
- *     if len(__pyx_state) > 1 and hasattr(__pyx_result, '__dict__'):
- */
-
-static PyObject *__pyx_unpickle_Enum__set_state(struct __pyx_MemviewEnum_obj *__pyx_v___pyx_result, PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_t_2;
-  Py_ssize_t __pyx_t_3;
-  int __pyx_t_4;
-  int __pyx_t_5;
-  PyObject *__pyx_t_6 = NULL;
-  PyObject *__pyx_t_7 = NULL;
-  PyObject *__pyx_t_8 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__pyx_unpickle_Enum__set_state", 0);
-
-  /* "(tree fragment)":12
- *     return __pyx_result
- * cdef __pyx_unpickle_Enum__set_state(Enum __pyx_result, tuple __pyx_state):
- *     __pyx_result.name = __pyx_state[0]             # <<<<<<<<<<<<<<
- *     if len(__pyx_state) > 1 and hasattr(__pyx_result, '__dict__'):
- *         __pyx_result.__dict__.update(__pyx_state[1])
- */
-  if (unlikely(__pyx_v___pyx_state == Py_None)) {
-    PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-    __PYX_ERR(2, 12, __pyx_L1_error)
-  }
-  __pyx_t_1 = __Pyx_GetItemInt_Tuple(__pyx_v___pyx_state, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 12, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_1);
-  __Pyx_GOTREF(__pyx_v___pyx_result->name);
-  __Pyx_DECREF(__pyx_v___pyx_result->name);
-  __pyx_v___pyx_result->name = __pyx_t_1;
-  __pyx_t_1 = 0;
-
-  /* "(tree fragment)":13
- * cdef __pyx_unpickle_Enum__set_state(Enum __pyx_result, tuple __pyx_state):
- *     __pyx_result.name = __pyx_state[0]
- *     if len(__pyx_state) > 1 and hasattr(__pyx_result, '__dict__'):             # <<<<<<<<<<<<<<
- *         __pyx_result.__dict__.update(__pyx_state[1])
- */
-  if (unlikely(__pyx_v___pyx_state == Py_None)) {
-    PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
-    __PYX_ERR(2, 13, __pyx_L1_error)
-  }
-  __pyx_t_3 = PyTuple_GET_SIZE(__pyx_v___pyx_state); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(2, 13, __pyx_L1_error)
-  __pyx_t_4 = ((__pyx_t_3 > 1) != 0);
-  if (__pyx_t_4) {
-  } else {
-    __pyx_t_2 = __pyx_t_4;
-    goto __pyx_L4_bool_binop_done;
-  }
-  __pyx_t_4 = __Pyx_HasAttr(((PyObject *)__pyx_v___pyx_result), __pyx_n_s_dict); if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(2, 13, __pyx_L1_error)
-  __pyx_t_5 = (__pyx_t_4 != 0);
-  __pyx_t_2 = __pyx_t_5;
-  __pyx_L4_bool_binop_done:;
-  if (__pyx_t_2) {
-
-    /* "(tree fragment)":14
- *     __pyx_result.name = __pyx_state[0]
- *     if len(__pyx_state) > 1 and hasattr(__pyx_result, '__dict__'):
- *         __pyx_result.__dict__.update(__pyx_state[1])             # <<<<<<<<<<<<<<
- */
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v___pyx_result), __pyx_n_s_dict); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 14, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_6);
-    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_update); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 14, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (unlikely(__pyx_v___pyx_state == Py_None)) {
-      PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(2, 14, __pyx_L1_error)
-    }
-    __pyx_t_6 = __Pyx_GetItemInt_Tuple(__pyx_v___pyx_state, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 14, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_6);
-    __pyx_t_8 = NULL;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
-      __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_7);
-      if (likely(__pyx_t_8)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
-        __Pyx_INCREF(__pyx_t_8);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_7, function);
-      }
-    }
-    __pyx_t_1 = (__pyx_t_8) ? __Pyx_PyObject_Call2Args(__pyx_t_7, __pyx_t_8, __pyx_t_6) : __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_6);
-    __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 14, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-
-    /* "(tree fragment)":13
- * cdef __pyx_unpickle_Enum__set_state(Enum __pyx_result, tuple __pyx_state):
- *     __pyx_result.name = __pyx_state[0]
- *     if len(__pyx_state) > 1 and hasattr(__pyx_result, '__dict__'):             # <<<<<<<<<<<<<<
- *         __pyx_result.__dict__.update(__pyx_state[1])
- */
-  }
-
-  /* "(tree fragment)":11
- *         __pyx_unpickle_Enum__set_state(<Enum> __pyx_result, __pyx_state)
- *     return __pyx_result
- * cdef __pyx_unpickle_Enum__set_state(Enum __pyx_result, tuple __pyx_state):             # <<<<<<<<<<<<<<
- *     __pyx_result.name = __pyx_state[0]
- *     if len(__pyx_state) > 1 and hasattr(__pyx_result, '__dict__'):
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_6);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_XDECREF(__pyx_t_8);
-  __Pyx_AddTraceback("View.MemoryView.__pyx_unpickle_Enum__set_state", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = 0;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_LRUMapping __pyx_vtable_6edgedb_8protocol_8protocol_LRUMapping;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_LRUMapping(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *p;
-  PyObject *o;
-  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
-    o = (*t->tp_alloc)(t, 0);
-  } else {
-    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
-  }
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)o);
-  p->__pyx_vtab = __pyx_vtabptr_6edgedb_8protocol_8protocol_LRUMapping;
-  p->_dict = Py_None; Py_INCREF(Py_None);
-  p->_dict_move_to_end = Py_None; Py_INCREF(Py_None);
-  p->_dict_get = Py_None; Py_INCREF(Py_None);
-  return o;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_LRUMapping(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->_dict);
-  Py_CLEAR(p->_dict_move_to_end);
-  Py_CLEAR(p->_dict_get);
-  (*Py_TYPE(o)->tp_free)(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_LRUMapping(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)o;
-  if (p->_dict) {
-    e = (*v)(p->_dict, a); if (e) return e;
-  }
-  if (p->_dict_move_to_end) {
-    e = (*v)(p->_dict_move_to_end, a); if (e) return e;
-  }
-  if (p->_dict_get) {
-    e = (*v)(p->_dict_get, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_LRUMapping(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)o;
-  tmp = ((PyObject*)p->_dict);
-  p->_dict = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->_dict_move_to_end);
-  p->_dict_move_to_end = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->_dict_get);
-  p->_dict_get = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-static PyObject *__pyx_sq_item_6edgedb_8protocol_8protocol_LRUMapping(PyObject *o, Py_ssize_t i) {
-  PyObject *r;
-  PyObject *x = PyInt_FromSsize_t(i); if(!x) return 0;
-  r = Py_TYPE(o)->tp_as_mapping->mp_subscript(o, x);
-  Py_DECREF(x);
-  return r;
-}
-
-static int __pyx_mp_ass_subscript_6edgedb_8protocol_8protocol_LRUMapping(PyObject *o, PyObject *i, PyObject *v) {
-  if (v) {
-    return __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_5__setitem__(o, i, v);
-  }
-  else {
-    return __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_7__delitem__(o, i);
-  }
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_LRUMapping[] = {
-  {"clear", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_15clear, METH_NOARGS, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_17__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_19__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PySequenceMethods __pyx_tp_as_sequence_LRUMapping = {
-  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_11__len__, /*sq_length*/
-  0, /*sq_concat*/
-  0, /*sq_repeat*/
-  __pyx_sq_item_6edgedb_8protocol_8protocol_LRUMapping, /*sq_item*/
-  0, /*sq_slice*/
-  0, /*sq_ass_item*/
-  0, /*sq_ass_slice*/
-  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_9__contains__, /*sq_contains*/
-  0, /*sq_inplace_concat*/
-  0, /*sq_inplace_repeat*/
-};
-
-static PyMappingMethods __pyx_tp_as_mapping_LRUMapping = {
-  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_11__len__, /*mp_length*/
-  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_3__getitem__, /*mp_subscript*/
-  __pyx_mp_ass_subscript_6edgedb_8protocol_8protocol_LRUMapping, /*mp_ass_subscript*/
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_LRUMapping = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.LRUMapping", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_LRUMapping, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  &__pyx_tp_as_sequence_LRUMapping, /*tp_as_sequence*/
-  &__pyx_tp_as_mapping_LRUMapping, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_LRUMapping, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_LRUMapping, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_13__iter__, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_LRUMapping, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  __pyx_pw_6edgedb_8protocol_8protocol_10LRUMapping_1__init__, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_LRUMapping, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec __pyx_vtable_6edgedb_8protocol_8protocol_BaseCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *p;
-  PyObject *o;
-  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
-    o = (*t->tp_alloc)(t, 0);
-  } else {
-    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
-  }
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)o);
-  p->__pyx_vtab = __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseCodec;
-  p->tid = ((PyObject*)Py_None); Py_INCREF(Py_None);
-  p->name = ((PyObject*)Py_None); Py_INCREF(Py_None);
-  p->type_name = ((PyObject*)Py_None); Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_3__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && (!PyType_IS_GC(Py_TYPE(o)) || !_PyGC_FINALIZED(o))) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  Py_CLEAR(p->tid);
-  Py_CLEAR(p->name);
-  Py_CLEAR(p->type_name);
-  (*Py_TYPE(o)->tp_free)(o);
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_BaseCodec[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_5make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_7__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_9__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_BaseCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.BaseCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE, /*tp_flags*/
-  0, /*tp_doc*/
-  0, /*tp_traverse*/
-  0, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_BaseCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_CodecPythonOverride __pyx_vtable_6edgedb_8protocol_8protocol_CodecPythonOverride;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_CodecPythonOverride(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *)o);
-  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_CodecPythonOverride;
-  p->codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
-  p->encoder = Py_None; Py_INCREF(Py_None);
-  p->decoder = Py_None; Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_19CodecPythonOverride_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_CodecPythonOverride(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->codec);
-  Py_CLEAR(p->encoder);
-  Py_CLEAR(p->decoder);
-  if (PyType_IS_GC(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) PyObject_GC_Track(o);
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_CodecPythonOverride(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *)o;
-  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_CodecPythonOverride)); if (e) return e;
-  if (p->codec) {
-    e = (*v)(((PyObject *)p->codec), a); if (e) return e;
-  }
-  if (p->encoder) {
-    e = (*v)(p->encoder, a); if (e) return e;
-  }
-  if (p->decoder) {
-    e = (*v)(p->decoder, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_CodecPythonOverride(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride *)o;
-  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_CodecPythonOverride);
-  tmp = ((PyObject*)p->codec);
-  p->codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->encoder);
-  p->encoder = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->decoder);
-  p->decoder = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_CodecPythonOverride[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_19CodecPythonOverride_3make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_19CodecPythonOverride_5__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_19CodecPythonOverride_7__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_CodecPythonOverride = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.CodecPythonOverride", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecPythonOverride), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_CodecPythonOverride, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_CodecPythonOverride, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_CodecPythonOverride, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_CodecPythonOverride, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_CodecPythonOverride, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseRecordCodec __pyx_vtable_6edgedb_8protocol_8protocol_BaseRecordCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseRecordCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *)o);
-  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseRecordCodec;
-  p->fields_codecs = ((PyObject*)Py_None); Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_15BaseRecordCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseRecordCodec(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->fields_codecs);
-  if (PyType_IS_GC(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) PyObject_GC_Track(o);
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseRecordCodec(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *)o;
-  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseRecordCodec)); if (e) return e;
-  if (p->fields_codecs) {
-    e = (*v)(p->fields_codecs, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseRecordCodec(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec *)o;
-  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseRecordCodec);
-  tmp = ((PyObject*)p->fields_codecs);
-  p->fields_codecs = ((PyObject*)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_BaseRecordCodec[] = {
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15BaseRecordCodec_3__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15BaseRecordCodec_5__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_BaseRecordCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.BaseRecordCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseRecordCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EmptyTupleCodec __pyx_vtable_6edgedb_8protocol_8protocol_EmptyTupleCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_EmptyTupleCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *)o);
-  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_EmptyTupleCodec;
-  p->empty_tup = Py_None; Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_15EmptyTupleCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EmptyTupleCodec(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->empty_tup);
-  if (PyType_IS_GC(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) PyObject_GC_Track(o);
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_EmptyTupleCodec(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *)o;
-  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_EmptyTupleCodec)); if (e) return e;
-  if (p->empty_tup) {
-    e = (*v)(p->empty_tup, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_EmptyTupleCodec(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec *)o;
-  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_EmptyTupleCodec);
-  tmp = ((PyObject*)p->empty_tup);
-  p->empty_tup = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_EmptyTupleCodec[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15EmptyTupleCodec_3make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15EmptyTupleCodec_5__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15EmptyTupleCodec_7__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_EmptyTupleCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.EmptyTupleCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EmptyTupleCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EmptyTupleCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_EmptyTupleCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_EmptyTupleCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_EmptyTupleCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_EmptyTupleCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_NullCodec __pyx_vtable_6edgedb_8protocol_8protocol_NullCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_NullCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec *)o);
-  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_NullCodec;
-  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_9NullCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_NullCodec[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9NullCodec_3make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9NullCodec_5__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9NullCodec_7__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_NullCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.NullCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NullCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE, /*tp_flags*/
-  0, /*tp_doc*/
-  0, /*tp_traverse*/
-  0, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_NullCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_NullCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseNamedRecordCodec __pyx_vtable_6edgedb_8protocol_8protocol_BaseNamedRecordCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseRecordCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *)o);
-  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseNamedRecordCodec;
-  p->descriptor = Py_None; Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_20BaseNamedRecordCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->descriptor);
-  PyObject_GC_Track(o);
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseRecordCodec(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *)o;
-  e = __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseRecordCodec(o, v, a); if (e) return e;
-  if (p->descriptor) {
-    e = (*v)(p->descriptor, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec *)o;
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseRecordCodec(o);
-  tmp = ((PyObject*)p->descriptor);
-  p->descriptor = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_BaseNamedRecordCodec[] = {
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_20BaseNamedRecordCodec_3__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_20BaseNamedRecordCodec_5__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_BaseNamedRecordCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.BaseNamedRecordCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseNamedRecordCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseNamedRecordCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseNamedRecordCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseNamedRecordCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_BaseNamedRecordCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_BaseNamedRecordCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EdegDBCodecContext __pyx_vtable_6edgedb_8protocol_8protocol_EdegDBCodecContext;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_EdegDBCodecContext(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *p;
-  PyObject *o = __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_new(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *)o);
-  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_CodecContext*)__pyx_vtabptr_6edgedb_8protocol_8protocol_EdegDBCodecContext;
-  p->_codec = Py_None; Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_18EdegDBCodecContext_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EdegDBCodecContext(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->_codec);
-  if (PyType_IS_GC(__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext)) PyObject_GC_Track(o);
-  if (likely(__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext)) __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_dealloc(o); else __Pyx_call_next_tp_dealloc(o, __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EdegDBCodecContext);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_EdegDBCodecContext(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *)o;
-  e = ((likely(__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext)) ? ((__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_traverse) ? __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_EdegDBCodecContext)); if (e) return e;
-  if (p->_codec) {
-    e = (*v)(p->_codec, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_EdegDBCodecContext(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *)o;
-  if (likely(__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext)) { if (__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_clear) __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_EdegDBCodecContext);
-  tmp = ((PyObject*)p->_codec);
-  p->_codec = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_EdegDBCodecContext[] = {
-  {"get_text_codec", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_18EdegDBCodecContext_3get_text_codec, METH_NOARGS, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_18EdegDBCodecContext_5__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_18EdegDBCodecContext_7__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_EdegDBCodecContext = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.EdegDBCodecContext", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EdegDBCodecContext, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_EdegDBCodecContext, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_EdegDBCodecContext, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_EdegDBCodecContext, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  0, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_EdegDBCodecContext, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ScalarCodec __pyx_vtable_6edgedb_8protocol_8protocol_ScalarCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_ScalarCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)o);
-  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_ScalarCodec;
-  p->base_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)Py_None); Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_11ScalarCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_ScalarCodec(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->base_codec);
-  if (PyType_IS_GC(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) PyObject_GC_Track(o);
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_ScalarCodec(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)o;
-  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_ScalarCodec)); if (e) return e;
-  if (p->base_codec) {
-    e = (*v)(((PyObject *)p->base_codec), a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_ScalarCodec(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)o;
-  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_ScalarCodec);
-  tmp = ((PyObject*)p->base_codec);
-  p->base_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec *)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_ScalarCodec[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ScalarCodec_3make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ScalarCodec_5__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ScalarCodec_7__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_ScalarCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.ScalarCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ScalarCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_ScalarCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_ScalarCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_ScalarCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_ScalarCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_ScalarCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_TupleCodec __pyx_vtable_6edgedb_8protocol_8protocol_TupleCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_TupleCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseRecordCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec *)o);
-  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_TupleCodec;
-  return o;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_TupleCodec[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10TupleCodec_1make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10TupleCodec_3__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10TupleCodec_5__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_TupleCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.TupleCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_TupleCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseRecordCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_TupleCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_TupleCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_NamedTupleCodec __pyx_vtable_6edgedb_8protocol_8protocol_NamedTupleCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_NamedTupleCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *)o);
-  p->__pyx_base.__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_NamedTupleCodec;
-  p->namedtuple_type = Py_None; Py_INCREF(Py_None);
-  return o;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_NamedTupleCodec(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->namedtuple_type);
-  PyObject_GC_Track(o);
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_NamedTupleCodec(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *)o;
-  e = __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o, v, a); if (e) return e;
-  if (p->namedtuple_type) {
-    e = (*v)(p->namedtuple_type, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_NamedTupleCodec(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec *)o;
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o);
-  tmp = ((PyObject*)p->namedtuple_type);
-  p->namedtuple_type = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_NamedTupleCodec[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15NamedTupleCodec_1make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15NamedTupleCodec_3__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_15NamedTupleCodec_5__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_NamedTupleCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.NamedTupleCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_NamedTupleCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_NamedTupleCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_NamedTupleCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_NamedTupleCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_NamedTupleCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_NamedTupleCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ObjectCodec __pyx_vtable_6edgedb_8protocol_8protocol_ObjectCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_ObjectCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *)o);
-  p->__pyx_base.__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_ObjectCodec;
-  p->cached_dataclass_fields = Py_None; Py_INCREF(Py_None);
-  return o;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_ObjectCodec(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->cached_dataclass_fields);
-  PyObject_GC_Track(o);
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_ObjectCodec(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *)o;
-  e = __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o, v, a); if (e) return e;
-  if (p->cached_dataclass_fields) {
-    e = (*v)(p->cached_dataclass_fields, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_ObjectCodec(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec *)o;
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseNamedRecordCodec(o);
-  tmp = ((PyObject*)p->cached_dataclass_fields);
-  p->cached_dataclass_fields = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_ObjectCodec[] = {
-  {"_make_missing_args_error_message", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ObjectCodec_1_make_missing_args_error_message, METH_O, 0},
-  {"get_dataclass_fields", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ObjectCodec_3get_dataclass_fields, METH_NOARGS, 0},
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ObjectCodec_5make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ObjectCodec_7__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_11ObjectCodec_9__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_ObjectCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.ObjectCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ObjectCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_ObjectCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_ObjectCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_ObjectCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_ObjectCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_ObjectCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseArrayCodec __pyx_vtable_6edgedb_8protocol_8protocol_BaseArrayCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_BaseArrayCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *)o);
-  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_BaseArrayCodec;
-  p->sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_14BaseArrayCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseArrayCodec(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->sub_codec);
-  if (PyType_IS_GC(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) PyObject_GC_Track(o);
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseArrayCodec(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *)o;
-  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseArrayCodec)); if (e) return e;
-  if (p->sub_codec) {
-    e = (*v)(((PyObject *)p->sub_codec), a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseArrayCodec(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec *)o;
-  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseArrayCodec);
-  tmp = ((PyObject*)p->sub_codec);
-  p->sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_BaseArrayCodec[] = {
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_14BaseArrayCodec_3__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_14BaseArrayCodec_5__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_BaseArrayCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.BaseArrayCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_BaseArrayCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_ArrayCodec __pyx_vtable_6edgedb_8protocol_8protocol_ArrayCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_ArrayCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseArrayCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec *)o);
-  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_ArrayCodec;
-  return o;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_ArrayCodec[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10ArrayCodec_1make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10ArrayCodec_3__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10ArrayCodec_5__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_ArrayCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.ArrayCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_ArrayCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_ArrayCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_ArrayCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_RangeCodec __pyx_vtable_6edgedb_8protocol_8protocol_RangeCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_RangeCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *)o);
-  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_RangeCodec;
-  p->sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_6edgedb_8protocol_8protocol_10RangeCodec_1__cinit__(o, __pyx_empty_tuple, NULL) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_RangeCodec(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->sub_codec);
-  if (PyType_IS_GC(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) PyObject_GC_Track(o);
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_RangeCodec(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *)o;
-  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_RangeCodec)); if (e) return e;
-  if (p->sub_codec) {
-    e = (*v)(((PyObject *)p->sub_codec), a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_RangeCodec(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec *)o;
-  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_RangeCodec);
-  tmp = ((PyObject*)p->sub_codec);
-  p->sub_codec = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_RangeCodec[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10RangeCodec_3make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10RangeCodec_5__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_10RangeCodec_7__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_RangeCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.RangeCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_RangeCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_RangeCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_RangeCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_RangeCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_RangeCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_RangeCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SetCodec __pyx_vtable_6edgedb_8protocol_8protocol_SetCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_SetCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseArrayCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec *)o);
-  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_SetCodec;
-  return o;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_SetCodec[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_8SetCodec_1make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_8SetCodec_3__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_8SetCodec_5__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_SetCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.SetCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_SetCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_BaseArrayCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_SetCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_SetCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_EnumCodec __pyx_vtable_6edgedb_8protocol_8protocol_EnumCodec;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_EnumCodec(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *p;
-  PyObject *o = __pyx_tp_new_6edgedb_8protocol_8protocol_BaseCodec(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *)o);
-  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_BaseCodec*)__pyx_vtabptr_6edgedb_8protocol_8protocol_EnumCodec;
-  p->cls = Py_None; Py_INCREF(Py_None);
-  return o;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EnumCodec(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->cls);
-  if (PyType_IS_GC(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) PyObject_GC_Track(o);
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_BaseCodec(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_EnumCodec(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *)o;
-  e = ((likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) ? ((__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse) ? __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_6edgedb_8protocol_8protocol_EnumCodec)); if (e) return e;
-  if (p->cls) {
-    e = (*v)(p->cls, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_EnumCodec(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec *)o;
-  if (likely(__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)) { if (__pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear) __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_6edgedb_8protocol_8protocol_EnumCodec);
-  tmp = ((PyObject*)p->cls);
-  p->cls = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_EnumCodec[] = {
-  {"make_type", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9EnumCodec_1make_type, METH_O, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9EnumCodec_3__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_9EnumCodec_5__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_EnumCodec = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.EnumCodec", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_EnumCodec), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_EnumCodec, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_EnumCodec, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_EnumCodec, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_EnumCodec, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_pw_6edgedb_8protocol_8protocol_9BaseCodec_1__init__, /*tp_init*/
-  #else
-  0, /*tp_init*/
-  #endif
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_EnumCodec, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_CodecsRegistry __pyx_vtable_6edgedb_8protocol_8protocol_CodecsRegistry;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_CodecsRegistry(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *p;
-  PyObject *o;
-  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
-    o = (*t->tp_alloc)(t, 0);
-  } else {
-    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
-  }
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)o);
-  p->__pyx_vtab = __pyx_vtabptr_6edgedb_8protocol_8protocol_CodecsRegistry;
-  p->codecs_build_cache = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
-  p->codecs = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
-  p->base_codec_overrides = ((PyObject*)Py_None); Py_INCREF(Py_None);
-  return o;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_CodecsRegistry(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->codecs_build_cache);
-  Py_CLEAR(p->codecs);
-  Py_CLEAR(p->base_codec_overrides);
-  (*Py_TYPE(o)->tp_free)(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_CodecsRegistry(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)o;
-  if (p->codecs_build_cache) {
-    e = (*v)(((PyObject *)p->codecs_build_cache), a); if (e) return e;
-  }
-  if (p->codecs) {
-    e = (*v)(((PyObject *)p->codecs), a); if (e) return e;
-  }
-  if (p->base_codec_overrides) {
-    e = (*v)(p->base_codec_overrides, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_CodecsRegistry(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *)o;
-  tmp = ((PyObject*)p->codecs_build_cache);
-  p->codecs_build_cache = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->codecs);
-  p->codecs = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->base_codec_overrides);
-  p->base_codec_overrides = ((PyObject*)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_CodecsRegistry[] = {
-  {"clear_cache", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_14CodecsRegistry_3clear_cache, METH_NOARGS, 0},
-  {"set_type_codec", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6edgedb_8protocol_8protocol_14CodecsRegistry_5set_type_codec, METH_VARARGS|METH_KEYWORDS, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_14CodecsRegistry_7__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_14CodecsRegistry_9__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.CodecsRegistry", /*tp_name*/
-  sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_6edgedb_8protocol_8protocol_CodecsRegistry, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_6edgedb_8protocol_8protocol_CodecsRegistry, /*tp_traverse*/
-  __pyx_tp_clear_6edgedb_8protocol_8protocol_CodecsRegistry, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_6edgedb_8protocol_8protocol_CodecsRegistry, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  __pyx_pw_6edgedb_8protocol_8protocol_14CodecsRegistry_1__init__, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_6edgedb_8protocol_8protocol_CodecsRegistry, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_QueryCodecsCache __pyx_vtable_6edgedb_8protocol_8protocol_QueryCodecsCache;
-
-static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_QueryCodecsCache(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *p;
-  PyObject *o;
-  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
-    o = (*t->tp_alloc)(t, 0);
-  } else {
-    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
-  }
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *)o);
-  p->__pyx_vtab = __pyx_vtabptr_6edgedb_8protocol_8protocol_QueryCodecsCache;
-  p->queries = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
-  return o;
-}
-
-static void __pyx_tp_dealloc_6edgedb_8protocol_8protocol_QueryCodecsCache(PyObject *o) {
-  struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->queries);
-  (*Py_TYPE(o)->tp_free)(o);
-}
-
-static int __pyx_tp_traverse_6edgedb_8protocol_8protocol_QueryCodecsCache(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *)o;
-  if (p->queries) {
-    e = (*v)(((PyObject *)p->queries), a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_6edgedb_8protocol_8protocol_QueryCodecsCache(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *p = (struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *)o;
-  tmp = ((PyObject*)p->queries);
-  p->queries = ((struct __pyx_obj_6edgedb_8protocol_8protocol_LRUMapping *)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_QueryCodecsCache[] = {
-  {"get", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6edgedb_8protocol_8protocol_16QueryCodecsCache_3get, METH_VARARGS|METH_KEYWORDS, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_16QueryCodecsCache_5__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_16QueryCodecsCache_7__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
+static PyMethodDef __pyx_methods_6edgedb_8protocol_8protocol_QueryCodecsCache[] = {
+  {"get", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_6edgedb_8protocol_8protocol_16QueryCodecsCache_3get, METH_VARARGS|METH_KEYWORDS, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_16QueryCodecsCache_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_6edgedb_8protocol_8protocol_16QueryCodecsCache_7__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
 
 static PyTypeObject __pyx_type_6edgedb_8protocol_8protocol_QueryCodecsCache = {
   PyVarObject_HEAD_INIT(0, 0)
   "edgedb.protocol.protocol.QueryCodecsCache", /*tp_name*/
   sizeof(struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache), /*tp_basicsize*/
   0, /*tp_itemsize*/
   __pyx_tp_dealloc_6edgedb_8protocol_8protocol_QueryCodecsCache, /*tp_dealloc*/
@@ -76437,15 +61965,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SansIOProtocol __pyx_vtable_6edgedb_8protocol_8protocol_SansIOProtocol;
 
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_SansIOProtocol(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocol *p;
@@ -76702,15 +62230,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 static struct __pyx_vtabstruct_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible __pyx_vtable_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible;
 
 static PyObject *__pyx_tp_new_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible(PyTypeObject *t, PyObject *a, PyObject *k) {
   struct __pyx_obj_6edgedb_8protocol_8protocol_SansIOProtocolBackwardsCompatible *p;
@@ -76799,15 +62327,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct__make_type *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct__make_type[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct__make_type = 0;
 
@@ -76924,15 +62452,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_1_genexpr *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_1_genexpr[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_1_genexpr = 0;
 
@@ -77041,15 +62569,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_2_make_type *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_2_make_type[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_2_make_type = 0;
 
@@ -77159,15 +62687,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_3_genexpr *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_3_genexpr[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_3_genexpr = 0;
 
@@ -77276,15 +62804,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_4_wait_for_message *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_4_wait_for_message[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_4_wait_for_message = 0;
 
@@ -77385,15 +62913,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_5_try_recv_eagerly *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_5_try_recv_eagerly[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_5_try_recv_eagerly = 0;
 
@@ -77494,15 +63022,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_6_wait_for_connect *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_6_wait_for_connect[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_6_wait_for_connect = 0;
 
@@ -77603,15 +63131,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_7_wait_for_disconnect *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_7_wait_for_disconnect[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_7_wait_for_disconnect = 0;
 
@@ -77712,15 +63240,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_8__parse *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_8__parse[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_8__parse = 0;
 
@@ -77881,15 +63409,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_9__execute *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_9__execute[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_9__execute = 0;
 
@@ -78060,15 +63588,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_10_execute *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_10_execute[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_10_execute = 0;
 
@@ -78238,15 +63766,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_11_query *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_11_query[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_11_query = 0;
 
@@ -78400,15 +63928,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_12_dump *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_12_dump[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_12_dump = 0;
 
@@ -78525,15 +64053,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_13__sync *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_13__sync[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_13__sync = 0;
 
@@ -78634,15 +64162,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_14_ping *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_14_ping[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_14_ping = 0;
 
@@ -78747,15 +64275,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_15_restore *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_15_restore[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_15_restore = 0;
 
@@ -78877,15 +64405,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_16_connect *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_16_connect[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_16_connect = 0;
 
@@ -79014,15 +64542,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_17__auth_sasl *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_17__auth_sasl[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_17__auth_sasl = 0;
 
@@ -79177,15 +64705,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_18__legacy_parse *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_18__legacy_parse[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_18__legacy_parse = 0;
 
@@ -79342,15 +64870,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_19__legacy_execute *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_19__legacy_execute[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_19__legacy_execute = 0;
 
@@ -79487,15 +65015,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_20__legacy_optimistic_execute *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_20__legacy_optimistic_execute[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_20__legacy_optimistic_execute = 0;
 
@@ -79666,15 +65194,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_21_legacy_execute_anonymous *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_21_legacy_execute_anonymous[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_21_legacy_execute_anonymous = 0;
 
@@ -79852,15 +65380,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static struct __pyx_obj_6edgedb_8protocol_8protocol___pyx_scope_struct_22_legacy_simple_query *__pyx_freelist_6edgedb_8protocol_8protocol___pyx_scope_struct_22_legacy_simple_query[8];
 static int __pyx_freecount_6edgedb_8protocol_8protocol___pyx_scope_struct_22_legacy_simple_query = 0;
 
@@ -79975,15 +65503,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static PyObject *__pyx_tp_new___Pyx_EnumMeta(PyTypeObject *t, PyObject *a, PyObject *k) {
   PyObject *o = (&PyType_Type)->tp_new(t, a, k);
   if (unlikely(!o)) return 0;
@@ -80107,742 +65635,15 @@
   #endif
   #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
   0, /*tp_vectorcall*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
   0, /*tp_print*/
   #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_array __pyx_vtable_array;
-
-static PyObject *__pyx_tp_new_array(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_array_obj *p;
-  PyObject *o;
-  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
-    o = (*t->tp_alloc)(t, 0);
-  } else {
-    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
-  }
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_array_obj *)o);
-  p->__pyx_vtab = __pyx_vtabptr_array;
-  p->mode = ((PyObject*)Py_None); Py_INCREF(Py_None);
-  p->_format = ((PyObject*)Py_None); Py_INCREF(Py_None);
-  if (unlikely(__pyx_array___cinit__(o, a, k) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_array(PyObject *o) {
-  struct __pyx_array_obj *p = (struct __pyx_array_obj *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && (!PyType_IS_GC(Py_TYPE(o)) || !_PyGC_FINALIZED(o))) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  {
-    PyObject *etype, *eval, *etb;
-    PyErr_Fetch(&etype, &eval, &etb);
-    __Pyx_SET_REFCNT(o, Py_REFCNT(o) + 1);
-    __pyx_array___dealloc__(o);
-    __Pyx_SET_REFCNT(o, Py_REFCNT(o) - 1);
-    PyErr_Restore(etype, eval, etb);
-  }
-  Py_CLEAR(p->mode);
-  Py_CLEAR(p->_format);
-  (*Py_TYPE(o)->tp_free)(o);
-}
-static PyObject *__pyx_sq_item_array(PyObject *o, Py_ssize_t i) {
-  PyObject *r;
-  PyObject *x = PyInt_FromSsize_t(i); if(!x) return 0;
-  r = Py_TYPE(o)->tp_as_mapping->mp_subscript(o, x);
-  Py_DECREF(x);
-  return r;
-}
-
-static int __pyx_mp_ass_subscript_array(PyObject *o, PyObject *i, PyObject *v) {
-  if (v) {
-    return __pyx_array___setitem__(o, i, v);
-  }
-  else {
-    PyErr_Format(PyExc_NotImplementedError,
-      "Subscript deletion not supported by %.200s", Py_TYPE(o)->tp_name);
-    return -1;
-  }
-}
-
-static PyObject *__pyx_tp_getattro_array(PyObject *o, PyObject *n) {
-  PyObject *v = __Pyx_PyObject_GenericGetAttr(o, n);
-  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
-    PyErr_Clear();
-    v = __pyx_array___getattr__(o, n);
-  }
-  return v;
-}
-
-static PyObject *__pyx_getprop___pyx_array_memview(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_5array_7memview_1__get__(o);
-}
-
-static PyMethodDef __pyx_methods_array[] = {
-  {"__getattr__", (PyCFunction)__pyx_array___getattr__, METH_O|METH_COEXIST, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw___pyx_array_1__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw___pyx_array_3__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static struct PyGetSetDef __pyx_getsets_array[] = {
-  {(char *)"memview", __pyx_getprop___pyx_array_memview, 0, (char *)0, 0},
-  {0, 0, 0, 0, 0}
-};
-
-static PySequenceMethods __pyx_tp_as_sequence_array = {
-  __pyx_array___len__, /*sq_length*/
-  0, /*sq_concat*/
-  0, /*sq_repeat*/
-  __pyx_sq_item_array, /*sq_item*/
-  0, /*sq_slice*/
-  0, /*sq_ass_item*/
-  0, /*sq_ass_slice*/
-  0, /*sq_contains*/
-  0, /*sq_inplace_concat*/
-  0, /*sq_inplace_repeat*/
-};
-
-static PyMappingMethods __pyx_tp_as_mapping_array = {
-  __pyx_array___len__, /*mp_length*/
-  __pyx_array___getitem__, /*mp_subscript*/
-  __pyx_mp_ass_subscript_array, /*mp_ass_subscript*/
-};
-
-static PyBufferProcs __pyx_tp_as_buffer_array = {
-  #if PY_MAJOR_VERSION < 3
-  0, /*bf_getreadbuffer*/
-  #endif
-  #if PY_MAJOR_VERSION < 3
-  0, /*bf_getwritebuffer*/
-  #endif
-  #if PY_MAJOR_VERSION < 3
-  0, /*bf_getsegcount*/
-  #endif
-  #if PY_MAJOR_VERSION < 3
-  0, /*bf_getcharbuffer*/
-  #endif
-  __pyx_array_getbuffer, /*bf_getbuffer*/
-  0, /*bf_releasebuffer*/
-};
-
-static PyTypeObject __pyx_type___pyx_array = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.array", /*tp_name*/
-  sizeof(struct __pyx_array_obj), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_array, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  &__pyx_tp_as_sequence_array, /*tp_as_sequence*/
-  &__pyx_tp_as_mapping_array, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  __pyx_tp_getattro_array, /*tp_getattro*/
-  0, /*tp_setattro*/
-  &__pyx_tp_as_buffer_array, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE, /*tp_flags*/
-  0, /*tp_doc*/
-  0, /*tp_traverse*/
-  0, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_array, /*tp_methods*/
-  0, /*tp_members*/
-  __pyx_getsets_array, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  0, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_array, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-
-static PyObject *__pyx_tp_new_Enum(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_MemviewEnum_obj *p;
-  PyObject *o;
-  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
-    o = (*t->tp_alloc)(t, 0);
-  } else {
-    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
-  }
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_MemviewEnum_obj *)o);
-  p->name = Py_None; Py_INCREF(Py_None);
-  return o;
-}
-
-static void __pyx_tp_dealloc_Enum(PyObject *o) {
-  struct __pyx_MemviewEnum_obj *p = (struct __pyx_MemviewEnum_obj *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->name);
-  (*Py_TYPE(o)->tp_free)(o);
-}
-
-static int __pyx_tp_traverse_Enum(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_MemviewEnum_obj *p = (struct __pyx_MemviewEnum_obj *)o;
-  if (p->name) {
-    e = (*v)(p->name, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_Enum(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_MemviewEnum_obj *p = (struct __pyx_MemviewEnum_obj *)o;
-  tmp = ((PyObject*)p->name);
-  p->name = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  return 0;
-}
-
-static PyMethodDef __pyx_methods_Enum[] = {
-  {"__reduce_cython__", (PyCFunction)__pyx_pw___pyx_MemviewEnum_1__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw___pyx_MemviewEnum_3__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type___pyx_MemviewEnum = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.Enum", /*tp_name*/
-  sizeof(struct __pyx_MemviewEnum_obj), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_Enum, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  __pyx_MemviewEnum___repr__, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_Enum, /*tp_traverse*/
-  __pyx_tp_clear_Enum, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_Enum, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  __pyx_MemviewEnum___init__, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_Enum, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct_memoryview __pyx_vtable_memoryview;
-
-static PyObject *__pyx_tp_new_memoryview(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_memoryview_obj *p;
-  PyObject *o;
-  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
-    o = (*t->tp_alloc)(t, 0);
-  } else {
-    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
-  }
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_memoryview_obj *)o);
-  p->__pyx_vtab = __pyx_vtabptr_memoryview;
-  p->obj = Py_None; Py_INCREF(Py_None);
-  p->_size = Py_None; Py_INCREF(Py_None);
-  p->_array_interface = Py_None; Py_INCREF(Py_None);
-  p->view.obj = NULL;
-  if (unlikely(__pyx_memoryview___cinit__(o, a, k) < 0)) goto bad;
-  return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
-}
-
-static void __pyx_tp_dealloc_memoryview(PyObject *o) {
-  struct __pyx_memoryview_obj *p = (struct __pyx_memoryview_obj *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  {
-    PyObject *etype, *eval, *etb;
-    PyErr_Fetch(&etype, &eval, &etb);
-    __Pyx_SET_REFCNT(o, Py_REFCNT(o) + 1);
-    __pyx_memoryview___dealloc__(o);
-    __Pyx_SET_REFCNT(o, Py_REFCNT(o) - 1);
-    PyErr_Restore(etype, eval, etb);
-  }
-  Py_CLEAR(p->obj);
-  Py_CLEAR(p->_size);
-  Py_CLEAR(p->_array_interface);
-  (*Py_TYPE(o)->tp_free)(o);
-}
-
-static int __pyx_tp_traverse_memoryview(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_memoryview_obj *p = (struct __pyx_memoryview_obj *)o;
-  if (p->obj) {
-    e = (*v)(p->obj, a); if (e) return e;
-  }
-  if (p->_size) {
-    e = (*v)(p->_size, a); if (e) return e;
-  }
-  if (p->_array_interface) {
-    e = (*v)(p->_array_interface, a); if (e) return e;
-  }
-  if (p->view.obj) {
-    e = (*v)(p->view.obj, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear_memoryview(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_memoryview_obj *p = (struct __pyx_memoryview_obj *)o;
-  tmp = ((PyObject*)p->obj);
-  p->obj = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->_size);
-  p->_size = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->_array_interface);
-  p->_array_interface = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  Py_CLEAR(p->view.obj);
-  return 0;
-}
-static PyObject *__pyx_sq_item_memoryview(PyObject *o, Py_ssize_t i) {
-  PyObject *r;
-  PyObject *x = PyInt_FromSsize_t(i); if(!x) return 0;
-  r = Py_TYPE(o)->tp_as_mapping->mp_subscript(o, x);
-  Py_DECREF(x);
-  return r;
-}
-
-static int __pyx_mp_ass_subscript_memoryview(PyObject *o, PyObject *i, PyObject *v) {
-  if (v) {
-    return __pyx_memoryview___setitem__(o, i, v);
-  }
-  else {
-    PyErr_Format(PyExc_NotImplementedError,
-      "Subscript deletion not supported by %.200s", Py_TYPE(o)->tp_name);
-    return -1;
-  }
-}
-
-static PyObject *__pyx_getprop___pyx_memoryview_T(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_10memoryview_1T_1__get__(o);
-}
-
-static PyObject *__pyx_getprop___pyx_memoryview_base(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_10memoryview_4base_1__get__(o);
-}
-
-static PyObject *__pyx_getprop___pyx_memoryview_shape(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_10memoryview_5shape_1__get__(o);
-}
-
-static PyObject *__pyx_getprop___pyx_memoryview_strides(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_10memoryview_7strides_1__get__(o);
-}
-
-static PyObject *__pyx_getprop___pyx_memoryview_suboffsets(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_10memoryview_10suboffsets_1__get__(o);
-}
-
-static PyObject *__pyx_getprop___pyx_memoryview_ndim(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_10memoryview_4ndim_1__get__(o);
-}
-
-static PyObject *__pyx_getprop___pyx_memoryview_itemsize(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_10memoryview_8itemsize_1__get__(o);
-}
-
-static PyObject *__pyx_getprop___pyx_memoryview_nbytes(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_10memoryview_6nbytes_1__get__(o);
-}
-
-static PyObject *__pyx_getprop___pyx_memoryview_size(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_10memoryview_4size_1__get__(o);
-}
-
-static PyMethodDef __pyx_methods_memoryview[] = {
-  {"is_c_contig", (PyCFunction)__pyx_memoryview_is_c_contig, METH_NOARGS, 0},
-  {"is_f_contig", (PyCFunction)__pyx_memoryview_is_f_contig, METH_NOARGS, 0},
-  {"copy", (PyCFunction)__pyx_memoryview_copy, METH_NOARGS, 0},
-  {"copy_fortran", (PyCFunction)__pyx_memoryview_copy_fortran, METH_NOARGS, 0},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw___pyx_memoryview_1__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw___pyx_memoryview_3__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static struct PyGetSetDef __pyx_getsets_memoryview[] = {
-  {(char *)"T", __pyx_getprop___pyx_memoryview_T, 0, (char *)0, 0},
-  {(char *)"base", __pyx_getprop___pyx_memoryview_base, 0, (char *)0, 0},
-  {(char *)"shape", __pyx_getprop___pyx_memoryview_shape, 0, (char *)0, 0},
-  {(char *)"strides", __pyx_getprop___pyx_memoryview_strides, 0, (char *)0, 0},
-  {(char *)"suboffsets", __pyx_getprop___pyx_memoryview_suboffsets, 0, (char *)0, 0},
-  {(char *)"ndim", __pyx_getprop___pyx_memoryview_ndim, 0, (char *)0, 0},
-  {(char *)"itemsize", __pyx_getprop___pyx_memoryview_itemsize, 0, (char *)0, 0},
-  {(char *)"nbytes", __pyx_getprop___pyx_memoryview_nbytes, 0, (char *)0, 0},
-  {(char *)"size", __pyx_getprop___pyx_memoryview_size, 0, (char *)0, 0},
-  {0, 0, 0, 0, 0}
-};
-
-static PySequenceMethods __pyx_tp_as_sequence_memoryview = {
-  __pyx_memoryview___len__, /*sq_length*/
-  0, /*sq_concat*/
-  0, /*sq_repeat*/
-  __pyx_sq_item_memoryview, /*sq_item*/
-  0, /*sq_slice*/
-  0, /*sq_ass_item*/
-  0, /*sq_ass_slice*/
-  0, /*sq_contains*/
-  0, /*sq_inplace_concat*/
-  0, /*sq_inplace_repeat*/
-};
-
-static PyMappingMethods __pyx_tp_as_mapping_memoryview = {
-  __pyx_memoryview___len__, /*mp_length*/
-  __pyx_memoryview___getitem__, /*mp_subscript*/
-  __pyx_mp_ass_subscript_memoryview, /*mp_ass_subscript*/
-};
-
-static PyBufferProcs __pyx_tp_as_buffer_memoryview = {
-  #if PY_MAJOR_VERSION < 3
-  0, /*bf_getreadbuffer*/
-  #endif
-  #if PY_MAJOR_VERSION < 3
-  0, /*bf_getwritebuffer*/
-  #endif
-  #if PY_MAJOR_VERSION < 3
-  0, /*bf_getsegcount*/
-  #endif
-  #if PY_MAJOR_VERSION < 3
-  0, /*bf_getcharbuffer*/
-  #endif
-  __pyx_memoryview_getbuffer, /*bf_getbuffer*/
-  0, /*bf_releasebuffer*/
-};
-
-static PyTypeObject __pyx_type___pyx_memoryview = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol.memoryview", /*tp_name*/
-  sizeof(struct __pyx_memoryview_obj), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_memoryview, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  __pyx_memoryview___repr__, /*tp_repr*/
-  0, /*tp_as_number*/
-  &__pyx_tp_as_sequence_memoryview, /*tp_as_sequence*/
-  &__pyx_tp_as_mapping_memoryview, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  __pyx_memoryview___str__, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  &__pyx_tp_as_buffer_memoryview, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_memoryview, /*tp_traverse*/
-  __pyx_tp_clear_memoryview, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods_memoryview, /*tp_methods*/
-  0, /*tp_members*/
-  __pyx_getsets_memoryview, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  0, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_memoryview, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-static struct __pyx_vtabstruct__memoryviewslice __pyx_vtable__memoryviewslice;
-
-static PyObject *__pyx_tp_new__memoryviewslice(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_memoryviewslice_obj *p;
-  PyObject *o = __pyx_tp_new_memoryview(t, a, k);
-  if (unlikely(!o)) return 0;
-  p = ((struct __pyx_memoryviewslice_obj *)o);
-  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_memoryview*)__pyx_vtabptr__memoryviewslice;
-  p->from_object = Py_None; Py_INCREF(Py_None);
-  p->from_slice.memview = NULL;
-  return o;
-}
-
-static void __pyx_tp_dealloc__memoryviewslice(PyObject *o) {
-  struct __pyx_memoryviewslice_obj *p = (struct __pyx_memoryviewslice_obj *)o;
-  #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
-    if (PyObject_CallFinalizerFromDealloc(o)) return;
-  }
-  #endif
-  PyObject_GC_UnTrack(o);
-  {
-    PyObject *etype, *eval, *etb;
-    PyErr_Fetch(&etype, &eval, &etb);
-    __Pyx_SET_REFCNT(o, Py_REFCNT(o) + 1);
-    __pyx_memoryviewslice___dealloc__(o);
-    __Pyx_SET_REFCNT(o, Py_REFCNT(o) - 1);
-    PyErr_Restore(etype, eval, etb);
-  }
-  Py_CLEAR(p->from_object);
-  PyObject_GC_Track(o);
-  __pyx_tp_dealloc_memoryview(o);
-}
-
-static int __pyx_tp_traverse__memoryviewslice(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_memoryviewslice_obj *p = (struct __pyx_memoryviewslice_obj *)o;
-  e = __pyx_tp_traverse_memoryview(o, v, a); if (e) return e;
-  if (p->from_object) {
-    e = (*v)(p->from_object, a); if (e) return e;
-  }
-  return 0;
-}
-
-static int __pyx_tp_clear__memoryviewslice(PyObject *o) {
-  PyObject* tmp;
-  struct __pyx_memoryviewslice_obj *p = (struct __pyx_memoryviewslice_obj *)o;
-  __pyx_tp_clear_memoryview(o);
-  tmp = ((PyObject*)p->from_object);
-  p->from_object = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  __PYX_XDEC_MEMVIEW(&p->from_slice, 1);
-  return 0;
-}
-
-static PyObject *__pyx_getprop___pyx_memoryviewslice_base(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_15View_dot_MemoryView_16_memoryviewslice_4base_1__get__(o);
-}
-
-static PyMethodDef __pyx_methods__memoryviewslice[] = {
-  {"__reduce_cython__", (PyCFunction)__pyx_pw___pyx_memoryviewslice_1__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw___pyx_memoryviewslice_3__setstate_cython__, METH_O, 0},
-  {0, 0, 0, 0}
-};
-
-static struct PyGetSetDef __pyx_getsets__memoryviewslice[] = {
-  {(char *)"base", __pyx_getprop___pyx_memoryviewslice_base, 0, (char *)0, 0},
-  {0, 0, 0, 0, 0}
-};
-
-static PyTypeObject __pyx_type___pyx_memoryviewslice = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "edgedb.protocol.protocol._memoryviewslice", /*tp_name*/
-  sizeof(struct __pyx_memoryviewslice_obj), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc__memoryviewslice, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_memoryview___repr__, /*tp_repr*/
-  #else
-  0, /*tp_repr*/
-  #endif
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  #if CYTHON_COMPILING_IN_PYPY
-  __pyx_memoryview___str__, /*tp_str*/
-  #else
-  0, /*tp_str*/
-  #endif
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  "Internal class for passing memoryview slices to Python", /*tp_doc*/
-  __pyx_tp_traverse__memoryviewslice, /*tp_traverse*/
-  __pyx_tp_clear__memoryviewslice, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  __pyx_methods__memoryviewslice, /*tp_methods*/
-  0, /*tp_members*/
-  __pyx_getsets__memoryviewslice, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  0, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new__memoryviewslice, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
 static PyMethodDef __pyx_methods[] = {
   {0, 0, 0, 0}
 };
@@ -80903,41 +65704,35 @@
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_19, __pyx_k_00000000_0000_0000_0000_00000000_19, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_19), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_2, __pyx_k_00000000_0000_0000_0000_00000000_2, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_2), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_20, __pyx_k_00000000_0000_0000_0000_00000000_20, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_20), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_21, __pyx_k_00000000_0000_0000_0000_00000000_21, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_21), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_22, __pyx_k_00000000_0000_0000_0000_00000000_22, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_22), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_23, __pyx_k_00000000_0000_0000_0000_00000000_23, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_23), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_24, __pyx_k_00000000_0000_0000_0000_00000000_24, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_24), 0, 1, 0, 0},
+  {&__pyx_kp_u_00000000_0000_0000_0000_00000000_25, __pyx_k_00000000_0000_0000_0000_00000000_25, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_25), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_3, __pyx_k_00000000_0000_0000_0000_00000000_3, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_3), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_4, __pyx_k_00000000_0000_0000_0000_00000000_4, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_4), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_5, __pyx_k_00000000_0000_0000_0000_00000000_5, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_5), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_6, __pyx_k_00000000_0000_0000_0000_00000000_6, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_6), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_7, __pyx_k_00000000_0000_0000_0000_00000000_7, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_7), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_8, __pyx_k_00000000_0000_0000_0000_00000000_8, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_8), 0, 1, 0, 0},
   {&__pyx_kp_u_00000000_0000_0000_0000_00000000_9, __pyx_k_00000000_0000_0000_0000_00000000_9, sizeof(__pyx_k_00000000_0000_0000_0000_00000000_9), 0, 1, 0, 0},
-  {&__pyx_kp_u_9565dd88_04f5_11ee_a691_0b6ebe17, __pyx_k_9565dd88_04f5_11ee_a691_0b6ebe17, sizeof(__pyx_k_9565dd88_04f5_11ee_a691_0b6ebe17), 0, 1, 0, 0},
   {&__pyx_n_s_ALL, __pyx_k_ALL, sizeof(__pyx_k_ALL), 0, 0, 1, 1},
   {&__pyx_n_s_ALL_CAPABILITIES, __pyx_k_ALL_CAPABILITIES, sizeof(__pyx_k_ALL_CAPABILITIES), 0, 0, 1, 1},
-  {&__pyx_n_s_ASCII, __pyx_k_ASCII, sizeof(__pyx_k_ASCII), 0, 0, 1, 1},
   {&__pyx_n_s_AT_LEAST_ONE, __pyx_k_AT_LEAST_ONE, sizeof(__pyx_k_AT_LEAST_ONE), 0, 0, 1, 1},
   {&__pyx_n_s_AT_MOST_ONE, __pyx_k_AT_MOST_ONE, sizeof(__pyx_k_AT_MOST_ONE), 0, 0, 1, 1},
   {&__pyx_n_u_Array, __pyx_k_Array, sizeof(__pyx_k_Array), 0, 1, 0, 1},
   {&__pyx_n_s_ArrayCodec, __pyx_k_ArrayCodec, sizeof(__pyx_k_ArrayCodec), 0, 0, 1, 1},
   {&__pyx_n_s_ArrayType, __pyx_k_ArrayType, sizeof(__pyx_k_ArrayType), 0, 0, 1, 1},
   {&__pyx_n_s_BINARY, __pyx_k_BINARY, sizeof(__pyx_k_BINARY), 0, 0, 1, 1},
   {&__pyx_n_s_BaseArrayCodec, __pyx_k_BaseArrayCodec, sizeof(__pyx_k_BaseArrayCodec), 0, 0, 1, 1},
   {&__pyx_n_s_BaseCodec, __pyx_k_BaseCodec, sizeof(__pyx_k_BaseCodec), 0, 0, 1, 1},
   {&__pyx_n_s_BaseNamedRecordCodec, __pyx_k_BaseNamedRecordCodec, sizeof(__pyx_k_BaseNamedRecordCodec), 0, 0, 1, 1},
   {&__pyx_n_s_BaseRecordCodec, __pyx_k_BaseRecordCodec, sizeof(__pyx_k_BaseRecordCodec), 0, 0, 1, 1},
   {&__pyx_n_s_BaseScalarType, __pyx_k_BaseScalarType, sizeof(__pyx_k_BaseScalarType), 0, 0, 1, 1},
-  {&__pyx_kp_s_Buffer_view_does_not_expose_stri, __pyx_k_Buffer_view_does_not_expose_stri, sizeof(__pyx_k_Buffer_view_does_not_expose_stri), 0, 0, 1, 0},
-  {&__pyx_kp_s_Can_only_create_a_buffer_that_is, __pyx_k_Can_only_create_a_buffer_that_is, sizeof(__pyx_k_Can_only_create_a_buffer_that_is), 0, 0, 1, 0},
-  {&__pyx_kp_s_Cannot_assign_to_read_only_memor, __pyx_k_Cannot_assign_to_read_only_memor, sizeof(__pyx_k_Cannot_assign_to_read_only_memor), 0, 0, 1, 0},
-  {&__pyx_kp_s_Cannot_create_writable_memory_vi, __pyx_k_Cannot_create_writable_memory_vi, sizeof(__pyx_k_Cannot_create_writable_memory_vi), 0, 0, 1, 0},
-  {&__pyx_kp_s_Cannot_index_with_type_s, __pyx_k_Cannot_index_with_type_s, sizeof(__pyx_k_Cannot_index_with_type_s), 0, 0, 1, 0},
   {&__pyx_n_s_Capability, __pyx_k_Capability, sizeof(__pyx_k_Capability), 0, 0, 1, 1},
   {&__pyx_n_s_Cardinality, __pyx_k_Cardinality, sizeof(__pyx_k_Cardinality), 0, 0, 1, 1},
   {&__pyx_n_s_ClientConnectionClosedError, __pyx_k_ClientConnectionClosedError, sizeof(__pyx_k_ClientConnectionClosedError), 0, 0, 1, 1},
   {&__pyx_n_s_ClientConnectionError, __pyx_k_ClientConnectionError, sizeof(__pyx_k_ClientConnectionError), 0, 0, 1, 1},
   {&__pyx_n_s_ClientError, __pyx_k_ClientError, sizeof(__pyx_k_ClientError), 0, 0, 1, 1},
   {&__pyx_n_s_CodecPythonOverride, __pyx_k_CodecPythonOverride, sizeof(__pyx_k_CodecPythonOverride), 0, 0, 1, 1},
   {&__pyx_n_s_CodecsRegistry, __pyx_k_CodecsRegistry, sizeof(__pyx_k_CodecsRegistry), 0, 0, 1, 1},
@@ -80948,17 +65743,15 @@
   {&__pyx_n_s_EMPTY_NULL_DATA, __pyx_k_EMPTY_NULL_DATA, sizeof(__pyx_k_EMPTY_NULL_DATA), 0, 0, 1, 1},
   {&__pyx_n_s_EMPTY_RECORD_DATA, __pyx_k_EMPTY_RECORD_DATA, sizeof(__pyx_k_EMPTY_RECORD_DATA), 0, 0, 1, 1},
   {&__pyx_n_s_EdegDBCodecContext, __pyx_k_EdegDBCodecContext, sizeof(__pyx_k_EdegDBCodecContext), 0, 0, 1, 1},
   {&__pyx_n_s_EdgeDBError, __pyx_k_EdgeDBError, sizeof(__pyx_k_EdgeDBError), 0, 0, 1, 1},
   {&__pyx_n_s_EdgeDBMessage, __pyx_k_EdgeDBMessage, sizeof(__pyx_k_EdgeDBMessage), 0, 0, 1, 1},
   {&__pyx_n_s_Element, __pyx_k_Element, sizeof(__pyx_k_Element), 0, 0, 1, 1},
   {&__pyx_n_s_ElementKind, __pyx_k_ElementKind, sizeof(__pyx_k_ElementKind), 0, 0, 1, 1},
-  {&__pyx_n_s_Ellipsis, __pyx_k_Ellipsis, sizeof(__pyx_k_Ellipsis), 0, 0, 1, 1},
   {&__pyx_n_s_EmptyTupleCodec, __pyx_k_EmptyTupleCodec, sizeof(__pyx_k_EmptyTupleCodec), 0, 0, 1, 1},
-  {&__pyx_kp_s_Empty_shape_tuple_for_cython_arr, __pyx_k_Empty_shape_tuple_for_cython_arr, sizeof(__pyx_k_Empty_shape_tuple_for_cython_arr), 0, 0, 1, 0},
   {&__pyx_n_u_Enum, __pyx_k_Enum, sizeof(__pyx_k_Enum), 0, 1, 0, 1},
   {&__pyx_n_s_EnumBase, __pyx_k_EnumBase, sizeof(__pyx_k_EnumBase), 0, 0, 1, 1},
   {&__pyx_n_s_EnumCodec, __pyx_k_EnumCodec, sizeof(__pyx_k_EnumCodec), 0, 0, 1, 1},
   {&__pyx_n_s_EnumMeta, __pyx_k_EnumMeta, sizeof(__pyx_k_EnumMeta), 0, 0, 1, 1},
   {&__pyx_n_s_EnumType, __pyx_k_EnumType, sizeof(__pyx_k_EnumType), 0, 0, 1, 1},
   {&__pyx_n_s_EnumValue, __pyx_k_EnumValue, sizeof(__pyx_k_EnumValue), 0, 0, 1, 1},
   {&__pyx_n_s_FIELD, __pyx_k_FIELD, sizeof(__pyx_k_FIELD), 0, 0, 1, 1},
@@ -80966,54 +65759,44 @@
   {&__pyx_n_s_INJECT_OUTPUT_TYPE_IDS, __pyx_k_INJECT_OUTPUT_TYPE_IDS, sizeof(__pyx_k_INJECT_OUTPUT_TYPE_IDS), 0, 0, 1, 1},
   {&__pyx_n_s_INJECT_OUTPUT_TYPE_NAMES, __pyx_k_INJECT_OUTPUT_TYPE_NAMES, sizeof(__pyx_k_INJECT_OUTPUT_TYPE_NAMES), 0, 0, 1, 1},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0, __pyx_k_Incompatible_checksums_0x_x_vs_0, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0), 0, 0, 1, 0},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_2, __pyx_k_Incompatible_checksums_0x_x_vs_0_2, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0_2), 0, 0, 1, 0},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_3, __pyx_k_Incompatible_checksums_0x_x_vs_0_3, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0_3), 0, 0, 1, 0},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_4, __pyx_k_Incompatible_checksums_0x_x_vs_0_4, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0_4), 0, 0, 1, 0},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_5, __pyx_k_Incompatible_checksums_0x_x_vs_0_5, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0_5), 0, 0, 1, 0},
-  {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_6, __pyx_k_Incompatible_checksums_0x_x_vs_0_6, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0_6), 0, 0, 1, 0},
-  {&__pyx_n_s_IndexError, __pyx_k_IndexError, sizeof(__pyx_k_IndexError), 0, 0, 1, 1},
-  {&__pyx_kp_s_Indirect_dimensions_not_supporte, __pyx_k_Indirect_dimensions_not_supporte, sizeof(__pyx_k_Indirect_dimensions_not_supporte), 0, 0, 1, 0},
   {&__pyx_n_s_IntEnum, __pyx_k_IntEnum, sizeof(__pyx_k_IntEnum), 0, 0, 1, 1},
   {&__pyx_n_s_InterfaceError, __pyx_k_InterfaceError, sizeof(__pyx_k_InterfaceError), 0, 0, 1, 1},
   {&__pyx_n_s_InvalidArgumentError, __pyx_k_InvalidArgumentError, sizeof(__pyx_k_InvalidArgumentError), 0, 0, 1, 1},
-  {&__pyx_kp_s_Invalid_mode_expected_c_or_fortr, __pyx_k_Invalid_mode_expected_c_or_fortr, sizeof(__pyx_k_Invalid_mode_expected_c_or_fortr), 0, 0, 1, 0},
-  {&__pyx_kp_s_Invalid_shape_in_axis_d_d, __pyx_k_Invalid_shape_in_axis_d_d, sizeof(__pyx_k_Invalid_shape_in_axis_d_d), 0, 0, 1, 0},
   {&__pyx_n_s_Iterable, __pyx_k_Iterable, sizeof(__pyx_k_Iterable), 0, 0, 1, 1},
   {&__pyx_n_s_IterableABC, __pyx_k_IterableABC, sizeof(__pyx_k_IterableABC), 0, 0, 1, 1},
   {&__pyx_n_s_JSON, __pyx_k_JSON, sizeof(__pyx_k_JSON), 0, 0, 1, 1},
   {&__pyx_n_s_JSON_ELEMENTS, __pyx_k_JSON_ELEMENTS, sizeof(__pyx_k_JSON_ELEMENTS), 0, 0, 1, 1},
   {&__pyx_n_s_KeyError, __pyx_k_KeyError, sizeof(__pyx_k_KeyError), 0, 0, 1, 1},
   {&__pyx_n_s_LINK, __pyx_k_LINK, sizeof(__pyx_k_LINK), 0, 0, 1, 1},
   {&__pyx_n_s_LINK_PROPERTY, __pyx_k_LINK_PROPERTY, sizeof(__pyx_k_LINK_PROPERTY), 0, 0, 1, 1},
   {&__pyx_n_s_LRUMapping, __pyx_k_LRUMapping, sizeof(__pyx_k_LRUMapping), 0, 0, 1, 1},
   {&__pyx_n_s_LookupError, __pyx_k_LookupError, sizeof(__pyx_k_LookupError), 0, 0, 1, 1},
   {&__pyx_n_s_MANY, __pyx_k_MANY, sizeof(__pyx_k_MANY), 0, 0, 1, 1},
   {&__pyx_n_s_Mapping, __pyx_k_Mapping, sizeof(__pyx_k_Mapping), 0, 0, 1, 1},
   {&__pyx_n_s_MappingABC, __pyx_k_MappingABC, sizeof(__pyx_k_MappingABC), 0, 0, 1, 1},
   {&__pyx_n_s_MappingProxyType, __pyx_k_MappingProxyType, sizeof(__pyx_k_MappingProxyType), 0, 0, 1, 1},
-  {&__pyx_n_s_MemoryError, __pyx_k_MemoryError, sizeof(__pyx_k_MemoryError), 0, 0, 1, 1},
-  {&__pyx_kp_s_MemoryView_of_r_at_0x_x, __pyx_k_MemoryView_of_r_at_0x_x, sizeof(__pyx_k_MemoryView_of_r_at_0x_x), 0, 0, 1, 0},
-  {&__pyx_kp_s_MemoryView_of_r_object, __pyx_k_MemoryView_of_r_object, sizeof(__pyx_k_MemoryView_of_r_object), 0, 0, 1, 0},
   {&__pyx_n_s_NONE, __pyx_k_NONE, sizeof(__pyx_k_NONE), 0, 0, 1, 1},
   {&__pyx_n_s_NO_RESULT, __pyx_k_NO_RESULT, sizeof(__pyx_k_NO_RESULT), 0, 0, 1, 1},
   {&__pyx_n_u_NamedTuple, __pyx_k_NamedTuple, sizeof(__pyx_k_NamedTuple), 0, 1, 0, 1},
   {&__pyx_n_s_NamedTupleCodec, __pyx_k_NamedTupleCodec, sizeof(__pyx_k_NamedTupleCodec), 0, 0, 1, 1},
   {&__pyx_n_s_NamedTupleType, __pyx_k_NamedTupleType, sizeof(__pyx_k_NamedTupleType), 0, 0, 1, 1},
   {&__pyx_n_s_NoDataError, __pyx_k_NoDataError, sizeof(__pyx_k_NoDataError), 0, 0, 1, 1},
   {&__pyx_kp_u_None, __pyx_k_None, sizeof(__pyx_k_None), 0, 1, 0, 0},
   {&__pyx_n_s_NotImplementedError, __pyx_k_NotImplementedError, sizeof(__pyx_k_NotImplementedError), 0, 0, 1, 1},
   {&__pyx_n_s_NullCodec, __pyx_k_NullCodec, sizeof(__pyx_k_NullCodec), 0, 0, 1, 1},
-  {&__pyx_n_b_O, __pyx_k_O, sizeof(__pyx_k_O), 0, 0, 0, 1},
   {&__pyx_n_s_ONE, __pyx_k_ONE, sizeof(__pyx_k_ONE), 0, 0, 1, 1},
   {&__pyx_n_u_Object, __pyx_k_Object, sizeof(__pyx_k_Object), 0, 1, 0, 1},
   {&__pyx_n_s_ObjectCodec, __pyx_k_ObjectCodec, sizeof(__pyx_k_ObjectCodec), 0, 0, 1, 1},
   {&__pyx_n_s_ObjectType, __pyx_k_ObjectType, sizeof(__pyx_k_ObjectType), 0, 0, 1, 1},
   {&__pyx_n_s_OrderedDict, __pyx_k_OrderedDict, sizeof(__pyx_k_OrderedDict), 0, 0, 1, 1},
-  {&__pyx_kp_s_Out_of_bounds_on_buffer_access_a, __pyx_k_Out_of_bounds_on_buffer_access_a, sizeof(__pyx_k_Out_of_bounds_on_buffer_access_a), 0, 0, 1, 0},
   {&__pyx_n_s_OutputFormat, __pyx_k_OutputFormat, sizeof(__pyx_k_OutputFormat), 0, 0, 1, 1},
   {&__pyx_n_s_PROPERTY, __pyx_k_PROPERTY, sizeof(__pyx_k_PROPERTY), 0, 0, 1, 1},
   {&__pyx_n_s_ParameterTypeMismatchError, __pyx_k_ParameterTypeMismatchError, sizeof(__pyx_k_ParameterTypeMismatchError), 0, 0, 1, 1},
   {&__pyx_n_s_PickleError, __pyx_k_PickleError, sizeof(__pyx_k_PickleError), 0, 0, 1, 1},
   {&__pyx_n_s_ProtocolError, __pyx_k_ProtocolError, sizeof(__pyx_k_ProtocolError), 0, 0, 1, 1},
   {&__pyx_kp_u_Python_override, __pyx_k_Python_override, sizeof(__pyx_k_Python_override), 0, 1, 0, 0},
   {&__pyx_n_s_Pyx_EnumBase, __pyx_k_Pyx_EnumBase, sizeof(__pyx_k_Pyx_EnumBase), 0, 0, 1, 1},
@@ -81060,82 +65843,74 @@
   {&__pyx_n_u_SparseObject, __pyx_k_SparseObject, sizeof(__pyx_k_SparseObject), 0, 1, 0, 1},
   {&__pyx_n_s_TYPE_IDS, __pyx_k_TYPE_IDS, sizeof(__pyx_k_TYPE_IDS), 0, 0, 1, 1},
   {&__pyx_n_u_Tuple, __pyx_k_Tuple, sizeof(__pyx_k_Tuple), 0, 1, 0, 1},
   {&__pyx_n_s_TupleCodec, __pyx_k_TupleCodec, sizeof(__pyx_k_TupleCodec), 0, 0, 1, 1},
   {&__pyx_n_s_TupleType, __pyx_k_TupleType, sizeof(__pyx_k_TupleType), 0, 0, 1, 1},
   {&__pyx_n_s_TypeError, __pyx_k_TypeError, sizeof(__pyx_k_TypeError), 0, 0, 1, 1},
   {&__pyx_n_s_UUID, __pyx_k_UUID, sizeof(__pyx_k_UUID), 0, 0, 1, 1},
-  {&__pyx_kp_s_Unable_to_convert_item_to_object, __pyx_k_Unable_to_convert_item_to_object, sizeof(__pyx_k_Unable_to_convert_item_to_object), 0, 0, 1, 0},
   {&__pyx_kp_s_Unknown_enum_value_s, __pyx_k_Unknown_enum_value_s, sizeof(__pyx_k_Unknown_enum_value_s), 0, 0, 1, 0},
   {&__pyx_n_s_ValueError, __pyx_k_ValueError, sizeof(__pyx_k_ValueError), 0, 0, 1, 1},
-  {&__pyx_n_s_View_MemoryView, __pyx_k_View_MemoryView, sizeof(__pyx_k_View_MemoryView), 0, 0, 1, 1},
+  {&__pyx_kp_b__122, __pyx_k__122, sizeof(__pyx_k__122), 0, 0, 0, 0},
+  {&__pyx_kp_b__124, __pyx_k__124, sizeof(__pyx_k__124), 0, 0, 0, 0},
+  {&__pyx_kp_b__125, __pyx_k__125, sizeof(__pyx_k__125), 0, 0, 0, 0},
   {&__pyx_kp_u__14, __pyx_k__14, sizeof(__pyx_k__14), 0, 1, 0, 0},
-  {&__pyx_kp_b__141, __pyx_k__141, sizeof(__pyx_k__141), 0, 0, 0, 0},
-  {&__pyx_kp_b__143, __pyx_k__143, sizeof(__pyx_k__143), 0, 0, 0, 0},
-  {&__pyx_kp_b__144, __pyx_k__144, sizeof(__pyx_k__144), 0, 0, 0, 0},
   {&__pyx_kp_u__17, __pyx_k__17, sizeof(__pyx_k__17), 0, 1, 0, 0},
   {&__pyx_kp_u__18, __pyx_k__18, sizeof(__pyx_k__18), 0, 1, 0, 0},
   {&__pyx_kp_u__2, __pyx_k__2, sizeof(__pyx_k__2), 0, 1, 0, 0},
   {&__pyx_kp_u__29, __pyx_k__29, sizeof(__pyx_k__29), 0, 1, 0, 0},
   {&__pyx_kp_u__30, __pyx_k__30, sizeof(__pyx_k__30), 0, 1, 0, 0},
   {&__pyx_kp_u__31, __pyx_k__31, sizeof(__pyx_k__31), 0, 1, 0, 0},
   {&__pyx_kp_u__32, __pyx_k__32, sizeof(__pyx_k__32), 0, 1, 0, 0},
   {&__pyx_kp_u__53, __pyx_k__53, sizeof(__pyx_k__53), 0, 1, 0, 0},
-  {&__pyx_kp_b__65, __pyx_k__65, sizeof(__pyx_k__65), 0, 0, 0, 0},
+  {&__pyx_kp_b__64, __pyx_k__64, sizeof(__pyx_k__64), 0, 0, 0, 0},
+  {&__pyx_kp_u__64, __pyx_k__64, sizeof(__pyx_k__64), 0, 1, 0, 0},
   {&__pyx_kp_u__65, __pyx_k__65, sizeof(__pyx_k__65), 0, 1, 0, 0},
-  {&__pyx_kp_u__66, __pyx_k__66, sizeof(__pyx_k__66), 0, 1, 0, 0},
-  {&__pyx_kp_u__77, __pyx_k__77, sizeof(__pyx_k__77), 0, 1, 0, 0},
-  {&__pyx_kp_u__83, __pyx_k__83, sizeof(__pyx_k__83), 0, 1, 0, 0},
-  {&__pyx_kp_u__86, __pyx_k__86, sizeof(__pyx_k__86), 0, 1, 0, 0},
+  {&__pyx_kp_u__76, __pyx_k__76, sizeof(__pyx_k__76), 0, 1, 0, 0},
+  {&__pyx_kp_u__82, __pyx_k__82, sizeof(__pyx_k__82), 0, 1, 0, 0},
+  {&__pyx_kp_u__85, __pyx_k__85, sizeof(__pyx_k__85), 0, 1, 0, 0},
   {&__pyx_kp_u_a_datetime_datetime_object_was_e, __pyx_k_a_datetime_datetime_object_was_e, sizeof(__pyx_k_a_datetime_datetime_object_was_e), 0, 1, 0, 0},
   {&__pyx_kp_u_a_datetime_datetime_object_was_e_2, __pyx_k_a_datetime_datetime_object_was_e_2, sizeof(__pyx_k_a_datetime_datetime_object_was_e_2), 0, 1, 0, 0},
   {&__pyx_kp_u_a_naive_date_object_tzinfo_is_No, __pyx_k_a_naive_date_object_tzinfo_is_No, sizeof(__pyx_k_a_naive_date_object_tzinfo_is_No), 0, 1, 0, 0},
   {&__pyx_kp_u_a_naive_datetime_object_tzinfo_i, __pyx_k_a_naive_datetime_object_tzinfo_i, sizeof(__pyx_k_a_naive_datetime_object_tzinfo_i), 0, 1, 0, 0},
   {&__pyx_kp_u_a_naive_time_object_tzinfo_is_No, __pyx_k_a_naive_time_object_tzinfo_is_No, sizeof(__pyx_k_a_naive_time_object_tzinfo_is_No), 0, 1, 0, 0},
   {&__pyx_kp_u_a_scalar_codec_expected_for_base, __pyx_k_a_scalar_codec_expected_for_base, sizeof(__pyx_k_a_scalar_codec_expected_for_base), 0, 1, 0, 0},
   {&__pyx_kp_u_a_sized_iterable_container_expec, __pyx_k_a_sized_iterable_container_expec, sizeof(__pyx_k_a_sized_iterable_container_expec), 0, 1, 0, 0},
   {&__pyx_kp_u_a_str_or_edgedb_EnumValue___tid, __pyx_k_a_str_or_edgedb_EnumValue___tid, sizeof(__pyx_k_a_str_or_edgedb_EnumValue___tid), 0, 1, 0, 0},
   {&__pyx_kp_u_a_timezone_aware_datetime_object, __pyx_k_a_timezone_aware_datetime_object, sizeof(__pyx_k_a_timezone_aware_datetime_object), 0, 1, 0, 0},
   {&__pyx_n_s_abort, __pyx_k_abort, sizeof(__pyx_k_abort), 0, 0, 1, 1},
   {&__pyx_n_u_acceptable, __pyx_k_acceptable, sizeof(__pyx_k_acceptable), 0, 1, 0, 1},
   {&__pyx_n_s_aiter, __pyx_k_aiter, sizeof(__pyx_k_aiter), 0, 0, 1, 1},
-  {&__pyx_n_s_allocate_buffer, __pyx_k_allocate_buffer, sizeof(__pyx_k_allocate_buffer), 0, 0, 1, 1},
   {&__pyx_n_s_allow_capabilities, __pyx_k_allow_capabilities, sizeof(__pyx_k_allow_capabilities), 0, 0, 1, 1},
   {&__pyx_kp_u_already_connected, __pyx_k_already_connected, sizeof(__pyx_k_already_connected), 0, 1, 0, 0},
   {&__pyx_n_s_anext, __pyx_k_anext, sizeof(__pyx_k_anext), 0, 0, 1, 1},
   {&__pyx_n_u_anytuple, __pyx_k_anytuple, sizeof(__pyx_k_anytuple), 0, 1, 0, 1},
   {&__pyx_n_u_anytype, __pyx_k_anytype, sizeof(__pyx_k_anytype), 0, 1, 0, 1},
   {&__pyx_n_s_append, __pyx_k_append, sizeof(__pyx_k_append), 0, 0, 1, 1},
   {&__pyx_n_s_args, __pyx_k_args, sizeof(__pyx_k_args), 0, 0, 1, 1},
   {&__pyx_kp_u_argument, __pyx_k_argument, sizeof(__pyx_k_argument), 0, 1, 0, 0},
   {&__pyx_kp_u_argument_tuples_do_not_support_o, __pyx_k_argument_tuples_do_not_support_o, sizeof(__pyx_k_argument_tuples_do_not_support_o), 0, 1, 0, 0},
   {&__pyx_kp_u_arguments, __pyx_k_arguments, sizeof(__pyx_k_arguments), 0, 1, 0, 0},
-  {&__pyx_n_s_array, __pyx_k_array, sizeof(__pyx_k_array), 0, 0, 1, 1},
   {&__pyx_kp_u_as_it_does_not_return_any_data, __pyx_k_as_it_does_not_return_any_data, sizeof(__pyx_k_as_it_does_not_return_any_data), 0, 1, 0, 0},
   {&__pyx_kp_u_as_it_may_return_more_than_one, __pyx_k_as_it_may_return_more_than_one, sizeof(__pyx_k_as_it_may_return_more_than_one), 0, 1, 0, 0},
   {&__pyx_n_s_asyncio, __pyx_k_asyncio, sizeof(__pyx_k_asyncio), 0, 0, 1, 1},
   {&__pyx_n_s_asyncio_coroutines, __pyx_k_asyncio_coroutines, sizeof(__pyx_k_asyncio_coroutines), 0, 0, 1, 1},
   {&__pyx_n_s_asyncio_tasks, __pyx_k_asyncio_tasks, sizeof(__pyx_k_asyncio_tasks), 0, 0, 1, 1},
   {&__pyx_n_s_attrs, __pyx_k_attrs, sizeof(__pyx_k_attrs), 0, 0, 1, 1},
   {&__pyx_n_s_auth_sasl, __pyx_k_auth_sasl, sizeof(__pyx_k_auth_sasl), 0, 0, 1, 1},
   {&__pyx_n_s_await, __pyx_k_await, sizeof(__pyx_k_await), 0, 0, 1, 1},
   {&__pyx_kp_u_bad_bigint_sign_data, __pyx_k_bad_bigint_sign_data, sizeof(__pyx_k_bad_bigint_sign_data), 0, 1, 0, 0},
-  {&__pyx_n_s_base, __pyx_k_base, sizeof(__pyx_k_base), 0, 0, 1, 1},
   {&__pyx_kp_u_base_scalar_codec_for, __pyx_k_base_scalar_codec_for, sizeof(__pyx_k_base_scalar_codec_for), 0, 1, 0, 0},
   {&__pyx_n_s_base_type, __pyx_k_base_type, sizeof(__pyx_k_base_type), 0, 0, 1, 1},
   {&__pyx_n_u_big, __pyx_k_big, sizeof(__pyx_k_big), 0, 1, 0, 1},
   {&__pyx_kp_u_bigint_data_has_fractional_part, __pyx_k_bigint_data_has_fractional_part, sizeof(__pyx_k_bigint_data_has_fractional_part), 0, 1, 0, 0},
   {&__pyx_n_s_block_callback, __pyx_k_block_callback, sizeof(__pyx_k_block_callback), 0, 0, 1, 1},
   {&__pyx_n_s_build_client_final_message, __pyx_k_build_client_final_message, sizeof(__pyx_k_build_client_final_message), 0, 0, 1, 1},
   {&__pyx_n_s_build_client_first_message, __pyx_k_build_client_first_message, sizeof(__pyx_k_build_client_first_message), 0, 0, 1, 1},
   {&__pyx_n_s_bytes, __pyx_k_bytes, sizeof(__pyx_k_bytes), 0, 0, 1, 1},
   {&__pyx_n_s_bytes_2, __pyx_k_bytes_2, sizeof(__pyx_k_bytes_2), 0, 0, 1, 1},
-  {&__pyx_n_s_byteswap, __pyx_k_byteswap, sizeof(__pyx_k_byteswap), 0, 0, 1, 1},
-  {&__pyx_n_s_c, __pyx_k_c, sizeof(__pyx_k_c), 0, 0, 1, 1},
-  {&__pyx_n_u_c, __pyx_k_c, sizeof(__pyx_k_c), 0, 1, 0, 1},
   {&__pyx_n_s_cache_size, __pyx_k_cache_size, sizeof(__pyx_k_cache_size), 0, 0, 1, 1},
   {&__pyx_kp_u_cal_date_duration, __pyx_k_cal_date_duration, sizeof(__pyx_k_cal_date_duration), 0, 1, 0, 0},
   {&__pyx_kp_u_cal_local_date, __pyx_k_cal_local_date, sizeof(__pyx_k_cal_local_date), 0, 1, 0, 0},
   {&__pyx_kp_u_cal_local_datetime, __pyx_k_cal_local_datetime, sizeof(__pyx_k_cal_local_datetime), 0, 1, 0, 0},
   {&__pyx_kp_u_cal_local_time, __pyx_k_cal_local_time, sizeof(__pyx_k_cal_local_time), 0, 1, 0, 0},
   {&__pyx_kp_u_cal_relative_duration, __pyx_k_cal_relative_duration, sizeof(__pyx_k_cal_relative_duration), 0, 1, 0, 0},
   {&__pyx_kp_u_cannot_decode_NamedTuple_expecte, __pyx_k_cannot_decode_NamedTuple_expecte, sizeof(__pyx_k_cannot_decode_NamedTuple_expecte), 0, 1, 0, 0},
@@ -81160,16 +65935,14 @@
   {&__pyx_n_s_code, __pyx_k_code, sizeof(__pyx_k_code), 0, 0, 1, 1},
   {&__pyx_n_s_codecs, __pyx_k_codecs, sizeof(__pyx_k_codecs), 0, 0, 1, 1},
   {&__pyx_kp_u_codecs_are_not_supposed_to_be_in, __pyx_k_codecs_are_not_supposed_to_be_in, sizeof(__pyx_k_codecs_are_not_supposed_to_be_in), 0, 1, 0, 0},
   {&__pyx_n_s_collections, __pyx_k_collections, sizeof(__pyx_k_collections), 0, 0, 1, 1},
   {&__pyx_n_s_collections_abc, __pyx_k_collections_abc, sizeof(__pyx_k_collections_abc), 0, 0, 1, 1},
   {&__pyx_n_s_con_params, __pyx_k_con_params, sizeof(__pyx_k_con_params), 0, 0, 1, 1},
   {&__pyx_n_s_connect, __pyx_k_connect, sizeof(__pyx_k_connect), 0, 0, 1, 1},
-  {&__pyx_kp_s_contiguous_and_direct, __pyx_k_contiguous_and_direct, sizeof(__pyx_k_contiguous_and_direct), 0, 0, 1, 0},
-  {&__pyx_kp_s_contiguous_and_indirect, __pyx_k_contiguous_and_indirect, sizeof(__pyx_k_contiguous_and_indirect), 0, 0, 1, 0},
   {&__pyx_kp_u_data_block_before_header_block, __pyx_k_data_block_before_header_block, sizeof(__pyx_k_data_block_before_header_block), 0, 1, 0, 0},
   {&__pyx_n_s_data_gen, __pyx_k_data_gen, sizeof(__pyx_k_data_gen), 0, 0, 1, 1},
   {&__pyx_n_s_database, __pyx_k_database, sizeof(__pyx_k_database), 0, 0, 1, 1},
   {&__pyx_n_u_database, __pyx_k_database, sizeof(__pyx_k_database), 0, 1, 0, 1},
   {&__pyx_n_s_dataclasses, __pyx_k_dataclasses, sizeof(__pyx_k_dataclasses), 0, 0, 1, 1},
   {&__pyx_n_s_datatypes, __pyx_k_datatypes, sizeof(__pyx_k_datatypes), 0, 0, 1, 1},
   {&__pyx_kp_u_date_duration_has_non_zero_micro, __pyx_k_date_duration_has_non_zero_micro, sizeof(__pyx_k_date_duration_has_non_zero_micro), 0, 1, 0, 0},
@@ -81179,15 +65952,14 @@
   {&__pyx_n_s_decimal, __pyx_k_decimal, sizeof(__pyx_k_decimal), 0, 0, 1, 1},
   {&__pyx_n_s_decoder, __pyx_k_decoder, sizeof(__pyx_k_decoder), 0, 0, 1, 1},
   {&__pyx_n_s_desc_id, __pyx_k_desc_id, sizeof(__pyx_k_desc_id), 0, 0, 1, 1},
   {&__pyx_n_s_describe, __pyx_k_describe, sizeof(__pyx_k_describe), 0, 0, 1, 1},
   {&__pyx_n_s_dict, __pyx_k_dict, sizeof(__pyx_k_dict), 0, 0, 1, 1},
   {&__pyx_n_s_doc, __pyx_k_doc, sizeof(__pyx_k_doc), 0, 0, 1, 1},
   {&__pyx_kp_u_does_not_correspond_to_any_know, __pyx_k_does_not_correspond_to_any_know, sizeof(__pyx_k_does_not_correspond_to_any_know), 0, 1, 0, 0},
-  {&__pyx_n_s_dtype_is_object, __pyx_k_dtype_is_object, sizeof(__pyx_k_dtype_is_object), 0, 0, 1, 1},
   {&__pyx_n_s_dump, __pyx_k_dump, sizeof(__pyx_k_dump), 0, 0, 1, 1},
   {&__pyx_n_s_edgedb, __pyx_k_edgedb, sizeof(__pyx_k_edgedb), 0, 0, 1, 1},
   {&__pyx_n_u_edgedb, __pyx_k_edgedb, sizeof(__pyx_k_edgedb), 0, 1, 0, 1},
   {&__pyx_kp_u_edgedb_DerivedEnumValue, __pyx_k_edgedb_DerivedEnumValue, sizeof(__pyx_k_edgedb_DerivedEnumValue), 0, 1, 0, 0},
   {&__pyx_n_s_edgedb_datatypes, __pyx_k_edgedb_datatypes, sizeof(__pyx_k_edgedb_datatypes), 0, 0, 1, 1},
   {&__pyx_n_s_edgedb_pgproto, __pyx_k_edgedb_pgproto, sizeof(__pyx_k_edgedb_pgproto), 0, 0, 1, 1},
   {&__pyx_n_s_edgedb_pgproto_pgproto, __pyx_k_edgedb_pgproto_pgproto, sizeof(__pyx_k_edgedb_pgproto_pgproto), 0, 0, 1, 1},
@@ -81201,15 +65973,14 @@
   {&__pyx_n_s_empty, __pyx_k_empty, sizeof(__pyx_k_empty), 0, 0, 1, 1},
   {&__pyx_kp_u_empty_tuple, __pyx_k_empty_tuple, sizeof(__pyx_k_empty_tuple), 0, 1, 0, 0},
   {&__pyx_n_s_encode, __pyx_k_encode, sizeof(__pyx_k_encode), 0, 0, 1, 1},
   {&__pyx_n_s_encoder, __pyx_k_encoder, sizeof(__pyx_k_encoder), 0, 0, 1, 1},
   {&__pyx_n_s_enum, __pyx_k_enum, sizeof(__pyx_k_enum), 0, 0, 1, 1},
   {&__pyx_n_s_enumerate, __pyx_k_enumerate, sizeof(__pyx_k_enumerate), 0, 0, 1, 1},
   {&__pyx_n_s_enums, __pyx_k_enums, sizeof(__pyx_k_enums), 0, 0, 1, 1},
-  {&__pyx_n_s_error, __pyx_k_error, sizeof(__pyx_k_error), 0, 0, 1, 1},
   {&__pyx_n_s_errors, __pyx_k_errors, sizeof(__pyx_k_errors), 0, 0, 1, 1},
   {&__pyx_n_s_execute, __pyx_k_execute, sizeof(__pyx_k_execute), 0, 0, 1, 1},
   {&__pyx_n_s_execute_2, __pyx_k_execute_2, sizeof(__pyx_k_execute_2), 0, 0, 1, 1},
   {&__pyx_n_s_expect_one, __pyx_k_expect_one, sizeof(__pyx_k_expect_one), 0, 0, 1, 1},
   {&__pyx_kp_u_expected, __pyx_k_expected, sizeof(__pyx_k_expected), 0, 1, 0, 0},
   {&__pyx_n_u_expected_2, __pyx_k_expected_2, sizeof(__pyx_k_expected_2), 0, 1, 0, 1},
   {&__pyx_kp_u_expected_3, __pyx_k_expected_3, sizeof(__pyx_k_expected_3), 0, 1, 0, 0},
@@ -81217,36 +65988,31 @@
   {&__pyx_kp_u_expected_SASLFinal_from_the_serv, __pyx_k_expected_SASLFinal_from_the_serv, sizeof(__pyx_k_expected_SASLFinal_from_the_serv), 0, 1, 0, 0},
   {&__pyx_kp_u_expected_a_Decimal_or_an_int, __pyx_k_expected_a_Decimal_or_an_int, sizeof(__pyx_k_expected_a_Decimal_or_an_int), 0, 1, 0, 0},
   {&__pyx_kp_u_expected_a_record_with_a_single, __pyx_k_expected_a_record_with_a_single, sizeof(__pyx_k_expected_a_record_with_a_single), 0, 1, 0, 0},
   {&__pyx_kp_u_expected_a_two_dimensional_array, __pyx_k_expected_a_two_dimensional_array, sizeof(__pyx_k_expected_a_two_dimensional_array), 0, 1, 0, 0},
   {&__pyx_kp_u_expected_an_int, __pyx_k_expected_an_int, sizeof(__pyx_k_expected_an_int), 0, 1, 0, 0},
   {&__pyx_kp_u_expected_no_named_arguments, __pyx_k_expected_no_named_arguments, sizeof(__pyx_k_expected_no_named_arguments), 0, 1, 0, 0},
   {&__pyx_kp_u_expected_no_positional_arguments, __pyx_k_expected_no_positional_arguments, sizeof(__pyx_k_expected_no_positional_arguments), 0, 1, 0, 0},
-  {&__pyx_kp_u_ext_pgvector_vector, __pyx_k_ext_pgvector_vector, sizeof(__pyx_k_ext_pgvector_vector), 0, 1, 0, 0},
   {&__pyx_kp_u_extra, __pyx_k_extra, sizeof(__pyx_k_extra), 0, 1, 0, 0},
-  {&__pyx_n_u_f, __pyx_k_f, sizeof(__pyx_k_f), 0, 1, 0, 1},
   {&__pyx_n_s_field, __pyx_k_field, sizeof(__pyx_k_field), 0, 0, 1, 1},
   {&__pyx_n_s_field_type, __pyx_k_field_type, sizeof(__pyx_k_field_type), 0, 0, 1, 1},
   {&__pyx_n_s_fields, __pyx_k_fields, sizeof(__pyx_k_fields), 0, 0, 1, 1},
   {&__pyx_kp_u_first_message_is_not_DataMsg, __pyx_k_first_message_is_not_DataMsg, sizeof(__pyx_k_first_message_is_not_DataMsg), 0, 1, 0, 0},
-  {&__pyx_n_s_flags, __pyx_k_flags, sizeof(__pyx_k_flags), 0, 0, 1, 1},
   {&__pyx_n_s_format, __pyx_k_format, sizeof(__pyx_k_format), 0, 0, 1, 1},
-  {&__pyx_n_s_fortran, __pyx_k_fortran, sizeof(__pyx_k_fortran), 0, 0, 1, 1},
-  {&__pyx_n_u_fortran, __pyx_k_fortran, sizeof(__pyx_k_fortran), 0, 1, 0, 1},
   {&__pyx_n_s_from_bytes, __pyx_k_from_bytes, sizeof(__pyx_k_from_bytes), 0, 0, 1, 1},
   {&__pyx_n_s_from_code, __pyx_k_from_code, sizeof(__pyx_k_from_code), 0, 0, 1, 1},
+  {&__pyx_kp_u_fts_language, __pyx_k_fts_language, sizeof(__pyx_k_fts_language), 0, 1, 0, 0},
   {&__pyx_n_s_generate_nonce, __pyx_k_generate_nonce, sizeof(__pyx_k_generate_nonce), 0, 0, 1, 1},
   {&__pyx_n_s_genexpr, __pyx_k_genexpr, sizeof(__pyx_k_genexpr), 0, 0, 1, 1},
   {&__pyx_n_s_get, __pyx_k_get, sizeof(__pyx_k_get), 0, 0, 1, 1},
   {&__pyx_n_s_get_code, __pyx_k_get_code, sizeof(__pyx_k_get_code), 0, 0, 1, 1},
   {&__pyx_n_s_get_dataclass_fields, __pyx_k_get_dataclass_fields, sizeof(__pyx_k_get_dataclass_fields), 0, 0, 1, 1},
   {&__pyx_n_s_get_pos, __pyx_k_get_pos, sizeof(__pyx_k_get_pos), 0, 0, 1, 1},
   {&__pyx_n_s_getstate, __pyx_k_getstate, sizeof(__pyx_k_getstate), 0, 0, 1, 1},
   {&__pyx_kp_u_got, __pyx_k_got, sizeof(__pyx_k_got), 0, 1, 0, 0},
-  {&__pyx_kp_s_got_differing_extents_in_dimensi, __pyx_k_got_differing_extents_in_dimensi, sizeof(__pyx_k_got_differing_extents_in_dimensi), 0, 0, 1, 0},
   {&__pyx_n_s_header, __pyx_k_header, sizeof(__pyx_k_header), 0, 0, 1, 1},
   {&__pyx_kp_u_header_block_after_data_block, __pyx_k_header_block_after_data_block, sizeof(__pyx_k_header_block_after_data_block), 0, 1, 0, 0},
   {&__pyx_kp_u_header_block_was_not_received, __pyx_k_header_block_was_not_received, sizeof(__pyx_k_header_block_was_not_received), 0, 1, 0, 0},
   {&__pyx_n_s_header_callback, __pyx_k_header_callback, sizeof(__pyx_k_header_callback), 0, 0, 1, 1},
   {&__pyx_n_s_id, __pyx_k_id, sizeof(__pyx_k_id), 0, 0, 1, 1},
   {&__pyx_n_s_implicit_limit, __pyx_k_implicit_limit, sizeof(__pyx_k_implicit_limit), 0, 0, 1, 1},
   {&__pyx_n_s_import, __pyx_k_import, sizeof(__pyx_k_import), 0, 0, 1, 1},
@@ -81270,16 +66036,14 @@
   {&__pyx_kp_u_invalid_range_upper_bound, __pyx_k_invalid_range_upper_bound, sizeof(__pyx_k_invalid_range_upper_bound), 0, 1, 0, 0},
   {&__pyx_kp_u_is_already_registered, __pyx_k_is_already_registered, sizeof(__pyx_k_is_already_registered), 0, 1, 0, 0},
   {&__pyx_n_s_is_empty, __pyx_k_is_empty, sizeof(__pyx_k_is_empty), 0, 0, 1, 1},
   {&__pyx_kp_u_is_expected_as_a_valid_enum_arg, __pyx_k_is_expected_as_a_valid_enum_arg, sizeof(__pyx_k_is_expected_as_a_valid_enum_arg), 0, 1, 0, 0},
   {&__pyx_n_s_is_implicit, __pyx_k_is_implicit, sizeof(__pyx_k_is_implicit), 0, 0, 1, 1},
   {&__pyx_kp_u_is_required_but_received_None, __pyx_k_is_required_but_received_None, sizeof(__pyx_k_is_required_but_received_None), 0, 1, 0, 0},
   {&__pyx_n_s_items, __pyx_k_items, sizeof(__pyx_k_items), 0, 0, 1, 1},
-  {&__pyx_n_s_itemsize, __pyx_k_itemsize, sizeof(__pyx_k_itemsize), 0, 0, 1, 1},
-  {&__pyx_kp_s_itemsize_0_for_cython_array, __pyx_k_itemsize_0_for_cython_array, sizeof(__pyx_k_itemsize_0_for_cython_array), 0, 0, 1, 0},
   {&__pyx_n_s_json, __pyx_k_json, sizeof(__pyx_k_json), 0, 0, 1, 1},
   {&__pyx_n_s_keys, __pyx_k_keys, sizeof(__pyx_k_keys), 0, 0, 1, 1},
   {&__pyx_n_s_kind, __pyx_k_kind, sizeof(__pyx_k_kind), 0, 0, 1, 1},
   {&__pyx_n_s_kwargs, __pyx_k_kwargs, sizeof(__pyx_k_kwargs), 0, 0, 1, 1},
   {&__pyx_n_s_last, __pyx_k_last, sizeof(__pyx_k_last), 0, 0, 1, 1},
   {&__pyx_n_s_legacy_execute, __pyx_k_legacy_execute, sizeof(__pyx_k_legacy_execute), 0, 0, 1, 1},
   {&__pyx_n_s_legacy_execute_anonymous, __pyx_k_legacy_execute_anonymous, sizeof(__pyx_k_legacy_execute_anonymous), 0, 0, 1, 1},
@@ -81292,70 +66056,63 @@
   {&__pyx_n_s_make_missing_args_error_message, __pyx_k_make_missing_args_error_message, sizeof(__pyx_k_make_missing_args_error_message), 0, 0, 1, 1},
   {&__pyx_n_s_make_type, __pyx_k_make_type, sizeof(__pyx_k_make_type), 0, 0, 1, 1},
   {&__pyx_n_s_make_type_locals_genexpr, __pyx_k_make_type_locals_genexpr, sizeof(__pyx_k_make_type_locals_genexpr), 0, 0, 1, 1},
   {&__pyx_n_s_maxsize, __pyx_k_maxsize, sizeof(__pyx_k_maxsize), 0, 0, 1, 1},
   {&__pyx_kp_u_maxsize_is_expected_to_be_greate, __pyx_k_maxsize_is_expected_to_be_greate, sizeof(__pyx_k_maxsize_is_expected_to_be_greate), 0, 1, 0, 0},
   {&__pyx_n_s_members, __pyx_k_members, sizeof(__pyx_k_members), 0, 0, 1, 1},
   {&__pyx_n_s_members_2, __pyx_k_members_2, sizeof(__pyx_k_members_2), 0, 0, 1, 1},
-  {&__pyx_n_s_memview, __pyx_k_memview, sizeof(__pyx_k_memview), 0, 0, 1, 1},
   {&__pyx_n_s_metaclass, __pyx_k_metaclass, sizeof(__pyx_k_metaclass), 0, 0, 1, 1},
   {&__pyx_n_s_microseconds, __pyx_k_microseconds, sizeof(__pyx_k_microseconds), 0, 0, 1, 1},
   {&__pyx_kp_u_missed, __pyx_k_missed, sizeof(__pyx_k_missed), 0, 1, 0, 0},
-  {&__pyx_n_s_mode, __pyx_k_mode, sizeof(__pyx_k_mode), 0, 0, 1, 1},
   {&__pyx_n_s_module, __pyx_k_module, sizeof(__pyx_k_module), 0, 0, 1, 1},
   {&__pyx_n_u_module, __pyx_k_module, sizeof(__pyx_k_module), 0, 1, 0, 1},
   {&__pyx_n_s_months, __pyx_k_months, sizeof(__pyx_k_months), 0, 0, 1, 1},
   {&__pyx_kp_u_more_than_one_header_block, __pyx_k_more_than_one_header_block, sizeof(__pyx_k_more_than_one_header_block), 0, 1, 0, 0},
   {&__pyx_n_s_move_to_end, __pyx_k_move_to_end, sizeof(__pyx_k_move_to_end), 0, 0, 1, 1},
   {&__pyx_n_s_msg, __pyx_k_msg, sizeof(__pyx_k_msg), 0, 0, 1, 1},
   {&__pyx_n_b_n, __pyx_k_n, sizeof(__pyx_k_n), 0, 0, 0, 1},
   {&__pyx_n_s_n, __pyx_k_n, sizeof(__pyx_k_n), 0, 0, 1, 1},
   {&__pyx_n_s_name, __pyx_k_name, sizeof(__pyx_k_name), 0, 0, 1, 1},
   {&__pyx_n_s_name_2, __pyx_k_name_2, sizeof(__pyx_k_name_2), 0, 0, 1, 1},
-  {&__pyx_n_s_ndim, __pyx_k_ndim, sizeof(__pyx_k_ndim), 0, 0, 1, 1},
   {&__pyx_kp_u_neither_are_supported, __pyx_k_neither_are_supported, sizeof(__pyx_k_neither_are_supported), 0, 1, 0, 0},
   {&__pyx_n_s_new, __pyx_k_new, sizeof(__pyx_k_new), 0, 0, 1, 1},
   {&__pyx_kp_u_no_codec_implementation_for_Edge, __pyx_k_no_codec_implementation_for_Edge, sizeof(__pyx_k_no_codec_implementation_for_Edge), 0, 1, 0, 0},
   {&__pyx_kp_s_no_default___reduce___due_to_non, __pyx_k_no_default___reduce___due_to_non, sizeof(__pyx_k_no_default___reduce___due_to_non), 0, 0, 1, 0},
   {&__pyx_kp_u_no_input, __pyx_k_no_input, sizeof(__pyx_k_no_input), 0, 1, 0, 0},
   {&__pyx_kp_u_non_idle_status_after_connect, __pyx_k_non_idle_status_after_connect, sizeof(__pyx_k_non_idle_status_after_connect), 0, 1, 0, 0},
   {&__pyx_kp_u_non_zero_reserved_bytes_in_durat, __pyx_k_non_zero_reserved_bytes_in_durat, sizeof(__pyx_k_non_zero_reserved_bytes_in_durat), 0, 1, 0, 0},
   {&__pyx_kp_u_not_connected, __pyx_k_not_connected, sizeof(__pyx_k_not_connected), 0, 1, 0, 0},
   {&__pyx_n_u_nothing, __pyx_k_nothing, sizeof(__pyx_k_nothing), 0, 1, 0, 1},
   {&__pyx_n_u_null, __pyx_k_null, sizeof(__pyx_k_null), 0, 1, 0, 1},
   {&__pyx_kp_u_null_codec, __pyx_k_null_codec, sizeof(__pyx_k_null_codec), 0, 1, 0, 0},
-  {&__pyx_n_s_obj, __pyx_k_obj, sizeof(__pyx_k_obj), 0, 0, 1, 1},
   {&__pyx_n_s_object, __pyx_k_object, sizeof(__pyx_k_object), 0, 0, 1, 1},
   {&__pyx_n_s_on_log_message, __pyx_k_on_log_message, sizeof(__pyx_k_on_log_message), 0, 0, 1, 1},
   {&__pyx_kp_u_only_1_dimensional_arrays_are_su, __pyx_k_only_1_dimensional_arrays_are_su, sizeof(__pyx_k_only_1_dimensional_arrays_are_su), 0, 1, 0, 0},
   {&__pyx_kp_u_only_arrays_of_scalars_are_suppo, __pyx_k_only_arrays_of_scalars_are_suppo, sizeof(__pyx_k_only_arrays_of_scalars_are_suppo), 0, 1, 0, 0},
   {&__pyx_kp_u_only_scalar_ranges_are_supported, __pyx_k_only_scalar_ranges_are_supported, sizeof(__pyx_k_only_scalar_ranges_are_supported), 0, 1, 0, 0},
   {&__pyx_n_s_out_dc, __pyx_k_out_dc, sizeof(__pyx_k_out_dc), 0, 0, 1, 1},
   {&__pyx_n_s_output_format, __pyx_k_output_format, sizeof(__pyx_k_output_format), 0, 0, 1, 1},
-  {&__pyx_n_s_pack, __pyx_k_pack, sizeof(__pyx_k_pack), 0, 0, 1, 1},
   {&__pyx_n_s_parents, __pyx_k_parents, sizeof(__pyx_k_parents), 0, 0, 1, 1},
   {&__pyx_n_s_parse, __pyx_k_parse, sizeof(__pyx_k_parse), 0, 0, 1, 1},
   {&__pyx_n_s_parse_server_final_message, __pyx_k_parse_server_final_message, sizeof(__pyx_k_parse_server_final_message), 0, 0, 1, 1},
   {&__pyx_n_s_parse_server_first_message, __pyx_k_parse_server_first_message, sizeof(__pyx_k_parse_server_first_message), 0, 0, 1, 1},
   {&__pyx_n_s_password, __pyx_k_password, sizeof(__pyx_k_password), 0, 0, 1, 1},
   {&__pyx_n_s_pgproto, __pyx_k_pgproto, sizeof(__pyx_k_pgproto), 0, 0, 1, 1},
   {&__pyx_n_s_pickle, __pyx_k_pickle, sizeof(__pyx_k_pickle), 0, 0, 1, 1},
   {&__pyx_n_s_ping, __pyx_k_ping, sizeof(__pyx_k_ping), 0, 0, 1, 1},
   {&__pyx_n_s_popitem, __pyx_k_popitem, sizeof(__pyx_k_popitem), 0, 0, 1, 1},
   {&__pyx_n_s_prepare, __pyx_k_prepare, sizeof(__pyx_k_prepare), 0, 0, 1, 1},
   {&__pyx_n_u_python, __pyx_k_python, sizeof(__pyx_k_python), 0, 1, 0, 1},
   {&__pyx_kp_u_python_is_the_only_valid_format, __pyx_k_python_is_the_only_valid_format, sizeof(__pyx_k_python_is_the_only_valid_format), 0, 1, 0, 0},
   {&__pyx_n_s_pyx_PickleError, __pyx_k_pyx_PickleError, sizeof(__pyx_k_pyx_PickleError), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_checksum, __pyx_k_pyx_checksum, sizeof(__pyx_k_pyx_checksum), 0, 0, 1, 1},
-  {&__pyx_n_s_pyx_getbuffer, __pyx_k_pyx_getbuffer, sizeof(__pyx_k_pyx_getbuffer), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_result, __pyx_k_pyx_result, sizeof(__pyx_k_pyx_result), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_state, __pyx_k_pyx_state, sizeof(__pyx_k_pyx_state), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_type, __pyx_k_pyx_type, sizeof(__pyx_k_pyx_type), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_unpickle_CodecsRegistry, __pyx_k_pyx_unpickle_CodecsRegistry, sizeof(__pyx_k_pyx_unpickle_CodecsRegistry), 0, 0, 1, 1},
-  {&__pyx_n_s_pyx_unpickle_Enum, __pyx_k_pyx_unpickle_Enum, sizeof(__pyx_k_pyx_unpickle_Enum), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_unpickle_LRUMapping, __pyx_k_pyx_unpickle_LRUMapping, sizeof(__pyx_k_pyx_unpickle_LRUMapping), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_unpickle_QueryCodecsCache, __pyx_k_pyx_unpickle_QueryCodecsCache, sizeof(__pyx_k_pyx_unpickle_QueryCodecsCache), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_unpickle_SansIOProtocol, __pyx_k_pyx_unpickle_SansIOProtocol, sizeof(__pyx_k_pyx_unpickle_SansIOProtocol), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_unpickle_SansIOProtocolBac, __pyx_k_pyx_unpickle_SansIOProtocolBac, sizeof(__pyx_k_pyx_unpickle_SansIOProtocolBac), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_unpickle___Pyx_EnumMeta, __pyx_k_pyx_unpickle___Pyx_EnumMeta, sizeof(__pyx_k_pyx_unpickle___Pyx_EnumMeta), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_vtable, __pyx_k_pyx_vtable, sizeof(__pyx_k_pyx_vtable), 0, 0, 1, 1},
   {&__pyx_n_s_qc, __pyx_k_qc, sizeof(__pyx_k_qc), 0, 0, 1, 1},
@@ -81391,17 +66148,14 @@
   {&__pyx_n_u_secret_key, __pyx_k_secret_key, sizeof(__pyx_k_secret_key), 0, 1, 0, 1},
   {&__pyx_n_s_self, __pyx_k_self, sizeof(__pyx_k_self), 0, 0, 1, 1},
   {&__pyx_n_s_send, __pyx_k_send, sizeof(__pyx_k_send), 0, 0, 1, 1},
   {&__pyx_kp_u_server_SCRAM_proof_does_not_matc, __pyx_k_server_SCRAM_proof_does_not_matc, sizeof(__pyx_k_server_SCRAM_proof_does_not_matc), 0, 1, 0, 0},
   {&__pyx_n_s_set_dataclass_fields_func, __pyx_k_set_dataclass_fields_func, sizeof(__pyx_k_set_dataclass_fields_func), 0, 0, 1, 1},
   {&__pyx_n_s_setstate, __pyx_k_setstate, sizeof(__pyx_k_setstate), 0, 0, 1, 1},
   {&__pyx_n_s_setstate_cython, __pyx_k_setstate_cython, sizeof(__pyx_k_setstate_cython), 0, 0, 1, 1},
-  {&__pyx_n_s_shape, __pyx_k_shape, sizeof(__pyx_k_shape), 0, 0, 1, 1},
-  {&__pyx_n_s_size, __pyx_k_size, sizeof(__pyx_k_size), 0, 0, 1, 1},
-  {&__pyx_n_s_start, __pyx_k_start, sizeof(__pyx_k_start), 0, 0, 1, 1},
   {&__pyx_n_s_state, __pyx_k_state, sizeof(__pyx_k_state), 0, 0, 1, 1},
   {&__pyx_n_u_std, __pyx_k_std, sizeof(__pyx_k_std), 0, 1, 0, 1},
   {&__pyx_kp_u_std_bigint, __pyx_k_std_bigint, sizeof(__pyx_k_std_bigint), 0, 1, 0, 0},
   {&__pyx_kp_u_std_bool, __pyx_k_std_bool, sizeof(__pyx_k_std_bool), 0, 1, 0, 0},
   {&__pyx_kp_u_std_bytes, __pyx_k_std_bytes, sizeof(__pyx_k_std_bytes), 0, 1, 0, 0},
   {&__pyx_kp_u_std_datetime, __pyx_k_std_datetime, sizeof(__pyx_k_std_datetime), 0, 1, 0, 0},
   {&__pyx_kp_u_std_decimal, __pyx_k_std_decimal, sizeof(__pyx_k_std_decimal), 0, 1, 0, 0},
@@ -81410,23 +66164,17 @@
   {&__pyx_kp_u_std_float64, __pyx_k_std_float64, sizeof(__pyx_k_std_float64), 0, 1, 0, 0},
   {&__pyx_kp_u_std_int16, __pyx_k_std_int16, sizeof(__pyx_k_std_int16), 0, 1, 0, 0},
   {&__pyx_kp_u_std_int32, __pyx_k_std_int32, sizeof(__pyx_k_std_int32), 0, 1, 0, 0},
   {&__pyx_kp_u_std_int64, __pyx_k_std_int64, sizeof(__pyx_k_std_int64), 0, 1, 0, 0},
   {&__pyx_kp_u_std_json, __pyx_k_std_json, sizeof(__pyx_k_std_json), 0, 1, 0, 0},
   {&__pyx_kp_u_std_str, __pyx_k_std_str, sizeof(__pyx_k_std_str), 0, 1, 0, 0},
   {&__pyx_kp_u_std_uuid, __pyx_k_std_uuid, sizeof(__pyx_k_std_uuid), 0, 1, 0, 0},
-  {&__pyx_n_s_step, __pyx_k_step, sizeof(__pyx_k_step), 0, 0, 1, 1},
-  {&__pyx_n_s_stop, __pyx_k_stop, sizeof(__pyx_k_stop), 0, 0, 1, 1},
   {&__pyx_n_s_str, __pyx_k_str, sizeof(__pyx_k_str), 0, 0, 1, 1},
-  {&__pyx_kp_s_strided_and_direct, __pyx_k_strided_and_direct, sizeof(__pyx_k_strided_and_direct), 0, 0, 1, 0},
-  {&__pyx_kp_s_strided_and_direct_or_indirect, __pyx_k_strided_and_direct_or_indirect, sizeof(__pyx_k_strided_and_direct_or_indirect), 0, 0, 1, 0},
-  {&__pyx_kp_s_strided_and_indirect, __pyx_k_strided_and_indirect, sizeof(__pyx_k_strided_and_indirect), 0, 0, 1, 0},
   {&__pyx_kp_s_stringsource, __pyx_k_stringsource, sizeof(__pyx_k_stringsource), 0, 0, 1, 0},
   {&__pyx_n_s_strip, __pyx_k_strip, sizeof(__pyx_k_strip), 0, 0, 1, 1},
-  {&__pyx_n_s_struct, __pyx_k_struct, sizeof(__pyx_k_struct), 0, 0, 1, 1},
   {&__pyx_n_u_suggested_pool_concurrency, __pyx_k_suggested_pool_concurrency, sizeof(__pyx_k_suggested_pool_concurrency), 0, 1, 0, 1},
   {&__pyx_n_s_sync, __pyx_k_sync, sizeof(__pyx_k_sync), 0, 0, 1, 1},
   {&__pyx_n_u_system_config, __pyx_k_system_config, sizeof(__pyx_k_system_config), 0, 1, 0, 1},
   {&__pyx_n_s_test, __pyx_k_test, sizeof(__pyx_k_test), 0, 0, 1, 1},
   {&__pyx_kp_u_the_connection_has_been_closed, __pyx_k_the_connection_has_been_closed, sizeof(__pyx_k_the_connection_has_been_closed), 0, 1, 0, 0},
   {&__pyx_kp_u_the_connection_has_been_closed_b, __pyx_k_the_connection_has_been_closed_b, sizeof(__pyx_k_the_connection_has_been_closed_b), 0, 1, 0, 0},
   {&__pyx_kp_u_the_server_offered_the_following, __pyx_k_the_server_offered_the_following, sizeof(__pyx_k_the_server_offered_the_following), 0, 1, 0, 0},
@@ -81436,36 +66184,32 @@
   {&__pyx_n_s_tid, __pyx_k_tid, sizeof(__pyx_k_tid), 0, 0, 1, 1},
   {&__pyx_n_u_tid, __pyx_k_tid, sizeof(__pyx_k_tid), 0, 1, 0, 1},
   {&__pyx_n_s_time, __pyx_k_time, sizeof(__pyx_k_time), 0, 0, 1, 1},
   {&__pyx_n_s_timedelta, __pyx_k_timedelta, sizeof(__pyx_k_timedelta), 0, 0, 1, 1},
   {&__pyx_n_u_tname, __pyx_k_tname, sizeof(__pyx_k_tname), 0, 1, 0, 1},
   {&__pyx_kp_u_too_many_elements_for_a_tuple, __pyx_k_too_many_elements_for_a_tuple, sizeof(__pyx_k_too_many_elements_for_a_tuple), 0, 1, 0, 0},
   {&__pyx_kp_u_too_many_elements_in_array_value, __pyx_k_too_many_elements_in_array_value, sizeof(__pyx_k_too_many_elements_in_array_value), 0, 1, 0, 0},
-  {&__pyx_kp_u_too_many_elements_in_vector_valu, __pyx_k_too_many_elements_in_vector_valu, sizeof(__pyx_k_too_many_elements_in_vector_valu), 0, 1, 0, 0},
   {&__pyx_n_s_try_recv_eagerly, __pyx_k_try_recv_eagerly, sizeof(__pyx_k_try_recv_eagerly), 0, 0, 1, 1},
   {&__pyx_n_s_type, __pyx_k_type, sizeof(__pyx_k_type), 0, 0, 1, 1},
   {&__pyx_n_s_typeid, __pyx_k_typeid, sizeof(__pyx_k_typeid), 0, 0, 1, 1},
   {&__pyx_kp_u_typeid_must_be_a_UUID, __pyx_k_typeid_must_be_a_UUID, sizeof(__pyx_k_typeid_must_be_a_UUID), 0, 1, 0, 0},
   {&__pyx_n_s_types, __pyx_k_types, sizeof(__pyx_k_types), 0, 0, 1, 1},
   {&__pyx_n_s_typing, __pyx_k_typing, sizeof(__pyx_k_typing), 0, 0, 1, 1},
   {&__pyx_n_u_tzinfo, __pyx_k_tzinfo, sizeof(__pyx_k_tzinfo), 0, 1, 0, 1},
-  {&__pyx_kp_s_unable_to_allocate_array_data, __pyx_k_unable_to_allocate_array_data, sizeof(__pyx_k_unable_to_allocate_array_data), 0, 0, 1, 0},
-  {&__pyx_kp_s_unable_to_allocate_shape_and_str, __pyx_k_unable_to_allocate_shape_and_str, sizeof(__pyx_k_unable_to_allocate_shape_and_str), 0, 0, 1, 0},
   {&__pyx_kp_u_unable_to_decode_data_to_Python, __pyx_k_unable_to_decode_data_to_Python, sizeof(__pyx_k_unable_to_decode_data_to_Python), 0, 1, 0, 0},
   {&__pyx_kp_u_unexpected_NULL_value_in_array_s, __pyx_k_unexpected_NULL_value_in_array_s, sizeof(__pyx_k_unexpected_NULL_value_in_array_s), 0, 1, 0, 0},
   {&__pyx_kp_u_unexpected_message_type, __pyx_k_unexpected_message_type, sizeof(__pyx_k_unexpected_message_type), 0, 1, 0, 0},
   {&__pyx_kp_u_unexpected_query_argument_codec, __pyx_k_unexpected_query_argument_codec, sizeof(__pyx_k_unexpected_query_argument_codec), 0, 1, 0, 0},
   {&__pyx_kp_u_unexpected_trailing_data_in_buff, __pyx_k_unexpected_trailing_data_in_buff, sizeof(__pyx_k_unexpected_trailing_data_in_buff), 0, 1, 0, 0},
   {&__pyx_kp_u_unexpected_trailing_data_in_buff_2, __pyx_k_unexpected_trailing_data_in_buff_2, sizeof(__pyx_k_unexpected_trailing_data_in_buff_2), 0, 1, 0, 0},
   {&__pyx_kp_u_unexpected_trailing_data_in_buff_3, __pyx_k_unexpected_trailing_data_in_buff_3, sizeof(__pyx_k_unexpected_trailing_data_in_buff_3), 0, 1, 0, 0},
   {&__pyx_kp_u_unexpected_trailing_data_in_buff_4, __pyx_k_unexpected_trailing_data_in_buff_4, sizeof(__pyx_k_unexpected_trailing_data_in_buff_4), 0, 1, 0, 0},
   {&__pyx_kp_u_unexpected_trailing_data_in_buff_5, __pyx_k_unexpected_trailing_data_in_buff_5, sizeof(__pyx_k_unexpected_trailing_data_in_buff_5), 0, 1, 0, 0},
   {&__pyx_kp_u_unexpected_trailing_data_in_buff_6, __pyx_k_unexpected_trailing_data_in_buff_6, sizeof(__pyx_k_unexpected_trailing_data_in_buff_6), 0, 1, 0, 0},
   {&__pyx_kp_u_unexpected_trailing_data_in_buff_7, __pyx_k_unexpected_trailing_data_in_buff_7, sizeof(__pyx_k_unexpected_trailing_data_in_buff_7), 0, 1, 0, 0},
-  {&__pyx_n_s_unpack, __pyx_k_unpack, sizeof(__pyx_k_unpack), 0, 0, 1, 1},
   {&__pyx_kp_u_unsupported_authentication_metho, __pyx_k_unsupported_authentication_metho, sizeof(__pyx_k_unsupported_authentication_metho), 0, 1, 0, 0},
   {&__pyx_n_s_update, __pyx_k_update, sizeof(__pyx_k_update), 0, 0, 1, 1},
   {&__pyx_n_s_upper, __pyx_k_upper, sizeof(__pyx_k_upper), 0, 0, 1, 1},
   {&__pyx_n_s_user, __pyx_k_user, sizeof(__pyx_k_user), 0, 0, 1, 1},
   {&__pyx_n_u_user, __pyx_k_user, sizeof(__pyx_k_user), 0, 1, 0, 1},
   {&__pyx_kp_u_utf_8, __pyx_k_utf_8, sizeof(__pyx_k_utf_8), 0, 1, 0, 0},
   {&__pyx_n_s_uuid, __pyx_k_uuid, sizeof(__pyx_k_uuid), 0, 0, 1, 1},
@@ -81488,20 +66232,17 @@
   __pyx_builtin_NotImplementedError = __Pyx_GetBuiltinName(__pyx_n_s_NotImplementedError); if (!__pyx_builtin_NotImplementedError) __PYX_ERR(1, 44, __pyx_L1_error)
   __pyx_builtin_TypeError = __Pyx_GetBuiltinName(__pyx_n_s_TypeError); if (!__pyx_builtin_TypeError) __PYX_ERR(2, 2, __pyx_L1_error)
   __pyx_builtin_range = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_range) __PYX_ERR(1, 190, __pyx_L1_error)
   __pyx_builtin_enumerate = __Pyx_GetBuiltinName(__pyx_n_s_enumerate); if (!__pyx_builtin_enumerate) __PYX_ERR(1, 220, __pyx_L1_error)
   __pyx_builtin_zip = __Pyx_GetBuiltinName(__pyx_n_s_zip); if (!__pyx_builtin_zip) __PYX_ERR(3, 84, __pyx_L1_error)
   __pyx_builtin_LookupError = __Pyx_GetBuiltinName(__pyx_n_s_LookupError); if (!__pyx_builtin_LookupError) __PYX_ERR(4, 49, __pyx_L1_error)
   __pyx_builtin_KeyError = __Pyx_GetBuiltinName(__pyx_n_s_KeyError); if (!__pyx_builtin_KeyError) __PYX_ERR(4, 93, __pyx_L1_error)
-  __pyx_builtin_id = __Pyx_GetBuiltinName(__pyx_n_s_id); if (!__pyx_builtin_id) __PYX_ERR(5, 366, __pyx_L1_error)
-  __pyx_builtin_reversed = __Pyx_GetBuiltinName(__pyx_n_s_reversed); if (!__pyx_builtin_reversed) __PYX_ERR(5, 665, __pyx_L1_error)
+  __pyx_builtin_id = __Pyx_GetBuiltinName(__pyx_n_s_id); if (!__pyx_builtin_id) __PYX_ERR(5, 361, __pyx_L1_error)
+  __pyx_builtin_reversed = __Pyx_GetBuiltinName(__pyx_n_s_reversed); if (!__pyx_builtin_reversed) __PYX_ERR(5, 572, __pyx_L1_error)
   __pyx_builtin_chr = __Pyx_GetBuiltinName(__pyx_n_s_chr); if (!__pyx_builtin_chr) __PYX_ERR(6, 1097, __pyx_L1_error)
-  __pyx_builtin_MemoryError = __Pyx_GetBuiltinName(__pyx_n_s_MemoryError); if (!__pyx_builtin_MemoryError) __PYX_ERR(2, 149, __pyx_L1_error)
-  __pyx_builtin_Ellipsis = __Pyx_GetBuiltinName(__pyx_n_s_Ellipsis); if (!__pyx_builtin_Ellipsis) __PYX_ERR(2, 406, __pyx_L1_error)
-  __pyx_builtin_IndexError = __Pyx_GetBuiltinName(__pyx_n_s_IndexError); if (!__pyx_builtin_IndexError) __PYX_ERR(2, 834, __pyx_L1_error)
   return 0;
   __pyx_L1_error:;
   return -1;
 }
 
 static CYTHON_SMALL_CODE int __Pyx_InitCachedConstants(void) {
   __Pyx_RefNannyDeclarations
@@ -81906,986 +66647,725 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__49 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__49)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__49);
   __Pyx_GIVEREF(__pyx_tuple__49);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":80
+  /* "edgedb/protocol/codecs/codecs.pyx":77
  *     def set_type_codec(self, typeid, *, encoder, decoder, format):
  *         if format != 'python':
  *             raise ValueError('"python" is the only valid format')             # <<<<<<<<<<<<<<
  *         if not isinstance(typeid, uuid.UUID):
  *             raise TypeError('typeid must be a UUID')
  */
-  __pyx_tuple__50 = PyTuple_Pack(1, __pyx_kp_u_python_is_the_only_valid_format); if (unlikely(!__pyx_tuple__50)) __PYX_ERR(5, 80, __pyx_L1_error)
+  __pyx_tuple__50 = PyTuple_Pack(1, __pyx_kp_u_python_is_the_only_valid_format); if (unlikely(!__pyx_tuple__50)) __PYX_ERR(5, 77, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__50);
   __Pyx_GIVEREF(__pyx_tuple__50);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":82
+  /* "edgedb/protocol/codecs/codecs.pyx":79
  *             raise ValueError('"python" is the only valid format')
  *         if not isinstance(typeid, uuid.UUID):
  *             raise TypeError('typeid must be a UUID')             # <<<<<<<<<<<<<<
  *         basecodec = BASE_SCALAR_CODECS.get(typeid.bytes)
  *         if basecodec is None:
  */
-  __pyx_tuple__51 = PyTuple_Pack(1, __pyx_kp_u_typeid_must_be_a_UUID); if (unlikely(!__pyx_tuple__51)) __PYX_ERR(5, 82, __pyx_L1_error)
+  __pyx_tuple__51 = PyTuple_Pack(1, __pyx_kp_u_typeid_must_be_a_UUID); if (unlikely(!__pyx_tuple__51)) __PYX_ERR(5, 79, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__51);
   __Pyx_GIVEREF(__pyx_tuple__51);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":148
+  /* "edgedb/protocol/codecs/codecs.pyx":145
  *                 els = <uint16_t>hton.unpack_int16(frb_read(spec, 2))
  *                 if els != 1:
  *                     raise NotImplementedError(             # <<<<<<<<<<<<<<
  *                         'cannot handle arrays with more than one dimension')
  *                 # First dimension length.
  */
-  __pyx_tuple__52 = PyTuple_Pack(1, __pyx_kp_u_cannot_handle_arrays_with_more_t); if (unlikely(!__pyx_tuple__52)) __PYX_ERR(5, 148, __pyx_L1_error)
+  __pyx_tuple__52 = PyTuple_Pack(1, __pyx_kp_u_cannot_handle_arrays_with_more_t); if (unlikely(!__pyx_tuple__52)) __PYX_ERR(5, 145, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__52);
   __Pyx_GIVEREF(__pyx_tuple__52);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":342
+  /* "edgedb/protocol/codecs/codecs.pyx":339
  * 
  *         if not codecs_list:
  *             raise RuntimeError(f'cannot not build codec; empty type desc')             # <<<<<<<<<<<<<<
  * 
  *         return codecs_list[-1]
  */
-  __pyx_tuple__54 = PyTuple_Pack(1, __pyx_kp_u_cannot_not_build_codec_empty_typ); if (unlikely(!__pyx_tuple__54)) __PYX_ERR(5, 342, __pyx_L1_error)
+  __pyx_tuple__54 = PyTuple_Pack(1, __pyx_kp_u_cannot_not_build_codec_empty_typ); if (unlikely(!__pyx_tuple__54)) __PYX_ERR(5, 339, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__54);
   __Pyx_GIVEREF(__pyx_tuple__54);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":374
+  /* "edgedb/protocol/codecs/codecs.pyx":369
  * cdef time_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if getattr(obj, 'tzinfo', None) is not None:
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a naive time object (tzinfo is None) was expected')
  * 
  */
-  __pyx_tuple__55 = PyTuple_Pack(1, __pyx_kp_u_a_naive_time_object_tzinfo_is_No); if (unlikely(!__pyx_tuple__55)) __PYX_ERR(5, 374, __pyx_L1_error)
+  __pyx_tuple__55 = PyTuple_Pack(1, __pyx_kp_u_a_naive_time_object_tzinfo_is_No); if (unlikely(!__pyx_tuple__55)) __PYX_ERR(5, 369, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__55);
   __Pyx_GIVEREF(__pyx_tuple__55);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":385
+  /* "edgedb/protocol/codecs/codecs.pyx":380
  *     # let's ensure it doesn't have tzinfo anyways.
  *     if getattr(obj, 'tzinfo', None) is not None:
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a naive date object (tzinfo is None) was expected')
  * 
  */
-  __pyx_tuple__56 = PyTuple_Pack(1, __pyx_kp_u_a_naive_date_object_tzinfo_is_No); if (unlikely(!__pyx_tuple__56)) __PYX_ERR(5, 385, __pyx_L1_error)
+  __pyx_tuple__56 = PyTuple_Pack(1, __pyx_kp_u_a_naive_date_object_tzinfo_is_No); if (unlikely(!__pyx_tuple__56)) __PYX_ERR(5, 380, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__56);
   __Pyx_GIVEREF(__pyx_tuple__56);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":397
+  /* "edgedb/protocol/codecs/codecs.pyx":392
  * 
  *     if getattr(obj, 'tzinfo', None) is not None:
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a naive datetime object (tzinfo is None) was expected')
  * 
  */
-  __pyx_tuple__57 = PyTuple_Pack(1, __pyx_kp_u_a_naive_datetime_object_tzinfo_i); if (unlikely(!__pyx_tuple__57)) __PYX_ERR(5, 397, __pyx_L1_error)
+  __pyx_tuple__57 = PyTuple_Pack(1, __pyx_kp_u_a_naive_datetime_object_tzinfo_i); if (unlikely(!__pyx_tuple__57)) __PYX_ERR(5, 392, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__57);
   __Pyx_GIVEREF(__pyx_tuple__57);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":405
+  /* "edgedb/protocol/codecs/codecs.pyx":400
  * cdef timestamptz_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  *     if not cpython.datetime.PyDateTime_Check(obj):
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a datetime.datetime object was expected')
  * 
  */
-  __pyx_tuple__58 = PyTuple_Pack(1, __pyx_kp_u_a_datetime_datetime_object_was_e_2); if (unlikely(!__pyx_tuple__58)) __PYX_ERR(5, 405, __pyx_L1_error)
+  __pyx_tuple__58 = PyTuple_Pack(1, __pyx_kp_u_a_datetime_datetime_object_was_e_2); if (unlikely(!__pyx_tuple__58)) __PYX_ERR(5, 400, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__58);
   __Pyx_GIVEREF(__pyx_tuple__58);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":409
+  /* "edgedb/protocol/codecs/codecs.pyx":404
  * 
  *     if getattr(obj, 'tzinfo', None) is None:
  *         raise TypeError(             # <<<<<<<<<<<<<<
  *             f'a timezone-aware datetime object (tzinfo is not None) '
  *             f'was expected')
  */
-  __pyx_tuple__59 = PyTuple_Pack(1, __pyx_kp_u_a_timezone_aware_datetime_object); if (unlikely(!__pyx_tuple__59)) __PYX_ERR(5, 409, __pyx_L1_error)
+  __pyx_tuple__59 = PyTuple_Pack(1, __pyx_kp_u_a_timezone_aware_datetime_object); if (unlikely(!__pyx_tuple__59)) __PYX_ERR(5, 404, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__59);
   __Pyx_GIVEREF(__pyx_tuple__59);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":437
+  /* "edgedb/protocol/codecs/codecs.pyx":432
  *     months = hton.unpack_int32(frb_read(buf, 4))
  *     if days != 0 or months != 0:
  *         raise RuntimeError(f'non-zero reserved bytes in duration')             # <<<<<<<<<<<<<<
  * 
  *     return datetime.timedelta(microseconds=microseconds)
  */
-  __pyx_tuple__60 = PyTuple_Pack(1, __pyx_kp_u_non_zero_reserved_bytes_in_durat); if (unlikely(!__pyx_tuple__60)) __PYX_ERR(5, 437, __pyx_L1_error)
+  __pyx_tuple__60 = PyTuple_Pack(1, __pyx_kp_u_non_zero_reserved_bytes_in_durat); if (unlikely(!__pyx_tuple__60)) __PYX_ERR(5, 432, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__60);
   __Pyx_GIVEREF(__pyx_tuple__60);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":494
+  /* "edgedb/protocol/codecs/codecs.pyx":489
  * 
  *     if microseconds != 0:
  *         raise ValueError("date duration has non-zero microseconds")             # <<<<<<<<<<<<<<
  * 
  *     return datatypes.DateDuration(days=days, months=months)
  */
-  __pyx_tuple__61 = PyTuple_Pack(1, __pyx_kp_u_date_duration_has_non_zero_micro); if (unlikely(!__pyx_tuple__61)) __PYX_ERR(5, 494, __pyx_L1_error)
+  __pyx_tuple__61 = PyTuple_Pack(1, __pyx_kp_u_date_duration_has_non_zero_micro); if (unlikely(!__pyx_tuple__61)) __PYX_ERR(5, 489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__61);
   __Pyx_GIVEREF(__pyx_tuple__61);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":530
- *     objlen = len(obj)
- *     if objlen > PGVECTOR_MAX_DIM:
- *         raise ValueError('too many elements in vector value')             # <<<<<<<<<<<<<<
- * 
- *     buf.write_int32(4 + objlen*4)
- */
-  __pyx_tuple__62 = PyTuple_Pack(1, __pyx_kp_u_too_many_elements_in_vector_valu); if (unlikely(!__pyx_tuple__62)) __PYX_ERR(5, 530, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__62);
-  __Pyx_GIVEREF(__pyx_tuple__62);
-
-  /* "edgedb/protocol/codecs/codecs.pyx":610
+  /* "edgedb/protocol/codecs/codecs.pyx":517
  * ):
  *     if not isinstance(obj, decimal.Decimal) and not isinstance(obj, int):
  *         raise TypeError('expected a Decimal or an int')             # <<<<<<<<<<<<<<
  *     pgproto.numeric_encode_binary(settings, buf, obj)
  * 
  */
-  __pyx_tuple__63 = PyTuple_Pack(1, __pyx_kp_u_expected_a_Decimal_or_an_int); if (unlikely(!__pyx_tuple__63)) __PYX_ERR(5, 610, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__63);
-  __Pyx_GIVEREF(__pyx_tuple__63);
+  __pyx_tuple__62 = PyTuple_Pack(1, __pyx_kp_u_expected_a_Decimal_or_an_int); if (unlikely(!__pyx_tuple__62)) __PYX_ERR(5, 517, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__62);
+  __Pyx_GIVEREF(__pyx_tuple__62);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":620
+  /* "edgedb/protocol/codecs/codecs.pyx":527
  * cdef ensure_is_int(obj):
  *     if type(obj) is not int and not isinstance(obj, int):
  *         raise TypeError('expected an int')             # <<<<<<<<<<<<<<
  * 
  * cdef checked_int2_encode(pgproto.CodecContext settings, WriteBuffer buf, obj):
  */
-  __pyx_tuple__64 = PyTuple_Pack(1, __pyx_kp_u_expected_an_int); if (unlikely(!__pyx_tuple__64)) __PYX_ERR(5, 620, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__64);
-  __Pyx_GIVEREF(__pyx_tuple__64);
+  __pyx_tuple__63 = PyTuple_Pack(1, __pyx_kp_u_expected_an_int); if (unlikely(!__pyx_tuple__63)) __PYX_ERR(5, 527, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__63);
+  __Pyx_GIVEREF(__pyx_tuple__63);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":682
+  /* "edgedb/protocol/codecs/codecs.pyx":589
  *         result = '-'
  *     elif sign != NUMERIC_POS:
  *         raise ValueError("bad bigint sign data")             # <<<<<<<<<<<<<<
  * 
  *     if dscale != 0:
  */
-  __pyx_tuple__67 = PyTuple_Pack(1, __pyx_kp_u_bad_bigint_sign_data); if (unlikely(!__pyx_tuple__67)) __PYX_ERR(5, 682, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__67);
-  __Pyx_GIVEREF(__pyx_tuple__67);
+  __pyx_tuple__66 = PyTuple_Pack(1, __pyx_kp_u_bad_bigint_sign_data); if (unlikely(!__pyx_tuple__66)) __PYX_ERR(5, 589, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__66);
+  __Pyx_GIVEREF(__pyx_tuple__66);
 
-  /* "edgedb/protocol/codecs/codecs.pyx":685
+  /* "edgedb/protocol/codecs/codecs.pyx":592
  * 
  *     if dscale != 0:
  *         raise ValueError("bigint data has fractional part")             # <<<<<<<<<<<<<<
  * 
  *     if ndigits == 0:
  */
-  __pyx_tuple__68 = PyTuple_Pack(1, __pyx_kp_u_bigint_data_has_fractional_part); if (unlikely(!__pyx_tuple__68)) __PYX_ERR(5, 685, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__68);
-  __Pyx_GIVEREF(__pyx_tuple__68);
+  __pyx_tuple__67 = PyTuple_Pack(1, __pyx_kp_u_bigint_data_has_fractional_part); if (unlikely(!__pyx_tuple__67)) __PYX_ERR(5, 592, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__67);
+  __Pyx_GIVEREF(__pyx_tuple__67);
 
   /* "edgedb/protocol/protocol.pyx":151
  *         self.server_settings = {}
  *         self.reset_status()
  *         self.protocol_version = (PROTO_VER_MAJOR, 0)             # <<<<<<<<<<<<<<
  * 
  *         self.state_type_id = NULL_CODEC_ID
  */
-  __pyx_tuple__69 = PyTuple_Pack(2, __pyx_int_1, __pyx_int_0); if (unlikely(!__pyx_tuple__69)) __PYX_ERR(6, 151, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__69);
-  __Pyx_GIVEREF(__pyx_tuple__69);
+  __pyx_tuple__68 = PyTuple_Pack(2, __pyx_int_1, __pyx_int_0); if (unlikely(!__pyx_tuple__68)) __PYX_ERR(6, 151, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__68);
+  __Pyx_GIVEREF(__pyx_tuple__68);
 
   /* "edgedb/protocol/protocol.pyx":155
  *         self.state_type_id = NULL_CODEC_ID
  *         self.state_codec = None
  *         self.state_cache = (None, None)             # <<<<<<<<<<<<<<
  * 
  *     cdef reset_status(self):
  */
-  __pyx_tuple__70 = PyTuple_Pack(2, Py_None, Py_None); if (unlikely(!__pyx_tuple__70)) __PYX_ERR(6, 155, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__70);
-  __Pyx_GIVEREF(__pyx_tuple__70);
+  __pyx_tuple__69 = PyTuple_Pack(2, Py_None, Py_None); if (unlikely(!__pyx_tuple__69)) __PYX_ERR(6, 155, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__69);
+  __Pyx_GIVEREF(__pyx_tuple__69);
 
   /* "edgedb/protocol/protocol.pyx":271
  * 
  *         if not self.connected:
  *             raise RuntimeError('not connected')             # <<<<<<<<<<<<<<
  * 
  *         buf = WriteBuffer.new_message(PREPARE_MSG)
  */
-  __pyx_tuple__73 = PyTuple_Pack(1, __pyx_kp_u_not_connected); if (unlikely(!__pyx_tuple__73)) __PYX_ERR(6, 271, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__73);
-  __Pyx_GIVEREF(__pyx_tuple__73);
+  __pyx_tuple__72 = PyTuple_Pack(1, __pyx_kp_u_not_connected); if (unlikely(!__pyx_tuple__72)) __PYX_ERR(6, 271, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__72);
+  __Pyx_GIVEREF(__pyx_tuple__72);
 
   /* "edgedb/protocol/protocol.pyx":660
  *                 if mtype == DUMP_BLOCK_MSG:
  *                     if not header_received:
  *                         raise RuntimeError('data block before header block')             # <<<<<<<<<<<<<<
  *                     data_received = True
  * 
  */
-  __pyx_tuple__78 = PyTuple_Pack(1, __pyx_kp_u_data_block_before_header_block); if (unlikely(!__pyx_tuple__78)) __PYX_ERR(6, 660, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__78);
-  __Pyx_GIVEREF(__pyx_tuple__78);
+  __pyx_tuple__77 = PyTuple_Pack(1, __pyx_kp_u_data_block_before_header_block); if (unlikely(!__pyx_tuple__77)) __PYX_ERR(6, 660, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__77);
+  __Pyx_GIVEREF(__pyx_tuple__77);
 
   /* "edgedb/protocol/protocol.pyx":669
  *                 elif mtype == DUMP_HEADER_BLOCK_MSG:
  *                     if header_received:
  *                         raise RuntimeError('more than one header block')             # <<<<<<<<<<<<<<
  *                     if data_received:
  *                         raise RuntimeError('header block after data block')
  */
-  __pyx_tuple__79 = PyTuple_Pack(1, __pyx_kp_u_more_than_one_header_block); if (unlikely(!__pyx_tuple__79)) __PYX_ERR(6, 669, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__79);
-  __Pyx_GIVEREF(__pyx_tuple__79);
+  __pyx_tuple__78 = PyTuple_Pack(1, __pyx_kp_u_more_than_one_header_block); if (unlikely(!__pyx_tuple__78)) __PYX_ERR(6, 669, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__78);
+  __Pyx_GIVEREF(__pyx_tuple__78);
 
   /* "edgedb/protocol/protocol.pyx":671
  *                         raise RuntimeError('more than one header block')
  *                     if data_received:
  *                         raise RuntimeError('header block after data block')             # <<<<<<<<<<<<<<
  * 
  *                     header_received = True
  */
-  __pyx_tuple__80 = PyTuple_Pack(1, __pyx_kp_u_header_block_after_data_block); if (unlikely(!__pyx_tuple__80)) __PYX_ERR(6, 671, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__80);
-  __Pyx_GIVEREF(__pyx_tuple__80);
+  __pyx_tuple__79 = PyTuple_Pack(1, __pyx_kp_u_header_block_after_data_block); if (unlikely(!__pyx_tuple__79)) __PYX_ERR(6, 671, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__79);
+  __Pyx_GIVEREF(__pyx_tuple__79);
 
   /* "edgedb/protocol/protocol.pyx":697
  * 
  *         if not header_received:
  *             raise RuntimeError('header block was not received')             # <<<<<<<<<<<<<<
  * 
  *         if exc is not None:
  */
-  __pyx_tuple__81 = PyTuple_Pack(1, __pyx_kp_u_header_block_was_not_received); if (unlikely(!__pyx_tuple__81)) __PYX_ERR(6, 697, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__81);
-  __Pyx_GIVEREF(__pyx_tuple__81);
+  __pyx_tuple__80 = PyTuple_Pack(1, __pyx_kp_u_header_block_was_not_received); if (unlikely(!__pyx_tuple__80)) __PYX_ERR(6, 697, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__80);
+  __Pyx_GIVEREF(__pyx_tuple__80);
 
   /* "edgedb/protocol/protocol.pyx":839
  * 
  *         if self.connected:
  *             raise RuntimeError('already connected')             # <<<<<<<<<<<<<<
  * 
  *         # protocol version
  */
-  __pyx_tuple__82 = PyTuple_Pack(1, __pyx_kp_u_already_connected); if (unlikely(!__pyx_tuple__82)) __PYX_ERR(6, 839, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__82);
-  __Pyx_GIVEREF(__pyx_tuple__82);
+  __pyx_tuple__81 = PyTuple_Pack(1, __pyx_kp_u_already_connected); if (unlikely(!__pyx_tuple__81)) __PYX_ERR(6, 839, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__81);
+  __Pyx_GIVEREF(__pyx_tuple__81);
 
   /* "edgedb/protocol/protocol.pyx":922
  *                     break
  *                 else:
  *                     raise RuntimeError('non-idle status after connect')             # <<<<<<<<<<<<<<
  * 
  *             else:
  */
-  __pyx_tuple__84 = PyTuple_Pack(1, __pyx_kp_u_non_idle_status_after_connect); if (unlikely(!__pyx_tuple__84)) __PYX_ERR(6, 922, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__84);
-  __Pyx_GIVEREF(__pyx_tuple__84);
+  __pyx_tuple__83 = PyTuple_Pack(1, __pyx_kp_u_non_idle_status_after_connect); if (unlikely(!__pyx_tuple__83)) __PYX_ERR(6, 922, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__83);
+  __Pyx_GIVEREF(__pyx_tuple__83);
 
   /* "edgedb/protocol/protocol.pyx":932
  *         num_methods = self.buffer.read_int32()
  *         if num_methods <= 0:
  *             raise RuntimeError(             # <<<<<<<<<<<<<<
  *                 'the server requested SASL authentication but did not '
  *                 'offer any methods')
  */
-  __pyx_tuple__85 = PyTuple_Pack(1, __pyx_kp_u_the_server_requested_SASL_authen); if (unlikely(!__pyx_tuple__85)) __PYX_ERR(6, 932, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__85);
-  __Pyx_GIVEREF(__pyx_tuple__85);
+  __pyx_tuple__84 = PyTuple_Pack(1, __pyx_kp_u_the_server_requested_SASL_authen); if (unlikely(!__pyx_tuple__84)) __PYX_ERR(6, 932, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__84);
+  __Pyx_GIVEREF(__pyx_tuple__84);
 
   /* "edgedb/protocol/protocol.pyx":1028
  * 
  *         if server_sig != expected_server_sig:
  *             raise RuntimeError(             # <<<<<<<<<<<<<<
  *                 f'server SCRAM proof does not match')
  * 
  */
-  __pyx_tuple__87 = PyTuple_Pack(1, __pyx_kp_u_server_SCRAM_proof_does_not_matc); if (unlikely(!__pyx_tuple__87)) __PYX_ERR(6, 1028, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__87);
-  __Pyx_GIVEREF(__pyx_tuple__87);
+  __pyx_tuple__86 = PyTuple_Pack(1, __pyx_kp_u_server_SCRAM_proof_does_not_matc); if (unlikely(!__pyx_tuple__86)) __PYX_ERR(6, 1028, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__86);
+  __Pyx_GIVEREF(__pyx_tuple__86);
 
   /* "edgedb/protocol/protocol.pyx":1205
  *         if PG_DEBUG:
  *             if buf.get_message_type() != DATA_MSG:
  *                 raise RuntimeError('first message is not "DataMsg"')             # <<<<<<<<<<<<<<
  * 
  *             if not isinstance(result, list):
  */
-  __pyx_tuple__88 = PyTuple_Pack(1, __pyx_kp_u_first_message_is_not_DataMsg); if (unlikely(!__pyx_tuple__88)) __PYX_ERR(6, 1205, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__88);
-  __Pyx_GIVEREF(__pyx_tuple__88);
+  __pyx_tuple__87 = PyTuple_Pack(1, __pyx_kp_u_first_message_is_not_DataMsg); if (unlikely(!__pyx_tuple__87)) __PYX_ERR(6, 1205, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__87);
+  __Pyx_GIVEREF(__pyx_tuple__87);
 
   /* "edgedb/protocol/protocol.pyx":1228
  *                 buflen = hton.unpack_int32(frb_read(rbuf, 4))
  *                 if frb_get_len(rbuf) != buflen:
  *                     raise RuntimeError('invalid buffer length')             # <<<<<<<<<<<<<<
  *             else:
  *                 # EdgeDB returns rows with one column; Postgres' rows
  */
-  __pyx_tuple__89 = PyTuple_Pack(1, __pyx_kp_u_invalid_buffer_length); if (unlikely(!__pyx_tuple__89)) __PYX_ERR(6, 1228, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__89);
-  __Pyx_GIVEREF(__pyx_tuple__89);
+  __pyx_tuple__88 = PyTuple_Pack(1, __pyx_kp_u_invalid_buffer_length); if (unlikely(!__pyx_tuple__88)) __PYX_ERR(6, 1228, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__88);
+  __Pyx_GIVEREF(__pyx_tuple__88);
 
   /* "edgedb/protocol/protocol_v0.pyx":82
  *                     attrs = self.legacy_parse_headers()
  *                     cardinality = self.buffer.read_byte()
  *                     if self.protocol_version >= (0, 14):             # <<<<<<<<<<<<<<
  *                         in_dc, out_dc = self.parse_type_data(reg)
  *                     else:
  */
-  __pyx_tuple__91 = PyTuple_Pack(2, __pyx_int_0, __pyx_int_14); if (unlikely(!__pyx_tuple__91)) __PYX_ERR(14, 82, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__91);
-  __Pyx_GIVEREF(__pyx_tuple__91);
+  __pyx_tuple__90 = PyTuple_Pack(2, __pyx_int_0, __pyx_int_14); if (unlikely(!__pyx_tuple__90)) __PYX_ERR(14, 82, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__90);
+  __Pyx_GIVEREF(__pyx_tuple__90);
 
   /* "(tree fragment)":4
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0x53368d7, 0x0e1f4d2, 0x737459e):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0x53368d7, 0x0e1f4d2, 0x737459e) = (_dict, _dict_get, _dict_move_to_end, _maxsize))" % __pyx_checksum)
  */
-  __pyx_tuple__93 = PyTuple_Pack(3, __pyx_int_87255255, __pyx_int_14808274, __pyx_int_121062814); if (unlikely(!__pyx_tuple__93)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_tuple__92 = PyTuple_Pack(3, __pyx_int_87255255, __pyx_int_14808274, __pyx_int_121062814); if (unlikely(!__pyx_tuple__92)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__92);
+  __Pyx_GIVEREF(__pyx_tuple__92);
+  __pyx_tuple__93 = PyTuple_Pack(3, __pyx_int_52716380, __pyx_int_228165448, __pyx_int_113914406); if (unlikely(!__pyx_tuple__93)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__93);
   __Pyx_GIVEREF(__pyx_tuple__93);
-  __pyx_tuple__94 = PyTuple_Pack(3, __pyx_int_52716380, __pyx_int_228165448, __pyx_int_113914406); if (unlikely(!__pyx_tuple__94)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_tuple__94 = PyTuple_Pack(3, __pyx_int_98205364, __pyx_int_7443423, __pyx_int_194759147); if (unlikely(!__pyx_tuple__94)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__94);
   __Pyx_GIVEREF(__pyx_tuple__94);
-  __pyx_tuple__95 = PyTuple_Pack(3, __pyx_int_98205364, __pyx_int_7443423, __pyx_int_194759147); if (unlikely(!__pyx_tuple__95)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_tuple__95 = PyTuple_Pack(3, __pyx_int_181010524, __pyx_int_94322648, __pyx_int_262771094); if (unlikely(!__pyx_tuple__95)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__95);
   __Pyx_GIVEREF(__pyx_tuple__95);
-  __pyx_tuple__96 = PyTuple_Pack(3, __pyx_int_181010524, __pyx_int_94322648, __pyx_int_262771094); if (unlikely(!__pyx_tuple__96)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_tuple__96 = PyTuple_Pack(3, __pyx_int_222419149, __pyx_int_238750788, __pyx_int_228825662); if (unlikely(!__pyx_tuple__96)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__96);
   __Pyx_GIVEREF(__pyx_tuple__96);
-  __pyx_tuple__97 = PyTuple_Pack(3, __pyx_int_222419149, __pyx_int_238750788, __pyx_int_228825662); if (unlikely(!__pyx_tuple__97)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__97);
-  __Pyx_GIVEREF(__pyx_tuple__97);
-
-  /* "View.MemoryView":134
- * 
- *         if not self.ndim:
- *             raise ValueError("Empty shape tuple for cython.array")             # <<<<<<<<<<<<<<
- * 
- *         if itemsize <= 0:
- */
-  __pyx_tuple__98 = PyTuple_Pack(1, __pyx_kp_s_Empty_shape_tuple_for_cython_arr); if (unlikely(!__pyx_tuple__98)) __PYX_ERR(2, 134, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__98);
-  __Pyx_GIVEREF(__pyx_tuple__98);
-
-  /* "View.MemoryView":137
- * 
- *         if itemsize <= 0:
- *             raise ValueError("itemsize <= 0 for cython.array")             # <<<<<<<<<<<<<<
- * 
- *         if not isinstance(format, bytes):
- */
-  __pyx_tuple__99 = PyTuple_Pack(1, __pyx_kp_s_itemsize_0_for_cython_array); if (unlikely(!__pyx_tuple__99)) __PYX_ERR(2, 137, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__99);
-  __Pyx_GIVEREF(__pyx_tuple__99);
-
-  /* "View.MemoryView":149
- * 
- *         if not self._shape:
- *             raise MemoryError("unable to allocate shape and strides.")             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_tuple__100 = PyTuple_Pack(1, __pyx_kp_s_unable_to_allocate_shape_and_str); if (unlikely(!__pyx_tuple__100)) __PYX_ERR(2, 149, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__100);
-  __Pyx_GIVEREF(__pyx_tuple__100);
-
-  /* "View.MemoryView":177
- *             self.data = <char *>malloc(self.len)
- *             if not self.data:
- *                 raise MemoryError("unable to allocate array data.")             # <<<<<<<<<<<<<<
- * 
- *             if self.dtype_is_object:
- */
-  __pyx_tuple__101 = PyTuple_Pack(1, __pyx_kp_s_unable_to_allocate_array_data); if (unlikely(!__pyx_tuple__101)) __PYX_ERR(2, 177, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__101);
-  __Pyx_GIVEREF(__pyx_tuple__101);
-
-  /* "View.MemoryView":193
- *             bufmode = PyBUF_F_CONTIGUOUS | PyBUF_ANY_CONTIGUOUS
- *         if not (flags & bufmode):
- *             raise ValueError("Can only create a buffer that is contiguous in memory.")             # <<<<<<<<<<<<<<
- *         info.buf = self.data
- *         info.len = self.len
- */
-  __pyx_tuple__102 = PyTuple_Pack(1, __pyx_kp_s_Can_only_create_a_buffer_that_is); if (unlikely(!__pyx_tuple__102)) __PYX_ERR(2, 193, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__102);
-  __Pyx_GIVEREF(__pyx_tuple__102);
-
-  /* "(tree fragment)":2
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-  __pyx_tuple__103 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__103)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__103);
-  __Pyx_GIVEREF(__pyx_tuple__103);
-
-  /* "(tree fragment)":4
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- */
-  __pyx_tuple__104 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__104)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__104);
-  __Pyx_GIVEREF(__pyx_tuple__104);
-
-  /* "View.MemoryView":420
- *     def __setitem__(memoryview self, object index, object value):
- *         if self.view.readonly:
- *             raise TypeError("Cannot assign to read-only memoryview")             # <<<<<<<<<<<<<<
- * 
- *         have_slices, index = _unellipsify(index, self.view.ndim)
- */
-  __pyx_tuple__105 = PyTuple_Pack(1, __pyx_kp_s_Cannot_assign_to_read_only_memor); if (unlikely(!__pyx_tuple__105)) __PYX_ERR(2, 420, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__105);
-  __Pyx_GIVEREF(__pyx_tuple__105);
-
-  /* "View.MemoryView":497
- *             result = struct.unpack(self.view.format, bytesitem)
- *         except struct.error:
- *             raise ValueError("Unable to convert item to object")             # <<<<<<<<<<<<<<
- *         else:
- *             if len(self.view.format) == 1:
- */
-  __pyx_tuple__106 = PyTuple_Pack(1, __pyx_kp_s_Unable_to_convert_item_to_object); if (unlikely(!__pyx_tuple__106)) __PYX_ERR(2, 497, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__106);
-  __Pyx_GIVEREF(__pyx_tuple__106);
-
-  /* "View.MemoryView":522
- *     def __getbuffer__(self, Py_buffer *info, int flags):
- *         if flags & PyBUF_WRITABLE and self.view.readonly:
- *             raise ValueError("Cannot create writable memory view from read-only memoryview")             # <<<<<<<<<<<<<<
- * 
- *         if flags & PyBUF_ND:
- */
-  __pyx_tuple__107 = PyTuple_Pack(1, __pyx_kp_s_Cannot_create_writable_memory_vi); if (unlikely(!__pyx_tuple__107)) __PYX_ERR(2, 522, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__107);
-  __Pyx_GIVEREF(__pyx_tuple__107);
-
-  /* "View.MemoryView":572
- *         if self.view.strides == NULL:
- * 
- *             raise ValueError("Buffer view does not expose strides")             # <<<<<<<<<<<<<<
- * 
- *         return tuple([stride for stride in self.view.strides[:self.view.ndim]])
- */
-  __pyx_tuple__108 = PyTuple_Pack(1, __pyx_kp_s_Buffer_view_does_not_expose_stri); if (unlikely(!__pyx_tuple__108)) __PYX_ERR(2, 572, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__108);
-  __Pyx_GIVEREF(__pyx_tuple__108);
-
-  /* "View.MemoryView":579
- *     def suboffsets(self):
- *         if self.view.suboffsets == NULL:
- *             return (-1,) * self.view.ndim             # <<<<<<<<<<<<<<
- * 
- *         return tuple([suboffset for suboffset in self.view.suboffsets[:self.view.ndim]])
- */
-  __pyx_tuple__109 = PyTuple_New(1); if (unlikely(!__pyx_tuple__109)) __PYX_ERR(2, 579, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__109);
-  __Pyx_INCREF(__pyx_int_neg_1);
-  __Pyx_GIVEREF(__pyx_int_neg_1);
-  PyTuple_SET_ITEM(__pyx_tuple__109, 0, __pyx_int_neg_1);
-  __Pyx_GIVEREF(__pyx_tuple__109);
-
-  /* "(tree fragment)":2
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-  __pyx_tuple__110 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__110)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__110);
-  __Pyx_GIVEREF(__pyx_tuple__110);
-
-  /* "(tree fragment)":4
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- */
-  __pyx_tuple__111 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__111)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__111);
-  __Pyx_GIVEREF(__pyx_tuple__111);
-
-  /* "View.MemoryView":684
- *         if item is Ellipsis:
- *             if not seen_ellipsis:
- *                 result.extend([slice(None)] * (ndim - len(tup) + 1))             # <<<<<<<<<<<<<<
- *                 seen_ellipsis = True
- *             else:
- */
-  __pyx_slice__112 = PySlice_New(Py_None, Py_None, Py_None); if (unlikely(!__pyx_slice__112)) __PYX_ERR(2, 684, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_slice__112);
-  __Pyx_GIVEREF(__pyx_slice__112);
-
-  /* "View.MemoryView":705
- *     for suboffset in suboffsets[:ndim]:
- *         if suboffset >= 0:
- *             raise ValueError("Indirect dimensions not supported")             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_tuple__113 = PyTuple_Pack(1, __pyx_kp_s_Indirect_dimensions_not_supporte); if (unlikely(!__pyx_tuple__113)) __PYX_ERR(2, 705, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__113);
-  __Pyx_GIVEREF(__pyx_tuple__113);
-
-  /* "(tree fragment)":2
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-  __pyx_tuple__114 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__114)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__114);
-  __Pyx_GIVEREF(__pyx_tuple__114);
-
-  /* "(tree fragment)":4
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- */
-  __pyx_tuple__115 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__115)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__115);
-  __Pyx_GIVEREF(__pyx_tuple__115);
-  __pyx_tuple__116 = PyTuple_Pack(3, __pyx_int_184977713, __pyx_int_136983863, __pyx_int_112105877); if (unlikely(!__pyx_tuple__116)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__116);
-  __Pyx_GIVEREF(__pyx_tuple__116);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":9
  * 
  * TYPE_IDS = {
  *     'anytype': uuid.UUID('00000000-0000-0000-0000-000000000001'),             # <<<<<<<<<<<<<<
  *     'anytuple': uuid.UUID('00000000-0000-0000-0000-000000000002'),
  *     'std': uuid.UUID('00000000-0000-0000-0000-0000000000f0'),
  */
-  __pyx_tuple__117 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000); if (unlikely(!__pyx_tuple__117)) __PYX_ERR(24, 9, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__117);
-  __Pyx_GIVEREF(__pyx_tuple__117);
+  __pyx_tuple__97 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000); if (unlikely(!__pyx_tuple__97)) __PYX_ERR(24, 9, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__97);
+  __Pyx_GIVEREF(__pyx_tuple__97);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":10
  * TYPE_IDS = {
  *     'anytype': uuid.UUID('00000000-0000-0000-0000-000000000001'),
  *     'anytuple': uuid.UUID('00000000-0000-0000-0000-000000000002'),             # <<<<<<<<<<<<<<
  *     'std': uuid.UUID('00000000-0000-0000-0000-0000000000f0'),
  *     'empty-tuple': uuid.UUID('00000000-0000-0000-0000-0000000000ff'),
  */
-  __pyx_tuple__118 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_2); if (unlikely(!__pyx_tuple__118)) __PYX_ERR(24, 10, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__118);
-  __Pyx_GIVEREF(__pyx_tuple__118);
+  __pyx_tuple__98 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_2); if (unlikely(!__pyx_tuple__98)) __PYX_ERR(24, 10, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__98);
+  __Pyx_GIVEREF(__pyx_tuple__98);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":11
  *     'anytype': uuid.UUID('00000000-0000-0000-0000-000000000001'),
  *     'anytuple': uuid.UUID('00000000-0000-0000-0000-000000000002'),
  *     'std': uuid.UUID('00000000-0000-0000-0000-0000000000f0'),             # <<<<<<<<<<<<<<
  *     'empty-tuple': uuid.UUID('00000000-0000-0000-0000-0000000000ff'),
  *     'std::uuid': uuid.UUID('00000000-0000-0000-0000-000000000100'),
  */
-  __pyx_tuple__119 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_3); if (unlikely(!__pyx_tuple__119)) __PYX_ERR(24, 11, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__119);
-  __Pyx_GIVEREF(__pyx_tuple__119);
+  __pyx_tuple__99 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_3); if (unlikely(!__pyx_tuple__99)) __PYX_ERR(24, 11, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__99);
+  __Pyx_GIVEREF(__pyx_tuple__99);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":12
  *     'anytuple': uuid.UUID('00000000-0000-0000-0000-000000000002'),
  *     'std': uuid.UUID('00000000-0000-0000-0000-0000000000f0'),
  *     'empty-tuple': uuid.UUID('00000000-0000-0000-0000-0000000000ff'),             # <<<<<<<<<<<<<<
  *     'std::uuid': uuid.UUID('00000000-0000-0000-0000-000000000100'),
  *     'std::str': uuid.UUID('00000000-0000-0000-0000-000000000101'),
  */
-  __pyx_tuple__120 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_4); if (unlikely(!__pyx_tuple__120)) __PYX_ERR(24, 12, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__120);
-  __Pyx_GIVEREF(__pyx_tuple__120);
+  __pyx_tuple__100 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_4); if (unlikely(!__pyx_tuple__100)) __PYX_ERR(24, 12, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__100);
+  __Pyx_GIVEREF(__pyx_tuple__100);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":13
  *     'std': uuid.UUID('00000000-0000-0000-0000-0000000000f0'),
  *     'empty-tuple': uuid.UUID('00000000-0000-0000-0000-0000000000ff'),
  *     'std::uuid': uuid.UUID('00000000-0000-0000-0000-000000000100'),             # <<<<<<<<<<<<<<
  *     'std::str': uuid.UUID('00000000-0000-0000-0000-000000000101'),
  *     'std::bytes': uuid.UUID('00000000-0000-0000-0000-000000000102'),
  */
-  __pyx_tuple__121 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_5); if (unlikely(!__pyx_tuple__121)) __PYX_ERR(24, 13, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__121);
-  __Pyx_GIVEREF(__pyx_tuple__121);
+  __pyx_tuple__101 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_5); if (unlikely(!__pyx_tuple__101)) __PYX_ERR(24, 13, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__101);
+  __Pyx_GIVEREF(__pyx_tuple__101);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":14
  *     'empty-tuple': uuid.UUID('00000000-0000-0000-0000-0000000000ff'),
  *     'std::uuid': uuid.UUID('00000000-0000-0000-0000-000000000100'),
  *     'std::str': uuid.UUID('00000000-0000-0000-0000-000000000101'),             # <<<<<<<<<<<<<<
  *     'std::bytes': uuid.UUID('00000000-0000-0000-0000-000000000102'),
  *     'std::int16': uuid.UUID('00000000-0000-0000-0000-000000000103'),
  */
-  __pyx_tuple__122 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_6); if (unlikely(!__pyx_tuple__122)) __PYX_ERR(24, 14, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__122);
-  __Pyx_GIVEREF(__pyx_tuple__122);
+  __pyx_tuple__102 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_6); if (unlikely(!__pyx_tuple__102)) __PYX_ERR(24, 14, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__102);
+  __Pyx_GIVEREF(__pyx_tuple__102);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":15
  *     'std::uuid': uuid.UUID('00000000-0000-0000-0000-000000000100'),
  *     'std::str': uuid.UUID('00000000-0000-0000-0000-000000000101'),
  *     'std::bytes': uuid.UUID('00000000-0000-0000-0000-000000000102'),             # <<<<<<<<<<<<<<
  *     'std::int16': uuid.UUID('00000000-0000-0000-0000-000000000103'),
  *     'std::int32': uuid.UUID('00000000-0000-0000-0000-000000000104'),
  */
-  __pyx_tuple__123 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_7); if (unlikely(!__pyx_tuple__123)) __PYX_ERR(24, 15, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__123);
-  __Pyx_GIVEREF(__pyx_tuple__123);
+  __pyx_tuple__103 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_7); if (unlikely(!__pyx_tuple__103)) __PYX_ERR(24, 15, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__103);
+  __Pyx_GIVEREF(__pyx_tuple__103);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":16
  *     'std::str': uuid.UUID('00000000-0000-0000-0000-000000000101'),
  *     'std::bytes': uuid.UUID('00000000-0000-0000-0000-000000000102'),
  *     'std::int16': uuid.UUID('00000000-0000-0000-0000-000000000103'),             # <<<<<<<<<<<<<<
  *     'std::int32': uuid.UUID('00000000-0000-0000-0000-000000000104'),
  *     'std::int64': uuid.UUID('00000000-0000-0000-0000-000000000105'),
  */
-  __pyx_tuple__124 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_8); if (unlikely(!__pyx_tuple__124)) __PYX_ERR(24, 16, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__124);
-  __Pyx_GIVEREF(__pyx_tuple__124);
+  __pyx_tuple__104 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_8); if (unlikely(!__pyx_tuple__104)) __PYX_ERR(24, 16, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__104);
+  __Pyx_GIVEREF(__pyx_tuple__104);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":17
  *     'std::bytes': uuid.UUID('00000000-0000-0000-0000-000000000102'),
  *     'std::int16': uuid.UUID('00000000-0000-0000-0000-000000000103'),
  *     'std::int32': uuid.UUID('00000000-0000-0000-0000-000000000104'),             # <<<<<<<<<<<<<<
  *     'std::int64': uuid.UUID('00000000-0000-0000-0000-000000000105'),
  *     'std::float32': uuid.UUID('00000000-0000-0000-0000-000000000106'),
  */
-  __pyx_tuple__125 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_9); if (unlikely(!__pyx_tuple__125)) __PYX_ERR(24, 17, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__125);
-  __Pyx_GIVEREF(__pyx_tuple__125);
+  __pyx_tuple__105 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_9); if (unlikely(!__pyx_tuple__105)) __PYX_ERR(24, 17, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__105);
+  __Pyx_GIVEREF(__pyx_tuple__105);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":18
  *     'std::int16': uuid.UUID('00000000-0000-0000-0000-000000000103'),
  *     'std::int32': uuid.UUID('00000000-0000-0000-0000-000000000104'),
  *     'std::int64': uuid.UUID('00000000-0000-0000-0000-000000000105'),             # <<<<<<<<<<<<<<
  *     'std::float32': uuid.UUID('00000000-0000-0000-0000-000000000106'),
  *     'std::float64': uuid.UUID('00000000-0000-0000-0000-000000000107'),
  */
-  __pyx_tuple__126 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_10); if (unlikely(!__pyx_tuple__126)) __PYX_ERR(24, 18, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__126);
-  __Pyx_GIVEREF(__pyx_tuple__126);
+  __pyx_tuple__106 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_10); if (unlikely(!__pyx_tuple__106)) __PYX_ERR(24, 18, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__106);
+  __Pyx_GIVEREF(__pyx_tuple__106);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":19
  *     'std::int32': uuid.UUID('00000000-0000-0000-0000-000000000104'),
  *     'std::int64': uuid.UUID('00000000-0000-0000-0000-000000000105'),
  *     'std::float32': uuid.UUID('00000000-0000-0000-0000-000000000106'),             # <<<<<<<<<<<<<<
  *     'std::float64': uuid.UUID('00000000-0000-0000-0000-000000000107'),
  *     'std::decimal': uuid.UUID('00000000-0000-0000-0000-000000000108'),
  */
-  __pyx_tuple__127 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_11); if (unlikely(!__pyx_tuple__127)) __PYX_ERR(24, 19, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__127);
-  __Pyx_GIVEREF(__pyx_tuple__127);
+  __pyx_tuple__107 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_11); if (unlikely(!__pyx_tuple__107)) __PYX_ERR(24, 19, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__107);
+  __Pyx_GIVEREF(__pyx_tuple__107);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":20
  *     'std::int64': uuid.UUID('00000000-0000-0000-0000-000000000105'),
  *     'std::float32': uuid.UUID('00000000-0000-0000-0000-000000000106'),
  *     'std::float64': uuid.UUID('00000000-0000-0000-0000-000000000107'),             # <<<<<<<<<<<<<<
  *     'std::decimal': uuid.UUID('00000000-0000-0000-0000-000000000108'),
  *     'std::bool': uuid.UUID('00000000-0000-0000-0000-000000000109'),
  */
-  __pyx_tuple__128 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_12); if (unlikely(!__pyx_tuple__128)) __PYX_ERR(24, 20, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__128);
-  __Pyx_GIVEREF(__pyx_tuple__128);
+  __pyx_tuple__108 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_12); if (unlikely(!__pyx_tuple__108)) __PYX_ERR(24, 20, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__108);
+  __Pyx_GIVEREF(__pyx_tuple__108);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":21
  *     'std::float32': uuid.UUID('00000000-0000-0000-0000-000000000106'),
  *     'std::float64': uuid.UUID('00000000-0000-0000-0000-000000000107'),
  *     'std::decimal': uuid.UUID('00000000-0000-0000-0000-000000000108'),             # <<<<<<<<<<<<<<
  *     'std::bool': uuid.UUID('00000000-0000-0000-0000-000000000109'),
  *     'std::datetime': uuid.UUID('00000000-0000-0000-0000-00000000010a'),
  */
-  __pyx_tuple__129 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_13); if (unlikely(!__pyx_tuple__129)) __PYX_ERR(24, 21, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__129);
-  __Pyx_GIVEREF(__pyx_tuple__129);
+  __pyx_tuple__109 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_13); if (unlikely(!__pyx_tuple__109)) __PYX_ERR(24, 21, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__109);
+  __Pyx_GIVEREF(__pyx_tuple__109);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":22
  *     'std::float64': uuid.UUID('00000000-0000-0000-0000-000000000107'),
  *     'std::decimal': uuid.UUID('00000000-0000-0000-0000-000000000108'),
  *     'std::bool': uuid.UUID('00000000-0000-0000-0000-000000000109'),             # <<<<<<<<<<<<<<
  *     'std::datetime': uuid.UUID('00000000-0000-0000-0000-00000000010a'),
  *     'cal::local_datetime': uuid.UUID('00000000-0000-0000-0000-00000000010b'),
  */
-  __pyx_tuple__130 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_14); if (unlikely(!__pyx_tuple__130)) __PYX_ERR(24, 22, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__130);
-  __Pyx_GIVEREF(__pyx_tuple__130);
+  __pyx_tuple__110 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_14); if (unlikely(!__pyx_tuple__110)) __PYX_ERR(24, 22, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__110);
+  __Pyx_GIVEREF(__pyx_tuple__110);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":23
  *     'std::decimal': uuid.UUID('00000000-0000-0000-0000-000000000108'),
  *     'std::bool': uuid.UUID('00000000-0000-0000-0000-000000000109'),
  *     'std::datetime': uuid.UUID('00000000-0000-0000-0000-00000000010a'),             # <<<<<<<<<<<<<<
  *     'cal::local_datetime': uuid.UUID('00000000-0000-0000-0000-00000000010b'),
  *     'cal::local_date': uuid.UUID('00000000-0000-0000-0000-00000000010c'),
  */
-  __pyx_tuple__131 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_15); if (unlikely(!__pyx_tuple__131)) __PYX_ERR(24, 23, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__131);
-  __Pyx_GIVEREF(__pyx_tuple__131);
+  __pyx_tuple__111 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_15); if (unlikely(!__pyx_tuple__111)) __PYX_ERR(24, 23, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__111);
+  __Pyx_GIVEREF(__pyx_tuple__111);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":24
  *     'std::bool': uuid.UUID('00000000-0000-0000-0000-000000000109'),
  *     'std::datetime': uuid.UUID('00000000-0000-0000-0000-00000000010a'),
  *     'cal::local_datetime': uuid.UUID('00000000-0000-0000-0000-00000000010b'),             # <<<<<<<<<<<<<<
  *     'cal::local_date': uuid.UUID('00000000-0000-0000-0000-00000000010c'),
  *     'cal::local_time': uuid.UUID('00000000-0000-0000-0000-00000000010d'),
  */
-  __pyx_tuple__132 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_16); if (unlikely(!__pyx_tuple__132)) __PYX_ERR(24, 24, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__132);
-  __Pyx_GIVEREF(__pyx_tuple__132);
+  __pyx_tuple__112 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_16); if (unlikely(!__pyx_tuple__112)) __PYX_ERR(24, 24, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__112);
+  __Pyx_GIVEREF(__pyx_tuple__112);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":25
  *     'std::datetime': uuid.UUID('00000000-0000-0000-0000-00000000010a'),
  *     'cal::local_datetime': uuid.UUID('00000000-0000-0000-0000-00000000010b'),
  *     'cal::local_date': uuid.UUID('00000000-0000-0000-0000-00000000010c'),             # <<<<<<<<<<<<<<
  *     'cal::local_time': uuid.UUID('00000000-0000-0000-0000-00000000010d'),
  *     'std::duration': uuid.UUID('00000000-0000-0000-0000-00000000010e'),
  */
-  __pyx_tuple__133 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_17); if (unlikely(!__pyx_tuple__133)) __PYX_ERR(24, 25, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__133);
-  __Pyx_GIVEREF(__pyx_tuple__133);
+  __pyx_tuple__113 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_17); if (unlikely(!__pyx_tuple__113)) __PYX_ERR(24, 25, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__113);
+  __Pyx_GIVEREF(__pyx_tuple__113);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":26
  *     'cal::local_datetime': uuid.UUID('00000000-0000-0000-0000-00000000010b'),
  *     'cal::local_date': uuid.UUID('00000000-0000-0000-0000-00000000010c'),
  *     'cal::local_time': uuid.UUID('00000000-0000-0000-0000-00000000010d'),             # <<<<<<<<<<<<<<
  *     'std::duration': uuid.UUID('00000000-0000-0000-0000-00000000010e'),
  *     'std::json': uuid.UUID('00000000-0000-0000-0000-00000000010f'),
  */
-  __pyx_tuple__134 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_18); if (unlikely(!__pyx_tuple__134)) __PYX_ERR(24, 26, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__134);
-  __Pyx_GIVEREF(__pyx_tuple__134);
+  __pyx_tuple__114 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_18); if (unlikely(!__pyx_tuple__114)) __PYX_ERR(24, 26, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__114);
+  __Pyx_GIVEREF(__pyx_tuple__114);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":27
  *     'cal::local_date': uuid.UUID('00000000-0000-0000-0000-00000000010c'),
  *     'cal::local_time': uuid.UUID('00000000-0000-0000-0000-00000000010d'),
  *     'std::duration': uuid.UUID('00000000-0000-0000-0000-00000000010e'),             # <<<<<<<<<<<<<<
  *     'std::json': uuid.UUID('00000000-0000-0000-0000-00000000010f'),
  *     'std::bigint': uuid.UUID('00000000-0000-0000-0000-000000000110'),
  */
-  __pyx_tuple__135 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_19); if (unlikely(!__pyx_tuple__135)) __PYX_ERR(24, 27, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__135);
-  __Pyx_GIVEREF(__pyx_tuple__135);
+  __pyx_tuple__115 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_19); if (unlikely(!__pyx_tuple__115)) __PYX_ERR(24, 27, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__115);
+  __Pyx_GIVEREF(__pyx_tuple__115);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":28
  *     'cal::local_time': uuid.UUID('00000000-0000-0000-0000-00000000010d'),
  *     'std::duration': uuid.UUID('00000000-0000-0000-0000-00000000010e'),
  *     'std::json': uuid.UUID('00000000-0000-0000-0000-00000000010f'),             # <<<<<<<<<<<<<<
  *     'std::bigint': uuid.UUID('00000000-0000-0000-0000-000000000110'),
  *     'cal::relative_duration': uuid.UUID('00000000-0000-0000-0000-000000000111'),
  */
-  __pyx_tuple__136 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_20); if (unlikely(!__pyx_tuple__136)) __PYX_ERR(24, 28, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__136);
-  __Pyx_GIVEREF(__pyx_tuple__136);
+  __pyx_tuple__116 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_20); if (unlikely(!__pyx_tuple__116)) __PYX_ERR(24, 28, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__116);
+  __Pyx_GIVEREF(__pyx_tuple__116);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":29
  *     'std::duration': uuid.UUID('00000000-0000-0000-0000-00000000010e'),
  *     'std::json': uuid.UUID('00000000-0000-0000-0000-00000000010f'),
  *     'std::bigint': uuid.UUID('00000000-0000-0000-0000-000000000110'),             # <<<<<<<<<<<<<<
  *     'cal::relative_duration': uuid.UUID('00000000-0000-0000-0000-000000000111'),
  *     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),
  */
-  __pyx_tuple__137 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_21); if (unlikely(!__pyx_tuple__137)) __PYX_ERR(24, 29, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__137);
-  __Pyx_GIVEREF(__pyx_tuple__137);
+  __pyx_tuple__117 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_21); if (unlikely(!__pyx_tuple__117)) __PYX_ERR(24, 29, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__117);
+  __Pyx_GIVEREF(__pyx_tuple__117);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":30
  *     'std::json': uuid.UUID('00000000-0000-0000-0000-00000000010f'),
  *     'std::bigint': uuid.UUID('00000000-0000-0000-0000-000000000110'),
  *     'cal::relative_duration': uuid.UUID('00000000-0000-0000-0000-000000000111'),             # <<<<<<<<<<<<<<
  *     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),
- *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130')
+ *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130'),
  */
-  __pyx_tuple__138 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_22); if (unlikely(!__pyx_tuple__138)) __PYX_ERR(24, 30, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__138);
-  __Pyx_GIVEREF(__pyx_tuple__138);
+  __pyx_tuple__118 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_22); if (unlikely(!__pyx_tuple__118)) __PYX_ERR(24, 30, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__118);
+  __Pyx_GIVEREF(__pyx_tuple__118);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":31
  *     'std::bigint': uuid.UUID('00000000-0000-0000-0000-000000000110'),
  *     'cal::relative_duration': uuid.UUID('00000000-0000-0000-0000-000000000111'),
  *     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),             # <<<<<<<<<<<<<<
- *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130')
- * }
+ *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130'),
+ *     'fts::language': uuid.UUID('00000000-0000-0000-0000-000000000140'),
  */
-  __pyx_tuple__139 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_23); if (unlikely(!__pyx_tuple__139)) __PYX_ERR(24, 31, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__139);
-  __Pyx_GIVEREF(__pyx_tuple__139);
+  __pyx_tuple__119 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_23); if (unlikely(!__pyx_tuple__119)) __PYX_ERR(24, 31, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__119);
+  __Pyx_GIVEREF(__pyx_tuple__119);
 
   /* "edgedb/protocol/codecs/edb_types.pxi":32
  *     'cal::relative_duration': uuid.UUID('00000000-0000-0000-0000-000000000111'),
  *     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),
- *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130')             # <<<<<<<<<<<<<<
+ *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130'),             # <<<<<<<<<<<<<<
+ *     'fts::language': uuid.UUID('00000000-0000-0000-0000-000000000140'),
+ * }
+ */
+  __pyx_tuple__120 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_24); if (unlikely(!__pyx_tuple__120)) __PYX_ERR(24, 32, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__120);
+  __Pyx_GIVEREF(__pyx_tuple__120);
+
+  /* "edgedb/protocol/codecs/edb_types.pxi":33
+ *     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),
+ *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130'),
+ *     'fts::language': uuid.UUID('00000000-0000-0000-0000-000000000140'),             # <<<<<<<<<<<<<<
  * }
  */
-  __pyx_tuple__140 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_24); if (unlikely(!__pyx_tuple__140)) __PYX_ERR(24, 32, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__140);
-  __Pyx_GIVEREF(__pyx_tuple__140);
+  __pyx_tuple__121 = PyTuple_Pack(1, __pyx_kp_u_00000000_0000_0000_0000_00000000_25); if (unlikely(!__pyx_tuple__121)) __PYX_ERR(24, 33, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__121);
+  __Pyx_GIVEREF(__pyx_tuple__121);
 
   /* "edgedb/protocol/codecs/base.pyx":27
  * 
  * cdef bytes NULL_CODEC_ID = b'\x00' * 16
  * cdef bytes EMPTY_TUPLE_CODEC_ID = TYPE_IDS.get('empty-tuple').bytes             # <<<<<<<<<<<<<<
  * 
  * EMPTY_NULL_DATA = b'\x00\x00\x00\x00'
  */
-  __pyx_tuple__142 = PyTuple_Pack(1, __pyx_kp_u_empty_tuple); if (unlikely(!__pyx_tuple__142)) __PYX_ERR(1, 27, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__142);
-  __Pyx_GIVEREF(__pyx_tuple__142);
+  __pyx_tuple__123 = PyTuple_Pack(1, __pyx_kp_u_empty_tuple); if (unlikely(!__pyx_tuple__123)) __PYX_ERR(1, 27, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__123);
+  __Pyx_GIVEREF(__pyx_tuple__123);
 
   /* "(tree fragment)":1
  * def __pyx_unpickle_LRUMapping(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_tuple__145 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__145)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__145);
-  __Pyx_GIVEREF(__pyx_tuple__145);
-  __pyx_codeobj__146 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__145, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_LRUMapping, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__146)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __pyx_tuple__147 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__147)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__147);
-  __Pyx_GIVEREF(__pyx_tuple__147);
-  __pyx_codeobj__148 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__147, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_CodecsRegistry, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__148)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __pyx_tuple__149 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__149)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__149);
-  __Pyx_GIVEREF(__pyx_tuple__149);
-  __pyx_codeobj__150 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__149, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_QueryCodecsCache, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__150)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __pyx_tuple__151 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__151)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__151);
-  __Pyx_GIVEREF(__pyx_tuple__151);
-  __pyx_codeobj__152 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__151, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_SansIOProtocol, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__152)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __pyx_tuple__153 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__153)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__153);
-  __Pyx_GIVEREF(__pyx_tuple__153);
-  __pyx_codeobj__154 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__153, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_SansIOProtocolBac, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__154)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __pyx_tuple__126 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__126)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__126);
+  __Pyx_GIVEREF(__pyx_tuple__126);
+  __pyx_codeobj__127 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__126, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_LRUMapping, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__127)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __pyx_tuple__128 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__128)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__128);
+  __Pyx_GIVEREF(__pyx_tuple__128);
+  __pyx_codeobj__129 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__128, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_CodecsRegistry, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__129)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __pyx_tuple__130 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__130)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__130);
+  __Pyx_GIVEREF(__pyx_tuple__130);
+  __pyx_codeobj__131 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__130, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_QueryCodecsCache, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__131)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __pyx_tuple__132 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__132)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__132);
+  __Pyx_GIVEREF(__pyx_tuple__132);
+  __pyx_codeobj__133 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__132, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_SansIOProtocol, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__133)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __pyx_tuple__134 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__134)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__134);
+  __Pyx_GIVEREF(__pyx_tuple__134);
+  __pyx_codeobj__135 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__134, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_SansIOProtocolBac, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__135)) __PYX_ERR(2, 1, __pyx_L1_error)
 
   /* "EnumBase":28
  * class __Pyx_EnumBase(int):
  *     __metaclass__ = __Pyx_EnumMeta
  *     def __new__(cls, value, name=None):             # <<<<<<<<<<<<<<
  *         for v in cls:
  *             if v == value:
  */
-  __pyx_tuple__155 = PyTuple_Pack(5, __pyx_n_s_cls, __pyx_n_s_value, __pyx_n_s_name_2, __pyx_n_s_v, __pyx_n_s_res); if (unlikely(!__pyx_tuple__155)) __PYX_ERR(2, 28, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__155);
-  __Pyx_GIVEREF(__pyx_tuple__155);
-  __pyx_codeobj__156 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__155, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_new, 28, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__156)) __PYX_ERR(2, 28, __pyx_L1_error)
-  __pyx_tuple__157 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__157)) __PYX_ERR(2, 28, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__157);
-  __Pyx_GIVEREF(__pyx_tuple__157);
+  __pyx_tuple__136 = PyTuple_Pack(5, __pyx_n_s_cls, __pyx_n_s_value, __pyx_n_s_name_2, __pyx_n_s_v, __pyx_n_s_res); if (unlikely(!__pyx_tuple__136)) __PYX_ERR(2, 28, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__136);
+  __Pyx_GIVEREF(__pyx_tuple__136);
+  __pyx_codeobj__137 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__136, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_new, 28, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__137)) __PYX_ERR(2, 28, __pyx_L1_error)
+  __pyx_tuple__138 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__138)) __PYX_ERR(2, 28, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__138);
+  __Pyx_GIVEREF(__pyx_tuple__138);
 
   /* "EnumBase":39
  *         cls.__members__[name] = res
  *         return res
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return "<%s.%s: %d>" % (self.__class__.__name__, self.name, self)
  *     def __str__(self):
  */
-  __pyx_tuple__158 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__158)) __PYX_ERR(2, 39, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__158);
-  __Pyx_GIVEREF(__pyx_tuple__158);
-  __pyx_codeobj__159 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__158, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_repr, 39, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__159)) __PYX_ERR(2, 39, __pyx_L1_error)
+  __pyx_tuple__139 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__139)) __PYX_ERR(2, 39, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__139);
+  __Pyx_GIVEREF(__pyx_tuple__139);
+  __pyx_codeobj__140 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__139, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_repr, 39, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__140)) __PYX_ERR(2, 39, __pyx_L1_error)
 
   /* "EnumBase":41
  *     def __repr__(self):
  *         return "<%s.%s: %d>" % (self.__class__.__name__, self.name, self)
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return "%s.%s" % (self.__class__.__name__, self.name)
  * 
  */
-  __pyx_tuple__160 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__160)) __PYX_ERR(2, 41, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__160);
-  __Pyx_GIVEREF(__pyx_tuple__160);
-  __pyx_codeobj__161 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__160, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_str, 41, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__161)) __PYX_ERR(2, 41, __pyx_L1_error)
+  __pyx_tuple__141 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__141)) __PYX_ERR(2, 41, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__141);
+  __Pyx_GIVEREF(__pyx_tuple__141);
+  __pyx_codeobj__142 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__141, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_str, 41, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__142)) __PYX_ERR(2, 41, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __pyx_unpickle___Pyx_EnumMeta(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_tuple__162 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__162)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__162);
-  __Pyx_GIVEREF(__pyx_tuple__162);
-  __pyx_codeobj__163 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__162, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle___Pyx_EnumMeta, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__163)) __PYX_ERR(2, 1, __pyx_L1_error)
-
-  /* "View.MemoryView":287
- *         return self.name
- * 
- * cdef generic = Enum("<strided and direct or indirect>")             # <<<<<<<<<<<<<<
- * cdef strided = Enum("<strided and direct>") # default
- * cdef indirect = Enum("<strided and indirect>")
- */
-  __pyx_tuple__164 = PyTuple_Pack(1, __pyx_kp_s_strided_and_direct_or_indirect); if (unlikely(!__pyx_tuple__164)) __PYX_ERR(2, 287, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__164);
-  __Pyx_GIVEREF(__pyx_tuple__164);
-
-  /* "View.MemoryView":288
- * 
- * cdef generic = Enum("<strided and direct or indirect>")
- * cdef strided = Enum("<strided and direct>") # default             # <<<<<<<<<<<<<<
- * cdef indirect = Enum("<strided and indirect>")
- * 
- */
-  __pyx_tuple__165 = PyTuple_Pack(1, __pyx_kp_s_strided_and_direct); if (unlikely(!__pyx_tuple__165)) __PYX_ERR(2, 288, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__165);
-  __Pyx_GIVEREF(__pyx_tuple__165);
-
-  /* "View.MemoryView":289
- * cdef generic = Enum("<strided and direct or indirect>")
- * cdef strided = Enum("<strided and direct>") # default
- * cdef indirect = Enum("<strided and indirect>")             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_tuple__166 = PyTuple_Pack(1, __pyx_kp_s_strided_and_indirect); if (unlikely(!__pyx_tuple__166)) __PYX_ERR(2, 289, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__166);
-  __Pyx_GIVEREF(__pyx_tuple__166);
-
-  /* "View.MemoryView":292
- * 
- * 
- * cdef contiguous = Enum("<contiguous and direct>")             # <<<<<<<<<<<<<<
- * cdef indirect_contiguous = Enum("<contiguous and indirect>")
- * 
- */
-  __pyx_tuple__167 = PyTuple_Pack(1, __pyx_kp_s_contiguous_and_direct); if (unlikely(!__pyx_tuple__167)) __PYX_ERR(2, 292, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__167);
-  __Pyx_GIVEREF(__pyx_tuple__167);
-
-  /* "View.MemoryView":293
- * 
- * cdef contiguous = Enum("<contiguous and direct>")
- * cdef indirect_contiguous = Enum("<contiguous and indirect>")             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_tuple__168 = PyTuple_Pack(1, __pyx_kp_s_contiguous_and_indirect); if (unlikely(!__pyx_tuple__168)) __PYX_ERR(2, 293, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__168);
-  __Pyx_GIVEREF(__pyx_tuple__168);
-
-  /* "(tree fragment)":1
- * def __pyx_unpickle_Enum(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
- *     cdef object __pyx_PickleError
- *     cdef object __pyx_result
- */
-  __pyx_tuple__169 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__169)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__169);
-  __Pyx_GIVEREF(__pyx_tuple__169);
-  __pyx_codeobj__170 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__169, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_Enum, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__170)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __pyx_tuple__143 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__143)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__143);
+  __Pyx_GIVEREF(__pyx_tuple__143);
+  __pyx_codeobj__144 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__143, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle___Pyx_EnumMeta, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__144)) __PYX_ERR(2, 1, __pyx_L1_error)
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_RefNannyFinishContext();
   return -1;
 }
 
 static CYTHON_SMALL_CODE int __Pyx_InitGlobals(void) {
   __pyx_umethod_PyDict_Type_get.type = (PyObject*)&PyDict_Type;
   if (__Pyx_InitStrings(__pyx_string_tab) < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  __pyx_float_0_0 = PyFloat_FromDouble(0.0); if (unlikely(!__pyx_float_0_0)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_0 = PyInt_FromLong(0); if (unlikely(!__pyx_int_0)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_1 = PyInt_FromLong(1); if (unlikely(!__pyx_int_1)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_4 = PyInt_FromLong(4); if (unlikely(!__pyx_int_4)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_14 = PyInt_FromLong(14); if (unlikely(!__pyx_int_14)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_40 = PyInt_FromLong(40); if (unlikely(!__pyx_int_40)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_200 = PyInt_FromLong(200); if (unlikely(!__pyx_int_200)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_1000 = PyInt_FromLong(1000); if (unlikely(!__pyx_int_1000)) __PYX_ERR(6, 1, __pyx_L1_error)
@@ -82901,28 +67381,24 @@
   __pyx_int_84082689 = PyInt_FromLong(84082689L); if (unlikely(!__pyx_int_84082689)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_84082690 = PyInt_FromLong(84082690L); if (unlikely(!__pyx_int_84082690)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_84082945 = PyInt_FromLong(84082945L); if (unlikely(!__pyx_int_84082945)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_84082946 = PyInt_FromLong(84082946L); if (unlikely(!__pyx_int_84082946)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_87255255 = PyInt_FromLong(87255255L); if (unlikely(!__pyx_int_87255255)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_94322648 = PyInt_FromLong(94322648L); if (unlikely(!__pyx_int_94322648)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_98205364 = PyInt_FromLong(98205364L); if (unlikely(!__pyx_int_98205364)) __PYX_ERR(6, 1, __pyx_L1_error)
-  __pyx_int_112105877 = PyInt_FromLong(112105877L); if (unlikely(!__pyx_int_112105877)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_113914406 = PyInt_FromLong(113914406L); if (unlikely(!__pyx_int_113914406)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_121062814 = PyInt_FromLong(121062814L); if (unlikely(!__pyx_int_121062814)) __PYX_ERR(6, 1, __pyx_L1_error)
-  __pyx_int_136983863 = PyInt_FromLong(136983863L); if (unlikely(!__pyx_int_136983863)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_181010524 = PyInt_FromLong(181010524L); if (unlikely(!__pyx_int_181010524)) __PYX_ERR(6, 1, __pyx_L1_error)
-  __pyx_int_184977713 = PyInt_FromLong(184977713L); if (unlikely(!__pyx_int_184977713)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_194759147 = PyInt_FromLong(194759147L); if (unlikely(!__pyx_int_194759147)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_222419149 = PyInt_FromLong(222419149L); if (unlikely(!__pyx_int_222419149)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_228165448 = PyInt_FromLong(228165448L); if (unlikely(!__pyx_int_228165448)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_228825662 = PyInt_FromLong(228825662L); if (unlikely(!__pyx_int_228825662)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_238750788 = PyInt_FromLong(238750788L); if (unlikely(!__pyx_int_238750788)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_262771094 = PyInt_FromLong(262771094L); if (unlikely(!__pyx_int_262771094)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_int_18446744073709551615 = PyInt_FromString((char *)"18446744073709551615", 0, 0); if (unlikely(!__pyx_int_18446744073709551615)) __PYX_ERR(6, 1, __pyx_L1_error)
-  __pyx_int_neg_1 = PyInt_FromLong(-1); if (unlikely(!__pyx_int_neg_1)) __PYX_ERR(6, 1, __pyx_L1_error)
   return 0;
   __pyx_L1_error:;
   return -1;
 }
 
 static CYTHON_SMALL_CODE int __Pyx_modinit_global_init_code(void); /*proto*/
 static CYTHON_SMALL_CODE int __Pyx_modinit_variable_export_code(void); /*proto*/
@@ -82940,27 +67416,21 @@
   __pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC_ID = ((PyObject*)Py_None); Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC_ID = ((PyObject*)Py_None); Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_DEFAULT_CODEC_CONTEXT = ((struct __pyx_obj_6edgedb_8protocol_8protocol_EdegDBCodecContext *)Py_None); Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_CARDS_MAP = ((PyObject*)Py_None); Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC = ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)Py_None); Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS = ((PyObject*)Py_None); Py_INCREF(Py_None);
-  __pyx_v_6edgedb_8protocol_8protocol_ONE_EL_ARRAY = Py_None; Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_OLD_ERROR_CODES = ((PyObject*)Py_None); Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_result_cardinality_mismatch_code = Py_None; Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_parameter_type_mismatch_code = Py_None; Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_SYNC_MESSAGE = ((PyObject*)Py_None); Py_INCREF(Py_None);
   __pyx_v_6edgedb_8protocol_8protocol_FLUSH_MESSAGE = ((PyObject*)Py_None); Py_INCREF(Py_None);
   __Pyx_OrderedDict = Py_None; Py_INCREF(Py_None);
   __Pyx_EnumBase = Py_None; Py_INCREF(Py_None);
-  generic = Py_None; Py_INCREF(Py_None);
-  strided = Py_None; Py_INCREF(Py_None);
-  indirect = Py_None; Py_INCREF(Py_None);
-  contiguous = Py_None; Py_INCREF(Py_None);
-  indirect_contiguous = Py_None; Py_INCREF(Py_None);
   __Pyx_globals = ((PyObject*)Py_None); Py_INCREF(Py_None);
   __Pyx_RefNannyFinishContext();
   return 0;
 }
 
 static int __Pyx_modinit_variable_export_code(void) {
   __Pyx_RefNannyDeclarations
@@ -83092,15 +67562,16 @@
   }
   if (__Pyx_SetVtable(__pyx_type_6edgedb_8protocol_8protocol_BaseNamedRecordCodec.tp_dict, __pyx_vtabptr_6edgedb_8protocol_8protocol_BaseNamedRecordCodec) < 0) __PYX_ERR(1, 213, __pyx_L1_error)
   if (PyObject_SetAttr(__pyx_m, __pyx_n_s_BaseNamedRecordCodec, (PyObject *)&__pyx_type_6edgedb_8protocol_8protocol_BaseNamedRecordCodec) < 0) __PYX_ERR(1, 213, __pyx_L1_error)
   if (__Pyx_setup_reduce((PyObject*)&__pyx_type_6edgedb_8protocol_8protocol_BaseNamedRecordCodec) < 0) __PYX_ERR(1, 213, __pyx_L1_error)
   __pyx_ptype_6edgedb_8protocol_8protocol_BaseNamedRecordCodec = &__pyx_type_6edgedb_8protocol_8protocol_BaseNamedRecordCodec;
   __pyx_t_1 = PyImport_ImportModule("edgedb.pgproto.pgproto"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.pgproto.pgproto", "CodecContext", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext) __PYX_ERR(6, 1, __pyx_L1_error)
+  __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext = __Pyx_ImportType(__pyx_t_1, "edgedb.pgproto.pgproto", "CodecContext", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_7pgproto_7pgproto_CodecContext = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_CodecContext*)__Pyx_GetVtable(__pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_7pgproto_7pgproto_CodecContext)) __PYX_ERR(6, 1, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_8protocol_8protocol_EdegDBCodecContext = &__pyx_vtable_6edgedb_8protocol_8protocol_EdegDBCodecContext;
   __pyx_vtable_6edgedb_8protocol_8protocol_EdegDBCodecContext.__pyx_base = *__pyx_vtabptr_6edgedb_7pgproto_7pgproto_CodecContext;
   __pyx_vtable_6edgedb_8protocol_8protocol_EdegDBCodecContext.__pyx_base.get_text_codec = (PyObject *(*)(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, int __pyx_skip_dispatch))__pyx_f_6edgedb_8protocol_8protocol_18EdegDBCodecContext_get_text_codec;
   __pyx_vtable_6edgedb_8protocol_8protocol_EdegDBCodecContext.__pyx_base.is_encoding_utf8 = (PyObject *(*)(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *))__pyx_f_6edgedb_8protocol_8protocol_18EdegDBCodecContext_is_encoding_utf8;
   __pyx_type_6edgedb_8protocol_8protocol_EdegDBCodecContext.tp_base = __pyx_ptype_6edgedb_7pgproto_7pgproto_CodecContext;
   if (PyType_Ready(&__pyx_type_6edgedb_8protocol_8protocol_EdegDBCodecContext) < 0) __PYX_ERR(1, 230, __pyx_L1_error)
@@ -83269,24 +67740,24 @@
   if (__Pyx_setup_reduce((PyObject*)&__pyx_type_6edgedb_8protocol_8protocol_EnumCodec) < 0) __PYX_ERR(12, 23, __pyx_L1_error)
   __pyx_ptype_6edgedb_8protocol_8protocol_EnumCodec = &__pyx_type_6edgedb_8protocol_8protocol_EnumCodec;
   __pyx_vtabptr_6edgedb_8protocol_8protocol_CodecsRegistry = &__pyx_vtable_6edgedb_8protocol_8protocol_CodecsRegistry;
   __pyx_vtable_6edgedb_8protocol_8protocol_CodecsRegistry._build_codec = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *(*)(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *, PyObject *, PyObject *))__pyx_f_6edgedb_8protocol_8protocol_14CodecsRegistry__build_codec;
   __pyx_vtable_6edgedb_8protocol_8protocol_CodecsRegistry.build_codec = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *(*)(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *, PyObject *, PyObject *))__pyx_f_6edgedb_8protocol_8protocol_14CodecsRegistry_build_codec;
   __pyx_vtable_6edgedb_8protocol_8protocol_CodecsRegistry.has_codec = (PyObject *(*)(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *, PyObject *))__pyx_f_6edgedb_8protocol_8protocol_14CodecsRegistry_has_codec;
   __pyx_vtable_6edgedb_8protocol_8protocol_CodecsRegistry.get_codec = (struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *(*)(struct __pyx_obj_6edgedb_8protocol_8protocol_CodecsRegistry *, PyObject *))__pyx_f_6edgedb_8protocol_8protocol_14CodecsRegistry_get_codec;
-  if (PyType_Ready(&__pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry) < 0) __PYX_ERR(5, 67, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry) < 0) __PYX_ERR(5, 64, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry.tp_dictoffset && __pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry.tp_dict, __pyx_vtabptr_6edgedb_8protocol_8protocol_CodecsRegistry) < 0) __PYX_ERR(5, 67, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_CodecsRegistry, (PyObject *)&__pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry) < 0) __PYX_ERR(5, 67, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry) < 0) __PYX_ERR(5, 67, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry.tp_dict, __pyx_vtabptr_6edgedb_8protocol_8protocol_CodecsRegistry) < 0) __PYX_ERR(5, 64, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_CodecsRegistry, (PyObject *)&__pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry) < 0) __PYX_ERR(5, 64, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry) < 0) __PYX_ERR(5, 64, __pyx_L1_error)
   __pyx_ptype_6edgedb_8protocol_8protocol_CodecsRegistry = &__pyx_type_6edgedb_8protocol_8protocol_CodecsRegistry;
   __pyx_vtabptr_6edgedb_8protocol_8protocol_QueryCodecsCache = &__pyx_vtable_6edgedb_8protocol_8protocol_QueryCodecsCache;
   __pyx_vtable_6edgedb_8protocol_8protocol_QueryCodecsCache.set = (PyObject *(*)(struct __pyx_obj_6edgedb_8protocol_8protocol_QueryCodecsCache *, PyObject *, enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat, int, int, int, int, int, struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *, struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *, int))__pyx_f_6edgedb_8protocol_8protocol_16QueryCodecsCache_set;
   if (PyType_Ready(&__pyx_type_6edgedb_8protocol_8protocol_QueryCodecsCache) < 0) __PYX_ERR(6, 94, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_6edgedb_8protocol_8protocol_QueryCodecsCache.tp_print = 0;
   #endif
@@ -83538,65 +68009,14 @@
   __Pyx_EnumMeta.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__Pyx_EnumMeta.tp_dictoffset && __Pyx_EnumMeta.tp_getattro == PyObject_GenericGetAttr)) {
     __Pyx_EnumMeta.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
   if (__Pyx_setup_reduce((PyObject*)&__Pyx_EnumMeta) < 0) __PYX_ERR(2, 15, __pyx_L1_error)
   __pyx_ptype___Pyx_EnumMeta = &__Pyx_EnumMeta;
-  __pyx_vtabptr_array = &__pyx_vtable_array;
-  __pyx_vtable_array.get_memview = (PyObject *(*)(struct __pyx_array_obj *))__pyx_array_get_memview;
-  if (PyType_Ready(&__pyx_type___pyx_array) < 0) __PYX_ERR(2, 106, __pyx_L1_error)
-  #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type___pyx_array.tp_print = 0;
-  #endif
-  if (__Pyx_SetVtable(__pyx_type___pyx_array.tp_dict, __pyx_vtabptr_array) < 0) __PYX_ERR(2, 106, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type___pyx_array) < 0) __PYX_ERR(2, 106, __pyx_L1_error)
-  __pyx_array_type = &__pyx_type___pyx_array;
-  if (PyType_Ready(&__pyx_type___pyx_MemviewEnum) < 0) __PYX_ERR(2, 280, __pyx_L1_error)
-  #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type___pyx_MemviewEnum.tp_print = 0;
-  #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type___pyx_MemviewEnum.tp_dictoffset && __pyx_type___pyx_MemviewEnum.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type___pyx_MemviewEnum.tp_getattro = __Pyx_PyObject_GenericGetAttr;
-  }
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type___pyx_MemviewEnum) < 0) __PYX_ERR(2, 280, __pyx_L1_error)
-  __pyx_MemviewEnum_type = &__pyx_type___pyx_MemviewEnum;
-  __pyx_vtabptr_memoryview = &__pyx_vtable_memoryview;
-  __pyx_vtable_memoryview.get_item_pointer = (char *(*)(struct __pyx_memoryview_obj *, PyObject *))__pyx_memoryview_get_item_pointer;
-  __pyx_vtable_memoryview.is_slice = (PyObject *(*)(struct __pyx_memoryview_obj *, PyObject *))__pyx_memoryview_is_slice;
-  __pyx_vtable_memoryview.setitem_slice_assignment = (PyObject *(*)(struct __pyx_memoryview_obj *, PyObject *, PyObject *))__pyx_memoryview_setitem_slice_assignment;
-  __pyx_vtable_memoryview.setitem_slice_assign_scalar = (PyObject *(*)(struct __pyx_memoryview_obj *, struct __pyx_memoryview_obj *, PyObject *))__pyx_memoryview_setitem_slice_assign_scalar;
-  __pyx_vtable_memoryview.setitem_indexed = (PyObject *(*)(struct __pyx_memoryview_obj *, PyObject *, PyObject *))__pyx_memoryview_setitem_indexed;
-  __pyx_vtable_memoryview.convert_item_to_object = (PyObject *(*)(struct __pyx_memoryview_obj *, char *))__pyx_memoryview_convert_item_to_object;
-  __pyx_vtable_memoryview.assign_item_from_object = (PyObject *(*)(struct __pyx_memoryview_obj *, char *, PyObject *))__pyx_memoryview_assign_item_from_object;
-  if (PyType_Ready(&__pyx_type___pyx_memoryview) < 0) __PYX_ERR(2, 331, __pyx_L1_error)
-  #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type___pyx_memoryview.tp_print = 0;
-  #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type___pyx_memoryview.tp_dictoffset && __pyx_type___pyx_memoryview.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type___pyx_memoryview.tp_getattro = __Pyx_PyObject_GenericGetAttr;
-  }
-  if (__Pyx_SetVtable(__pyx_type___pyx_memoryview.tp_dict, __pyx_vtabptr_memoryview) < 0) __PYX_ERR(2, 331, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type___pyx_memoryview) < 0) __PYX_ERR(2, 331, __pyx_L1_error)
-  __pyx_memoryview_type = &__pyx_type___pyx_memoryview;
-  __pyx_vtabptr__memoryviewslice = &__pyx_vtable__memoryviewslice;
-  __pyx_vtable__memoryviewslice.__pyx_base = *__pyx_vtabptr_memoryview;
-  __pyx_vtable__memoryviewslice.__pyx_base.convert_item_to_object = (PyObject *(*)(struct __pyx_memoryview_obj *, char *))__pyx_memoryviewslice_convert_item_to_object;
-  __pyx_vtable__memoryviewslice.__pyx_base.assign_item_from_object = (PyObject *(*)(struct __pyx_memoryview_obj *, char *, PyObject *))__pyx_memoryviewslice_assign_item_from_object;
-  __pyx_type___pyx_memoryviewslice.tp_base = __pyx_memoryview_type;
-  if (PyType_Ready(&__pyx_type___pyx_memoryviewslice) < 0) __PYX_ERR(2, 967, __pyx_L1_error)
-  #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type___pyx_memoryviewslice.tp_print = 0;
-  #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type___pyx_memoryviewslice.tp_dictoffset && __pyx_type___pyx_memoryviewslice.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type___pyx_memoryviewslice.tp_getattro = __Pyx_PyObject_GenericGetAttr;
-  }
-  if (__Pyx_SetVtable(__pyx_type___pyx_memoryviewslice.tp_dict, __pyx_vtabptr__memoryviewslice) < 0) __PYX_ERR(2, 967, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type___pyx_memoryviewslice) < 0) __PYX_ERR(2, 967, __pyx_L1_error)
-  __pyx_memoryviewslice_type = &__pyx_type___pyx_memoryviewslice;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -83608,50 +68028,63 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
+  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
   #if defined(PYPY_VERSION_NUM) && PYPY_VERSION_NUM < 0x050B0000
-  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyTypeObject),
+  sizeof(PyTypeObject),
   #else
-  sizeof(PyHeapTypeObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyHeapTypeObject),
+  sizeof(PyHeapTypeObject),
   #endif
-  __Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(18, 9, __pyx_L1_error)
+  __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(19, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyBoolObject),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(19, 8, __pyx_L1_error)
+  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(19, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(20, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType_0_29_35(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyComplexObject),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(20, 15, __pyx_L1_error)
+  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(20, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("datetime"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_8datetime_date = __Pyx_ImportType_0_29_35(__pyx_t_1, "datetime", "date", sizeof(PyDateTime_Date), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyDateTime_Date),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_8datetime_date) __PYX_ERR(17, 9, __pyx_L1_error)
-  __pyx_ptype_7cpython_8datetime_time = __Pyx_ImportType_0_29_35(__pyx_t_1, "datetime", "time", sizeof(PyDateTime_Time), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyDateTime_Time),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_8datetime_time) __PYX_ERR(17, 12, __pyx_L1_error)
-  __pyx_ptype_7cpython_8datetime_datetime = __Pyx_ImportType_0_29_35(__pyx_t_1, "datetime", "datetime", sizeof(PyDateTime_DateTime), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyDateTime_DateTime),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_8datetime_datetime) __PYX_ERR(17, 15, __pyx_L1_error)
-  __pyx_ptype_7cpython_8datetime_timedelta = __Pyx_ImportType_0_29_35(__pyx_t_1, "datetime", "timedelta", sizeof(PyDateTime_Delta), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyDateTime_Delta),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_8datetime_timedelta) __PYX_ERR(17, 18, __pyx_L1_error)
-  __pyx_ptype_7cpython_8datetime_tzinfo = __Pyx_ImportType_0_29_35(__pyx_t_1, "datetime", "tzinfo", sizeof(PyDateTime_TZInfo), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(PyDateTime_TZInfo),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_7cpython_8datetime_tzinfo) __PYX_ERR(17, 21, __pyx_L1_error)
+  __pyx_ptype_7cpython_8datetime_date = __Pyx_ImportType(__pyx_t_1, "datetime", "date", sizeof(PyDateTime_Date), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_8datetime_date) __PYX_ERR(17, 9, __pyx_L1_error)
+  __pyx_ptype_7cpython_8datetime_time = __Pyx_ImportType(__pyx_t_1, "datetime", "time", sizeof(PyDateTime_Time), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_8datetime_time) __PYX_ERR(17, 12, __pyx_L1_error)
+  __pyx_ptype_7cpython_8datetime_datetime = __Pyx_ImportType(__pyx_t_1, "datetime", "datetime", sizeof(PyDateTime_DateTime), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_8datetime_datetime) __PYX_ERR(17, 15, __pyx_L1_error)
+  __pyx_ptype_7cpython_8datetime_timedelta = __Pyx_ImportType(__pyx_t_1, "datetime", "timedelta", sizeof(PyDateTime_Delta), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_8datetime_timedelta) __PYX_ERR(17, 18, __pyx_L1_error)
+  __pyx_ptype_7cpython_8datetime_tzinfo = __Pyx_ImportType(__pyx_t_1, "datetime", "tzinfo", sizeof(PyDateTime_TZInfo), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_7cpython_8datetime_tzinfo) __PYX_ERR(17, 21, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("edgedb.pgproto.pgproto"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.pgproto.pgproto", "WriteBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer) __PYX_ERR(16, 8, __pyx_L1_error)
+  __pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer = __Pyx_ImportType(__pyx_t_1, "edgedb.pgproto.pgproto", "WriteBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer) __PYX_ERR(16, 8, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_7pgproto_7pgproto_WriteBuffer = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer*)__Pyx_GetVtable(__pyx_ptype_6edgedb_7pgproto_7pgproto_WriteBuffer->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_7pgproto_7pgproto_WriteBuffer)) __PYX_ERR(16, 8, __pyx_L1_error)
-  __pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.pgproto.pgproto", "ReadBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer) __PYX_ERR(16, 68, __pyx_L1_error)
+  __pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer = __Pyx_ImportType(__pyx_t_1, "edgedb.pgproto.pgproto", "ReadBuffer", sizeof(struct __pyx_obj_6edgedb_7pgproto_7pgproto_ReadBuffer), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer) __PYX_ERR(16, 68, __pyx_L1_error)
   __pyx_vtabptr_6edgedb_7pgproto_7pgproto_ReadBuffer = (struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_ReadBuffer*)__Pyx_GetVtable(__pyx_ptype_6edgedb_7pgproto_7pgproto_ReadBuffer->tp_dict); if (unlikely(!__pyx_vtabptr_6edgedb_7pgproto_7pgproto_ReadBuffer)) __PYX_ERR(16, 68, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("edgedb.datatypes.datatypes"); if (unlikely(!__pyx_t_1)) __PYX_ERR(21, 24, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_6edgedb_9datatypes_9datatypes_RelativeDuration = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.datatypes.datatypes", "RelativeDuration", sizeof(struct __pyx_obj_6edgedb_9datatypes_9datatypes_RelativeDuration), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_9datatypes_9datatypes_RelativeDuration),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_9datatypes_9datatypes_RelativeDuration) __PYX_ERR(21, 24, __pyx_L1_error)
-  __pyx_ptype_6edgedb_9datatypes_9datatypes_DateDuration = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.datatypes.datatypes", "DateDuration", sizeof(struct __pyx_obj_6edgedb_9datatypes_9datatypes_DateDuration), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_9datatypes_9datatypes_DateDuration),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_9datatypes_9datatypes_DateDuration) __PYX_ERR(22, 24, __pyx_L1_error)
-  __pyx_ptype_6edgedb_9datatypes_9datatypes_ConfigMemory = __Pyx_ImportType_0_29_35(__pyx_t_1, "edgedb.datatypes.datatypes", "ConfigMemory", sizeof(struct __pyx_obj_6edgedb_9datatypes_9datatypes_ConfigMemory), __PYX_GET_STRUCT_ALIGNMENT_0_29_35(struct __pyx_obj_6edgedb_9datatypes_9datatypes_ConfigMemory),__Pyx_ImportType_CheckSize_Warn_0_29_35); if (!__pyx_ptype_6edgedb_9datatypes_9datatypes_ConfigMemory) __PYX_ERR(23, 24, __pyx_L1_error)
+  __pyx_ptype_6edgedb_9datatypes_9datatypes_RelativeDuration = __Pyx_ImportType(__pyx_t_1, "edgedb.datatypes.datatypes", "RelativeDuration", sizeof(struct __pyx_obj_6edgedb_9datatypes_9datatypes_RelativeDuration), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_9datatypes_9datatypes_RelativeDuration) __PYX_ERR(21, 24, __pyx_L1_error)
+  __pyx_ptype_6edgedb_9datatypes_9datatypes_DateDuration = __Pyx_ImportType(__pyx_t_1, "edgedb.datatypes.datatypes", "DateDuration", sizeof(struct __pyx_obj_6edgedb_9datatypes_9datatypes_DateDuration), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_9datatypes_9datatypes_DateDuration) __PYX_ERR(22, 24, __pyx_L1_error)
+  __pyx_ptype_6edgedb_9datatypes_9datatypes_ConfigMemory = __Pyx_ImportType(__pyx_t_1, "edgedb.datatypes.datatypes", "ConfigMemory", sizeof(struct __pyx_obj_6edgedb_9datatypes_9datatypes_ConfigMemory), __Pyx_ImportType_CheckSize_Warn);
+   if (!__pyx_ptype_6edgedb_9datatypes_9datatypes_ConfigMemory) __PYX_ERR(23, 24, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -83671,58 +68104,58 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("edgedb.pgproto.pgproto"); if (!__pyx_t_1) __PYX_ERR(6, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "frb_check", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_frb_check, "PyObject *(struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "date_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_date_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "date_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_date_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "timestamp_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_timestamp_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "timestamp_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_timestamp_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "timestamptz_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_timestamptz_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "timestamptz_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_timestamptz_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "time_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_time_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "time_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_time_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "bool_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_bool_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "bool_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_bool_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "int2_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int2_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "int2_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int2_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "int4_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int4_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "int4_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int4_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "int8_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int8_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "int8_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int8_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "float4_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_float4_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "float4_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_float4_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "float8_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_float8_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "float8_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_float8_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "jsonb_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_jsonb_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "jsonb_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_jsonb_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "text_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_text_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "text_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_text_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "bytea_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_bytea_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "bytea_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_bytea_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "uuid_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_uuid_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "uuid_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_uuid_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "numeric_encode_binary", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_numeric_encode_binary, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "numeric_decode_binary_ex", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_numeric_decode_binary_ex, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *, int)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "frb_check", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_frb_check, "PyObject *(struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "date_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_date_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "date_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_date_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "timestamp_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_timestamp_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "timestamp_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_timestamp_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "timestamptz_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_timestamptz_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "timestamptz_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_timestamptz_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "time_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_time_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "time_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_time_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "bool_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_bool_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "bool_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_bool_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "int2_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int2_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "int2_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int2_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "int4_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int4_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "int4_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int4_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "int8_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int8_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "int8_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_int8_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "float4_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_float4_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "float4_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_float4_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "float8_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_float8_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "float8_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_float8_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "jsonb_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_jsonb_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "jsonb_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_jsonb_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "text_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_text_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "text_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_text_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "bytea_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_bytea_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "bytea_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_bytea_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "uuid_encode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_uuid_encode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "uuid_decode", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_uuid_decode, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "numeric_encode_binary", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_numeric_encode_binary, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "numeric_decode_binary_ex", (void (**)(void))&__pyx_f_6edgedb_7pgproto_7pgproto_numeric_decode_binary_ex, "PyObject *(struct __pyx_obj_6edgedb_7pgproto_7pgproto_CodecContext *, struct __pyx_t_6edgedb_7pgproto_7pgproto_FRBuffer *, int)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("edgedb.datatypes.datatypes"); if (!__pyx_t_1) __PYX_ERR(6, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "record_desc_new", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_new, "PyObject *(PyObject *, PyObject *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "record_desc_pointer_name", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_pointer_name, "PyObject *(PyObject *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "record_desc_pointer_card", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_pointer_card, "PyObject *(PyObject *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "record_desc_pointer_is_link_prop", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_pointer_is_link_prop, "PyObject *(PyObject *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "record_desc_pointer_is_link", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_pointer_is_link, "PyObject *(PyObject *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "record_desc_pointer_is_implicit", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_pointer_is_implicit, "PyObject *(PyObject *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "namedtuple_new", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_namedtuple_new, "PyObject *(PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "namedtuple_type_new", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_namedtuple_type_new, "PyObject *(PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "object_new", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_object_new, "PyObject *(PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_0_29_35(__pyx_t_1, "object_set", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_object_set, "PyObject *(PyObject *, Py_ssize_t, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "record_desc_new", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_new, "PyObject *(PyObject *, PyObject *, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "record_desc_pointer_name", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_pointer_name, "PyObject *(PyObject *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "record_desc_pointer_card", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_pointer_card, "PyObject *(PyObject *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "record_desc_pointer_is_link_prop", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_pointer_is_link_prop, "PyObject *(PyObject *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "record_desc_pointer_is_link", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_pointer_is_link, "PyObject *(PyObject *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "record_desc_pointer_is_implicit", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_record_desc_pointer_is_implicit, "PyObject *(PyObject *, Py_ssize_t)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "namedtuple_new", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_namedtuple_new, "PyObject *(PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "namedtuple_type_new", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_namedtuple_type_new, "PyObject *(PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "object_new", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_object_new, "PyObject *(PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction(__pyx_t_1, "object_set", (void (**)(void))&__pyx_f_6edgedb_9datatypes_9datatypes_object_set, "PyObject *(PyObject *, Py_ssize_t, PyObject *)") < 0) __PYX_ERR(6, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -83823,16 +68256,15 @@
 #endif
 {
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_t_5;
-  static PyThread_type_lock __pyx_t_6[8];
-  PyObject *__pyx_t_7 = NULL;
+  PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannyDeclarations
   #if CYTHON_PEP489_MULTI_PHASE_INIT
   if (__pyx_m) {
     if (__pyx_m == __pyx_pyinit_module) return 0;
@@ -84160,119 +68592,107 @@
   __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol__LRU_MARKER, __pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/codecs.pyx":20
  * 
  * 
- * import array             # <<<<<<<<<<<<<<
- * import decimal
- * import uuid
- */
-  __pyx_t_2 = __Pyx_Import(__pyx_n_s_array, 0, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 20, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_array, __pyx_t_2) < 0) __PYX_ERR(5, 20, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":21
- * 
- * import array
  * import decimal             # <<<<<<<<<<<<<<
  * import uuid
  * import datetime
  */
-  __pyx_t_2 = __Pyx_Import(__pyx_n_s_decimal, 0, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 21, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_Import(__pyx_n_s_decimal, 0, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 20, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_decimal, __pyx_t_2) < 0) __PYX_ERR(5, 21, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_decimal, __pyx_t_2) < 0) __PYX_ERR(5, 20, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":22
- * import array
+  /* "edgedb/protocol/codecs/codecs.pyx":21
+ * 
  * import decimal
  * import uuid             # <<<<<<<<<<<<<<
  * import datetime
  * from edgedb import describe
  */
-  __pyx_t_2 = __Pyx_Import(__pyx_n_s_uuid, 0, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 22, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_Import(__pyx_n_s_uuid, 0, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 21, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_uuid, __pyx_t_2) < 0) __PYX_ERR(5, 22, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_uuid, __pyx_t_2) < 0) __PYX_ERR(5, 21, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":23
+  /* "edgedb/protocol/codecs/codecs.pyx":22
  * import decimal
  * import uuid
  * import datetime             # <<<<<<<<<<<<<<
  * from edgedb import describe
  * from edgedb import enums
  */
-  __pyx_t_2 = __Pyx_Import(__pyx_n_s_datetime, 0, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 23, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_Import(__pyx_n_s_datetime, 0, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 22, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_datetime, __pyx_t_2) < 0) __PYX_ERR(5, 23, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_datetime, __pyx_t_2) < 0) __PYX_ERR(5, 22, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":24
+  /* "edgedb/protocol/codecs/codecs.pyx":23
  * import uuid
  * import datetime
  * from edgedb import describe             # <<<<<<<<<<<<<<
  * from edgedb import enums
  * from edgedb.datatypes import datatypes
  */
-  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 24, __pyx_L1_error)
+  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_n_s_describe);
   __Pyx_GIVEREF(__pyx_n_s_describe);
   PyList_SET_ITEM(__pyx_t_2, 0, __pyx_n_s_describe);
-  __pyx_t_1 = __Pyx_Import(__pyx_n_s_edgedb, __pyx_t_2, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 24, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_Import(__pyx_n_s_edgedb, __pyx_t_2, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_1, __pyx_n_s_describe); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 24, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_1, __pyx_n_s_describe); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_describe, __pyx_t_2) < 0) __PYX_ERR(5, 24, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_describe, __pyx_t_2) < 0) __PYX_ERR(5, 23, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":25
+  /* "edgedb/protocol/codecs/codecs.pyx":24
  * import datetime
  * from edgedb import describe
  * from edgedb import enums             # <<<<<<<<<<<<<<
  * from edgedb.datatypes import datatypes
  * 
  */
-  __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 25, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 24, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_INCREF(__pyx_n_s_enums);
   __Pyx_GIVEREF(__pyx_n_s_enums);
   PyList_SET_ITEM(__pyx_t_1, 0, __pyx_n_s_enums);
-  __pyx_t_2 = __Pyx_Import(__pyx_n_s_edgedb, __pyx_t_1, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 25, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_Import(__pyx_n_s_edgedb, __pyx_t_1, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 24, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_enums); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 25, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_enums); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 24, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_enums, __pyx_t_1) < 0) __PYX_ERR(5, 25, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_enums, __pyx_t_1) < 0) __PYX_ERR(5, 24, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":26
+  /* "edgedb/protocol/codecs/codecs.pyx":25
  * from edgedb import describe
  * from edgedb import enums
  * from edgedb.datatypes import datatypes             # <<<<<<<<<<<<<<
  * 
- * from libc.string cimport memcpy
+ * 
  */
-  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 26, __pyx_L1_error)
+  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 25, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_n_s_datatypes);
   __Pyx_GIVEREF(__pyx_n_s_datatypes);
   PyList_SET_ITEM(__pyx_t_2, 0, __pyx_n_s_datatypes);
-  __pyx_t_1 = __Pyx_Import(__pyx_n_s_edgedb_datatypes, __pyx_t_2, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 26, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_Import(__pyx_n_s_edgedb_datatypes, __pyx_t_2, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 25, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_1, __pyx_n_s_datatypes); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 26, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_1, __pyx_n_s_datatypes); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 25, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_datatypes, __pyx_t_2) < 0) __PYX_ERR(5, 26, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_datatypes, __pyx_t_2) < 0) __PYX_ERR(5, 25, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":5
  * 
  * 
  * import uuid             # <<<<<<<<<<<<<<
@@ -84287,22 +68707,22 @@
   /* "edgedb/protocol/codecs/edb_types.pxi":9
  * 
  * TYPE_IDS = {
  *     'anytype': uuid.UUID('00000000-0000-0000-0000-000000000001'),             # <<<<<<<<<<<<<<
  *     'anytuple': uuid.UUID('00000000-0000-0000-0000-000000000002'),
  *     'std': uuid.UUID('00000000-0000-0000-0000-0000000000f0'),
  */
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(24); if (unlikely(!__pyx_t_1)) __PYX_ERR(24, 9, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(25); if (unlikely(!__pyx_t_1)) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__117, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 9, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__97, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_anytype, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":10
  * TYPE_IDS = {
@@ -84312,15 +68732,15 @@
  *     'empty-tuple': uuid.UUID('00000000-0000-0000-0000-0000000000ff'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__118, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 10, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__98, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_anytuple, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":11
  *     'anytype': uuid.UUID('00000000-0000-0000-0000-000000000001'),
@@ -84330,15 +68750,15 @@
  *     'std::uuid': uuid.UUID('00000000-0000-0000-0000-000000000100'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 11, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 11, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__119, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 11, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__99, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 11, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_n_u_std, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":12
  *     'anytuple': uuid.UUID('00000000-0000-0000-0000-000000000002'),
@@ -84348,15 +68768,15 @@
  *     'std::str': uuid.UUID('00000000-0000-0000-0000-000000000101'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 12, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 12, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__120, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 12, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__100, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 12, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_empty_tuple, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":13
  *     'std': uuid.UUID('00000000-0000-0000-0000-0000000000f0'),
@@ -84366,15 +68786,15 @@
  *     'std::bytes': uuid.UUID('00000000-0000-0000-0000-000000000102'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 13, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 13, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__121, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 13, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__101, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 13, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_uuid, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":14
  *     'empty-tuple': uuid.UUID('00000000-0000-0000-0000-0000000000ff'),
@@ -84384,15 +68804,15 @@
  *     'std::int16': uuid.UUID('00000000-0000-0000-0000-000000000103'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 14, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 14, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__122, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 14, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__102, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 14, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_str, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":15
  *     'std::uuid': uuid.UUID('00000000-0000-0000-0000-000000000100'),
@@ -84402,15 +68822,15 @@
  *     'std::int32': uuid.UUID('00000000-0000-0000-0000-000000000104'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__123, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 15, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__103, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_bytes, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":16
  *     'std::str': uuid.UUID('00000000-0000-0000-0000-000000000101'),
@@ -84420,15 +68840,15 @@
  *     'std::int64': uuid.UUID('00000000-0000-0000-0000-000000000105'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__124, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 16, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__104, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_int16, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":17
  *     'std::bytes': uuid.UUID('00000000-0000-0000-0000-000000000102'),
@@ -84438,15 +68858,15 @@
  *     'std::float32': uuid.UUID('00000000-0000-0000-0000-000000000106'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 17, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 17, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__125, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 17, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__105, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 17, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_int32, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":18
  *     'std::int16': uuid.UUID('00000000-0000-0000-0000-000000000103'),
@@ -84456,15 +68876,15 @@
  *     'std::float64': uuid.UUID('00000000-0000-0000-0000-000000000107'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 18, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 18, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__126, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 18, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__106, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 18, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_int64, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":19
  *     'std::int32': uuid.UUID('00000000-0000-0000-0000-000000000104'),
@@ -84474,15 +68894,15 @@
  *     'std::decimal': uuid.UUID('00000000-0000-0000-0000-000000000108'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 19, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 19, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__127, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 19, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__107, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 19, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_float32, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":20
  *     'std::int64': uuid.UUID('00000000-0000-0000-0000-000000000105'),
@@ -84492,15 +68912,15 @@
  *     'std::bool': uuid.UUID('00000000-0000-0000-0000-000000000109'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 20, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 20, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__128, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 20, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__108, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 20, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_float64, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":21
  *     'std::float32': uuid.UUID('00000000-0000-0000-0000-000000000106'),
@@ -84510,15 +68930,15 @@
  *     'std::datetime': uuid.UUID('00000000-0000-0000-0000-00000000010a'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 21, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 21, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__129, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 21, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__109, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 21, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_decimal, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":22
  *     'std::float64': uuid.UUID('00000000-0000-0000-0000-000000000107'),
@@ -84528,15 +68948,15 @@
  *     'cal::local_datetime': uuid.UUID('00000000-0000-0000-0000-00000000010b'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 22, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 22, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__130, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 22, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__110, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 22, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_bool, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":23
  *     'std::decimal': uuid.UUID('00000000-0000-0000-0000-000000000108'),
@@ -84546,15 +68966,15 @@
  *     'cal::local_date': uuid.UUID('00000000-0000-0000-0000-00000000010c'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__131, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 23, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__111, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_datetime, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":24
  *     'std::bool': uuid.UUID('00000000-0000-0000-0000-000000000109'),
@@ -84564,15 +68984,15 @@
  *     'cal::local_time': uuid.UUID('00000000-0000-0000-0000-00000000010d'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 24, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 24, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__132, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 24, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__112, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 24, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_cal_local_datetime, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":25
  *     'std::datetime': uuid.UUID('00000000-0000-0000-0000-00000000010a'),
@@ -84582,15 +69002,15 @@
  *     'std::duration': uuid.UUID('00000000-0000-0000-0000-00000000010e'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 25, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 25, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__133, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 25, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__113, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 25, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_cal_local_date, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":26
  *     'cal::local_datetime': uuid.UUID('00000000-0000-0000-0000-00000000010b'),
@@ -84600,15 +69020,15 @@
  *     'std::json': uuid.UUID('00000000-0000-0000-0000-00000000010f'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 26, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 26, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__134, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 26, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__114, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 26, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_cal_local_time, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":27
  *     'cal::local_date': uuid.UUID('00000000-0000-0000-0000-00000000010c'),
@@ -84618,15 +69038,15 @@
  *     'std::bigint': uuid.UUID('00000000-0000-0000-0000-000000000110'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 27, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 27, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__135, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 27, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__115, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 27, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_duration, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":28
  *     'cal::local_time': uuid.UUID('00000000-0000-0000-0000-00000000010d'),
@@ -84636,15 +69056,15 @@
  *     'cal::relative_duration': uuid.UUID('00000000-0000-0000-0000-000000000111'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 28, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 28, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__136, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 28, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__116, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 28, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_json, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":29
  *     'std::duration': uuid.UUID('00000000-0000-0000-0000-00000000010e'),
@@ -84654,72 +69074,90 @@
  *     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 29, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 29, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__137, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 29, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__117, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 29, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_std_bigint, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":30
  *     'std::json': uuid.UUID('00000000-0000-0000-0000-00000000010f'),
  *     'std::bigint': uuid.UUID('00000000-0000-0000-0000-000000000110'),
  *     'cal::relative_duration': uuid.UUID('00000000-0000-0000-0000-000000000111'),             # <<<<<<<<<<<<<<
  *     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),
- *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130')
+ *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 30, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 30, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__138, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 30, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__118, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 30, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_cal_relative_duration, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":31
  *     'std::bigint': uuid.UUID('00000000-0000-0000-0000-000000000110'),
  *     'cal::relative_duration': uuid.UUID('00000000-0000-0000-0000-000000000111'),
  *     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),             # <<<<<<<<<<<<<<
- *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130')
- * }
+ *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130'),
+ *     'fts::language': uuid.UUID('00000000-0000-0000-0000-000000000140'),
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 31, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 31, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__139, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 31, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__119, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 31, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_cal_date_duration, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/codecs/edb_types.pxi":32
  *     'cal::relative_duration': uuid.UUID('00000000-0000-0000-0000-000000000111'),
  *     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),
- *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130')             # <<<<<<<<<<<<<<
+ *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130'),             # <<<<<<<<<<<<<<
+ *     'fts::language': uuid.UUID('00000000-0000-0000-0000-000000000140'),
  * }
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 32, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 32, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__140, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 32, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__120, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 32, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_cfg_memory, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+  /* "edgedb/protocol/codecs/edb_types.pxi":33
+ *     'cal::date_duration': uuid.UUID('00000000-0000-0000-0000-000000000112'),
+ *     'cfg::memory': uuid.UUID('00000000-0000-0000-0000-000000000130'),
+ *     'fts::language': uuid.UUID('00000000-0000-0000-0000-000000000140'),             # <<<<<<<<<<<<<<
+ * }
+ */
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_uuid); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 33, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_UUID); if (unlikely(!__pyx_t_3)) __PYX_ERR(24, 33, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__121, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(24, 33, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  if (PyDict_SetItem(__pyx_t_1, __pyx_kp_u_fts_language, __pyx_t_2) < 0) __PYX_ERR(24, 9, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_TYPE_IDS, __pyx_t_1) < 0) __PYX_ERR(24, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "edgedb/protocol/codecs/base.pyx":20
  * 
  * 
  * import codecs             # <<<<<<<<<<<<<<
@@ -84752,32 +69190,32 @@
   /* "edgedb/protocol/codecs/base.pyx":26
  * cdef uint64_t RECORD_ENCODER_INVALID = 1 << 1
  * 
  * cdef bytes NULL_CODEC_ID = b'\x00' * 16             # <<<<<<<<<<<<<<
  * cdef bytes EMPTY_TUPLE_CODEC_ID = TYPE_IDS.get('empty-tuple').bytes
  * 
  */
-  __Pyx_INCREF(__pyx_kp_b__141);
+  __Pyx_INCREF(__pyx_kp_b__122);
   __Pyx_XGOTREF(__pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC_ID);
-  __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC_ID, __pyx_kp_b__141);
-  __Pyx_GIVEREF(__pyx_kp_b__141);
+  __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC_ID, __pyx_kp_b__122);
+  __Pyx_GIVEREF(__pyx_kp_b__122);
 
   /* "edgedb/protocol/codecs/base.pyx":27
  * 
  * cdef bytes NULL_CODEC_ID = b'\x00' * 16
  * cdef bytes EMPTY_TUPLE_CODEC_ID = TYPE_IDS.get('empty-tuple').bytes             # <<<<<<<<<<<<<<
  * 
  * EMPTY_NULL_DATA = b'\x00\x00\x00\x00'
  */
   __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_TYPE_IDS); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 27, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 27, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__142, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 27, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__123, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 27, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_bytes); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 27, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (!(likely(PyBytes_CheckExact(__pyx_t_2))||((__pyx_t_2) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "bytes", Py_TYPE(__pyx_t_2)->tp_name), 0))) __PYX_ERR(1, 27, __pyx_L1_error)
   __Pyx_XGOTREF(__pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC_ID);
@@ -84788,24 +69226,24 @@
   /* "edgedb/protocol/codecs/base.pyx":29
  * cdef bytes EMPTY_TUPLE_CODEC_ID = TYPE_IDS.get('empty-tuple').bytes
  * 
  * EMPTY_NULL_DATA = b'\x00\x00\x00\x00'             # <<<<<<<<<<<<<<
  * EMPTY_RECORD_DATA = b'\x00\x00\x00\x04\x00\x00\x00\x00'
  * 
  */
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_EMPTY_NULL_DATA, __pyx_kp_b__143) < 0) __PYX_ERR(1, 29, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_EMPTY_NULL_DATA, __pyx_kp_b__124) < 0) __PYX_ERR(1, 29, __pyx_L1_error)
 
   /* "edgedb/protocol/codecs/base.pyx":30
  * 
  * EMPTY_NULL_DATA = b'\x00\x00\x00\x00'
  * EMPTY_RECORD_DATA = b'\x00\x00\x00\x04\x00\x00\x00\x00'             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_EMPTY_RECORD_DATA, __pyx_kp_b__144) < 0) __PYX_ERR(1, 30, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_EMPTY_RECORD_DATA, __pyx_kp_b__125) < 0) __PYX_ERR(1, 30, __pyx_L1_error)
 
   /* "edgedb/protocol/codecs/base.pyx":242
  * 
  * 
  * cdef EdegDBCodecContext DEFAULT_CODEC_CONTEXT = EdegDBCodecContext()             # <<<<<<<<<<<<<<
  */
   __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_6edgedb_8protocol_8protocol_EdegDBCodecContext)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 242, __pyx_L1_error)
@@ -85047,98 +69485,64 @@
  * 
  */
   __pyx_t_2 = __Pyx_Import(__pyx_n_s_enum, 0, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(12, 19, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_enum, __pyx_t_2) < 0) __PYX_ERR(12, 19, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":63
+  /* "edgedb/protocol/codecs/codecs.pyx":60
  * DEF NUMERIC_NEG = 0x4000
  * 
  * cdef BaseCodec NULL_CODEC = NullCodec.__new__(NullCodec)             # <<<<<<<<<<<<<<
  * cdef BaseCodec EMPTY_TUPLE_CODEC = EmptyTupleCodec.__new__(EmptyTupleCodec)
  * 
  */
-  __pyx_t_2 = ((PyObject *)__pyx_tp_new_6edgedb_8protocol_8protocol_NullCodec(((PyTypeObject *)__pyx_ptype_6edgedb_8protocol_8protocol_NullCodec), __pyx_empty_tuple, NULL)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 63, __pyx_L1_error)
+  __pyx_t_2 = ((PyObject *)__pyx_tp_new_6edgedb_8protocol_8protocol_NullCodec(((PyTypeObject *)__pyx_ptype_6edgedb_8protocol_8protocol_NullCodec), __pyx_empty_tuple, NULL)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 60, __pyx_L1_error)
   __Pyx_GOTREF(((PyObject *)__pyx_t_2));
-  if (!(likely(__Pyx_TypeTest(((PyObject *)__pyx_t_2), __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)))) __PYX_ERR(5, 63, __pyx_L1_error)
+  if (!(likely(__Pyx_TypeTest(((PyObject *)__pyx_t_2), __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)))) __PYX_ERR(5, 60, __pyx_L1_error)
   __Pyx_XGOTREF(((PyObject *)__pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC));
   __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol_NULL_CODEC, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_2));
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":64
+  /* "edgedb/protocol/codecs/codecs.pyx":61
  * 
  * cdef BaseCodec NULL_CODEC = NullCodec.__new__(NullCodec)
  * cdef BaseCodec EMPTY_TUPLE_CODEC = EmptyTupleCodec.__new__(EmptyTupleCodec)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_2 = ((PyObject *)__pyx_tp_new_6edgedb_8protocol_8protocol_EmptyTupleCodec(((PyTypeObject *)__pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec), __pyx_empty_tuple, NULL)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 64, __pyx_L1_error)
+  __pyx_t_2 = ((PyObject *)__pyx_tp_new_6edgedb_8protocol_8protocol_EmptyTupleCodec(((PyTypeObject *)__pyx_ptype_6edgedb_8protocol_8protocol_EmptyTupleCodec), __pyx_empty_tuple, NULL)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 61, __pyx_L1_error)
   __Pyx_GOTREF(((PyObject *)__pyx_t_2));
-  if (!(likely(__Pyx_TypeTest(((PyObject *)__pyx_t_2), __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)))) __PYX_ERR(5, 64, __pyx_L1_error)
+  if (!(likely(__Pyx_TypeTest(((PyObject *)__pyx_t_2), __pyx_ptype_6edgedb_8protocol_8protocol_BaseCodec)))) __PYX_ERR(5, 61, __pyx_L1_error)
   __Pyx_XGOTREF(((PyObject *)__pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC));
   __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol_EMPTY_TUPLE_CODEC, ((struct __pyx_obj_6edgedb_8protocol_8protocol_BaseCodec *)__pyx_t_2));
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":347
+  /* "edgedb/protocol/codecs/codecs.pyx":344
  * 
  * 
  * cdef dict BASE_SCALAR_CODECS = {}             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_2 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 347, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 344, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_XGOTREF(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS);
   __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol_BASE_SCALAR_CODECS, ((PyObject*)__pyx_t_2));
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "edgedb/protocol/codecs/codecs.pyx":578
- * 
- * 
- * cdef object ONE_EL_ARRAY = array.array('f', [0.0])             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_array); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 578, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_array); if (unlikely(!__pyx_t_3)) __PYX_ERR(5, 578, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 578, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_INCREF(__pyx_float_0_0);
-  __Pyx_GIVEREF(__pyx_float_0_0);
-  PyList_SET_ITEM(__pyx_t_2, 0, __pyx_float_0_0);
-  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 578, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_INCREF(__pyx_n_u_f);
-  __Pyx_GIVEREF(__pyx_n_u_f);
-  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_n_u_f);
-  __Pyx_GIVEREF(__pyx_t_2);
-  PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_t_2);
-  __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 578, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __Pyx_XGOTREF(__pyx_v_6edgedb_8protocol_8protocol_ONE_EL_ARRAY);
-  __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol_ONE_EL_ARRAY, __pyx_t_2);
-  __Pyx_GIVEREF(__pyx_t_2);
-  __pyx_t_2 = 0;
-
-  /* "edgedb/protocol/codecs/codecs.pyx":812
- * 
+  /* "edgedb/protocol/codecs/codecs.pyx":715
+ *         pgproto.text_decode)
  * 
  * register_base_scalar_codecs()             # <<<<<<<<<<<<<<
  */
-  __pyx_t_2 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codecs(); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 812, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_6edgedb_8protocol_8protocol_register_base_scalar_codecs(); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 715, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":70
  * 
  * 
  * cpython.datetime.import_datetime()             # <<<<<<<<<<<<<<
@@ -85160,86 +69564,86 @@
   /* "edgedb/protocol/protocol.pyx":75
  * _QUERY_SINGLE_METHOD = {
  *     True: {
  *         OutputFormat.JSON: 'query_required_single_json',             # <<<<<<<<<<<<<<
  *         OutputFormat.JSON_ELEMENTS: 'raw_query',
  *         OutputFormat.BINARY: 'query_required_single',
  */
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 75, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 75, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyDict_NewPresized(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 75, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_t_3, __pyx_n_u_query_required_single_json) < 0) __PYX_ERR(6, 75, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 75, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem(__pyx_t_3, __pyx_t_1, __pyx_n_u_query_required_single_json) < 0) __PYX_ERR(6, 75, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "edgedb/protocol/protocol.pyx":76
  *     True: {
  *         OutputFormat.JSON: 'query_required_single_json',
  *         OutputFormat.JSON_ELEMENTS: 'raw_query',             # <<<<<<<<<<<<<<
  *         OutputFormat.BINARY: 'query_required_single',
  *     },
  */
-  __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON_ELEMENTS); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 76, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_t_3, __pyx_n_u_raw_query) < 0) __PYX_ERR(6, 75, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON_ELEMENTS); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 76, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem(__pyx_t_3, __pyx_t_1, __pyx_n_u_raw_query) < 0) __PYX_ERR(6, 75, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "edgedb/protocol/protocol.pyx":77
  *         OutputFormat.JSON: 'query_required_single_json',
  *         OutputFormat.JSON_ELEMENTS: 'raw_query',
  *         OutputFormat.BINARY: 'query_required_single',             # <<<<<<<<<<<<<<
  *     },
  *     False: {
  */
-  __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_BINARY); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 77, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_t_3, __pyx_n_u_query_required_single) < 0) __PYX_ERR(6, 75, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (PyDict_SetItem(__pyx_t_2, Py_True, __pyx_t_1) < 0) __PYX_ERR(6, 74, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_BINARY); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 77, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem(__pyx_t_3, __pyx_t_1, __pyx_n_u_query_required_single) < 0) __PYX_ERR(6, 75, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  if (PyDict_SetItem(__pyx_t_2, Py_True, __pyx_t_3) < 0) __PYX_ERR(6, 74, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "edgedb/protocol/protocol.pyx":80
  *     },
  *     False: {
  *         OutputFormat.JSON: 'query_single_json',             # <<<<<<<<<<<<<<
  *         OutputFormat.JSON_ELEMENTS: 'raw_query',
  *         OutputFormat.BINARY: 'query_single',
  */
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 80, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 80, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyDict_NewPresized(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 80, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_t_3, __pyx_n_u_query_single_json) < 0) __PYX_ERR(6, 80, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 80, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem(__pyx_t_3, __pyx_t_1, __pyx_n_u_query_single_json) < 0) __PYX_ERR(6, 80, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "edgedb/protocol/protocol.pyx":81
  *     False: {
  *         OutputFormat.JSON: 'query_single_json',
  *         OutputFormat.JSON_ELEMENTS: 'raw_query',             # <<<<<<<<<<<<<<
  *         OutputFormat.BINARY: 'query_single',
  *     },
  */
-  __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON_ELEMENTS); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 81, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_t_3, __pyx_n_u_raw_query) < 0) __PYX_ERR(6, 80, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON_ELEMENTS); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 81, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem(__pyx_t_3, __pyx_t_1, __pyx_n_u_raw_query) < 0) __PYX_ERR(6, 80, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "edgedb/protocol/protocol.pyx":82
  *         OutputFormat.JSON: 'query_single_json',
  *         OutputFormat.JSON_ELEMENTS: 'raw_query',
  *         OutputFormat.BINARY: 'query_single',             # <<<<<<<<<<<<<<
  *     },
  * }
  */
-  __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_BINARY); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 82, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_t_3, __pyx_n_u_query_single) < 0) __PYX_ERR(6, 80, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (PyDict_SetItem(__pyx_t_2, Py_False, __pyx_t_1) < 0) __PYX_ERR(6, 74, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_BINARY); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 82, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem(__pyx_t_3, __pyx_t_1, __pyx_n_u_query_single) < 0) __PYX_ERR(6, 80, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  if (PyDict_SetItem(__pyx_t_2, Py_False, __pyx_t_3) < 0) __PYX_ERR(6, 74, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_QUERY_SINGLE_METHOD, __pyx_t_2) < 0) __PYX_ERR(6, 73, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":86
  * }
  * 
  * ALL_CAPABILITIES = 0xFFFFFFFFFFFFFFFF             # <<<<<<<<<<<<<<
@@ -85267,183 +69671,183 @@
   /* "edgedb/protocol/protocol.pyx":251
  *         *,
  *         reg: CodecsRegistry,
  *         output_format: OutputFormat=OutputFormat.BINARY,             # <<<<<<<<<<<<<<
  *         expect_one: bint=False,
  *         required_one: bool=False,
  */
-  __pyx_k__72 = __pyx_e_6edgedb_8protocol_8protocol_BINARY;
+  __pyx_k__71 = __pyx_e_6edgedb_8protocol_8protocol_BINARY;
 
   /* "edgedb/protocol/protocol.pyx":257
  *         inline_typenames: bool=False,
  *         inline_typeids: bool=False,
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,             # <<<<<<<<<<<<<<
  *         state: typing.Optional[dict] = None,
  *     ):
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_enums); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 257, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Capability); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 257, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Capability); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 257, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_ALL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 257, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_ALL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 257, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_k__71 = __pyx_t_2;
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_k__70 = __pyx_t_2;
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":347
  *         inline_typenames: bint,
  *         inline_typeids: bint,
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,             # <<<<<<<<<<<<<<
  *         in_dc: BaseCodec,
  *         out_dc: BaseCodec,
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_enums); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 347, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Capability); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 347, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Capability); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 347, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_ALL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 347, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_ALL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 347, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_k__74 = __pyx_t_2;
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_k__73 = __pyx_t_2;
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":498
  *         inline_typenames: bool = False,
  *         inline_typeids: bool = False,
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,             # <<<<<<<<<<<<<<
  *         state: typing.Optional[dict] = None,
  *     ):
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_enums); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 498, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Capability); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 498, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Capability); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 498, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_ALL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 498, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_ALL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 498, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_k__75 = __pyx_t_2;
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_k__74 = __pyx_t_2;
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":591
  *         inline_typenames: bool = False,
  *         inline_typeids: bool = False,
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,             # <<<<<<<<<<<<<<
  *         state: typing.Optional[dict] = None,
  *     ):
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_enums); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 591, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Capability); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 591, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_Capability); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 591, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_ALL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 591, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_ALL); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 591, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_k__76 = __pyx_t_2;
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_k__75 = __pyx_t_2;
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":1333
  * 
  * cdef result_cardinality_mismatch_code = \
  *     errors.ResultCardinalityMismatchError._code             # <<<<<<<<<<<<<<
  * cdef parameter_type_mismatch_code = errors.ParameterTypeMismatchError._code
  * 
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_errors); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1333, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_ResultCardinalityMismatchError); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 1333, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_ResultCardinalityMismatchError); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 1333, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_code); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1333, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_code); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1333, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_XGOTREF(__pyx_v_6edgedb_8protocol_8protocol_result_cardinality_mismatch_code);
   __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol_result_cardinality_mismatch_code, __pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":1334
  * cdef result_cardinality_mismatch_code = \
  *     errors.ResultCardinalityMismatchError._code
  * cdef parameter_type_mismatch_code = errors.ParameterTypeMismatchError._code             # <<<<<<<<<<<<<<
  * 
  * cdef bytes SYNC_MESSAGE = bytes(
  */
   __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_errors); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1334, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_ParameterTypeMismatchError); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 1334, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_ParameterTypeMismatchError); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 1334, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_code); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1334, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_code); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1334, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_XGOTREF(__pyx_v_6edgedb_8protocol_8protocol_parameter_type_mismatch_code);
   __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol_parameter_type_mismatch_code, __pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":1337
  * 
  * cdef bytes SYNC_MESSAGE = bytes(
  *     WriteBuffer.new_message(SYNC_MSG).end_message())             # <<<<<<<<<<<<<<
  * cdef bytes FLUSH_MESSAGE = bytes(
  *     WriteBuffer.new_message(FLUSH_MSG).end_message())
  */
   __pyx_t_2 = ((PyObject *)__pyx_vtabptr_6edgedb_7pgproto_7pgproto_WriteBuffer->new_message('S')); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1337, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)((struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_t_2)->__pyx_vtab)->end_message(((struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 1337, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_3 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)((struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_t_2)->__pyx_vtab)->end_message(((struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_t_2)); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 1337, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":1336
  * cdef parameter_type_mismatch_code = errors.ParameterTypeMismatchError._code
  * 
  * cdef bytes SYNC_MESSAGE = bytes(             # <<<<<<<<<<<<<<
  *     WriteBuffer.new_message(SYNC_MSG).end_message())
  * cdef bytes FLUSH_MESSAGE = bytes(
  */
-  __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyBytes_Type)), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1336, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyBytes_Type)), __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1336, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_XGOTREF(__pyx_v_6edgedb_8protocol_8protocol_SYNC_MESSAGE);
   __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol_SYNC_MESSAGE, ((PyObject*)__pyx_t_2));
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":1339
  *     WriteBuffer.new_message(SYNC_MSG).end_message())
  * cdef bytes FLUSH_MESSAGE = bytes(
  *     WriteBuffer.new_message(FLUSH_MSG).end_message())             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_t_2 = ((PyObject *)__pyx_vtabptr_6edgedb_7pgproto_7pgproto_WriteBuffer->new_message('H')); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1339, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)((struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_t_2)->__pyx_vtab)->end_message(((struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 1339, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_3 = ((struct __pyx_vtabstruct_6edgedb_7pgproto_7pgproto_WriteBuffer *)((struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_t_2)->__pyx_vtab)->end_message(((struct __pyx_obj_6edgedb_7pgproto_7pgproto_WriteBuffer *)__pyx_t_2)); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 1339, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol.pyx":1338
  * cdef bytes SYNC_MESSAGE = bytes(
  *     WriteBuffer.new_message(SYNC_MSG).end_message())
  * cdef bytes FLUSH_MESSAGE = bytes(             # <<<<<<<<<<<<<<
  *     WriteBuffer.new_message(FLUSH_MSG).end_message())
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyBytes_Type)), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1338, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyBytes_Type)), __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 1338, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_XGOTREF(__pyx_v_6edgedb_8protocol_8protocol_FLUSH_MESSAGE);
   __Pyx_DECREF_SET(__pyx_v_6edgedb_8protocol_8protocol_FLUSH_MESSAGE, ((PyObject*)__pyx_t_2));
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_t_2 = 0;
 
   /* "edgedb/protocol/protocol_v0.pyx":20
  * 
@@ -85453,114 +69857,114 @@
  * 
  */
   __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(14, 20, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_n_s_enums);
   __Pyx_GIVEREF(__pyx_n_s_enums);
   PyList_SET_ITEM(__pyx_t_2, 0, __pyx_n_s_enums);
-  __pyx_t_1 = __Pyx_Import(__pyx_n_s_edgedb, __pyx_t_2, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 20, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_3 = __Pyx_Import(__pyx_n_s_edgedb, __pyx_t_2, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(14, 20, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_1, __pyx_n_s_enums); if (unlikely(!__pyx_t_2)) __PYX_ERR(14, 20, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_3, __pyx_n_s_enums); if (unlikely(!__pyx_t_2)) __PYX_ERR(14, 20, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_enums, __pyx_t_2) < 0) __PYX_ERR(14, 20, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "edgedb/protocol/protocol_v0.pyx":37
  *         *,
  *         reg: CodecsRegistry,
  *         output_format: OutputFormat=OutputFormat.BINARY,             # <<<<<<<<<<<<<<
  *         expect_one: bint=False,
  *         required_one: bool=False,
  */
-  __pyx_k__90 = __pyx_e_6edgedb_8protocol_8protocol_BINARY;
+  __pyx_k__89 = __pyx_e_6edgedb_8protocol_8protocol_BINARY;
 
   /* "edgedb/protocol/protocol_v0.pyx":368
  *         inline_typenames: bool = False,
  *         inline_typeids: bool = False,
  *         allow_capabilities: enums.Capability = enums.Capability.ALL,             # <<<<<<<<<<<<<<
  *     ):
  *         cdef:
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_enums); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 368, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_Capability); if (unlikely(!__pyx_t_2)) __PYX_ERR(14, 368, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_enums); if (unlikely(!__pyx_t_3)) __PYX_ERR(14, 368, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_Capability); if (unlikely(!__pyx_t_2)) __PYX_ERR(14, 368, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_ALL); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 368, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_ALL); if (unlikely(!__pyx_t_3)) __PYX_ERR(14, 368, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_k__92 = __pyx_t_1;
-  __Pyx_GIVEREF(__pyx_t_1);
-  __pyx_t_1 = 0;
+  __pyx_k__91 = __pyx_t_3;
+  __Pyx_GIVEREF(__pyx_t_3);
+  __pyx_t_3 = 0;
 
   /* "(tree fragment)":1
  * def __pyx_unpickle_LRUMapping(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_6edgedb_8protocol_8protocol_1__pyx_unpickle_LRUMapping, NULL, __pyx_n_s_edgedb_protocol_protocol); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_LRUMapping, __pyx_t_1) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_6edgedb_8protocol_8protocol_1__pyx_unpickle_LRUMapping, NULL, __pyx_n_s_edgedb_protocol_protocol); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_LRUMapping, __pyx_t_3) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "(tree fragment)":11
  *         __pyx_unpickle_LRUMapping__set_state(<LRUMapping> __pyx_result, __pyx_state)
  *     return __pyx_result
  * cdef __pyx_unpickle_LRUMapping__set_state(LRUMapping __pyx_result, tuple __pyx_state):             # <<<<<<<<<<<<<<
  *     __pyx_result._dict = __pyx_state[0]; __pyx_result._dict_get = __pyx_state[1]; __pyx_result._dict_move_to_end = __pyx_state[2]; __pyx_result._maxsize = __pyx_state[3]
  *     if len(__pyx_state) > 4 and hasattr(__pyx_result, '__dict__'):
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_6edgedb_8protocol_8protocol_3__pyx_unpickle_CodecsRegistry, NULL, __pyx_n_s_edgedb_protocol_protocol); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_CodecsRegistry, __pyx_t_1) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_6edgedb_8protocol_8protocol_3__pyx_unpickle_CodecsRegistry, NULL, __pyx_n_s_edgedb_protocol_protocol); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_CodecsRegistry, __pyx_t_3) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "(tree fragment)":1
  * def __pyx_unpickle_QueryCodecsCache(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_6edgedb_8protocol_8protocol_5__pyx_unpickle_QueryCodecsCache, NULL, __pyx_n_s_edgedb_protocol_protocol); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_QueryCodecsCache, __pyx_t_1) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_6edgedb_8protocol_8protocol_5__pyx_unpickle_QueryCodecsCache, NULL, __pyx_n_s_edgedb_protocol_protocol); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_QueryCodecsCache, __pyx_t_3) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "(tree fragment)":11
  *         __pyx_unpickle_QueryCodecsCache__set_state(<QueryCodecsCache> __pyx_result, __pyx_state)
  *     return __pyx_result
  * cdef __pyx_unpickle_QueryCodecsCache__set_state(QueryCodecsCache __pyx_result, tuple __pyx_state):             # <<<<<<<<<<<<<<
  *     __pyx_result.queries = __pyx_state[0]
  *     if len(__pyx_state) > 1 and hasattr(__pyx_result, '__dict__'):
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_6edgedb_8protocol_8protocol_7__pyx_unpickle_SansIOProtocol, NULL, __pyx_n_s_edgedb_protocol_protocol); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_SansIOProtocol, __pyx_t_1) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_6edgedb_8protocol_8protocol_7__pyx_unpickle_SansIOProtocol, NULL, __pyx_n_s_edgedb_protocol_protocol); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_SansIOProtocol, __pyx_t_3) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "(tree fragment)":1
  * def __pyx_unpickle_SansIOProtocolBackwardsCompatible(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_6edgedb_8protocol_8protocol_9__pyx_unpickle_SansIOProtocolBackwardsCompatible, NULL, __pyx_n_s_edgedb_protocol_protocol); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_SansIOProtocolBac, __pyx_t_1) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_6edgedb_8protocol_8protocol_9__pyx_unpickle_SansIOProtocolBackwardsCompatible, NULL, __pyx_n_s_edgedb_protocol_protocol); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_SansIOProtocolBac, __pyx_t_3) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "edgedb/protocol/protocol.pyx":1
  * #             # <<<<<<<<<<<<<<
  * # This source file is part of the EdgeDB open source project.
  * #
  */
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_1) < 0) __PYX_ERR(6, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_3 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_3) < 0) __PYX_ERR(6, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "EnumBase":9
  * 
  * cdef object __Pyx_OrderedDict
  * if PY_VERSION_HEX >= 0x02070000:             # <<<<<<<<<<<<<<
  *     from collections import OrderedDict as __Pyx_OrderedDict
  * else:
@@ -85571,29 +69975,29 @@
     /* "EnumBase":10
  * cdef object __Pyx_OrderedDict
  * if PY_VERSION_HEX >= 0x02070000:
  *     from collections import OrderedDict as __Pyx_OrderedDict             # <<<<<<<<<<<<<<
  * else:
  *     __Pyx_OrderedDict = dict
  */
-    __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 10, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
+    __pyx_t_3 = PyList_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 10, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
     __Pyx_INCREF(__pyx_n_s_OrderedDict);
     __Pyx_GIVEREF(__pyx_n_s_OrderedDict);
-    PyList_SET_ITEM(__pyx_t_1, 0, __pyx_n_s_OrderedDict);
-    __pyx_t_2 = __Pyx_Import(__pyx_n_s_collections, __pyx_t_1, -1); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 10, __pyx_L1_error)
+    PyList_SET_ITEM(__pyx_t_3, 0, __pyx_n_s_OrderedDict);
+    __pyx_t_2 = __Pyx_Import(__pyx_n_s_collections, __pyx_t_3, -1); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 10, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_OrderedDict); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 10, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_INCREF(__pyx_t_1);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __pyx_t_3 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_OrderedDict); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 10, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_INCREF(__pyx_t_3);
     __Pyx_XGOTREF(__Pyx_OrderedDict);
-    __Pyx_DECREF_SET(__Pyx_OrderedDict, __pyx_t_1);
-    __Pyx_GIVEREF(__pyx_t_1);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __Pyx_DECREF_SET(__Pyx_OrderedDict, __pyx_t_3);
+    __Pyx_GIVEREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
     /* "EnumBase":9
  * 
  * cdef object __Pyx_OrderedDict
  * if PY_VERSION_HEX >= 0x02070000:             # <<<<<<<<<<<<<<
  *     from collections import OrderedDict as __Pyx_OrderedDict
@@ -85625,80 +70029,80 @@
  *     def __new__(cls, value, name=None):
  */
   __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 26, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(((PyObject *)(&PyInt_Type)));
   __Pyx_GIVEREF(((PyObject *)(&PyInt_Type)));
   PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)(&PyInt_Type)));
-  __pyx_t_1 = __Pyx_CalculateMetaclass(NULL, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 26, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_Py3MetaclassPrepare(__pyx_t_1, __pyx_t_2, __pyx_n_s_Pyx_EnumBase, __pyx_n_s_Pyx_EnumBase, (PyObject *) NULL, __pyx_n_s_EnumBase, (PyObject *) NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 26, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 26, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
+  __pyx_t_1 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_t_2, __pyx_n_s_Pyx_EnumBase, __pyx_n_s_Pyx_EnumBase, (PyObject *) NULL, __pyx_n_s_EnumBase, (PyObject *) NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 26, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
 
   /* "EnumBase":27
  * cdef object __Pyx_EnumBase
  * class __Pyx_EnumBase(int):
  *     __metaclass__ = __Pyx_EnumMeta             # <<<<<<<<<<<<<<
  *     def __new__(cls, value, name=None):
  *         for v in cls:
  */
-  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_metaclass, ((PyObject *)__pyx_ptype___Pyx_EnumMeta)) < 0) __PYX_ERR(2, 27, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_1, __pyx_n_s_metaclass, ((PyObject *)__pyx_ptype___Pyx_EnumMeta)) < 0) __PYX_ERR(2, 27, __pyx_L1_error)
 
   /* "EnumBase":28
  * class __Pyx_EnumBase(int):
  *     __metaclass__ = __Pyx_EnumMeta
  *     def __new__(cls, value, name=None):             # <<<<<<<<<<<<<<
  *         for v in cls:
  *             if v == value:
  */
-  __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_8EnumBase_14__Pyx_EnumBase_1__new__, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_Pyx_EnumBase___new, NULL, __pyx_n_s_EnumBase, __pyx_d, ((PyObject *)__pyx_codeobj__156)); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 28, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_8EnumBase_14__Pyx_EnumBase_1__new__, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_Pyx_EnumBase___new, NULL, __pyx_n_s_EnumBase, __pyx_d, ((PyObject *)__pyx_codeobj__137)); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 28, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__157);
-  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_new, __pyx_t_4) < 0) __PYX_ERR(2, 28, __pyx_L1_error)
+  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_4, __pyx_tuple__138);
+  if (__Pyx_SetNameInClass(__pyx_t_1, __pyx_n_s_new, __pyx_t_4) < 0) __PYX_ERR(2, 28, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
   /* "EnumBase":39
  *         cls.__members__[name] = res
  *         return res
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return "<%s.%s: %d>" % (self.__class__.__name__, self.name, self)
  *     def __str__(self):
  */
-  __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_8EnumBase_14__Pyx_EnumBase_3__repr__, 0, __pyx_n_s_Pyx_EnumBase___repr, NULL, __pyx_n_s_EnumBase, __pyx_d, ((PyObject *)__pyx_codeobj__159)); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 39, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_8EnumBase_14__Pyx_EnumBase_3__repr__, 0, __pyx_n_s_Pyx_EnumBase___repr, NULL, __pyx_n_s_EnumBase, __pyx_d, ((PyObject *)__pyx_codeobj__140)); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 39, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_repr, __pyx_t_4) < 0) __PYX_ERR(2, 39, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_1, __pyx_n_s_repr, __pyx_t_4) < 0) __PYX_ERR(2, 39, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
   /* "EnumBase":41
  *     def __repr__(self):
  *         return "<%s.%s: %d>" % (self.__class__.__name__, self.name, self)
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return "%s.%s" % (self.__class__.__name__, self.name)
  * 
  */
-  __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_8EnumBase_14__Pyx_EnumBase_5__str__, 0, __pyx_n_s_Pyx_EnumBase___str, NULL, __pyx_n_s_EnumBase, __pyx_d, ((PyObject *)__pyx_codeobj__161)); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 41, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_8EnumBase_14__Pyx_EnumBase_5__str__, 0, __pyx_n_s_Pyx_EnumBase___str, NULL, __pyx_n_s_EnumBase, __pyx_d, ((PyObject *)__pyx_codeobj__142)); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 41, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_str, __pyx_t_4) < 0) __PYX_ERR(2, 41, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_1, __pyx_n_s_str, __pyx_t_4) < 0) __PYX_ERR(2, 41, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
   /* "EnumBase":26
  * 
  * cdef object __Pyx_EnumBase
  * class __Pyx_EnumBase(int):             # <<<<<<<<<<<<<<
  *     __metaclass__ = __Pyx_EnumMeta
  *     def __new__(cls, value, name=None):
  */
-  __pyx_t_4 = __Pyx_Py3ClassCreate(__pyx_t_1, __pyx_n_s_Pyx_EnumBase, __pyx_t_2, __pyx_t_3, NULL, 0, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 26, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_Pyx_EnumBase, __pyx_t_2, __pyx_t_1, NULL, 0, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 26, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_XGOTREF(__Pyx_EnumBase);
   __Pyx_DECREF_SET(__Pyx_EnumBase, __pyx_t_4);
   __Pyx_GIVEREF(__pyx_t_4);
   __pyx_t_4 = 0;
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "EnumBase":44
  *         return "%s.%s" % (self.__class__.__name__, self.name)
  * 
  * if PY_VERSION_HEX >= 0x03040000:             # <<<<<<<<<<<<<<
  *     from enum import IntEnum as __Pyx_EnumBase
@@ -85714,25 +70118,25 @@
  * 
  */
     __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 45, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_INCREF(__pyx_n_s_IntEnum);
     __Pyx_GIVEREF(__pyx_n_s_IntEnum);
     PyList_SET_ITEM(__pyx_t_2, 0, __pyx_n_s_IntEnum);
-    __pyx_t_1 = __Pyx_Import(__pyx_n_s_enum, __pyx_t_2, -1); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 45, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
+    __pyx_t_3 = __Pyx_Import(__pyx_n_s_enum, __pyx_t_2, -1); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 45, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_1, __pyx_n_s_IntEnum); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 45, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_3, __pyx_n_s_IntEnum); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 45, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_INCREF(__pyx_t_2);
     __Pyx_XGOTREF(__Pyx_EnumBase);
     __Pyx_DECREF_SET(__Pyx_EnumBase, __pyx_t_2);
     __Pyx_GIVEREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
     /* "EnumBase":44
  *         return "%s.%s" % (self.__class__.__name__, self.name)
  * 
  * if PY_VERSION_HEX >= 0x03040000:             # <<<<<<<<<<<<<<
  *     from enum import IntEnum as __Pyx_EnumBase
  * 
@@ -85740,178 +70144,33 @@
   }
 
   /* "(tree fragment)":1
  * def __pyx_unpickle___Pyx_EnumMeta(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_8EnumBase_1__pyx_unpickle___Pyx_EnumMeta, NULL, __pyx_n_s_EnumBase); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle___Pyx_EnumMeta, __pyx_t_1) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-
-  /* "View.MemoryView":210
- *         info.obj = self
- * 
- *     __pyx_getbuffer = capsule(<void *> &__pyx_array_getbuffer, "getbuffer(obj, view, flags)")             # <<<<<<<<<<<<<<
- * 
- *     def __dealloc__(array self):
- */
-  __pyx_t_1 = __pyx_capsule_create(((void *)(&__pyx_array_getbuffer)), ((char *)"getbuffer(obj, view, flags)")); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 210, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem((PyObject *)__pyx_array_type->tp_dict, __pyx_n_s_pyx_getbuffer, __pyx_t_1) < 0) __PYX_ERR(2, 210, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  PyType_Modified(__pyx_array_type);
-
-  /* "View.MemoryView":287
- *         return self.name
- * 
- * cdef generic = Enum("<strided and direct or indirect>")             # <<<<<<<<<<<<<<
- * cdef strided = Enum("<strided and direct>") # default
- * cdef indirect = Enum("<strided and indirect>")
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_MemviewEnum_type), __pyx_tuple__164, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 287, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_XGOTREF(generic);
-  __Pyx_DECREF_SET(generic, __pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_1);
-  __pyx_t_1 = 0;
-
-  /* "View.MemoryView":288
- * 
- * cdef generic = Enum("<strided and direct or indirect>")
- * cdef strided = Enum("<strided and direct>") # default             # <<<<<<<<<<<<<<
- * cdef indirect = Enum("<strided and indirect>")
- * 
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_MemviewEnum_type), __pyx_tuple__165, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 288, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_XGOTREF(strided);
-  __Pyx_DECREF_SET(strided, __pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_1);
-  __pyx_t_1 = 0;
-
-  /* "View.MemoryView":289
- * cdef generic = Enum("<strided and direct or indirect>")
- * cdef strided = Enum("<strided and direct>") # default
- * cdef indirect = Enum("<strided and indirect>")             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_MemviewEnum_type), __pyx_tuple__166, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 289, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_XGOTREF(indirect);
-  __Pyx_DECREF_SET(indirect, __pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_1);
-  __pyx_t_1 = 0;
-
-  /* "View.MemoryView":292
- * 
- * 
- * cdef contiguous = Enum("<contiguous and direct>")             # <<<<<<<<<<<<<<
- * cdef indirect_contiguous = Enum("<contiguous and indirect>")
- * 
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_MemviewEnum_type), __pyx_tuple__167, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 292, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_XGOTREF(contiguous);
-  __Pyx_DECREF_SET(contiguous, __pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_1);
-  __pyx_t_1 = 0;
-
-  /* "View.MemoryView":293
- * 
- * cdef contiguous = Enum("<contiguous and direct>")
- * cdef indirect_contiguous = Enum("<contiguous and indirect>")             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_MemviewEnum_type), __pyx_tuple__168, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 293, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_XGOTREF(indirect_contiguous);
-  __Pyx_DECREF_SET(indirect_contiguous, __pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_1);
-  __pyx_t_1 = 0;
-
-  /* "View.MemoryView":317
- * 
- * DEF THREAD_LOCKS_PREALLOCATED = 8
- * cdef int __pyx_memoryview_thread_locks_used = 0             # <<<<<<<<<<<<<<
- * cdef PyThread_type_lock[THREAD_LOCKS_PREALLOCATED] __pyx_memoryview_thread_locks = [
- *     PyThread_allocate_lock(),
- */
-  __pyx_memoryview_thread_locks_used = 0;
-
-  /* "View.MemoryView":318
- * DEF THREAD_LOCKS_PREALLOCATED = 8
- * cdef int __pyx_memoryview_thread_locks_used = 0
- * cdef PyThread_type_lock[THREAD_LOCKS_PREALLOCATED] __pyx_memoryview_thread_locks = [             # <<<<<<<<<<<<<<
- *     PyThread_allocate_lock(),
- *     PyThread_allocate_lock(),
- */
-  __pyx_t_6[0] = PyThread_allocate_lock();
-  __pyx_t_6[1] = PyThread_allocate_lock();
-  __pyx_t_6[2] = PyThread_allocate_lock();
-  __pyx_t_6[3] = PyThread_allocate_lock();
-  __pyx_t_6[4] = PyThread_allocate_lock();
-  __pyx_t_6[5] = PyThread_allocate_lock();
-  __pyx_t_6[6] = PyThread_allocate_lock();
-  __pyx_t_6[7] = PyThread_allocate_lock();
-  memcpy(&(__pyx_memoryview_thread_locks[0]), __pyx_t_6, sizeof(__pyx_memoryview_thread_locks[0]) * (8));
-
-  /* "View.MemoryView":551
- *         info.obj = self
- * 
- *     __pyx_getbuffer = capsule(<void *> &__pyx_memoryview_getbuffer, "getbuffer(obj, view, flags)")             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_1 = __pyx_capsule_create(((void *)(&__pyx_memoryview_getbuffer)), ((char *)"getbuffer(obj, view, flags)")); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 551, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem((PyObject *)__pyx_memoryview_type->tp_dict, __pyx_n_s_pyx_getbuffer, __pyx_t_1) < 0) __PYX_ERR(2, 551, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  PyType_Modified(__pyx_memoryview_type);
-
-  /* "View.MemoryView":997
- *         return self.from_object
- * 
- *     __pyx_getbuffer = capsule(<void *> &__pyx_memoryview_getbuffer, "getbuffer(obj, view, flags)")             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_1 = __pyx_capsule_create(((void *)(&__pyx_memoryview_getbuffer)), ((char *)"getbuffer(obj, view, flags)")); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 997, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem((PyObject *)__pyx_memoryviewslice_type->tp_dict, __pyx_n_s_pyx_getbuffer, __pyx_t_1) < 0) __PYX_ERR(2, 997, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  PyType_Modified(__pyx_memoryviewslice_type);
-
-  /* "(tree fragment)":1
- * def __pyx_unpickle_Enum(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
- *     cdef object __pyx_PickleError
- *     cdef object __pyx_result
- */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_15View_dot_MemoryView_1__pyx_unpickle_Enum, NULL, __pyx_n_s_View_MemoryView); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_Enum, __pyx_t_1) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_8EnumBase_1__pyx_unpickle___Pyx_EnumMeta, NULL, __pyx_n_s_EnumBase); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle___Pyx_EnumMeta, __pyx_t_3) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "EnumType":50
  * 
  * 
  * cdef dict __Pyx_globals = globals()             # <<<<<<<<<<<<<<
  * if PY_VERSION_HEX >= 0x03040000:
  * 
  */
-  __pyx_t_1 = __Pyx_Globals(); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 50, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  if (!(likely(PyDict_CheckExact(__pyx_t_1))||((__pyx_t_1) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "dict", Py_TYPE(__pyx_t_1)->tp_name), 0))) __PYX_ERR(2, 50, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_Globals(); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 50, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  if (!(likely(PyDict_CheckExact(__pyx_t_3))||((__pyx_t_3) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "dict", Py_TYPE(__pyx_t_3)->tp_name), 0))) __PYX_ERR(2, 50, __pyx_L1_error)
   __Pyx_XGOTREF(__Pyx_globals);
-  __Pyx_DECREF_SET(__Pyx_globals, ((PyObject*)__pyx_t_1));
-  __Pyx_GIVEREF(__pyx_t_1);
-  __pyx_t_1 = 0;
+  __Pyx_DECREF_SET(__Pyx_globals, ((PyObject*)__pyx_t_3));
+  __Pyx_GIVEREF(__pyx_t_3);
+  __pyx_t_3 = 0;
 
   /* "EnumType":51
  * 
  * cdef dict __Pyx_globals = globals()
  * if PY_VERSION_HEX >= 0x03040000:             # <<<<<<<<<<<<<<
  * 
  *     OutputFormat = __Pyx_EnumBase('OutputFormat', __Pyx_OrderedDict([
@@ -85922,192 +70181,192 @@
     /* "EnumType":54
  * 
  *     OutputFormat = __Pyx_EnumBase('OutputFormat', __Pyx_OrderedDict([
  *         ('BINARY', BINARY),             # <<<<<<<<<<<<<<
  *         ('JSON', JSON),
  *         ('JSON_ELEMENTS', JSON_ELEMENTS),
  */
-    __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_BINARY); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 54, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
+    __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_BINARY); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 54, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 54, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_INCREF(__pyx_n_s_BINARY);
     __Pyx_GIVEREF(__pyx_n_s_BINARY);
     PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_s_BINARY);
-    __Pyx_GIVEREF(__pyx_t_1);
-    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_1);
-    __pyx_t_1 = 0;
+    __Pyx_GIVEREF(__pyx_t_3);
+    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_3);
+    __pyx_t_3 = 0;
 
     /* "EnumType":55
  *     OutputFormat = __Pyx_EnumBase('OutputFormat', __Pyx_OrderedDict([
  *         ('BINARY', BINARY),
  *         ('JSON', JSON),             # <<<<<<<<<<<<<<
  *         ('JSON_ELEMENTS', JSON_ELEMENTS),
  *         ('NONE', NONE),
  */
-    __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 55, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 55, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 55, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 55, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
     __Pyx_INCREF(__pyx_n_s_JSON);
     __Pyx_GIVEREF(__pyx_n_s_JSON);
-    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_n_s_JSON);
-    __Pyx_GIVEREF(__pyx_t_1);
-    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_1);
-    __pyx_t_1 = 0;
+    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_n_s_JSON);
+    __Pyx_GIVEREF(__pyx_t_3);
+    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_t_3);
+    __pyx_t_3 = 0;
 
     /* "EnumType":56
  *         ('BINARY', BINARY),
  *         ('JSON', JSON),
  *         ('JSON_ELEMENTS', JSON_ELEMENTS),             # <<<<<<<<<<<<<<
  *         ('NONE', NONE),
  *     ]))
  */
-    __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON_ELEMENTS); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 56, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
+    __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON_ELEMENTS); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 56, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 56, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_INCREF(__pyx_n_s_JSON_ELEMENTS);
     __Pyx_GIVEREF(__pyx_n_s_JSON_ELEMENTS);
     PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_n_s_JSON_ELEMENTS);
-    __Pyx_GIVEREF(__pyx_t_1);
-    PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_1);
-    __pyx_t_1 = 0;
+    __Pyx_GIVEREF(__pyx_t_3);
+    PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_3);
+    __pyx_t_3 = 0;
 
     /* "EnumType":57
  *         ('JSON', JSON),
  *         ('JSON_ELEMENTS', JSON_ELEMENTS),
  *         ('NONE', NONE),             # <<<<<<<<<<<<<<
  *     ]))
  *     __Pyx_globals['BINARY'] = OutputFormat.BINARY
  */
-    __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_NONE); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 57, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_7 = PyTuple_New(2); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 57, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
+    __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_NONE); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 57, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_6 = PyTuple_New(2); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 57, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
     __Pyx_INCREF(__pyx_n_s_NONE);
     __Pyx_GIVEREF(__pyx_n_s_NONE);
-    PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_n_s_NONE);
-    __Pyx_GIVEREF(__pyx_t_1);
-    PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_t_1);
-    __pyx_t_1 = 0;
+    PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_n_s_NONE);
+    __Pyx_GIVEREF(__pyx_t_3);
+    PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_t_3);
+    __pyx_t_3 = 0;
 
     /* "EnumType":53
  * if PY_VERSION_HEX >= 0x03040000:
  * 
  *     OutputFormat = __Pyx_EnumBase('OutputFormat', __Pyx_OrderedDict([             # <<<<<<<<<<<<<<
  *         ('BINARY', BINARY),
  *         ('JSON', JSON),
  */
-    __pyx_t_1 = PyList_New(4); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 53, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
+    __pyx_t_3 = PyList_New(4); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 53, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
     __Pyx_GIVEREF(__pyx_t_2);
-    PyList_SET_ITEM(__pyx_t_1, 0, __pyx_t_2);
-    __Pyx_GIVEREF(__pyx_t_3);
-    PyList_SET_ITEM(__pyx_t_1, 1, __pyx_t_3);
+    PyList_SET_ITEM(__pyx_t_3, 0, __pyx_t_2);
+    __Pyx_GIVEREF(__pyx_t_1);
+    PyList_SET_ITEM(__pyx_t_3, 1, __pyx_t_1);
     __Pyx_GIVEREF(__pyx_t_4);
-    PyList_SET_ITEM(__pyx_t_1, 2, __pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_7);
-    PyList_SET_ITEM(__pyx_t_1, 3, __pyx_t_7);
+    PyList_SET_ITEM(__pyx_t_3, 2, __pyx_t_4);
+    __Pyx_GIVEREF(__pyx_t_6);
+    PyList_SET_ITEM(__pyx_t_3, 3, __pyx_t_6);
     __pyx_t_2 = 0;
-    __pyx_t_3 = 0;
+    __pyx_t_1 = 0;
     __pyx_t_4 = 0;
-    __pyx_t_7 = 0;
-    __pyx_t_7 = __Pyx_PyObject_CallOneArg(__Pyx_OrderedDict, __pyx_t_1); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 53, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 53, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
+    __pyx_t_6 = 0;
+    __pyx_t_6 = __Pyx_PyObject_CallOneArg(__Pyx_OrderedDict, __pyx_t_3); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 53, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 53, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
     __Pyx_INCREF(__pyx_n_s_OutputFormat);
     __Pyx_GIVEREF(__pyx_n_s_OutputFormat);
-    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_n_s_OutputFormat);
-    __Pyx_GIVEREF(__pyx_t_7);
-    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_t_7);
-    __pyx_t_7 = 0;
-    __pyx_t_7 = __Pyx_PyObject_Call(__Pyx_EnumBase, __pyx_t_1, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 53, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    if (PyDict_SetItem(__pyx_d, __pyx_n_s_OutputFormat, __pyx_t_7) < 0) __PYX_ERR(2, 53, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_n_s_OutputFormat);
+    __Pyx_GIVEREF(__pyx_t_6);
+    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_6);
+    __pyx_t_6 = 0;
+    __pyx_t_6 = __Pyx_PyObject_Call(__Pyx_EnumBase, __pyx_t_3, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 53, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    if (PyDict_SetItem(__pyx_d, __pyx_n_s_OutputFormat, __pyx_t_6) < 0) __PYX_ERR(2, 53, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
     /* "EnumType":59
  *         ('NONE', NONE),
  *     ]))
  *     __Pyx_globals['BINARY'] = OutputFormat.BINARY             # <<<<<<<<<<<<<<
  *     __Pyx_globals['JSON'] = OutputFormat.JSON
  *     __Pyx_globals['JSON_ELEMENTS'] = OutputFormat.JSON_ELEMENTS
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 59, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_BINARY); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 59, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    __Pyx_GetModuleGlobalName(__pyx_t_6, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 59, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_BINARY); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 59, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     if (unlikely(__Pyx_globals == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
       __PYX_ERR(2, 59, __pyx_L1_error)
     }
-    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_BINARY, __pyx_t_1) < 0)) __PYX_ERR(2, 59, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_BINARY, __pyx_t_3) < 0)) __PYX_ERR(2, 59, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
     /* "EnumType":60
  *     ]))
  *     __Pyx_globals['BINARY'] = OutputFormat.BINARY
  *     __Pyx_globals['JSON'] = OutputFormat.JSON             # <<<<<<<<<<<<<<
  *     __Pyx_globals['JSON_ELEMENTS'] = OutputFormat.JSON_ELEMENTS
  *     __Pyx_globals['NONE'] = OutputFormat.NONE
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 60, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_JSON); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 60, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 60, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_JSON); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 60, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     if (unlikely(__Pyx_globals == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
       __PYX_ERR(2, 60, __pyx_L1_error)
     }
-    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_JSON, __pyx_t_7) < 0)) __PYX_ERR(2, 60, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_JSON, __pyx_t_6) < 0)) __PYX_ERR(2, 60, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
     /* "EnumType":61
  *     __Pyx_globals['BINARY'] = OutputFormat.BINARY
  *     __Pyx_globals['JSON'] = OutputFormat.JSON
  *     __Pyx_globals['JSON_ELEMENTS'] = OutputFormat.JSON_ELEMENTS             # <<<<<<<<<<<<<<
  *     __Pyx_globals['NONE'] = OutputFormat.NONE
  * else:
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 61, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_JSON_ELEMENTS); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 61, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    __Pyx_GetModuleGlobalName(__pyx_t_6, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 61, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_JSON_ELEMENTS); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 61, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     if (unlikely(__Pyx_globals == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
       __PYX_ERR(2, 61, __pyx_L1_error)
     }
-    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_JSON_ELEMENTS, __pyx_t_1) < 0)) __PYX_ERR(2, 61, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_JSON_ELEMENTS, __pyx_t_3) < 0)) __PYX_ERR(2, 61, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
     /* "EnumType":62
  *     __Pyx_globals['JSON'] = OutputFormat.JSON
  *     __Pyx_globals['JSON_ELEMENTS'] = OutputFormat.JSON_ELEMENTS
  *     __Pyx_globals['NONE'] = OutputFormat.NONE             # <<<<<<<<<<<<<<
  * else:
  *     class OutputFormat(__Pyx_EnumBase):
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 62, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_NONE); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 62, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 62, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_NONE); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 62, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     if (unlikely(__Pyx_globals == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
       __PYX_ERR(2, 62, __pyx_L1_error)
     }
-    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_NONE, __pyx_t_7) < 0)) __PYX_ERR(2, 62, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_NONE, __pyx_t_6) < 0)) __PYX_ERR(2, 62, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
     /* "EnumType":51
  * 
  * cdef dict __Pyx_globals = globals()
  * if PY_VERSION_HEX >= 0x03040000:             # <<<<<<<<<<<<<<
  * 
  *     OutputFormat = __Pyx_EnumBase('OutputFormat', __Pyx_OrderedDict([
@@ -86119,84 +70378,84 @@
  *     __Pyx_globals['NONE'] = OutputFormat.NONE
  * else:
  *     class OutputFormat(__Pyx_EnumBase):             # <<<<<<<<<<<<<<
  *         pass
  *     __Pyx_globals['BINARY'] = OutputFormat(BINARY, 'BINARY')
  */
   /*else*/ {
-    __pyx_t_7 = PyTuple_New(1); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 64, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
+    __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 64, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
     __Pyx_INCREF(__Pyx_EnumBase);
     __Pyx_GIVEREF(__Pyx_EnumBase);
-    PyTuple_SET_ITEM(__pyx_t_7, 0, __Pyx_EnumBase);
-    __pyx_t_1 = __Pyx_CalculateMetaclass(NULL, __pyx_t_7); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 64, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_4 = __Pyx_Py3MetaclassPrepare(__pyx_t_1, __pyx_t_7, __pyx_n_s_OutputFormat, __pyx_n_s_OutputFormat, (PyObject *) NULL, __pyx_n_s_EnumType, (PyObject *) NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 64, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_3 = __Pyx_Py3ClassCreate(__pyx_t_1, __pyx_n_s_OutputFormat, __pyx_t_7, __pyx_t_4, NULL, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 64, __pyx_L1_error)
+    PyTuple_SET_ITEM(__pyx_t_6, 0, __Pyx_EnumBase);
+    __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_t_6); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 64, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    if (PyDict_SetItem(__pyx_d, __pyx_n_s_OutputFormat, __pyx_t_3) < 0) __PYX_ERR(2, 64, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+    __pyx_t_4 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_t_6, __pyx_n_s_OutputFormat, __pyx_n_s_OutputFormat, (PyObject *) NULL, __pyx_n_s_EnumType, (PyObject *) NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 64, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_4);
+    __pyx_t_1 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_OutputFormat, __pyx_t_6, __pyx_t_4, NULL, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 64, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    if (PyDict_SetItem(__pyx_d, __pyx_n_s_OutputFormat, __pyx_t_1) < 0) __PYX_ERR(2, 64, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
     /* "EnumType":66
  *     class OutputFormat(__Pyx_EnumBase):
  *         pass
  *     __Pyx_globals['BINARY'] = OutputFormat(BINARY, 'BINARY')             # <<<<<<<<<<<<<<
  *     __Pyx_globals['JSON'] = OutputFormat(JSON, 'JSON')
  *     __Pyx_globals['JSON_ELEMENTS'] = OutputFormat(JSON_ELEMENTS, 'JSON_ELEMENTS')
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 66, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_BINARY); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 66, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
+    __Pyx_GetModuleGlobalName(__pyx_t_6, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 66, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_BINARY); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 66, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 66, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_1);
-    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_1);
+    __Pyx_GIVEREF(__pyx_t_3);
+    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3);
     __Pyx_INCREF(__pyx_n_s_BINARY);
     __Pyx_GIVEREF(__pyx_n_s_BINARY);
     PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_n_s_BINARY);
-    __pyx_t_1 = 0;
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 66, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    __pyx_t_3 = 0;
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 66, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     if (unlikely(__Pyx_globals == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
       __PYX_ERR(2, 66, __pyx_L1_error)
     }
-    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_BINARY, __pyx_t_1) < 0)) __PYX_ERR(2, 66, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_BINARY, __pyx_t_3) < 0)) __PYX_ERR(2, 66, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
     /* "EnumType":67
  *         pass
  *     __Pyx_globals['BINARY'] = OutputFormat(BINARY, 'BINARY')
  *     __Pyx_globals['JSON'] = OutputFormat(JSON, 'JSON')             # <<<<<<<<<<<<<<
  *     __Pyx_globals['JSON_ELEMENTS'] = OutputFormat(JSON_ELEMENTS, 'JSON_ELEMENTS')
  *     __Pyx_globals['NONE'] = OutputFormat(NONE, 'NONE')
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 67, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 67, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 67, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_7 = PyTuple_New(2); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 67, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
+    __pyx_t_6 = PyTuple_New(2); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 67, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
     __Pyx_GIVEREF(__pyx_t_4);
-    PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_4);
+    PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4);
     __Pyx_INCREF(__pyx_n_s_JSON);
     __Pyx_GIVEREF(__pyx_n_s_JSON);
-    PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_n_s_JSON);
+    PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_n_s_JSON);
     __pyx_t_4 = 0;
-    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_7, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 67, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 67, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     if (unlikely(__Pyx_globals == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
       __PYX_ERR(2, 67, __pyx_L1_error)
     }
     if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_JSON, __pyx_t_4) < 0)) __PYX_ERR(2, 67, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
@@ -86205,75 +70464,75 @@
  *     __Pyx_globals['JSON'] = OutputFormat(JSON, 'JSON')
  *     __Pyx_globals['JSON_ELEMENTS'] = OutputFormat(JSON_ELEMENTS, 'JSON_ELEMENTS')             # <<<<<<<<<<<<<<
  *     __Pyx_globals['NONE'] = OutputFormat(NONE, 'NONE')
  * 
  */
     __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 68, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_7 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON_ELEMENTS); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 68, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 68, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_GIVEREF(__pyx_t_7);
-    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_7);
+    __pyx_t_6 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_JSON_ELEMENTS); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 68, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 68, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_GIVEREF(__pyx_t_6);
+    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_6);
     __Pyx_INCREF(__pyx_n_s_JSON_ELEMENTS);
     __Pyx_GIVEREF(__pyx_n_s_JSON_ELEMENTS);
-    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_n_s_JSON_ELEMENTS);
-    __pyx_t_7 = 0;
-    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_1, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 68, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
+    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_n_s_JSON_ELEMENTS);
+    __pyx_t_6 = 0;
+    __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_3, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 68, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     if (unlikely(__Pyx_globals == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
       __PYX_ERR(2, 68, __pyx_L1_error)
     }
-    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_JSON_ELEMENTS, __pyx_t_7) < 0)) __PYX_ERR(2, 68, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_JSON_ELEMENTS, __pyx_t_6) < 0)) __PYX_ERR(2, 68, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
     /* "EnumType":69
  *     __Pyx_globals['JSON'] = OutputFormat(JSON, 'JSON')
  *     __Pyx_globals['JSON_ELEMENTS'] = OutputFormat(JSON_ELEMENTS, 'JSON_ELEMENTS')
  *     __Pyx_globals['NONE'] = OutputFormat(NONE, 'NONE')             # <<<<<<<<<<<<<<
  * 
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 69, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_7);
-    __pyx_t_1 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_NONE); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 69, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
+    __Pyx_GetModuleGlobalName(__pyx_t_6, __pyx_n_s_OutputFormat); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 69, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __pyx_t_3 = __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(__pyx_e_6edgedb_8protocol_8protocol_NONE); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 69, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 69, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_1);
-    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_1);
+    __Pyx_GIVEREF(__pyx_t_3);
+    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3);
     __Pyx_INCREF(__pyx_n_s_NONE);
     __Pyx_GIVEREF(__pyx_n_s_NONE);
     PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_n_s_NONE);
-    __pyx_t_1 = 0;
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 69, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    __pyx_t_3 = 0;
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 69, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     if (unlikely(__Pyx_globals == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
       __PYX_ERR(2, 69, __pyx_L1_error)
     }
-    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_NONE, __pyx_t_1) < 0)) __PYX_ERR(2, 69, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    if (unlikely(PyDict_SetItem(__Pyx_globals, __pyx_n_s_NONE, __pyx_t_3) < 0)) __PYX_ERR(2, 69, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   }
   __pyx_L4:;
 
   /*--- Wrapped vars code ---*/
 
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
+  __Pyx_XDECREF(__pyx_t_6);
   if (__pyx_m) {
     if (__pyx_d) {
       __Pyx_AddTraceback("init edgedb.protocol.protocol", __pyx_clineno, __pyx_lineno, __pyx_filename);
     }
     Py_CLEAR(__pyx_m);
   } else if (!PyErr_Occurred()) {
     PyErr_SetString(PyExc_ImportError, "init edgedb.protocol.protocol");
@@ -86867,28 +71126,28 @@
                             "BaseException");
             goto bad;
         }
         PyException_SetCause(value, fixed_cause);
     }
     PyErr_SetObject(type, value);
     if (tb) {
-#if CYTHON_FAST_THREAD_STATE
+#if CYTHON_COMPILING_IN_PYPY
+        PyObject *tmp_type, *tmp_value, *tmp_tb;
+        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
+        Py_INCREF(tb);
+        PyErr_Restore(tmp_type, tmp_value, tb);
+        Py_XDECREF(tmp_tb);
+#else
         PyThreadState *tstate = __Pyx_PyThreadState_Current;
         PyObject* tmp_tb = tstate->curexc_traceback;
         if (tb != tmp_tb) {
             Py_INCREF(tb);
             tstate->curexc_traceback = tb;
             Py_XDECREF(tmp_tb);
         }
-#else
-        PyObject *tmp_type, *tmp_value, *tmp_tb;
-        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
-        Py_INCREF(tb);
-        PyErr_Restore(tmp_type, tmp_value, tb);
-        Py_XDECREF(tmp_tb);
 #endif
     }
 bad:
     Py_XDECREF(owned_instance);
     return;
 }
 #endif
@@ -88699,152 +72958,14 @@
 }
 static CYTHON_INLINE PyObject* __Pyx_PyObject_FormatAndDecref(PyObject* s, PyObject* f) {
     PyObject *result = PyObject_Format(s, f);
     Py_DECREF(s);
     return result;
 }
 
-/* BufferIndexError */
-static void __Pyx_RaiseBufferIndexError(int axis) {
-  PyErr_Format(PyExc_IndexError,
-     "Out of bounds on buffer access (axis %d)", axis);
-}
-
-/* MemviewSliceInit */
-static int
-__Pyx_init_memviewslice(struct __pyx_memoryview_obj *memview,
-                        int ndim,
-                        __Pyx_memviewslice *memviewslice,
-                        int memview_is_new_reference)
-{
-    __Pyx_RefNannyDeclarations
-    int i, retval=-1;
-    Py_buffer *buf = &memview->view;
-    __Pyx_RefNannySetupContext("init_memviewslice", 0);
-    if (unlikely(memviewslice->memview || memviewslice->data)) {
-        PyErr_SetString(PyExc_ValueError,
-            "memviewslice is already initialized!");
-        goto fail;
-    }
-    if (buf->strides) {
-        for (i = 0; i < ndim; i++) {
-            memviewslice->strides[i] = buf->strides[i];
-        }
-    } else {
-        Py_ssize_t stride = buf->itemsize;
-        for (i = ndim - 1; i >= 0; i--) {
-            memviewslice->strides[i] = stride;
-            stride *= buf->shape[i];
-        }
-    }
-    for (i = 0; i < ndim; i++) {
-        memviewslice->shape[i]   = buf->shape[i];
-        if (buf->suboffsets) {
-            memviewslice->suboffsets[i] = buf->suboffsets[i];
-        } else {
-            memviewslice->suboffsets[i] = -1;
-        }
-    }
-    memviewslice->memview = memview;
-    memviewslice->data = (char *)buf->buf;
-    if (__pyx_add_acquisition_count(memview) == 0 && !memview_is_new_reference) {
-        Py_INCREF(memview);
-    }
-    retval = 0;
-    goto no_fail;
-fail:
-    memviewslice->memview = 0;
-    memviewslice->data = 0;
-    retval = -1;
-no_fail:
-    __Pyx_RefNannyFinishContext();
-    return retval;
-}
-#ifndef Py_NO_RETURN
-#define Py_NO_RETURN
-#endif
-static void __pyx_fatalerror(const char *fmt, ...) Py_NO_RETURN {
-    va_list vargs;
-    char msg[200];
-#if PY_VERSION_HEX >= 0x030A0000 || defined(HAVE_STDARG_PROTOTYPES)
-    va_start(vargs, fmt);
-#else
-    va_start(vargs);
-#endif
-    vsnprintf(msg, 200, fmt, vargs);
-    va_end(vargs);
-    Py_FatalError(msg);
-}
-static CYTHON_INLINE int
-__pyx_add_acquisition_count_locked(__pyx_atomic_int *acquisition_count,
-                                   PyThread_type_lock lock)
-{
-    int result;
-    PyThread_acquire_lock(lock, 1);
-    result = (*acquisition_count)++;
-    PyThread_release_lock(lock);
-    return result;
-}
-static CYTHON_INLINE int
-__pyx_sub_acquisition_count_locked(__pyx_atomic_int *acquisition_count,
-                                   PyThread_type_lock lock)
-{
-    int result;
-    PyThread_acquire_lock(lock, 1);
-    result = (*acquisition_count)--;
-    PyThread_release_lock(lock);
-    return result;
-}
-static CYTHON_INLINE void
-__Pyx_INC_MEMVIEW(__Pyx_memviewslice *memslice, int have_gil, int lineno)
-{
-    int first_time;
-    struct __pyx_memoryview_obj *memview = memslice->memview;
-    if (unlikely(!memview || (PyObject *) memview == Py_None))
-        return;
-    if (unlikely(__pyx_get_slice_count(memview) < 0))
-        __pyx_fatalerror("Acquisition count is %d (line %d)",
-                         __pyx_get_slice_count(memview), lineno);
-    first_time = __pyx_add_acquisition_count(memview) == 0;
-    if (unlikely(first_time)) {
-        if (have_gil) {
-            Py_INCREF((PyObject *) memview);
-        } else {
-            PyGILState_STATE _gilstate = PyGILState_Ensure();
-            Py_INCREF((PyObject *) memview);
-            PyGILState_Release(_gilstate);
-        }
-    }
-}
-static CYTHON_INLINE void __Pyx_XDEC_MEMVIEW(__Pyx_memviewslice *memslice,
-                                             int have_gil, int lineno) {
-    int last_time;
-    struct __pyx_memoryview_obj *memview = memslice->memview;
-    if (unlikely(!memview || (PyObject *) memview == Py_None)) {
-        memslice->memview = NULL;
-        return;
-    }
-    if (unlikely(__pyx_get_slice_count(memview) <= 0))
-        __pyx_fatalerror("Acquisition count is %d (line %d)",
-                         __pyx_get_slice_count(memview), lineno);
-    last_time = __pyx_sub_acquisition_count(memview) == 1;
-    memslice->data = NULL;
-    if (unlikely(last_time)) {
-        if (have_gil) {
-            Py_CLEAR(memslice->memview);
-        } else {
-            PyGILState_STATE _gilstate = PyGILState_Ensure();
-            Py_CLEAR(memslice->memview);
-            PyGILState_Release(_gilstate);
-        }
-    } else {
-        memslice->memview = NULL;
-    }
-}
-
 /* PyIntCompare */
 static CYTHON_INLINE PyObject* __Pyx_PyInt_EqObjC(PyObject *op1, PyObject *op2, CYTHON_UNUSED long intval, CYTHON_UNUSED long inplace) {
     if (op1 == op2) {
         Py_RETURN_TRUE;
     }
     #if PY_MAJOR_VERSION < 3
     if (likely(PyInt_CheckExact(op1))) {
@@ -90286,18 +74407,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
     0,
 #endif
 #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
     0,
 #endif
-#if PY_VERSION_HEX >= 0x030C0000
-    0,
-#endif
-#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
     0,
 #endif
 };
 #if PY_VERSION_HEX < 0x030500B1 || defined(__Pyx_IterableCoroutine_USED) || CYTHON_USE_ASYNC_SLOTS
 static CYTHON_INLINE PyObject *__Pyx__Coroutine_await(PyObject *coroutine) {
     __pyx_CoroutineAwaitObject *await = PyObject_GC_New(__pyx_CoroutineAwaitObject, __pyx_CoroutineAwaitType);
     if (unlikely(!await)) return NULL;
@@ -90441,18 +74559,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
     0,
 #endif
 #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
     0,
 #endif
-#if PY_VERSION_HEX >= 0x030C0000
-    0,
-#endif
-#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
     0,
 #endif
 };
 static int __pyx_Coroutine_init(void) {
     __pyx_CoroutineType_type.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
     __pyx_CoroutineType = __Pyx_FetchCommonType(&__pyx_CoroutineType_type);
     if (unlikely(!__pyx_CoroutineType))
@@ -90519,19 +74634,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030500B2 || defined(PyCoro_CheckExact)
     if (PyCoro_CheckExact(obj)) {
         return __Pyx_NewRef(obj);
     } else
 #endif
 #if CYTHON_COMPILING_IN_CPYTHON && defined(CO_ITERABLE_COROUTINE)
-#if PY_VERSION_HEX >= 0x030C00A6
-    if (PyGen_CheckExact(obj) && (PyGen_GetCode((PyGenObject*)obj)->co_flags & CO_ITERABLE_COROUTINE)) {
-#else
     if (PyGen_CheckExact(obj) && ((PyGenObject*)obj)->gi_code && ((PyCodeObject *)((PyGenObject*)obj)->gi_code)->co_flags & CO_ITERABLE_COROUTINE) {
-#endif
         return __Pyx_NewRef(obj);
     } else
 #endif
     {
         PyObject *method = NULL;
         int is_method = __Pyx_PyObject_GetMethod(obj, __pyx_n_s_await, &method);
         if (likely(is_method)) {
@@ -90573,15 +74684,15 @@
                  "object %.100s can't be used in 'await' expression",
                  Py_TYPE(obj)->tp_name);
 bad:
     return NULL;
 }
 
 /* CoroutineYieldFrom */
-  static PyObject* __Pyx__Coroutine_Yield_From_Generic(__pyx_CoroutineObject *gen, PyObject *source) {
+static PyObject* __Pyx__Coroutine_Yield_From_Generic(__pyx_CoroutineObject *gen, PyObject *source) {
     PyObject *retval;
     PyObject *source_gen = __Pyx__Coroutine_GetAwaitableIter(source);
     if (unlikely(!source_gen)) {
         return NULL;
     }
     if (__Pyx_Coroutine_Check(source_gen)) {
         retval = __Pyx_Generator_Next(source_gen);
@@ -90620,20 +74731,20 @@
         Py_INCREF(source);
         gen->yieldfrom = source;
     }
     return retval;
 }
 
 /* None */
-  static CYTHON_INLINE void __Pyx_RaiseUnboundLocalError(const char *varname) {
+static CYTHON_INLINE void __Pyx_RaiseUnboundLocalError(const char *varname) {
     PyErr_Format(PyExc_UnboundLocalError, "local variable '%s' referenced before assignment", varname);
 }
 
 /* ReturnWithStopIteration */
-  static void __Pyx__ReturnWithStopIteration(PyObject* value) {
+static void __Pyx__ReturnWithStopIteration(PyObject* value) {
     PyObject *exc, *args;
 #if CYTHON_COMPILING_IN_CPYTHON || CYTHON_COMPILING_IN_PYSTON
     __Pyx_PyThreadState_declare
     if ((PY_VERSION_HEX >= 0x03030000 && PY_VERSION_HEX < 0x030500B1)
             || unlikely(PyTuple_Check(value) || PyExceptionInstance_Check(value))) {
         args = PyTuple_New(1);
         if (unlikely(!args)) return;
@@ -90667,15 +74778,15 @@
     if (unlikely(!exc)) return;
 #endif
     PyErr_SetObject(PyExc_StopIteration, exc);
     Py_DECREF(exc);
 }
 
 /* FastTypeChecks */
-  #if CYTHON_COMPILING_IN_CPYTHON
+#if CYTHON_COMPILING_IN_CPYTHON
 static int __Pyx_InBases(PyTypeObject *a, PyTypeObject *b) {
     while (a) {
         a = a->tp_base;
         if (a == b)
             return 1;
     }
     return b == &PyBaseObject_Type;
@@ -90767,15 +74878,15 @@
         return __Pyx_inner_PyErr_GivenExceptionMatches2(err, exc_type1, exc_type2);
     }
     return (PyErr_GivenExceptionMatches(err, exc_type1) || PyErr_GivenExceptionMatches(err, exc_type2));
 }
 #endif
 
 /* AsyncIter */
-  static PyObject *__Pyx_Coroutine_GetAsyncIter_Generic(PyObject *obj) {
+static PyObject *__Pyx_Coroutine_GetAsyncIter_Generic(PyObject *obj) {
 #if PY_VERSION_HEX < 0x030500B1
     {
         PyObject *iter = __Pyx_PyObject_CallMethod0(obj, __pyx_n_s_aiter);
         if (likely(iter))
             return iter;
         if (!PyErr_ExceptionMatches(PyExc_AttributeError))
             return NULL;
@@ -90830,15 +74941,15 @@
         }
     }
 #endif
     return __Pyx__Coroutine_AsyncIterNext(obj);
 }
 
 /* StopAsyncIteration */
-  #if PY_VERSION_HEX < 0x030500B1
+#if PY_VERSION_HEX < 0x030500B1
 static PyTypeObject __Pyx__PyExc_StopAsyncIteration_type = {
     PyVarObject_HEAD_INIT(0, 0)
     "StopAsyncIteration",
     sizeof(PyBaseExceptionObject),
     0,
     0,
     0,
@@ -90914,15 +75025,15 @@
     if (builtins && unlikely(PyMapping_SetItemString(builtins, (char*) "StopAsyncIteration", __Pyx_PyExc_StopAsyncIteration) < 0))
         return -1;
 #endif
     return 0;
 }
 
 /* decode_c_bytes */
-  static CYTHON_INLINE PyObject* __Pyx_decode_c_bytes(
+static CYTHON_INLINE PyObject* __Pyx_decode_c_bytes(
          const char* cstring, Py_ssize_t length, Py_ssize_t start, Py_ssize_t stop,
          const char* encoding, const char* errors,
          PyObject* (*decode_func)(const char *s, Py_ssize_t size, const char *errors)) {
     if (unlikely((start < 0) | (stop < 0))) {
         if (start < 0) {
             start += length;
             if (start < 0)
@@ -90941,28 +75052,28 @@
         return decode_func(cstring, length, errors);
     } else {
         return PyUnicode_Decode(cstring, length, encoding, errors);
     }
 }
 
 /* append */
-  static CYTHON_INLINE int __Pyx_PyObject_Append(PyObject* L, PyObject* x) {
+static CYTHON_INLINE int __Pyx_PyObject_Append(PyObject* L, PyObject* x) {
     if (likely(PyList_CheckExact(L))) {
         if (unlikely(__Pyx_PyList_Append(L, x) < 0)) return -1;
     } else {
         PyObject* retval = __Pyx_PyObject_CallMethod1(L, __pyx_n_s_append, x);
         if (unlikely(!retval))
             return -1;
         Py_DECREF(retval);
     }
     return 0;
 }
 
 /* Import */
-  static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level) {
+static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level) {
     PyObject *empty_list = 0;
     PyObject *module = 0;
     PyObject *global_dict = 0;
     PyObject *empty_dict = 0;
     PyObject *list;
     #if PY_MAJOR_VERSION < 3
     PyObject *py_import;
@@ -91019,29 +75130,29 @@
     #endif
     Py_XDECREF(empty_list);
     Py_XDECREF(empty_dict);
     return module;
 }
 
 /* ImportFrom */
-  static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name) {
+static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name) {
     PyObject* value = __Pyx_PyObject_GetAttrStr(module, name);
     if (unlikely(!value) && PyErr_ExceptionMatches(PyExc_AttributeError)) {
         PyErr_Format(PyExc_ImportError,
         #if PY_MAJOR_VERSION < 3
             "cannot import name %.230s", PyString_AS_STRING(name));
         #else
             "cannot import name %S", name);
         #endif
     }
     return value;
 }
 
 /* HasAttr */
-  static CYTHON_INLINE int __Pyx_HasAttr(PyObject *o, PyObject *n) {
+static CYTHON_INLINE int __Pyx_HasAttr(PyObject *o, PyObject *n) {
     PyObject *r;
     if (unlikely(!__Pyx_PyBaseString_Check(n))) {
         PyErr_SetString(PyExc_TypeError,
                         "hasattr(): attribute name must be string");
         return -1;
     }
     r = __Pyx_GetAttr(o, n);
@@ -91051,15 +75162,15 @@
     } else {
         Py_DECREF(r);
         return 1;
     }
 }
 
 /* WriteUnraisableException */
-  static void __Pyx_WriteUnraisable(const char *name, CYTHON_UNUSED int clineno,
+static void __Pyx_WriteUnraisable(const char *name, CYTHON_UNUSED int clineno,
                                   CYTHON_UNUSED int lineno, CYTHON_UNUSED const char *filename,
                                   int full_traceback, CYTHON_UNUSED int nogil) {
     PyObject *old_exc, *old_val, *old_tb;
     PyObject *ctx;
     __Pyx_PyThreadState_declare
 #ifdef WITH_THREAD
     PyGILState_STATE state;
@@ -91090,109 +75201,60 @@
     }
 #ifdef WITH_THREAD
     if (nogil)
         PyGILState_Release(state);
 #endif
 }
 
-/* DivInt[Py_ssize_t] */
-  static CYTHON_INLINE Py_ssize_t __Pyx_div_Py_ssize_t(Py_ssize_t a, Py_ssize_t b) {
-    Py_ssize_t q = a / b;
-    Py_ssize_t r = a - q*b;
-    q -= ((r != 0) & ((r ^ b) < 0));
-    return q;
-}
-
-/* decode_c_string */
-  static CYTHON_INLINE PyObject* __Pyx_decode_c_string(
-         const char* cstring, Py_ssize_t start, Py_ssize_t stop,
-         const char* encoding, const char* errors,
-         PyObject* (*decode_func)(const char *s, Py_ssize_t size, const char *errors)) {
-    Py_ssize_t length;
-    if (unlikely((start < 0) | (stop < 0))) {
-        size_t slen = strlen(cstring);
-        if (unlikely(slen > (size_t) PY_SSIZE_T_MAX)) {
-            PyErr_SetString(PyExc_OverflowError,
-                            "c-string too long to convert to Python");
-            return NULL;
-        }
-        length = (Py_ssize_t) slen;
-        if (start < 0) {
-            start += length;
-            if (start < 0)
-                start = 0;
-        }
-        if (stop < 0)
-            stop += length;
-    }
-    if (unlikely(stop <= start))
-        return __Pyx_NewRef(__pyx_empty_unicode);
-    length = stop - start;
-    cstring += start;
-    if (decode_func) {
-        return decode_func(cstring, length, errors);
-    } else {
-        return PyUnicode_Decode(cstring, length, encoding, errors);
-    }
-}
-
-/* DivInt[long] */
-  static CYTHON_INLINE long __Pyx_div_long(long a, long b) {
-    long q = a / b;
-    long r = a - q*b;
-    q -= ((r != 0) & ((r ^ b) < 0));
-    return q;
-}
-
 /* CallNextTpTraverse */
-  static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse) {
+static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse) {
     PyTypeObject* type = Py_TYPE(obj);
     while (type && type->tp_traverse != current_tp_traverse)
         type = type->tp_base;
     while (type && type->tp_traverse == current_tp_traverse)
         type = type->tp_base;
     if (type && type->tp_traverse)
         return type->tp_traverse(obj, v, a);
     return 0;
 }
 
 /* CallNextTpClear */
-  static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear) {
+static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear) {
     PyTypeObject* type = Py_TYPE(obj);
     while (type && type->tp_clear != current_tp_clear)
         type = type->tp_base;
     while (type && type->tp_clear == current_tp_clear)
         type = type->tp_base;
     if (type && type->tp_clear)
         type->tp_clear(obj);
 }
 
 /* CallNextTpDealloc */
-  static void __Pyx_call_next_tp_dealloc(PyObject* obj, destructor current_tp_dealloc) {
+static void __Pyx_call_next_tp_dealloc(PyObject* obj, destructor current_tp_dealloc) {
     PyTypeObject* type = Py_TYPE(obj);
     while (type && type->tp_dealloc != current_tp_dealloc)
         type = type->tp_base;
     while (type && type->tp_dealloc == current_tp_dealloc)
         type = type->tp_base;
     if (type)
         type->tp_dealloc(obj);
 }
 
 /* PyObject_GenericGetAttr */
-  #if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
 static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
     if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
         return PyObject_GenericGetAttr(obj, attr_name);
     }
     return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
 }
 #endif
 
 /* SetVTable */
-  static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
+static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
 #if PY_VERSION_HEX >= 0x02070000
     PyObject *ob = PyCapsule_New(vtable, 0, 0);
 #else
     PyObject *ob = PyCObject_FromVoidPtr(vtable, 0);
 #endif
     if (!ob)
         goto bad;
@@ -91202,15 +75264,15 @@
     return 0;
 bad:
     Py_XDECREF(ob);
     return -1;
 }
 
 /* PyObjectGetAttrStrNoError */
-  static void __Pyx_PyObject_GetAttrStr_ClearAttributeError(void) {
+static void __Pyx_PyObject_GetAttrStr_ClearAttributeError(void) {
     __Pyx_PyThreadState_declare
     __Pyx_PyThreadState_assign
     if (likely(__Pyx_PyErr_ExceptionMatches(PyExc_AttributeError)))
         __Pyx_PyErr_Clear();
 }
 static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStrNoError(PyObject* obj, PyObject* attr_name) {
     PyObject *result;
@@ -91224,15 +75286,15 @@
     if (unlikely(!result)) {
         __Pyx_PyObject_GetAttrStr_ClearAttributeError();
     }
     return result;
 }
 
 /* SetupReduce */
-  static int __Pyx_setup_reduce_is_named(PyObject* meth, PyObject* name) {
+static int __Pyx_setup_reduce_is_named(PyObject* meth, PyObject* name) {
   int ret;
   PyObject *name_attr;
   name_attr = __Pyx_PyObject_GetAttrStr(meth, __pyx_n_s_name);
   if (likely(name_attr)) {
       ret = PyObject_RichCompareBool(name_attr, name, Py_EQ);
   } else {
       ret = -1;
@@ -91328,94 +75390,76 @@
     Py_XDECREF(reduce_cython);
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 
 /* TypeImport */
-  #ifndef __PYX_HAVE_RT_ImportType_0_29_35
-#define __PYX_HAVE_RT_ImportType_0_29_35
-static PyTypeObject *__Pyx_ImportType_0_29_35(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_0_29_35 check_size)
+#ifndef __PYX_HAVE_RT_ImportType
+#define __PYX_HAVE_RT_ImportType
+static PyTypeObject *__Pyx_ImportType(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, enum __Pyx_ImportType_CheckSize check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
-    Py_ssize_t itemsize;
 #ifdef Py_LIMITED_API
     PyObject *py_basicsize;
-    PyObject *py_itemsize;
 #endif
     result = PyObject_GetAttrString(module, class_name);
     if (!result)
         goto bad;
     if (!PyType_Check(result)) {
         PyErr_Format(PyExc_TypeError,
             "%.200s.%.200s is not a type object",
             module_name, class_name);
         goto bad;
     }
 #ifndef Py_LIMITED_API
     basicsize = ((PyTypeObject *)result)->tp_basicsize;
-    itemsize = ((PyTypeObject *)result)->tp_itemsize;
 #else
     py_basicsize = PyObject_GetAttrString(result, "__basicsize__");
     if (!py_basicsize)
         goto bad;
     basicsize = PyLong_AsSsize_t(py_basicsize);
     Py_DECREF(py_basicsize);
     py_basicsize = 0;
     if (basicsize == (Py_ssize_t)-1 && PyErr_Occurred())
         goto bad;
-    py_itemsize = PyObject_GetAttrString(result, "__itemsize__");
-    if (!py_itemsize)
-        goto bad;
-    itemsize = PyLong_AsSsize_t(py_itemsize);
-    Py_DECREF(py_itemsize);
-    py_itemsize = 0;
-    if (itemsize == (Py_ssize_t)-1 && PyErr_Occurred())
-        goto bad;
 #endif
-    if (itemsize) {
-        if (size % alignment) {
-            alignment = size % alignment;
-        }
-        if (itemsize < (Py_ssize_t)alignment)
-            itemsize = (Py_ssize_t)alignment;
-    }
-    if ((size_t)(basicsize + itemsize) < size) {
+    if ((size_t)basicsize < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_0_29_35 && (size_t)basicsize != size) {
+    if (check_size == __Pyx_ImportType_CheckSize_Error && (size_t)basicsize != size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_0_29_35 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
 bad:
     Py_XDECREF(result);
     return NULL;
 }
 #endif
 
 /* GetVTable */
-  static void* __Pyx_GetVtable(PyObject *dict) {
+static void* __Pyx_GetVtable(PyObject *dict) {
     void* ptr;
     PyObject *ob = PyObject_GetItem(dict, __pyx_n_s_pyx_vtable);
     if (!ob)
         goto bad;
 #if PY_VERSION_HEX >= 0x02070000
     ptr = PyCapsule_GetPointer(ob, 0);
 #else
@@ -91427,15 +75471,15 @@
     return ptr;
 bad:
     Py_XDECREF(ob);
     return NULL;
 }
 
 /* PatchInspect */
-  static PyObject* __Pyx_patch_inspect(PyObject* module) {
+static PyObject* __Pyx_patch_inspect(PyObject* module) {
 #if defined(__Pyx_Generator_USED) && (!defined(CYTHON_PATCH_INSPECT) || CYTHON_PATCH_INSPECT)
     static int inspect_patched = 0;
     if (unlikely((!inspect_patched) && module)) {
         module = __Pyx_Coroutine_patch_module(
             module, ""
 "old_types = getattr(_module.isgenerator, '_cython_generator_types', None)\n"
 "if old_types is None or not isinstance(old_types, set):\n"
@@ -91452,15 +75496,15 @@
 #else
     if ((0)) return __Pyx_Coroutine_patch_module(module, NULL);
 #endif
     return module;
 }
 
 /* PatchAsyncIO */
-  static PyObject* __Pyx_patch_asyncio(PyObject* module) {
+static PyObject* __Pyx_patch_asyncio(PyObject* module) {
 #if PY_VERSION_HEX < 0x030500B2 &&\
         (defined(__Pyx_Coroutine_USED) || defined(__Pyx_Generator_USED)) &&\
         (!defined(CYTHON_PATCH_ASYNCIO) || CYTHON_PATCH_ASYNCIO)
     PyObject *patch_module = NULL;
     static int asyncio_patched = 0;
     if (unlikely((!asyncio_patched) && module)) {
         PyObject *package;
@@ -91535,15 +75579,15 @@
 #else
     if ((0)) return __Pyx_patch_inspect(__Pyx_Coroutine_patch_module(module, NULL));
 #endif
     return module;
 }
 
 /* CalculateMetaclass */
-  static PyObject *__Pyx_CalculateMetaclass(PyTypeObject *metaclass, PyObject *bases) {
+static PyObject *__Pyx_CalculateMetaclass(PyTypeObject *metaclass, PyObject *bases) {
     Py_ssize_t i, nbases = PyTuple_GET_SIZE(bases);
     for (i=0; i < nbases; i++) {
         PyTypeObject *tmptype;
         PyObject *tmp = PyTuple_GET_ITEM(bases, i);
         tmptype = Py_TYPE(tmp);
 #if PY_MAJOR_VERSION < 3
         if (tmptype == &PyClass_Type)
@@ -91574,15 +75618,15 @@
 #endif
     }
     Py_INCREF((PyObject*) metaclass);
     return (PyObject*) metaclass;
 }
 
 /* CythonFunctionShared */
-  #include <structmember.h>
+#include <structmember.h>
 static PyObject *
 __Pyx_CyFunction_get_doc(__pyx_CyFunctionObject *op, CYTHON_UNUSED void *closure)
 {
     if (unlikely(op->func_doc == NULL)) {
         if (op->func.m_ml->ml_doc) {
 #if PY_MAJOR_VERSION >= 3
             op->func_doc = PyUnicode_FromString(op->func.m_ml->ml_doc);
@@ -92152,18 +76196,15 @@
 #endif
 #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
     0,
 #endif
 #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
     0,
 #endif
-#if PY_VERSION_HEX >= 0x030C0000
-    0,
-#endif
-#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
     0,
 #endif
 };
 static int __pyx_CyFunction_init(void) {
     __pyx_CyFunctionType = __Pyx_FetchCommonType(&__pyx_CyFunctionType_type);
     if (unlikely(__pyx_CyFunctionType == NULL)) {
         return -1;
@@ -92193,28 +76234,28 @@
 static CYTHON_INLINE void __Pyx_CyFunction_SetAnnotationsDict(PyObject *func, PyObject *dict) {
     __pyx_CyFunctionObject *m = (__pyx_CyFunctionObject *) func;
     m->func_annotations = dict;
     Py_INCREF(dict);
 }
 
 /* CythonFunction */
-  static PyObject *__Pyx_CyFunction_New(PyMethodDef *ml, int flags, PyObject* qualname,
+static PyObject *__Pyx_CyFunction_New(PyMethodDef *ml, int flags, PyObject* qualname,
                                       PyObject *closure, PyObject *module, PyObject* globals, PyObject* code) {
     PyObject *op = __Pyx_CyFunction_Init(
         PyObject_GC_New(__pyx_CyFunctionObject, __pyx_CyFunctionType),
         ml, flags, qualname, closure, module, globals, code
     );
     if (likely(op)) {
         PyObject_GC_Track(op);
     }
     return op;
 }
 
 /* Py3ClassCreate */
-  static PyObject *__Pyx_Py3MetaclassPrepare(PyObject *metaclass, PyObject *bases, PyObject *name,
+static PyObject *__Pyx_Py3MetaclassPrepare(PyObject *metaclass, PyObject *bases, PyObject *name,
                                            PyObject *qualname, PyObject *mkw, PyObject *modname, PyObject *doc) {
     PyObject *ns;
     if (metaclass) {
         PyObject *prep = __Pyx_PyObject_GetAttrStr(metaclass, __pyx_n_s_prepare);
         if (prep) {
             PyObject *pargs = PyTuple_Pack(2, name, bases);
             if (unlikely(!pargs)) {
@@ -92273,15 +76314,15 @@
         Py_DECREF(margs);
     }
     Py_XDECREF(owned_metaclass);
     return result;
 }
 
 /* Globals */
-  static PyObject* __Pyx_Globals(void) {
+static PyObject* __Pyx_Globals(void) {
     Py_ssize_t i;
     PyObject *names;
     PyObject *globals = __pyx_d;
     Py_INCREF(globals);
     names = PyObject_Dir(__pyx_m);
     if (!names)
         goto bad;
@@ -92318,15 +76359,15 @@
 bad:
     Py_XDECREF(names);
     Py_XDECREF(globals);
     return NULL;
 }
 
 /* CLineInTraceback */
-  #ifndef CYTHON_CLINE_IN_TRACEBACK
+#ifndef CYTHON_CLINE_IN_TRACEBACK
 static int __Pyx_CLineForTraceback(CYTHON_UNUSED PyThreadState *tstate, int c_line) {
     PyObject *use_cline;
     PyObject *ptype, *pvalue, *ptraceback;
 #if CYTHON_COMPILING_IN_CPYTHON
     PyObject **cython_runtime_dict;
 #endif
     if (unlikely(!__pyx_cython_runtime)) {
@@ -92360,15 +76401,15 @@
     }
     __Pyx_ErrRestoreInState(tstate, ptype, pvalue, ptraceback);
     return c_line;
 }
 #endif
 
 /* CodeObjectCache */
-  static int __pyx_bisect_code_objects(__Pyx_CodeObjectCacheEntry* entries, int count, int code_line) {
+static int __pyx_bisect_code_objects(__Pyx_CodeObjectCacheEntry* entries, int count, int code_line) {
     int start = 0, mid = 0, end = count - 1;
     if (end >= 0 && code_line > entries[end].code_line) {
         return count;
     }
     while (start < end) {
         mid = start + (end - start) / 2;
         if (code_line < entries[mid].code_line) {
@@ -92440,15 +76481,15 @@
     entries[pos].code_line = code_line;
     entries[pos].code_object = code_object;
     __pyx_code_cache.count++;
     Py_INCREF(code_object);
 }
 
 /* AddTraceback */
-  #include "compile.h"
+#include "compile.h"
 #include "frameobject.h"
 #include "traceback.h"
 #if PY_VERSION_HEX >= 0x030b00a6
   #ifndef Py_BUILD_CORE
     #define Py_BUILD_CORE 1
   #endif
   #include "internal/pycore_frame.h"
@@ -92546,109 +76587,16 @@
     __Pyx_PyFrame_SetLineNumber(py_frame, py_line);
     PyTraceBack_Here(py_frame);
 bad:
     Py_XDECREF(py_code);
     Py_XDECREF(py_frame);
 }
 
-#if PY_MAJOR_VERSION < 3
-static int __Pyx_GetBuffer(PyObject *obj, Py_buffer *view, int flags) {
-    if (PyObject_CheckBuffer(obj)) return PyObject_GetBuffer(obj, view, flags);
-        if (__Pyx_TypeCheck(obj, __pyx_array_type)) return __pyx_array_getbuffer(obj, view, flags);
-        if (__Pyx_TypeCheck(obj, __pyx_memoryview_type)) return __pyx_memoryview_getbuffer(obj, view, flags);
-    PyErr_Format(PyExc_TypeError, "'%.200s' does not have the buffer interface", Py_TYPE(obj)->tp_name);
-    return -1;
-}
-static void __Pyx_ReleaseBuffer(Py_buffer *view) {
-    PyObject *obj = view->obj;
-    if (!obj) return;
-    if (PyObject_CheckBuffer(obj)) {
-        PyBuffer_Release(view);
-        return;
-    }
-    if ((0)) {}
-    view->obj = NULL;
-    Py_DECREF(obj);
-}
-#endif
-
-
-  /* MemviewSliceIsContig */
-  static int
-__pyx_memviewslice_is_contig(const __Pyx_memviewslice mvs, char order, int ndim)
-{
-    int i, index, step, start;
-    Py_ssize_t itemsize = mvs.memview->view.itemsize;
-    if (order == 'F') {
-        step = 1;
-        start = 0;
-    } else {
-        step = -1;
-        start = ndim - 1;
-    }
-    for (i = 0; i < ndim; i++) {
-        index = start + step * i;
-        if (mvs.suboffsets[index] >= 0 || mvs.strides[index] != itemsize)
-            return 0;
-        itemsize *= mvs.shape[index];
-    }
-    return 1;
-}
-
-/* OverlappingSlices */
-  static void
-__pyx_get_array_memory_extents(__Pyx_memviewslice *slice,
-                               void **out_start, void **out_end,
-                               int ndim, size_t itemsize)
-{
-    char *start, *end;
-    int i;
-    start = end = slice->data;
-    for (i = 0; i < ndim; i++) {
-        Py_ssize_t stride = slice->strides[i];
-        Py_ssize_t extent = slice->shape[i];
-        if (extent == 0) {
-            *out_start = *out_end = start;
-            return;
-        } else {
-            if (stride > 0)
-                end += stride * (extent - 1);
-            else
-                start += stride * (extent - 1);
-        }
-    }
-    *out_start = start;
-    *out_end = end + itemsize;
-}
-static int
-__pyx_slices_overlap(__Pyx_memviewslice *slice1,
-                     __Pyx_memviewslice *slice2,
-                     int ndim, size_t itemsize)
-{
-    void *start1, *end1, *start2, *end2;
-    __pyx_get_array_memory_extents(slice1, &start1, &end1, ndim, itemsize);
-    __pyx_get_array_memory_extents(slice2, &start2, &end2, ndim, itemsize);
-    return (start1 < end2) && (start2 < end1);
-}
-
-/* Capsule */
-  static CYTHON_INLINE PyObject *
-__pyx_capsule_create(void *p, CYTHON_UNUSED const char *sig)
-{
-    PyObject *cobj;
-#if PY_VERSION_HEX >= 0x02070000
-    cobj = PyCapsule_New(p, sig, NULL);
-#else
-    cobj = PyCObject_FromVoidPtr(p, NULL);
-#endif
-    return cobj;
-}
-
 /* CIntFromPyVerify */
-  #define __PYX_VERIFY_RETURN_INT(target_type, func_type, func_value)\
+#define __PYX_VERIFY_RETURN_INT(target_type, func_type, func_value)\
     __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, 0)
 #define __PYX_VERIFY_RETURN_INT_EXC(target_type, func_type, func_value)\
     __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, 1)
 #define __PYX__VERIFY_RETURN_INT(target_type, func_type, func_value, exc)\
     {\
         func_type value = func_value;\
         if (sizeof(target_type) < sizeof(func_type)) {\
@@ -92661,853 +76609,16 @@
                 else\
                     goto raise_overflow;\
             }\
         }\
         return (target_type) value;\
     }
 
-/* MemviewDtypeToObject */
-  static CYTHON_INLINE PyObject *__pyx_memview_get_float(const char *itemp) {
-    return (PyObject *) PyFloat_FromDouble(*(float *) itemp);
-}
-static CYTHON_INLINE int __pyx_memview_set_float(const char *itemp, PyObject *obj) {
-    float value = __pyx_PyFloat_AsFloat(obj);
-    if ((value == (float)-1) && PyErr_Occurred())
-        return 0;
-    *(float *) itemp = value;
-    return 1;
-}
-
-/* IsLittleEndian */
-  static CYTHON_INLINE int __Pyx_Is_Little_Endian(void)
-{
-  union {
-    uint32_t u32;
-    uint8_t u8[4];
-  } S;
-  S.u32 = 0x01020304;
-  return S.u8[0] == 4;
-}
-
-/* BufferFormatCheck */
-  static void __Pyx_BufFmt_Init(__Pyx_BufFmt_Context* ctx,
-                              __Pyx_BufFmt_StackElem* stack,
-                              __Pyx_TypeInfo* type) {
-  stack[0].field = &ctx->root;
-  stack[0].parent_offset = 0;
-  ctx->root.type = type;
-  ctx->root.name = "buffer dtype";
-  ctx->root.offset = 0;
-  ctx->head = stack;
-  ctx->head->field = &ctx->root;
-  ctx->fmt_offset = 0;
-  ctx->head->parent_offset = 0;
-  ctx->new_packmode = '@';
-  ctx->enc_packmode = '@';
-  ctx->new_count = 1;
-  ctx->enc_count = 0;
-  ctx->enc_type = 0;
-  ctx->is_complex = 0;
-  ctx->is_valid_array = 0;
-  ctx->struct_alignment = 0;
-  while (type->typegroup == 'S') {
-    ++ctx->head;
-    ctx->head->field = type->fields;
-    ctx->head->parent_offset = 0;
-    type = type->fields->type;
-  }
-}
-static int __Pyx_BufFmt_ParseNumber(const char** ts) {
-    int count;
-    const char* t = *ts;
-    if (*t < '0' || *t > '9') {
-      return -1;
-    } else {
-        count = *t++ - '0';
-        while (*t >= '0' && *t <= '9') {
-            count *= 10;
-            count += *t++ - '0';
-        }
-    }
-    *ts = t;
-    return count;
-}
-static int __Pyx_BufFmt_ExpectNumber(const char **ts) {
-    int number = __Pyx_BufFmt_ParseNumber(ts);
-    if (number == -1)
-        PyErr_Format(PyExc_ValueError,\
-                     "Does not understand character buffer dtype format string ('%c')", **ts);
-    return number;
-}
-static void __Pyx_BufFmt_RaiseUnexpectedChar(char ch) {
-  PyErr_Format(PyExc_ValueError,
-               "Unexpected format string character: '%c'", ch);
-}
-static const char* __Pyx_BufFmt_DescribeTypeChar(char ch, int is_complex) {
-  switch (ch) {
-    case '?': return "'bool'";
-    case 'c': return "'char'";
-    case 'b': return "'signed char'";
-    case 'B': return "'unsigned char'";
-    case 'h': return "'short'";
-    case 'H': return "'unsigned short'";
-    case 'i': return "'int'";
-    case 'I': return "'unsigned int'";
-    case 'l': return "'long'";
-    case 'L': return "'unsigned long'";
-    case 'q': return "'long long'";
-    case 'Q': return "'unsigned long long'";
-    case 'f': return (is_complex ? "'complex float'" : "'float'");
-    case 'd': return (is_complex ? "'complex double'" : "'double'");
-    case 'g': return (is_complex ? "'complex long double'" : "'long double'");
-    case 'T': return "a struct";
-    case 'O': return "Python object";
-    case 'P': return "a pointer";
-    case 's': case 'p': return "a string";
-    case 0: return "end";
-    default: return "unparseable format string";
-  }
-}
-static size_t __Pyx_BufFmt_TypeCharToStandardSize(char ch, int is_complex) {
-  switch (ch) {
-    case '?': case 'c': case 'b': case 'B': case 's': case 'p': return 1;
-    case 'h': case 'H': return 2;
-    case 'i': case 'I': case 'l': case 'L': return 4;
-    case 'q': case 'Q': return 8;
-    case 'f': return (is_complex ? 8 : 4);
-    case 'd': return (is_complex ? 16 : 8);
-    case 'g': {
-      PyErr_SetString(PyExc_ValueError, "Python does not define a standard format string size for long double ('g')..");
-      return 0;
-    }
-    case 'O': case 'P': return sizeof(void*);
-    default:
-      __Pyx_BufFmt_RaiseUnexpectedChar(ch);
-      return 0;
-    }
-}
-static size_t __Pyx_BufFmt_TypeCharToNativeSize(char ch, int is_complex) {
-  switch (ch) {
-    case '?': case 'c': case 'b': case 'B': case 's': case 'p': return 1;
-    case 'h': case 'H': return sizeof(short);
-    case 'i': case 'I': return sizeof(int);
-    case 'l': case 'L': return sizeof(long);
-    #ifdef HAVE_LONG_LONG
-    case 'q': case 'Q': return sizeof(PY_LONG_LONG);
-    #endif
-    case 'f': return sizeof(float) * (is_complex ? 2 : 1);
-    case 'd': return sizeof(double) * (is_complex ? 2 : 1);
-    case 'g': return sizeof(long double) * (is_complex ? 2 : 1);
-    case 'O': case 'P': return sizeof(void*);
-    default: {
-      __Pyx_BufFmt_RaiseUnexpectedChar(ch);
-      return 0;
-    }
-  }
-}
-typedef struct { char c; short x; } __Pyx_st_short;
-typedef struct { char c; int x; } __Pyx_st_int;
-typedef struct { char c; long x; } __Pyx_st_long;
-typedef struct { char c; float x; } __Pyx_st_float;
-typedef struct { char c; double x; } __Pyx_st_double;
-typedef struct { char c; long double x; } __Pyx_st_longdouble;
-typedef struct { char c; void *x; } __Pyx_st_void_p;
-#ifdef HAVE_LONG_LONG
-typedef struct { char c; PY_LONG_LONG x; } __Pyx_st_longlong;
-#endif
-static size_t __Pyx_BufFmt_TypeCharToAlignment(char ch, CYTHON_UNUSED int is_complex) {
-  switch (ch) {
-    case '?': case 'c': case 'b': case 'B': case 's': case 'p': return 1;
-    case 'h': case 'H': return sizeof(__Pyx_st_short) - sizeof(short);
-    case 'i': case 'I': return sizeof(__Pyx_st_int) - sizeof(int);
-    case 'l': case 'L': return sizeof(__Pyx_st_long) - sizeof(long);
-#ifdef HAVE_LONG_LONG
-    case 'q': case 'Q': return sizeof(__Pyx_st_longlong) - sizeof(PY_LONG_LONG);
-#endif
-    case 'f': return sizeof(__Pyx_st_float) - sizeof(float);
-    case 'd': return sizeof(__Pyx_st_double) - sizeof(double);
-    case 'g': return sizeof(__Pyx_st_longdouble) - sizeof(long double);
-    case 'P': case 'O': return sizeof(__Pyx_st_void_p) - sizeof(void*);
-    default:
-      __Pyx_BufFmt_RaiseUnexpectedChar(ch);
-      return 0;
-    }
-}
-/* These are for computing the padding at the end of the struct to align
-   on the first member of the struct. This will probably the same as above,
-   but we don't have any guarantees.
- */
-typedef struct { short x; char c; } __Pyx_pad_short;
-typedef struct { int x; char c; } __Pyx_pad_int;
-typedef struct { long x; char c; } __Pyx_pad_long;
-typedef struct { float x; char c; } __Pyx_pad_float;
-typedef struct { double x; char c; } __Pyx_pad_double;
-typedef struct { long double x; char c; } __Pyx_pad_longdouble;
-typedef struct { void *x; char c; } __Pyx_pad_void_p;
-#ifdef HAVE_LONG_LONG
-typedef struct { PY_LONG_LONG x; char c; } __Pyx_pad_longlong;
-#endif
-static size_t __Pyx_BufFmt_TypeCharToPadding(char ch, CYTHON_UNUSED int is_complex) {
-  switch (ch) {
-    case '?': case 'c': case 'b': case 'B': case 's': case 'p': return 1;
-    case 'h': case 'H': return sizeof(__Pyx_pad_short) - sizeof(short);
-    case 'i': case 'I': return sizeof(__Pyx_pad_int) - sizeof(int);
-    case 'l': case 'L': return sizeof(__Pyx_pad_long) - sizeof(long);
-#ifdef HAVE_LONG_LONG
-    case 'q': case 'Q': return sizeof(__Pyx_pad_longlong) - sizeof(PY_LONG_LONG);
-#endif
-    case 'f': return sizeof(__Pyx_pad_float) - sizeof(float);
-    case 'd': return sizeof(__Pyx_pad_double) - sizeof(double);
-    case 'g': return sizeof(__Pyx_pad_longdouble) - sizeof(long double);
-    case 'P': case 'O': return sizeof(__Pyx_pad_void_p) - sizeof(void*);
-    default:
-      __Pyx_BufFmt_RaiseUnexpectedChar(ch);
-      return 0;
-    }
-}
-static char __Pyx_BufFmt_TypeCharToGroup(char ch, int is_complex) {
-  switch (ch) {
-    case 'c':
-        return 'H';
-    case 'b': case 'h': case 'i':
-    case 'l': case 'q': case 's': case 'p':
-        return 'I';
-    case '?': case 'B': case 'H': case 'I': case 'L': case 'Q':
-        return 'U';
-    case 'f': case 'd': case 'g':
-        return (is_complex ? 'C' : 'R');
-    case 'O':
-        return 'O';
-    case 'P':
-        return 'P';
-    default: {
-      __Pyx_BufFmt_RaiseUnexpectedChar(ch);
-      return 0;
-    }
-  }
-}
-static void __Pyx_BufFmt_RaiseExpected(__Pyx_BufFmt_Context* ctx) {
-  if (ctx->head == NULL || ctx->head->field == &ctx->root) {
-    const char* expected;
-    const char* quote;
-    if (ctx->head == NULL) {
-      expected = "end";
-      quote = "";
-    } else {
-      expected = ctx->head->field->type->name;
-      quote = "'";
-    }
-    PyErr_Format(PyExc_ValueError,
-                 "Buffer dtype mismatch, expected %s%s%s but got %s",
-                 quote, expected, quote,
-                 __Pyx_BufFmt_DescribeTypeChar(ctx->enc_type, ctx->is_complex));
-  } else {
-    __Pyx_StructField* field = ctx->head->field;
-    __Pyx_StructField* parent = (ctx->head - 1)->field;
-    PyErr_Format(PyExc_ValueError,
-                 "Buffer dtype mismatch, expected '%s' but got %s in '%s.%s'",
-                 field->type->name, __Pyx_BufFmt_DescribeTypeChar(ctx->enc_type, ctx->is_complex),
-                 parent->type->name, field->name);
-  }
-}
-static int __Pyx_BufFmt_ProcessTypeChunk(__Pyx_BufFmt_Context* ctx) {
-  char group;
-  size_t size, offset, arraysize = 1;
-  if (ctx->enc_type == 0) return 0;
-  if (ctx->head->field->type->arraysize[0]) {
-    int i, ndim = 0;
-    if (ctx->enc_type == 's' || ctx->enc_type == 'p') {
-        ctx->is_valid_array = ctx->head->field->type->ndim == 1;
-        ndim = 1;
-        if (ctx->enc_count != ctx->head->field->type->arraysize[0]) {
-            PyErr_Format(PyExc_ValueError,
-                         "Expected a dimension of size %zu, got %zu",
-                         ctx->head->field->type->arraysize[0], ctx->enc_count);
-            return -1;
-        }
-    }
-    if (!ctx->is_valid_array) {
-      PyErr_Format(PyExc_ValueError, "Expected %d dimensions, got %d",
-                   ctx->head->field->type->ndim, ndim);
-      return -1;
-    }
-    for (i = 0; i < ctx->head->field->type->ndim; i++) {
-      arraysize *= ctx->head->field->type->arraysize[i];
-    }
-    ctx->is_valid_array = 0;
-    ctx->enc_count = 1;
-  }
-  group = __Pyx_BufFmt_TypeCharToGroup(ctx->enc_type, ctx->is_complex);
-  do {
-    __Pyx_StructField* field = ctx->head->field;
-    __Pyx_TypeInfo* type = field->type;
-    if (ctx->enc_packmode == '@' || ctx->enc_packmode == '^') {
-      size = __Pyx_BufFmt_TypeCharToNativeSize(ctx->enc_type, ctx->is_complex);
-    } else {
-      size = __Pyx_BufFmt_TypeCharToStandardSize(ctx->enc_type, ctx->is_complex);
-    }
-    if (ctx->enc_packmode == '@') {
-      size_t align_at = __Pyx_BufFmt_TypeCharToAlignment(ctx->enc_type, ctx->is_complex);
-      size_t align_mod_offset;
-      if (align_at == 0) return -1;
-      align_mod_offset = ctx->fmt_offset % align_at;
-      if (align_mod_offset > 0) ctx->fmt_offset += align_at - align_mod_offset;
-      if (ctx->struct_alignment == 0)
-          ctx->struct_alignment = __Pyx_BufFmt_TypeCharToPadding(ctx->enc_type,
-                                                                 ctx->is_complex);
-    }
-    if (type->size != size || type->typegroup != group) {
-      if (type->typegroup == 'C' && type->fields != NULL) {
-        size_t parent_offset = ctx->head->parent_offset + field->offset;
-        ++ctx->head;
-        ctx->head->field = type->fields;
-        ctx->head->parent_offset = parent_offset;
-        continue;
-      }
-      if ((type->typegroup == 'H' || group == 'H') && type->size == size) {
-      } else {
-          __Pyx_BufFmt_RaiseExpected(ctx);
-          return -1;
-      }
-    }
-    offset = ctx->head->parent_offset + field->offset;
-    if (ctx->fmt_offset != offset) {
-      PyErr_Format(PyExc_ValueError,
-                   "Buffer dtype mismatch; next field is at offset %" CYTHON_FORMAT_SSIZE_T "d but %" CYTHON_FORMAT_SSIZE_T "d expected",
-                   (Py_ssize_t)ctx->fmt_offset, (Py_ssize_t)offset);
-      return -1;
-    }
-    ctx->fmt_offset += size;
-    if (arraysize)
-      ctx->fmt_offset += (arraysize - 1) * size;
-    --ctx->enc_count;
-    while (1) {
-      if (field == &ctx->root) {
-        ctx->head = NULL;
-        if (ctx->enc_count != 0) {
-          __Pyx_BufFmt_RaiseExpected(ctx);
-          return -1;
-        }
-        break;
-      }
-      ctx->head->field = ++field;
-      if (field->type == NULL) {
-        --ctx->head;
-        field = ctx->head->field;
-        continue;
-      } else if (field->type->typegroup == 'S') {
-        size_t parent_offset = ctx->head->parent_offset + field->offset;
-        if (field->type->fields->type == NULL) continue;
-        field = field->type->fields;
-        ++ctx->head;
-        ctx->head->field = field;
-        ctx->head->parent_offset = parent_offset;
-        break;
-      } else {
-        break;
-      }
-    }
-  } while (ctx->enc_count);
-  ctx->enc_type = 0;
-  ctx->is_complex = 0;
-  return 0;
-}
-static PyObject *
-__pyx_buffmt_parse_array(__Pyx_BufFmt_Context* ctx, const char** tsp)
-{
-    const char *ts = *tsp;
-    int i = 0, number, ndim;
-    ++ts;
-    if (ctx->new_count != 1) {
-        PyErr_SetString(PyExc_ValueError,
-                        "Cannot handle repeated arrays in format string");
-        return NULL;
-    }
-    if (__Pyx_BufFmt_ProcessTypeChunk(ctx) == -1) return NULL;
-    ndim = ctx->head->field->type->ndim;
-    while (*ts && *ts != ')') {
-        switch (*ts) {
-            case ' ': case '\f': case '\r': case '\n': case '\t': case '\v':  continue;
-            default:  break;
-        }
-        number = __Pyx_BufFmt_ExpectNumber(&ts);
-        if (number == -1) return NULL;
-        if (i < ndim && (size_t) number != ctx->head->field->type->arraysize[i])
-            return PyErr_Format(PyExc_ValueError,
-                        "Expected a dimension of size %zu, got %d",
-                        ctx->head->field->type->arraysize[i], number);
-        if (*ts != ',' && *ts != ')')
-            return PyErr_Format(PyExc_ValueError,
-                                "Expected a comma in format string, got '%c'", *ts);
-        if (*ts == ',') ts++;
-        i++;
-    }
-    if (i != ndim)
-        return PyErr_Format(PyExc_ValueError, "Expected %d dimension(s), got %d",
-                            ctx->head->field->type->ndim, i);
-    if (!*ts) {
-        PyErr_SetString(PyExc_ValueError,
-                        "Unexpected end of format string, expected ')'");
-        return NULL;
-    }
-    ctx->is_valid_array = 1;
-    ctx->new_count = 1;
-    *tsp = ++ts;
-    return Py_None;
-}
-static const char* __Pyx_BufFmt_CheckString(__Pyx_BufFmt_Context* ctx, const char* ts) {
-  int got_Z = 0;
-  while (1) {
-    switch(*ts) {
-      case 0:
-        if (ctx->enc_type != 0 && ctx->head == NULL) {
-          __Pyx_BufFmt_RaiseExpected(ctx);
-          return NULL;
-        }
-        if (__Pyx_BufFmt_ProcessTypeChunk(ctx) == -1) return NULL;
-        if (ctx->head != NULL) {
-          __Pyx_BufFmt_RaiseExpected(ctx);
-          return NULL;
-        }
-        return ts;
-      case ' ':
-      case '\r':
-      case '\n':
-        ++ts;
-        break;
-      case '<':
-        if (!__Pyx_Is_Little_Endian()) {
-          PyErr_SetString(PyExc_ValueError, "Little-endian buffer not supported on big-endian compiler");
-          return NULL;
-        }
-        ctx->new_packmode = '=';
-        ++ts;
-        break;
-      case '>':
-      case '!':
-        if (__Pyx_Is_Little_Endian()) {
-          PyErr_SetString(PyExc_ValueError, "Big-endian buffer not supported on little-endian compiler");
-          return NULL;
-        }
-        ctx->new_packmode = '=';
-        ++ts;
-        break;
-      case '=':
-      case '@':
-      case '^':
-        ctx->new_packmode = *ts++;
-        break;
-      case 'T':
-        {
-          const char* ts_after_sub;
-          size_t i, struct_count = ctx->new_count;
-          size_t struct_alignment = ctx->struct_alignment;
-          ctx->new_count = 1;
-          ++ts;
-          if (*ts != '{') {
-            PyErr_SetString(PyExc_ValueError, "Buffer acquisition: Expected '{' after 'T'");
-            return NULL;
-          }
-          if (__Pyx_BufFmt_ProcessTypeChunk(ctx) == -1) return NULL;
-          ctx->enc_type = 0;
-          ctx->enc_count = 0;
-          ctx->struct_alignment = 0;
-          ++ts;
-          ts_after_sub = ts;
-          for (i = 0; i != struct_count; ++i) {
-            ts_after_sub = __Pyx_BufFmt_CheckString(ctx, ts);
-            if (!ts_after_sub) return NULL;
-          }
-          ts = ts_after_sub;
-          if (struct_alignment) ctx->struct_alignment = struct_alignment;
-        }
-        break;
-      case '}':
-        {
-          size_t alignment = ctx->struct_alignment;
-          ++ts;
-          if (__Pyx_BufFmt_ProcessTypeChunk(ctx) == -1) return NULL;
-          ctx->enc_type = 0;
-          if (alignment && ctx->fmt_offset % alignment) {
-            ctx->fmt_offset += alignment - (ctx->fmt_offset % alignment);
-          }
-        }
-        return ts;
-      case 'x':
-        if (__Pyx_BufFmt_ProcessTypeChunk(ctx) == -1) return NULL;
-        ctx->fmt_offset += ctx->new_count;
-        ctx->new_count = 1;
-        ctx->enc_count = 0;
-        ctx->enc_type = 0;
-        ctx->enc_packmode = ctx->new_packmode;
-        ++ts;
-        break;
-      case 'Z':
-        got_Z = 1;
-        ++ts;
-        if (*ts != 'f' && *ts != 'd' && *ts != 'g') {
-          __Pyx_BufFmt_RaiseUnexpectedChar('Z');
-          return NULL;
-        }
-        CYTHON_FALLTHROUGH;
-      case '?': case 'c': case 'b': case 'B': case 'h': case 'H': case 'i': case 'I':
-      case 'l': case 'L': case 'q': case 'Q':
-      case 'f': case 'd': case 'g':
-      case 'O': case 'p':
-        if ((ctx->enc_type == *ts) && (got_Z == ctx->is_complex) &&
-            (ctx->enc_packmode == ctx->new_packmode) && (!ctx->is_valid_array)) {
-          ctx->enc_count += ctx->new_count;
-          ctx->new_count = 1;
-          got_Z = 0;
-          ++ts;
-          break;
-        }
-        CYTHON_FALLTHROUGH;
-      case 's':
-        if (__Pyx_BufFmt_ProcessTypeChunk(ctx) == -1) return NULL;
-        ctx->enc_count = ctx->new_count;
-        ctx->enc_packmode = ctx->new_packmode;
-        ctx->enc_type = *ts;
-        ctx->is_complex = got_Z;
-        ++ts;
-        ctx->new_count = 1;
-        got_Z = 0;
-        break;
-      case ':':
-        ++ts;
-        while(*ts != ':') ++ts;
-        ++ts;
-        break;
-      case '(':
-        if (!__pyx_buffmt_parse_array(ctx, &ts)) return NULL;
-        break;
-      default:
-        {
-          int number = __Pyx_BufFmt_ExpectNumber(&ts);
-          if (number == -1) return NULL;
-          ctx->new_count = (size_t)number;
-        }
-    }
-  }
-}
-
-/* TypeInfoCompare */
-    static int
-__pyx_typeinfo_cmp(__Pyx_TypeInfo *a, __Pyx_TypeInfo *b)
-{
-    int i;
-    if (!a || !b)
-        return 0;
-    if (a == b)
-        return 1;
-    if (a->size != b->size || a->typegroup != b->typegroup ||
-            a->is_unsigned != b->is_unsigned || a->ndim != b->ndim) {
-        if (a->typegroup == 'H' || b->typegroup == 'H') {
-            return a->size == b->size;
-        } else {
-            return 0;
-        }
-    }
-    if (a->ndim) {
-        for (i = 0; i < a->ndim; i++)
-            if (a->arraysize[i] != b->arraysize[i])
-                return 0;
-    }
-    if (a->typegroup == 'S') {
-        if (a->flags != b->flags)
-            return 0;
-        if (a->fields || b->fields) {
-            if (!(a->fields && b->fields))
-                return 0;
-            for (i = 0; a->fields[i].type && b->fields[i].type; i++) {
-                __Pyx_StructField *field_a = a->fields + i;
-                __Pyx_StructField *field_b = b->fields + i;
-                if (field_a->offset != field_b->offset ||
-                    !__pyx_typeinfo_cmp(field_a->type, field_b->type))
-                    return 0;
-            }
-            return !a->fields[i].type && !b->fields[i].type;
-        }
-    }
-    return 1;
-}
-
-/* MemviewSliceValidateAndInit */
-    static int
-__pyx_check_strides(Py_buffer *buf, int dim, int ndim, int spec)
-{
-    if (buf->shape[dim] <= 1)
-        return 1;
-    if (buf->strides) {
-        if (spec & __Pyx_MEMVIEW_CONTIG) {
-            if (spec & (__Pyx_MEMVIEW_PTR|__Pyx_MEMVIEW_FULL)) {
-                if (unlikely(buf->strides[dim] != sizeof(void *))) {
-                    PyErr_Format(PyExc_ValueError,
-                                 "Buffer is not indirectly contiguous "
-                                 "in dimension %d.", dim);
-                    goto fail;
-                }
-            } else if (unlikely(buf->strides[dim] != buf->itemsize)) {
-                PyErr_SetString(PyExc_ValueError,
-                                "Buffer and memoryview are not contiguous "
-                                "in the same dimension.");
-                goto fail;
-            }
-        }
-        if (spec & __Pyx_MEMVIEW_FOLLOW) {
-            Py_ssize_t stride = buf->strides[dim];
-            if (stride < 0)
-                stride = -stride;
-            if (unlikely(stride < buf->itemsize)) {
-                PyErr_SetString(PyExc_ValueError,
-                                "Buffer and memoryview are not contiguous "
-                                "in the same dimension.");
-                goto fail;
-            }
-        }
-    } else {
-        if (unlikely(spec & __Pyx_MEMVIEW_CONTIG && dim != ndim - 1)) {
-            PyErr_Format(PyExc_ValueError,
-                         "C-contiguous buffer is not contiguous in "
-                         "dimension %d", dim);
-            goto fail;
-        } else if (unlikely(spec & (__Pyx_MEMVIEW_PTR))) {
-            PyErr_Format(PyExc_ValueError,
-                         "C-contiguous buffer is not indirect in "
-                         "dimension %d", dim);
-            goto fail;
-        } else if (unlikely(buf->suboffsets)) {
-            PyErr_SetString(PyExc_ValueError,
-                            "Buffer exposes suboffsets but no strides");
-            goto fail;
-        }
-    }
-    return 1;
-fail:
-    return 0;
-}
-static int
-__pyx_check_suboffsets(Py_buffer *buf, int dim, CYTHON_UNUSED int ndim, int spec)
-{
-    if (spec & __Pyx_MEMVIEW_DIRECT) {
-        if (unlikely(buf->suboffsets && buf->suboffsets[dim] >= 0)) {
-            PyErr_Format(PyExc_ValueError,
-                         "Buffer not compatible with direct access "
-                         "in dimension %d.", dim);
-            goto fail;
-        }
-    }
-    if (spec & __Pyx_MEMVIEW_PTR) {
-        if (unlikely(!buf->suboffsets || (buf->suboffsets[dim] < 0))) {
-            PyErr_Format(PyExc_ValueError,
-                         "Buffer is not indirectly accessible "
-                         "in dimension %d.", dim);
-            goto fail;
-        }
-    }
-    return 1;
-fail:
-    return 0;
-}
-static int
-__pyx_verify_contig(Py_buffer *buf, int ndim, int c_or_f_flag)
-{
-    int i;
-    if (c_or_f_flag & __Pyx_IS_F_CONTIG) {
-        Py_ssize_t stride = 1;
-        for (i = 0; i < ndim; i++) {
-            if (unlikely(stride * buf->itemsize != buf->strides[i]  &&  buf->shape[i] > 1)) {
-                PyErr_SetString(PyExc_ValueError,
-                    "Buffer not fortran contiguous.");
-                goto fail;
-            }
-            stride = stride * buf->shape[i];
-        }
-    } else if (c_or_f_flag & __Pyx_IS_C_CONTIG) {
-        Py_ssize_t stride = 1;
-        for (i = ndim - 1; i >- 1; i--) {
-            if (unlikely(stride * buf->itemsize != buf->strides[i]  &&  buf->shape[i] > 1)) {
-                PyErr_SetString(PyExc_ValueError,
-                    "Buffer not C contiguous.");
-                goto fail;
-            }
-            stride = stride * buf->shape[i];
-        }
-    }
-    return 1;
-fail:
-    return 0;
-}
-static int __Pyx_ValidateAndInit_memviewslice(
-                int *axes_specs,
-                int c_or_f_flag,
-                int buf_flags,
-                int ndim,
-                __Pyx_TypeInfo *dtype,
-                __Pyx_BufFmt_StackElem stack[],
-                __Pyx_memviewslice *memviewslice,
-                PyObject *original_obj)
-{
-    struct __pyx_memoryview_obj *memview, *new_memview;
-    __Pyx_RefNannyDeclarations
-    Py_buffer *buf;
-    int i, spec = 0, retval = -1;
-    __Pyx_BufFmt_Context ctx;
-    int from_memoryview = __pyx_memoryview_check(original_obj);
-    __Pyx_RefNannySetupContext("ValidateAndInit_memviewslice", 0);
-    if (from_memoryview && __pyx_typeinfo_cmp(dtype, ((struct __pyx_memoryview_obj *)
-                                                            original_obj)->typeinfo)) {
-        memview = (struct __pyx_memoryview_obj *) original_obj;
-        new_memview = NULL;
-    } else {
-        memview = (struct __pyx_memoryview_obj *) __pyx_memoryview_new(
-                                            original_obj, buf_flags, 0, dtype);
-        new_memview = memview;
-        if (unlikely(!memview))
-            goto fail;
-    }
-    buf = &memview->view;
-    if (unlikely(buf->ndim != ndim)) {
-        PyErr_Format(PyExc_ValueError,
-                "Buffer has wrong number of dimensions (expected %d, got %d)",
-                ndim, buf->ndim);
-        goto fail;
-    }
-    if (new_memview) {
-        __Pyx_BufFmt_Init(&ctx, stack, dtype);
-        if (unlikely(!__Pyx_BufFmt_CheckString(&ctx, buf->format))) goto fail;
-    }
-    if (unlikely((unsigned) buf->itemsize != dtype->size)) {
-        PyErr_Format(PyExc_ValueError,
-                     "Item size of buffer (%" CYTHON_FORMAT_SSIZE_T "u byte%s) "
-                     "does not match size of '%s' (%" CYTHON_FORMAT_SSIZE_T "u byte%s)",
-                     buf->itemsize,
-                     (buf->itemsize > 1) ? "s" : "",
-                     dtype->name,
-                     dtype->size,
-                     (dtype->size > 1) ? "s" : "");
-        goto fail;
-    }
-    if (buf->len > 0) {
-        for (i = 0; i < ndim; i++) {
-            spec = axes_specs[i];
-            if (unlikely(!__pyx_check_strides(buf, i, ndim, spec)))
-                goto fail;
-            if (unlikely(!__pyx_check_suboffsets(buf, i, ndim, spec)))
-                goto fail;
-        }
-        if (unlikely(buf->strides && !__pyx_verify_contig(buf, ndim, c_or_f_flag)))
-            goto fail;
-    }
-    if (unlikely(__Pyx_init_memviewslice(memview, ndim, memviewslice,
-                                         new_memview != NULL) == -1)) {
-        goto fail;
-    }
-    retval = 0;
-    goto no_fail;
-fail:
-    Py_XDECREF(new_memview);
-    retval = -1;
-no_fail:
-    __Pyx_RefNannyFinishContext();
-    return retval;
-}
-
-/* ObjectToMemviewSlice */
-    static CYTHON_INLINE __Pyx_memviewslice __Pyx_PyObject_to_MemoryviewSlice_ds_float(PyObject *obj, int writable_flag) {
-    __Pyx_memviewslice result = { 0, 0, { 0 }, { 0 }, { 0 } };
-    __Pyx_BufFmt_StackElem stack[1];
-    int axes_specs[] = { (__Pyx_MEMVIEW_DIRECT | __Pyx_MEMVIEW_STRIDED) };
-    int retcode;
-    if (obj == Py_None) {
-        result.memview = (struct __pyx_memoryview_obj *) Py_None;
-        return result;
-    }
-    retcode = __Pyx_ValidateAndInit_memviewslice(axes_specs, 0,
-                                                 PyBUF_RECORDS_RO | writable_flag, 1,
-                                                 &__Pyx_TypeInfo_float, stack,
-                                                 &result, obj);
-    if (unlikely(retcode == -1))
-        goto __pyx_fail;
-    return result;
-__pyx_fail:
-    result.memview = NULL;
-    result.data = NULL;
-    return result;
-}
-
-/* MemviewSliceCopyTemplate */
-    static __Pyx_memviewslice
-__pyx_memoryview_copy_new_contig(const __Pyx_memviewslice *from_mvs,
-                                 const char *mode, int ndim,
-                                 size_t sizeof_dtype, int contig_flag,
-                                 int dtype_is_object)
-{
-    __Pyx_RefNannyDeclarations
-    int i;
-    __Pyx_memviewslice new_mvs = { 0, 0, { 0 }, { 0 }, { 0 } };
-    struct __pyx_memoryview_obj *from_memview = from_mvs->memview;
-    Py_buffer *buf = &from_memview->view;
-    PyObject *shape_tuple = NULL;
-    PyObject *temp_int = NULL;
-    struct __pyx_array_obj *array_obj = NULL;
-    struct __pyx_memoryview_obj *memview_obj = NULL;
-    __Pyx_RefNannySetupContext("__pyx_memoryview_copy_new_contig", 0);
-    for (i = 0; i < ndim; i++) {
-        if (unlikely(from_mvs->suboffsets[i] >= 0)) {
-            PyErr_Format(PyExc_ValueError, "Cannot copy memoryview slice with "
-                                           "indirect dimensions (axis %d)", i);
-            goto fail;
-        }
-    }
-    shape_tuple = PyTuple_New(ndim);
-    if (unlikely(!shape_tuple)) {
-        goto fail;
-    }
-    __Pyx_GOTREF(shape_tuple);
-    for(i = 0; i < ndim; i++) {
-        temp_int = PyInt_FromSsize_t(from_mvs->shape[i]);
-        if(unlikely(!temp_int)) {
-            goto fail;
-        } else {
-            PyTuple_SET_ITEM(shape_tuple, i, temp_int);
-            temp_int = NULL;
-        }
-    }
-    array_obj = __pyx_array_new(shape_tuple, sizeof_dtype, buf->format, (char *) mode, NULL);
-    if (unlikely(!array_obj)) {
-        goto fail;
-    }
-    __Pyx_GOTREF(array_obj);
-    memview_obj = (struct __pyx_memoryview_obj *) __pyx_memoryview_new(
-                                    (PyObject *) array_obj, contig_flag,
-                                    dtype_is_object,
-                                    from_mvs->memview->typeinfo);
-    if (unlikely(!memview_obj))
-        goto fail;
-    if (unlikely(__Pyx_init_memviewslice(memview_obj, ndim, &new_mvs, 1) < 0))
-        goto fail;
-    if (unlikely(__pyx_memoryview_copy_contents(*from_mvs, new_mvs, ndim, ndim,
-                                                dtype_is_object) < 0))
-        goto fail;
-    goto no_fail;
-fail:
-    __Pyx_XDECREF(new_mvs.memview);
-    new_mvs.memview = NULL;
-    new_mvs.data = NULL;
-no_fail:
-    __Pyx_XDECREF(shape_tuple);
-    __Pyx_XDECREF(temp_int);
-    __Pyx_XDECREF(array_obj);
-    __Pyx_RefNannyFinishContext();
-    return new_mvs;
-}
-
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int(int value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int(int value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int neg_one = (int) -1, const_zero = (int) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -93537,15 +76648,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(int),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *x) {
+static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int neg_one = (int) -1, const_zero = (int) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -93596,15 +76707,15 @@
                         } else if (8 * sizeof(int) >= 4 * PyLong_SHIFT) {
                             return (int) (((((((((int)digits[3]) << PyLong_SHIFT) | (int)digits[2]) << PyLong_SHIFT) | (int)digits[1]) << PyLong_SHIFT) | (int)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -93733,15 +76844,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to int");
     return (int) -1;
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus neg_one = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) -1, const_zero = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -93771,15 +76882,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus __Pyx_PyInt_As_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(PyObject *x) {
+static CYTHON_INLINE enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus __Pyx_PyInt_As_enum____pyx_t_6edgedb_8protocol_8protocol_TransactionStatus(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus neg_one = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) -1, const_zero = (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -93830,15 +76941,15 @@
                         } else if (8 * sizeof(enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) >= 4 * PyLong_SHIFT) {
                             return (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) (((((((((enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[3]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[2]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[1]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -93967,15 +77078,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus");
     return (enum __pyx_t_6edgedb_8protocol_8protocol_TransactionStatus) -1;
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_EdgeFieldCardinality(EdgeFieldCardinality value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_EdgeFieldCardinality(EdgeFieldCardinality value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const EdgeFieldCardinality neg_one = (EdgeFieldCardinality) -1, const_zero = (EdgeFieldCardinality) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -94005,15 +77116,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(EdgeFieldCardinality),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat neg_one = (enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat) -1, const_zero = (enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -94043,15 +77154,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat __Pyx_PyInt_As_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(PyObject *x) {
+static CYTHON_INLINE enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat __Pyx_PyInt_As_enum____pyx_t_6edgedb_8protocol_8protocol_OutputFormat(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat neg_one = (enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat) -1, const_zero = (enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -94102,15 +77213,15 @@
                         } else if (8 * sizeof(enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat) >= 4 * PyLong_SHIFT) {
                             return (enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat) (((((((((enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat)digits[3]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat)digits[2]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat)digits[1]) << PyLong_SHIFT) | (enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -94239,15 +77350,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat");
     return (enum __pyx_t_6edgedb_8protocol_8protocol_OutputFormat) -1;
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *x) {
+static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const long neg_one = (long) -1, const_zero = (long) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -94298,15 +77409,15 @@
                         } else if (8 * sizeof(long) >= 4 * PyLong_SHIFT) {
                             return (long) (((((((((long)digits[3]) << PyLong_SHIFT) | (long)digits[2]) << PyLong_SHIFT) | (long)digits[1]) << PyLong_SHIFT) | (long)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -94435,15 +77546,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to long");
     return (long) -1;
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE int32_t __Pyx_PyInt_As_int32_t(PyObject *x) {
+static CYTHON_INLINE int32_t __Pyx_PyInt_As_int32_t(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int32_t neg_one = (int32_t) -1, const_zero = (int32_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -94494,15 +77605,15 @@
                         } else if (8 * sizeof(int32_t) >= 4 * PyLong_SHIFT) {
                             return (int32_t) (((((((((int32_t)digits[3]) << PyLong_SHIFT) | (int32_t)digits[2]) << PyLong_SHIFT) | (int32_t)digits[1]) << PyLong_SHIFT) | (int32_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -94631,15 +77742,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to int32_t");
     return (int32_t) -1;
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const long neg_one = (long) -1, const_zero = (long) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -94669,15 +77780,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(long),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int32_t(int32_t value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int32_t(int32_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int32_t neg_one = (int32_t) -1, const_zero = (int32_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -94707,15 +77818,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(int32_t),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint16_t(uint16_t value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint16_t(uint16_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const uint16_t neg_one = (uint16_t) -1, const_zero = (uint16_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -94745,15 +77856,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(uint16_t),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE uint16_t __Pyx_PyInt_As_uint16_t(PyObject *x) {
+static CYTHON_INLINE uint16_t __Pyx_PyInt_As_uint16_t(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const uint16_t neg_one = (uint16_t) -1, const_zero = (uint16_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -94804,15 +77915,15 @@
                         } else if (8 * sizeof(uint16_t) >= 4 * PyLong_SHIFT) {
                             return (uint16_t) (((((((((uint16_t)digits[3]) << PyLong_SHIFT) | (uint16_t)digits[2]) << PyLong_SHIFT) | (uint16_t)digits[1]) << PyLong_SHIFT) | (uint16_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -94941,15 +78052,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to uint16_t");
     return (uint16_t) -1;
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint8_t(uint8_t value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint8_t(uint8_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const uint8_t neg_one = (uint8_t) -1, const_zero = (uint8_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -94979,15 +78090,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(uint8_t),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint32_t(uint32_t value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint32_t(uint32_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const uint32_t neg_one = (uint32_t) -1, const_zero = (uint32_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -95017,15 +78128,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(uint32_t),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE int64_t __Pyx_PyInt_As_int64_t(PyObject *x) {
+static CYTHON_INLINE int64_t __Pyx_PyInt_As_int64_t(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int64_t neg_one = (int64_t) -1, const_zero = (int64_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -95076,15 +78187,15 @@
                         } else if (8 * sizeof(int64_t) >= 4 * PyLong_SHIFT) {
                             return (int64_t) (((((((((int64_t)digits[3]) << PyLong_SHIFT) | (int64_t)digits[2]) << PyLong_SHIFT) | (int64_t)digits[1]) << PyLong_SHIFT) | (int64_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -95213,15 +78324,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to int64_t");
     return (int64_t) -1;
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int64_t(int64_t value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int64_t(int64_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int64_t neg_one = (int64_t) -1, const_zero = (int64_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -95251,15 +78362,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(int64_t),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE int16_t __Pyx_PyInt_As_int16_t(PyObject *x) {
+static CYTHON_INLINE int16_t __Pyx_PyInt_As_int16_t(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int16_t neg_one = (int16_t) -1, const_zero = (int16_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -95310,15 +78421,15 @@
                         } else if (8 * sizeof(int16_t) >= 4 * PyLong_SHIFT) {
                             return (int16_t) (((((((((int16_t)digits[3]) << PyLong_SHIFT) | (int16_t)digits[2]) << PyLong_SHIFT) | (int16_t)digits[1]) << PyLong_SHIFT) | (int16_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -95447,15 +78558,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to int16_t");
     return (int16_t) -1;
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE uint64_t __Pyx_PyInt_As_uint64_t(PyObject *x) {
+static CYTHON_INLINE uint64_t __Pyx_PyInt_As_uint64_t(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const uint64_t neg_one = (uint64_t) -1, const_zero = (uint64_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -95506,15 +78617,15 @@
                         } else if (8 * sizeof(uint64_t) >= 4 * PyLong_SHIFT) {
                             return (uint64_t) (((((((((uint64_t)digits[3]) << PyLong_SHIFT) | (uint64_t)digits[2]) << PyLong_SHIFT) | (uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -95643,15 +78754,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to uint64_t");
     return (uint64_t) -1;
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE char __Pyx_PyInt_As_char(PyObject *x) {
+static CYTHON_INLINE char __Pyx_PyInt_As_char(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const char neg_one = (char) -1, const_zero = (char) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -95702,15 +78813,15 @@
                         } else if (8 * sizeof(char) >= 4 * PyLong_SHIFT) {
                             return (char) (((((((((char)digits[3]) << PyLong_SHIFT) | (char)digits[2]) << PyLong_SHIFT) | (char)digits[1]) << PyLong_SHIFT) | (char)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -95839,15 +78950,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to char");
     return (char) -1;
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int16_t(int16_t value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_int16_t(int16_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int16_t neg_one = (int16_t) -1, const_zero = (int16_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -95877,15 +78988,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(int16_t),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_char(char value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_char(char value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const char neg_one = (char) -1, const_zero = (char) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -95915,15 +79026,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(char),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-    static CYTHON_INLINE uint32_t __Pyx_PyInt_As_uint32_t(PyObject *x) {
+static CYTHON_INLINE uint32_t __Pyx_PyInt_As_uint32_t(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const uint32_t neg_one = (uint32_t) -1, const_zero = (uint32_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -95974,15 +79085,15 @@
                         } else if (8 * sizeof(uint32_t) >= 4 * PyLong_SHIFT) {
                             return (uint32_t) (((((((((uint32_t)digits[3]) << PyLong_SHIFT) | (uint32_t)digits[2]) << PyLong_SHIFT) | (uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A7
+#if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
@@ -96111,15 +79222,15 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to uint32_t");
     return (uint32_t) -1;
 }
 
 /* CIntToPy */
-    static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint64_t(uint64_t value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint64_t(uint64_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const uint64_t neg_one = (uint64_t) -1, const_zero = (uint64_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
@@ -96149,15 +79260,15 @@
         unsigned char *bytes = (unsigned char *)&value;
         return _PyLong_FromByteArray(bytes, sizeof(uint64_t),
                                      little, !is_unsigned);
     }
 }
 
 /* Generator */
-    static PyMethodDef __pyx_Generator_methods[] = {
+static PyMethodDef __pyx_Generator_methods[] = {
     {"send", (PyCFunction) __Pyx_Coroutine_Send, METH_O,
      (char*) PyDoc_STR("send(arg) -> send 'arg' into generator,\nreturn next yielded value or raise StopIteration.")},
     {"throw", (PyCFunction) __Pyx_Coroutine_Throw, METH_VARARGS,
      (char*) PyDoc_STR("throw(typ[,val[,tb]]) -> raise exception in generator,\nreturn next yielded value or raise StopIteration.")},
     {"close", (PyCFunction) __Pyx_Coroutine_Close_Method, METH_NOARGS,
      (char*) PyDoc_STR("close() -> raise GeneratorExit inside generator.")},
     {0, 0, 0, 0}
@@ -96237,33 +79348,30 @@
 #endif
 #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
     0,
 #endif
 #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
     0,
 #endif
-#if PY_VERSION_HEX >= 0x030C0000
-    0,
-#endif
-#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+#if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
     0,
 #endif
 };
 static int __pyx_Generator_init(void) {
     __pyx_GeneratorType_type.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
     __pyx_GeneratorType_type.tp_iter = PyObject_SelfIter;
     __pyx_GeneratorType = __Pyx_FetchCommonType(&__pyx_GeneratorType_type);
     if (unlikely(!__pyx_GeneratorType)) {
         return -1;
     }
     return 0;
 }
 
 /* CheckBinaryVersion */
-    static int __Pyx_check_binary_version(void) {
+static int __Pyx_check_binary_version(void) {
     char ctversion[5];
     int same=1, i, found_dot;
     const char* rt_from_call = Py_GetVersion();
     PyOS_snprintf(ctversion, 5, "%d.%d", PY_MAJOR_VERSION, PY_MINOR_VERSION);
     found_dot = 0;
     for (i = 0; i < 4; i++) {
         if (!ctversion[i]) {
@@ -96293,17 +79401,17 @@
                       ctversion, __Pyx_MODULE_NAME, rtversion);
         return PyErr_WarnEx(NULL, message, 1);
     }
     return 0;
 }
 
 /* FunctionImport */
-    #ifndef __PYX_HAVE_RT_ImportFunction_0_29_35
-#define __PYX_HAVE_RT_ImportFunction_0_29_35
-static int __Pyx_ImportFunction_0_29_35(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction
+#define __PYX_HAVE_RT_ImportFunction
+static int __Pyx_ImportFunction(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
@@ -96347,15 +79455,15 @@
 bad:
     Py_XDECREF(d);
     return -1;
 }
 #endif
 
 /* InitStrings */
-    static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
+static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
     while (t->p) {
         #if PY_MAJOR_VERSION < 3
         if (t->is_unicode) {
             *t->p = PyUnicode_DecodeUTF8(t->s, t->n - 1, NULL);
         } else if (t->intern) {
             *t->p = PyString_InternFromString(t->s);
         } else {
```

### Comparing `edgedb-1.5.0/edgedb/protocol/protocol.pxd` & `edgedb-2.0.0a1/edgedb/protocol/protocol.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/protocol.pyx` & `edgedb-2.0.0a1/edgedb/protocol/protocol.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/protocol_v0.pxd` & `edgedb-2.0.0a1/edgedb/protocol/protocol_v0.pxd`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/protocol/protocol_v0.pyx` & `edgedb-2.0.0a1/edgedb/protocol/protocol_v0.pyx`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/scram/__init__.py` & `edgedb-2.0.0a1/edgedb/scram/__init__.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/scram/saslprep.py` & `edgedb-2.0.0a1/edgedb/scram/saslprep.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb/transaction.py` & `edgedb-2.0.0a1/edgedb/transaction.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/edgedb.egg-info/PKG-INFO` & `edgedb-2.0.0a1/edgedb.egg-info/PKG-INFO`

 * *Files 6% similar despite different names*

```diff
@@ -1,20 +1,19 @@
 Metadata-Version: 2.1
 Name: edgedb
-Version: 1.5.0
+Version: 2.0.0a1
 Summary: EdgeDB Python driver
 Home-page: https://github.com/edgedb/edgedb-python
 Author: MagicStack Inc
 Author-email: hello@magic.io
 License: Apache License, Version 2.0
 Platform: macOS
 Platform: POSIX
 Platform: Windows
 Provides: edgedb
-Requires-Python: >=3.7
 Provides-Extra: docs
 Provides-Extra: test
 Provides-Extra: dev
 License-File: LICENSE
 
 The Python driver for EdgeDB
 ============================
```

### Comparing `edgedb-1.5.0/edgedb.egg-info/SOURCES.txt` & `edgedb-2.0.0a1/edgedb.egg-info/SOURCES.txt`

 * *Files 1% similar despite different names*

```diff
@@ -1,12 +1,11 @@
 LICENSE
 MANIFEST.in
 Makefile
 README.rst
-pyproject.toml
 setup.py
 docs/conf.py
 docs/index.rst
 docs/installation.rst
 docs/usage.rst
 docs/api/advanced.rst
 docs/api/asyncio_client.rst
@@ -169,13 +168,12 @@
 tests/test_proto.py
 tests/test_scram.py
 tests/test_sourcecode.py
 tests/test_state.py
 tests/test_sync_query.py
 tests/test_sync_retry.py
 tests/test_sync_tx.py
-tests/test_vector.py
 tests/datatypes/__init__.py
 tests/datatypes/test_datatypes.py
 tests/datatypes/test_uuid.py
 tests/shared-client-testcases/connection_testcases.json
 tests/shared-client-testcases/project_path_hashing_testcases.json
```

### Comparing `edgedb-1.5.0/edgedb.egg-info/requires.txt` & `edgedb-2.0.0a1/edgedb.egg-info/requires.txt`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/setup.py` & `edgedb-2.0.0a1/setup.py`

 * *Files 2% similar despite different names*

```diff
@@ -283,15 +283,15 @@
     description='EdgeDB Python driver',
     long_description=readme,
     platforms=['macOS', 'POSIX', 'Windows'],
     author='MagicStack Inc',
     author_email='hello@magic.io',
     url='https://github.com/edgedb/edgedb-python',
     license='Apache License, Version 2.0',
-    packages=setuptools.find_packages(),
+    packages=['edgedb'],
     provides=['edgedb'],
     zip_safe=False,
     include_package_data=True,
     package_data={'edgedb': ['py.typed']},
     ext_modules=[
         distutils_extension.Extension(
             "edgedb.pgproto.pgproto",
@@ -333,15 +333,14 @@
             ["edgedb/protocol/blocking_proto.pyx"],
             extra_compile_args=CFLAGS,
             extra_link_args=LDFLAGS,
             include_dirs=INCLUDE_DIRS),
     ],
     cmdclass={'build_ext': build_ext},
     test_suite='tests.suite',
-    python_requires=">=3.7",
     install_requires=[
         'typing-extensions>=3.10.0; python_version < "3.8.0"',
         'certifi>=2021.5.30; platform_system == "Windows"',
     ],
     extras_require=EXTRA_DEPENDENCIES,
     setup_requires=setup_requires,
     entry_points={
```

### Comparing `edgedb-1.5.0/tests/__init__.py` & `edgedb-2.0.0a1/tests/__init__.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/bench_uuid.py` & `edgedb-2.0.0a1/tests/bench_uuid.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/datatypes/__init__.py` & `edgedb-2.0.0a1/tests/datatypes/__init__.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/datatypes/test_datatypes.py` & `edgedb-2.0.0a1/tests/datatypes/test_datatypes.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/datatypes/test_uuid.py` & `edgedb-2.0.0a1/tests/datatypes/test_uuid.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/shared-client-testcases/connection_testcases.json` & `edgedb-2.0.0a1/tests/shared-client-testcases/connection_testcases.json`

 * *Files 2% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.946600248470948%*

 * *Differences: {'118': "{'opts': {'dsn': 'edgedb://?tls_ca_file=/home/edgedb/test/cert.pem'}}",*

 * * '184': "{'opts': {'instance': 'testorg/test_123'}, 'result': {'address': {insert: [(0, "*

 * *        "'test_123--testorg.c-10.i.local-1.internal')], delete: [0]}}}",*

 * * '185': "{'opts': {'instance': 'testorg/test_123'}}",*

 * * '186': "{'opts': {'instance': 'testorg/test_123'}}",*

 * * '187': "{'opts': {'instance': 'testorg/test_123'}}",*

 * * '188': "{'opts': {'instance': 'test-org/test-123'}}",*

 * * '189': "{'opts': {'instance': '123/456'}}",*

 * * '19': []*

```diff
@@ -382,88 +382,40 @@
             "tlsSecurity": "strict",
             "user": "test3n",
             "waitUntilAvailable": "PT30S"
         }
     },
     {
         "env": {},
+        "error": {
+            "type": "invalid_dsn_or_instance_name"
+        },
         "fs": {
             "files": {
                 "/home/edgedb/.config/edgedb/credentials/test-123.json": "{\"port\": 10702, \"user\": \"test3n\", \"password\": \"lZTBy1RVCfOpBAOwSCwIyBIR\", \"database\": \"test3n\"}"
             },
             "homedir": "/home/edgedb"
         },
         "opts": {
             "instance": "test-123"
-        },
-        "result": {
-            "address": [
-                "localhost",
-                10702
-            ],
-            "database": "test3n",
-            "password": "lZTBy1RVCfOpBAOwSCwIyBIR",
-            "secretKey": null,
-            "serverSettings": {},
-            "tlsCAData": null,
-            "tlsSecurity": "strict",
-            "user": "test3n",
-            "waitUntilAvailable": "PT30S"
         }
     },
     {
         "env": {},
-        "fs": {
-            "files": {
-                "/home/edgedb/.config/edgedb/credentials/1234567890123456789012345678901234567890123456789012345678901234.json": "{\"port\": 10702, \"user\": \"test3n\", \"password\": \"lZTBy1RVCfOpBAOwSCwIyBIR\", \"database\": \"test3n\"}"
-            },
-            "homedir": "/home/edgedb"
-        },
-        "opts": {
-            "instance": "1234567890123456789012345678901234567890123456789012345678901234"
+        "error": {
+            "type": "invalid_dsn_or_instance_name"
         },
-        "result": {
-            "address": [
-                "localhost",
-                10702
-            ],
-            "database": "test3n",
-            "password": "lZTBy1RVCfOpBAOwSCwIyBIR",
-            "secretKey": null,
-            "serverSettings": {},
-            "tlsCAData": null,
-            "tlsSecurity": "strict",
-            "user": "test3n",
-            "waitUntilAvailable": "PT30S"
-        }
-    },
-    {
-        "env": {},
         "fs": {
             "files": {
                 "/home/edgedb/.config/edgedb/credentials/123-test.json": "{\"port\": 10702, \"user\": \"test3n\", \"password\": \"lZTBy1RVCfOpBAOwSCwIyBIR\", \"database\": \"test3n\"}"
             },
             "homedir": "/home/edgedb"
         },
         "opts": {
             "instance": "123-test"
-        },
-        "result": {
-            "address": [
-                "localhost",
-                10702
-            ],
-            "database": "test3n",
-            "password": "lZTBy1RVCfOpBAOwSCwIyBIR",
-            "secretKey": null,
-            "serverSettings": {},
-            "tlsCAData": null,
-            "tlsSecurity": "strict",
-            "user": "test3n",
-            "waitUntilAvailable": "PT30S"
         }
     },
     {
         "env": {},
         "error": {
             "type": "invalid_dsn_or_instance_name"
         },
@@ -1929,15 +1881,15 @@
     {
         "fs": {
             "files": {
                 "/home/edgedb/test/cert.pem": "-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n"
             }
         },
         "opts": {
-            "dsn": "edgedb://?tls_ca_file=/home/edgedb/test/nonexist.pem",
+            "dsn": "edgedb://?tls_ca_file=/home/edgedb/test/cert.pem",
             "tlsCAFile": "/home/edgedb/test/cert.pem",
             "tlsSecurity": "strict"
         },
         "result": {
             "address": [
                 "localhost",
                 5656
@@ -1950,42 +1902,14 @@
             "tlsSecurity": "strict",
             "user": "edgedb",
             "waitUntilAvailable": "PT30S"
         }
     },
     {
         "env": {
-            "MY_TLS_CERT": "/home/edgedb/test/cert.pem"
-        },
-        "fs": {
-            "files": {
-                "/home/edgedb/test/cert.pem": "-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n"
-            }
-        },
-        "opts": {
-            "dsn": "edgedb://?tls_ca_file_env=MY_TLS_CERT",
-            "tlsSecurity": "strict"
-        },
-        "result": {
-            "address": [
-                "localhost",
-                5656
-            ],
-            "database": "edgedb",
-            "password": null,
-            "secretKey": null,
-            "serverSettings": {},
-            "tlsCAData": "-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n",
-            "tlsSecurity": "strict",
-            "user": "edgedb",
-            "waitUntilAvailable": "PT30S"
-        }
-    },
-    {
-        "env": {
             "EDGEDB_CLIENT_TLS_SECURITY": "strict",
             "EDGEDB_DSN": "edgedb://"
         },
         "fs": {
             "files": {
                 "/home/edgedb/test/cert.pem": "-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n"
             }
@@ -3125,82 +3049,26 @@
             "tlsSecurity": "strict",
             "user": "edgedb",
             "waitUntilAvailable": "PT10S"
         }
     },
     {
         "env": {},
-        "error": {
-            "type": "invalid_dsn_or_instance_name"
-        },
         "fs": {
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
             },
             "homedir": "/home/edgedb"
         },
         "opts": {
             "instance": "testorg/test_123"
-        }
-    },
-    {
-        "env": {},
-        "error": {
-            "type": "invalid_dsn_or_instance_name"
-        },
-        "fs": {
-            "files": {
-                "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
-            },
-            "homedir": "/home/edgedb"
-        },
-        "opts": {
-            "instance": "test_org/test123"
-        }
-    },
-    {
-        "env": {},
-        "fs": {
-            "files": {
-                "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
-            },
-            "homedir": "/home/edgedb"
-        },
-        "opts": {
-            "instance": "TestOrg/Test-123"
-        },
-        "result": {
-            "address": [
-                "test-123--testorg.c-31.i.local-1.internal",
-                5656
-            ],
-            "database": "edgedb",
-            "password": null,
-            "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
-            "serverSettings": {},
-            "tlsCAData": null,
-            "tlsSecurity": "strict",
-            "user": "edgedb",
-            "waitUntilAvailable": "PT30S"
-        }
-    },
-    {
-        "env": {},
-        "fs": {
-            "files": {
-                "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
-            },
-            "homedir": "/home/edgedb"
-        },
-        "opts": {
-            "instance": "test-org/test123"
         },
         "result": {
             "address": [
-                "test123--test-org.c-76.i.local-1.internal",
+                "test_123--testorg.c-10.i.local-1.internal",
                 5656
             ],
             "database": "edgedb",
             "password": null,
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
             "serverSettings": {},
             "tlsCAData": null,
@@ -3220,265 +3088,183 @@
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9\"}",
                 "/home/edgedb/.config/edgedb/cloud-credentials/test.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
             },
             "homedir": "/home/edgedb"
         },
         "opts": {
-            "instance": "test-org/test-123"
+            "instance": "testorg/test_123"
         }
     },
     {
         "env": {},
         "error": {
             "type": "secret_key_not_found"
         },
         "fs": {
             "files": {},
             "homedir": "/home/edgedb"
         },
         "opts": {
-            "instance": "test-org/test-123"
+            "instance": "testorg/test_123"
         }
     },
     {
         "env": {},
         "error": {
             "type": "invalid_secret_key"
         },
         "fs": {
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9\"}"
             },
             "homedir": "/home/edgedb"
         },
         "opts": {
-            "instance": "test-org/test-123"
-        }
-    },
-    {
-        "env": {},
-        "fs": {
-            "files": {
-                "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
-            },
-            "homedir": "/home/edgedb"
-        },
-        "opts": {
-            "instance": "test-org/test-123"
-        },
-        "result": {
-            "address": [
-                "test-123--test-org.c-96.i.local-1.internal",
-                5656
-            ],
-            "database": "edgedb",
-            "password": null,
-            "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
-            "serverSettings": {},
-            "tlsCAData": null,
-            "tlsSecurity": "strict",
-            "user": "edgedb",
-            "waitUntilAvailable": "PT30S"
-        }
-    },
-    {
-        "env": {},
-        "fs": {
-            "files": {
-                "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
-            },
-            "homedir": "/home/edgedb"
-        },
-        "opts": {
-            "instance": "123/456"
-        },
-        "result": {
-            "address": [
-                "456--123.c-40.i.local-1.internal",
-                5656
-            ],
-            "database": "edgedb",
-            "password": null,
-            "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
-            "serverSettings": {},
-            "tlsCAData": null,
-            "tlsSecurity": "strict",
-            "user": "edgedb",
-            "waitUntilAvailable": "PT30S"
+            "instance": "testorg/test_123"
         }
     },
     {
         "env": {},
         "error": {
             "type": "invalid_dsn_or_instance_name"
         },
         "fs": {
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
             },
             "homedir": "/home/edgedb"
         },
         "opts": {
-            "instance": "test\ud83e\udd96/test\ud83d\ude0f"
+            "instance": "test-org/test-123"
         }
     },
     {
         "env": {},
         "error": {
             "type": "invalid_dsn_or_instance_name"
         },
         "fs": {
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
             },
             "homedir": "/home/edgedb"
         },
         "opts": {
-            "instance": "te--st/test"
+            "instance": "123/456"
         }
     },
     {
         "env": {},
         "error": {
             "type": "invalid_dsn_or_instance_name"
         },
         "fs": {
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
             },
             "homedir": "/home/edgedb"
         },
         "opts": {
-            "instance": "test/te--st"
-        }
-    },
-    {
-        "env": {},
-        "error": {
-            "type": "invalid_instance_name"
-        },
-        "fs": {
-            "files": {
-                "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
-            },
-            "homedir": "/home/edgedb"
-        },
-        "opts": {
-            "instance": "123456789012345678901234567890123456789012345678901234567890/1234"
-        }
-    },
-    {
-        "env": {},
-        "error": {
-            "type": "invalid_instance_name"
-        },
-        "fs": {
-            "files": {
-                "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
-            },
-            "homedir": "/home/edgedb"
-        },
-        "opts": {
-            "instance": "12345678901234567890123456789012/34567890123456789012345678901234"
+            "instance": "test\ud83e\udd96/test\ud83d\ude0f"
         }
     },
     {
         "env": {},
         "fs": {
             "files": {},
             "homedir": "/home/edgedb"
         },
         "opts": {
-            "instance": "test-org/test-123",
+            "instance": "testorg/test_123",
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg"
         },
         "result": {
             "address": [
-                "test-123--test-org.c-96.i.local-1.internal",
+                "test_123--testorg.c-10.i.local-1.internal",
                 5656
             ],
             "database": "edgedb",
             "password": null,
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
             "serverSettings": {},
             "tlsCAData": null,
             "tlsSecurity": "strict",
             "user": "edgedb",
             "waitUntilAvailable": "PT30S"
         }
     },
     {
         "env": {
-            "EDGEDB_INSTANCE": "testorg/test-123",
+            "EDGEDB_INSTANCE": "testorg/test_123",
             "EDGEDB_SECRET_KEY": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg"
         },
         "fs": {
             "files": {},
             "homedir": "/home/edgedb"
         },
         "result": {
             "address": [
-                "test-123--testorg.c-31.i.local-1.internal",
+                "test_123--testorg.c-10.i.local-1.internal",
                 5656
             ],
             "database": "edgedb",
             "password": null,
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
             "serverSettings": {},
             "tlsCAData": null,
             "tlsSecurity": "strict",
             "user": "edgedb",
             "waitUntilAvailable": "PT30S"
         }
     },
     {
         "env": {
-            "EDGEDB_INSTANCE": "testorg/test-456",
+            "EDGEDB_INSTANCE": "testorg/test_456",
             "EDGEDB_SECRET_KEY": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9"
         },
         "fs": {
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9\"}"
             },
             "homedir": "/home/edgedb"
         },
         "opts": {
-            "instance": "testorg/test-123",
+            "instance": "testorg/test_123",
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg"
         },
         "result": {
             "address": [
-                "test-123--testorg.c-31.i.local-1.internal",
+                "test_123--testorg.c-10.i.local-1.internal",
                 5656
             ],
             "database": "edgedb",
             "password": null,
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
             "serverSettings": {},
             "tlsCAData": null,
             "tlsSecurity": "strict",
             "user": "edgedb",
             "waitUntilAvailable": "PT30S"
         }
     },
     {
         "env": {
-            "EDGEDB_INSTANCE": "testorg/test-123",
+            "EDGEDB_INSTANCE": "testorg/test_123",
             "EDGEDB_SECRET_KEY": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg"
         },
         "fs": {
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9\"}"
             },
             "homedir": "/home/edgedb"
         },
         "result": {
             "address": [
-                "test-123--testorg.c-31.i.local-1.internal",
+                "test_123--testorg.c-10.i.local-1.internal",
                 5656
             ],
             "database": "edgedb",
             "password": null,
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
             "serverSettings": {},
             "tlsCAData": null,
@@ -3495,30 +3281,30 @@
             "type": "secret_key_not_found"
         },
         "fs": {
             "files": {},
             "homedir": "/home/edgedb"
         },
         "opts": {
-            "instance": "testorg/test-123"
+            "instance": "testorg/test_123"
         }
     },
     {
         "env": {
-            "EDGEDB_INSTANCE": "testorg/test-123"
+            "EDGEDB_INSTANCE": "testorg/test_123"
         },
         "fs": {
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}"
             },
             "homedir": "/home/edgedb"
         },
         "result": {
             "address": [
-                "test-123--testorg.c-31.i.local-1.internal",
+                "test_123--testorg.c-10.i.local-1.internal",
                 5656
             ],
             "database": "edgedb",
             "password": null,
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
             "serverSettings": {},
             "tlsCAData": null,
@@ -3532,91 +3318,59 @@
         "fs": {
             "cwd": "/home/edgedb/test",
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9\"}",
                 "/home/edgedb/.config/edgedb/cloud-credentials/ttt.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}",
                 "/home/edgedb/.config/edgedb/projects/test-${HASH}": {
                     "cloud-profile": "ttt",
-                    "instance-name": "testorg/test-123",
+                    "instance-name": "testorg/test_123",
                     "project-path": "/home/edgedb/test"
                 },
                 "/home/edgedb/test/edgedb.toml": ""
             },
             "homedir": "/home/edgedb"
         },
         "opts": {},
         "result": {
             "address": [
-                "test-123--testorg.c-31.i.local-1.internal",
+                "test_123--testorg.c-10.i.local-1.internal",
                 5656
             ],
             "database": "edgedb",
             "password": null,
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
             "serverSettings": {},
             "tlsCAData": null,
             "tlsSecurity": "strict",
             "user": "edgedb",
             "waitUntilAvailable": "PT30S"
         }
     },
     {
-        "env": {},
-        "fs": {
-            "cwd": "/home/edgedb/test",
-            "files": {
-                "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}",
-                "/home/edgedb/.config/edgedb/projects/test-${HASH}": {
-                    "cloud-profile": "default",
-                    "database": "myapp",
-                    "instance-name": "testorg/test-123",
-                    "project-path": "/home/edgedb/test"
-                },
-                "/home/edgedb/test/edgedb.toml": ""
-            },
-            "homedir": "/home/edgedb"
-        },
-        "opts": {},
-        "result": {
-            "address": [
-                "test-123--testorg.c-31.i.local-1.internal",
-                5656
-            ],
-            "database": "myapp",
-            "password": null,
-            "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
-            "serverSettings": {},
-            "tlsCAData": null,
-            "tlsSecurity": "strict",
-            "user": "edgedb",
-            "waitUntilAvailable": "PT30S"
-        }
-    },
-    {
         "env": {
             "EDGEDB_CLOUD_PROFILE": "ttt"
         },
         "fs": {
             "cwd": "/home/edgedb/test",
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9\"}",
                 "/home/edgedb/.config/edgedb/cloud-credentials/ttt.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg\"}",
                 "/home/edgedb/.config/edgedb/projects/test-${HASH}": {
                     "cloud-profile": "default",
-                    "instance-name": "testorg/test-123",
+                    "instance-name": "testorg/test_123",
                     "project-path": "/home/edgedb/test"
                 },
                 "/home/edgedb/test/edgedb.toml": ""
             },
             "homedir": "/home/edgedb"
         },
         "opts": {},
         "result": {
             "address": [
-                "test-123--testorg.c-31.i.local-1.internal",
+                "test_123--testorg.c-10.i.local-1.internal",
                 5656
             ],
             "database": "edgedb",
             "password": null,
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
             "serverSettings": {},
             "tlsCAData": null,
@@ -3631,25 +3385,25 @@
         },
         "fs": {
             "cwd": "/home/edgedb/test",
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9\"}",
                 "/home/edgedb/.config/edgedb/projects/test-${HASH}": {
                     "cloud-profile": "default",
-                    "instance-name": "testorg/test-123",
+                    "instance-name": "testorg/test_123",
                     "project-path": "/home/edgedb/test"
                 },
                 "/home/edgedb/test/edgedb.toml": ""
             },
             "homedir": "/home/edgedb"
         },
         "opts": {},
         "result": {
             "address": [
-                "test-123--testorg.c-31.i.local-1.internal",
+                "test_123--testorg.c-10.i.local-1.internal",
                 5656
             ],
             "database": "edgedb",
             "password": null,
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
             "serverSettings": {},
             "tlsCAData": null,
@@ -3664,27 +3418,27 @@
         },
         "fs": {
             "cwd": "/home/edgedb/test",
             "files": {
                 "/home/edgedb/.config/edgedb/cloud-credentials/default.json": "{\"secret_key\": \"nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9\"}",
                 "/home/edgedb/.config/edgedb/projects/test-${HASH}": {
                     "cloud-profile": "default",
-                    "instance-name": "testorg/test-123",
+                    "instance-name": "testorg/test_123",
                     "project-path": "/home/edgedb/test"
                 },
                 "/home/edgedb/test/edgedb.toml": ""
             },
             "homedir": "/home/edgedb"
         },
         "opts": {
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg"
         },
         "result": {
             "address": [
-                "test-123--testorg.c-31.i.local-1.internal",
+                "test_123--testorg.c-10.i.local-1.internal",
                 5656
             ],
             "database": "edgedb",
             "password": null,
             "secretKey": "nbwt_eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJlZGdlZGIuc2VydmVyLmFueV9yb2xlIjp0cnVlLCJpYXQiOjE2NjkzMTE3NjMsImlzcyI6ImxvY2FsLTEuaW50ZXJuYWwiLCJuZWJ1bGEuc2NvcGVzIjpbImFkbWluIl0sIm5lYnVsYS51c2VyX2lkIjoiM2U3ODU4YTgtNmJjNy0xMWVkLWFmNTAtMTdiMzkzMjlmZmEyIn0.9cS6-rR00fgmEmGu423IP3snJvmXe7ZGol7ZlYuHBNqmKGrWtTsMZPj-3C7dmureUmk3ZUttxioouPeAreKueg",
             "serverSettings": {},
             "tlsCAData": null,
```

### Comparing `edgedb-1.5.0/tests/shared-client-testcases/project_path_hashing_testcases.json` & `edgedb-2.0.0a1/tests/shared-client-testcases/project_path_hashing_testcases.json`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_async_query.py` & `edgedb-2.0.0a1/tests/test_async_query.py`

 * *Files 1% similar despite different names*

```diff
@@ -1026,22 +1026,7 @@
         self.assertEqual(obj.l.val, "hello")
         self.assertEqual(obj.l["@val"], 42)
 
         await self.client.execute('''
             DROP TYPE test::dup_link_prop_name_p;
             DROP TYPE test::dup_link_prop_name;
         ''')
-
-    async def test_transaction_state(self):
-        with self.assertRaisesRegex(edgedb.QueryError, "cannot assign to id"):
-            async for tx in self.client.transaction():
-                async with tx:
-                    await tx.execute('''
-                        INSERT test::Tmp { id := <uuid>$0, tmp := '' }
-                    ''', uuid.uuid4())
-
-        client = self.client.with_config(allow_user_specified_id=True)
-        async for tx in client.transaction():
-            async with tx:
-                await tx.execute('''
-                    INSERT test::Tmp { id := <uuid>$0, tmp := '' }
-                ''', uuid.uuid4())
```

### Comparing `edgedb-1.5.0/tests/test_async_retry.py` & `edgedb-2.0.0a1/tests/test_async_retry.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_async_tx.py` & `edgedb-2.0.0a1/tests/test_async_tx.py`

 * *Files 14% similar despite different names*

```diff
@@ -12,15 +12,14 @@
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
 
-import asyncio
 import itertools
 
 import edgedb
 
 from edgedb import _testbase as tb
 from edgedb import TransactionOptions
 from edgedb.options import RetryOptions
@@ -86,21 +85,7 @@
 
     async def test_async_transaction_commit_failure(self):
         with self.assertRaises(edgedb.errors.QueryError):
             async for tx in self.client.transaction():
                 async with tx:
                     await tx.execute("start migration to {};")
         self.assertEqual(await self.client.query_single("select 42"), 42)
-
-    async def test_async_transaction_exclusive(self):
-        async for tx in self.client.transaction():
-            async with tx:
-                query = "select sys::_sleep(0.01)"
-                f1 = self.loop.create_task(tx.execute(query))
-                f2 = self.loop.create_task(tx.execute(query))
-                with self.assertRaisesRegex(
-                    edgedb.InterfaceError,
-                    "concurrent queries within the same transaction "
-                    "are not allowed"
-                ):
-                    await asyncio.wait_for(f1, timeout=5)
-                    await asyncio.wait_for(f2, timeout=5)
```

### Comparing `edgedb-1.5.0/tests/test_asyncio_client.py` & `edgedb-2.0.0a1/tests/test_asyncio_client.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_blocking_client.py` & `edgedb-2.0.0a1/tests/test_blocking_client.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_codegen.py` & `edgedb-2.0.0a1/tests/test_codegen.py`

 * *Files 2% similar despite different names*

```diff
@@ -58,15 +58,15 @@
                 *args,
                 cwd=cwd,
                 env=env_,
                 stdout=subprocess.PIPE,
                 stderr=subprocess.STDOUT,
             )
             try:
-                await asyncio.wait_for(p.wait(), 120)
+                await asyncio.wait_for(p.wait(), 30)
             except asyncio.TimeoutError:
                 p.terminate()
                 await p.wait()
                 raise
 
         cmd = env.get("EDGEDB_PYTHON_TEST_CODEGEN_CMD", "edgedb-py")
         await run(
```

### Comparing `edgedb-1.5.0/tests/test_con_utils.py` & `edgedb-2.0.0a1/tests/test_con_utils.py`

 * *Files 1% similar despite different names*

```diff
@@ -28,31 +28,28 @@
 
 
 from edgedb import con_utils
 from edgedb import errors
 
 
 class TestConUtils(unittest.TestCase):
-    maxDiff = 1000
 
     error_mapping = {
         'credentials_file_not_found': (
             RuntimeError, 'cannot read credentials'),
         'project_not_initialised': (
             errors.ClientConnectionError,
             'Found `edgedb.toml` but the project is not initialized'),
         'no_options_or_toml': (
             errors.ClientConnectionError,
             'no `edgedb.toml` found and no connection options specified'),
         'invalid_credentials_file': (
             RuntimeError, 'cannot read credentials'),
         'invalid_dsn_or_instance_name': (
             ValueError, 'invalid DSN or instance name'),
-        'invalid_instance_name': (
-            ValueError, 'invalid instance name'),
         'invalid_dsn': (ValueError, 'invalid DSN'),
         'unix_socket_unsupported': (
             ValueError, 'unix socket paths not supported'),
         'invalid_host': (ValueError, 'invalid host'),
         'invalid_port': (ValueError, 'invalid port'),
         'invalid_user': (ValueError, 'invalid user'),
         'invalid_database': (ValueError, 'invalid database'),
@@ -181,17 +178,14 @@
                             instance = os.path.join(dir, 'instance-name')
                             files[instance] = v['instance-name']
                             project = os.path.join(dir, 'project-path')
                             files[project] = v['project-path']
                             if 'cloud-profile' in v:
                                 profile = os.path.join(dir, 'cloud-profile')
                                 files[profile] = v['cloud-profile']
-                            if 'database' in v:
-                                database_file = os.path.join(dir, 'database')
-                                files[database_file] = v['database']
                             del files[f]
 
                     es.enter_context(
                         mock.patch(
                             'os.path.exists',
                             lambda filepath: str(filepath) in files
                         )
```

### Comparing `edgedb-1.5.0/tests/test_connect.py` & `edgedb-2.0.0a1/tests/test_connect.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_credentials.py` & `edgedb-2.0.0a1/tests/test_credentials.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_datetime.py` & `edgedb-2.0.0a1/tests/test_datetime.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_enum.py` & `edgedb-2.0.0a1/tests/test_enum.py`

 * *Files 5% similar despite different names*

```diff
@@ -95,16 +95,7 @@
         d = dataclasses.asdict(c)
         self.assertIs(d['color'], c_red)
 
     async def test_enum_03(self):
         c_red = await self.client.query_single('SELECT <Color>"red"')
         c_red2 = await self.client.query_single('SELECT <Color>$0', c_red)
         self.assertIs(c_red, c_red2)
-
-    async def test_enum_04(self):
-        enums = await self.client.query_single(
-            'SELECT <array<Color>>$0', ['red', 'white']
-        )
-        enums2 = await self.client.query_single(
-            'SELECT <array<Color>>$0', enums
-        )
-        self.assertEqual(enums, enums2)
```

### Comparing `edgedb-1.5.0/tests/test_errors.py` & `edgedb-2.0.0a1/tests/test_errors.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_globals.py` & `edgedb-2.0.0a1/tests/test_globals.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_memory.py` & `edgedb-2.0.0a1/tests/test_memory.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_proto.py` & `edgedb-2.0.0a1/tests/test_proto.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_scram.py` & `edgedb-2.0.0a1/tests/test_scram.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_sourcecode.py` & `edgedb-2.0.0a1/tests/test_sourcecode.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_state.py` & `edgedb-2.0.0a1/tests/test_state.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_sync_query.py` & `edgedb-2.0.0a1/tests/test_sync_query.py`

 * *Files 0% similar despite different names*

```diff
@@ -864,22 +864,7 @@
             self.client.query('start transaction')
 
         with self.assertRaisesRegex(
             edgedb.CapabilityError,
             r'cannot execute transaction control commands',
         ):
             self.client.execute('start transaction')
-
-    def test_transaction_state(self):
-        with self.assertRaisesRegex(edgedb.QueryError, "cannot assign to id"):
-            for tx in self.client.transaction():
-                with tx:
-                    tx.execute('''
-                        INSERT test::Tmp { id := <uuid>$0, tmp := '' }
-                    ''', uuid.uuid4())
-
-        client = self.client.with_config(allow_user_specified_id=True)
-        for tx in client.transaction():
-            with tx:
-                tx.execute('''
-                    INSERT test::Tmp { id := <uuid>$0, tmp := '' }
-                ''', uuid.uuid4())
```

### Comparing `edgedb-1.5.0/tests/test_sync_retry.py` & `edgedb-2.0.0a1/tests/test_sync_retry.py`

 * *Files identical despite different names*

### Comparing `edgedb-1.5.0/tests/test_sync_tx.py` & `edgedb-2.0.0a1/tests/test_sync_tx.py`

 * *Files 21% similar despite different names*

```diff
@@ -13,15 +13,14 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
 
 import itertools
-from concurrent.futures import ThreadPoolExecutor
 
 import edgedb
 
 from edgedb import _testbase as tb
 from edgedb import TransactionOptions
 
 
@@ -94,22 +93,7 @@
 
     def test_sync_transaction_commit_failure(self):
         with self.assertRaises(edgedb.errors.QueryError):
             for tx in self.client.transaction():
                 with tx:
                     tx.execute("start migration to {};")
         self.assertEqual(self.client.query_single("select 42"), 42)
-
-    def test_sync_transaction_exclusive(self):
-        for tx in self.client.transaction():
-            with tx:
-                query = "select sys::_sleep(0.01)"
-                with ThreadPoolExecutor(max_workers=2) as executor:
-                    f1 = executor.submit(tx.execute, query)
-                    f2 = executor.submit(tx.execute, query)
-                    with self.assertRaisesRegex(
-                        edgedb.InterfaceError,
-                        "concurrent queries within the same transaction "
-                        "are not allowed"
-                    ):
-                        f1.result(timeout=5)
-                        f2.result(timeout=5)
```

