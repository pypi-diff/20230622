# Comparing `tmp/pagarme-python-5.7.4.tar.gz` & `tmp/pagarme-python-5.7.5.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist/pagarme-python-5.7.4.tar", last modified: Fri Jun  2 14:35:37 2023, max compression
+gzip compressed data, was "dist/pagarme-python-5.7.5.tar", last modified: Thu Jun 22 17:44:44 2023, max compression
```

## Comparing `pagarme-python-5.7.4.tar` & `pagarme-python-5.7.5.tar`

### file list

```diff
@@ -1,272 +1,272 @@
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/
--rw-r--r--   0 root         (0) root         (0)     1213 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/LICENSE
--rw-r--r--   0 root         (0) root         (0)       36 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/MANIFEST.in
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/tests/
--rw-r--r--   0 root         (0) root         (0)      681 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/http_response_catcher.py
--rw-r--r--   0 root         (0) root         (0)        0 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/__init__.py
--rw-r--r--   0 root         (0) root         (0)     5125 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/test_helper.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/tests/controllers/
--rw-r--r--   0 root         (0) root         (0)     1321 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/controllers/test_plans_controller.py
--rw-r--r--   0 root         (0) root         (0)     1718 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/controllers/test_recipients_controller.py
--rw-r--r--   0 root         (0) root         (0)        0 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/controllers/__init__.py
--rw-r--r--   0 root         (0) root         (0)      999 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/controllers/controller_test_base.py
--rw-r--r--   0 root         (0) root         (0)     1586 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/controllers/test_subscriptions_controller.py
--rw-r--r--   0 root         (0) root         (0)     1067 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/controllers/test_transfers_controller.py
--rw-r--r--   0 root         (0) root         (0)     1513 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/controllers/test_invoices_controller.py
--rw-r--r--   0 root         (0) root         (0)     1266 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/controllers/test_customers_controller.py
--rw-r--r--   0 root         (0) root         (0)     1325 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/controllers/test_orders_controller.py
--rw-r--r--   0 root         (0) root         (0)     1414 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/tests/controllers/test_charges_controller.py
--rw-r--r--   0 root         (0) root         (0)      244 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/PKG-INFO
--rw-r--r--   0 root         (0) root         (0)      872 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/setup.py
--rw-r--r--   0 root         (0) root         (0)       59 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/setup.cfg
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarme_python.egg-info/
--rw-r--r--   0 root         (0) root         (0)      244 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarme_python.egg-info/PKG-INFO
--rw-r--r--   0 root         (0) root         (0)    12967 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarme_python.egg-info/SOURCES.txt
--rw-r--r--   0 root         (0) root         (0)        1 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarme_python.egg-info/dependency_links.txt
--rw-r--r--   0 root         (0) root         (0)       21 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarme_python.egg-info/top_level.txt
--rw-r--r--   0 root         (0) root         (0)      102 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarme_python.egg-info/requires.txt
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarmecoreapi/
--rw-r--r--   0 root         (0) root         (0)    13744 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/api_helper.py
--rw-r--r--   0 root         (0) root         (0)     2327 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/pagarmecoreapi_client.py
--rw-r--r--   0 root         (0) root         (0)      169 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarmecoreapi/exceptions/
--rw-r--r--   0 root         (0) root         (0)       58 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/exceptions/__init__.py
--rw-r--r--   0 root         (0) root         (0)      906 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/exceptions/api_exception.py
--rw-r--r--   0 root         (0) root         (0)     1384 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/exceptions/error_exception.py
--rw-r--r--   0 root         (0) root         (0)      905 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/configuration.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarmecoreapi/models/
--rw-r--r--   0 root         (0) root         (0)     1941 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_anticipation_limits_response.py
--rw-r--r--   0 root         (0) root         (0)     1626 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_bank_transfer_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     3105 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_voucher_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     1639 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_cancel_subscription_request.py
--rw-r--r--   0 root         (0) root         (0)     1633 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_location_request.py
--rw-r--r--   0 root         (0) root         (0)     2095 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_withdrawals.py
--rw-r--r--   0 root         (0) root         (0)     1957 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_payment_authentication_request.py
--rw-r--r--   0 root         (0) root         (0)     1604 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/pix_additional_information.py
--rw-r--r--   0 root         (0) root         (0)     2109 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_customers_response.py
--rw-r--r--   0 root         (0) root         (0)     1403 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_invoice_status_request.py
--rw-r--r--   0 root         (0) root         (0)     3934 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_charge_request.py
--rw-r--r--   0 root         (0) root         (0)     1443 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_bank_transfer_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     2748 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_card_payment_contactless_request.py
--rw-r--r--   0 root         (0) root         (0)     7653 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     2243 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_price_bracket_response.py
--rw-r--r--   0 root         (0) root         (0)     4074 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_recipient_request.py
--rw-r--r--   0 root         (0) root         (0)     1415 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_charges_summary_response.py
--rw-r--r--   0 root         (0) root         (0)     3067 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_credit_card_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     3986 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_bank_account_request.py
--rw-r--r--   0 root         (0) root         (0)     1655 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_current_cycle_end_date_request.py
--rw-r--r--   0 root         (0) root         (0)     1592 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_period_request.py
--rw-r--r--   0 root         (0) root         (0)     1411 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_device_request.py
--rw-r--r--   0 root         (0) root         (0)     2149 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_subscriptions_response.py
--rw-r--r--   0 root         (0) root         (0)     2443 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_antifraud_response.py
--rw-r--r--   0 root         (0) root         (0)     2125 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_debit_card_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     2619 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_pix_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     1935 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_split_request.py
--rw-r--r--   0 root         (0) root         (0)     3645 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_payment_settings_response.py
--rw-r--r--   0 root         (0) root         (0)     1526 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_due_days_request.py
--rw-r--r--   0 root         (0) root         (0)     1806 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_transaction_report_file_response.py
--rw-r--r--   0 root         (0) root         (0)     1921 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_subscription_split_response.py
--rw-r--r--   0 root         (0) root         (0)     4352 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_usage_response.py
--rw-r--r--   0 root         (0) root         (0)     5625 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_bank_account_response.py
--rw-r--r--   0 root         (0) root         (0)     5360 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_card_request.py
--rw-r--r--   0 root         (0) root         (0)     5390 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_customer_response.py
--rw-r--r--   0 root         (0) root         (0)     2400 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_recipient_request.py
--rw-r--r--   0 root         (0) root         (0)     4619 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_plan_item_response.py
--rw-r--r--   0 root         (0) root         (0)     2107 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_anticipation_response.py
--rw-r--r--   0 root         (0) root         (0)     2186 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_charge_transactions_response.py
--rw-r--r--   0 root         (0) root         (0)     1423 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_current_cycle_status_request.py
--rw-r--r--   0 root         (0) root         (0)     3489 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_invoice_item_response.py
--rw-r--r--   0 root         (0) root         (0)     2089 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_order_response.py
--rw-r--r--   0 root         (0) root         (0)     3763 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_customer_request.py
--rw-r--r--   0 root         (0) root         (0)     1425 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_device_response.py
--rw-r--r--   0 root         (0) root         (0)     4156 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_period_response.py
--rw-r--r--   0 root         (0) root         (0)     2185 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_pix_bank_account_response.py
--rw-r--r--   0 root         (0) root         (0)     2112 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_discounts_response.py
--rw-r--r--   0 root         (0) root         (0)     7165 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/__init__.py
--rw-r--r--   0 root         (0) root         (0)     2445 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_order_item_response.py
--rw-r--r--   0 root         (0) root         (0)     2397 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_automatic_anticipation_settings_request.py
--rw-r--r--   0 root         (0) root         (0)     3168 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_card_request.py
--rw-r--r--   0 root         (0) root         (0)     1576 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_card_options_request.py
--rw-r--r--   0 root         (0) root         (0)     2116 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_transfer.py
--rw-r--r--   0 root         (0) root         (0)     1778 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_emv_data_tlv_decrypt_request.py
--rw-r--r--   0 root         (0) root         (0)     2382 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_charge_card_request.py
--rw-r--r--   0 root         (0) root         (0)     1662 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_card_installment_options_response.py
--rw-r--r--   0 root         (0) root         (0)     7387 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_order_response.py
--rw-r--r--   0 root         (0) root         (0)     1801 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_card_request.py
--rw-r--r--   0 root         (0) root         (0)     2077 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_plans_response.py
--rw-r--r--   0 root         (0) root         (0)     4382 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_private_label_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     3443 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_billing_address_response.py
--rw-r--r--   0 root         (0) root         (0)     1451 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_clear_sale_request.py
--rw-r--r--   0 root         (0) root         (0)     3742 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_customer_request.py
--rw-r--r--   0 root         (0) root         (0)     3257 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_transfer_response.py
--rw-r--r--   0 root         (0) root         (0)     1658 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_transfer_target_response.py
--rw-r--r--   0 root         (0) root         (0)     2686 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_access_token_response.py
--rw-r--r--   0 root         (0) root         (0)     2104 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_invoices_response.py
--rw-r--r--   0 root         (0) root         (0)     2659 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_emv_decrypt_request.py
--rw-r--r--   0 root         (0) root         (0)     2812 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_split_response.py
--rw-r--r--   0 root         (0) root         (0)     2033 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_phones_request.py
--rw-r--r--   0 root         (0) root         (0)     3113 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_usages_details_response.py
--rw-r--r--   0 root         (0) root         (0)     7246 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_plan_response.py
--rw-r--r--   0 root         (0) root         (0)     2658 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_google_pay_request.py
--rw-r--r--   0 root         (0) root         (0)     3075 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_item_request.py
--rw-r--r--   0 root         (0) root         (0)     5413 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_charge_payment_method_request.py
--rw-r--r--   0 root         (0) root         (0)     1733 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_token_request.py
--rw-r--r--   0 root         (0) root         (0)     2875 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_pricing_scheme_response.py
--rw-r--r--   0 root         (0) root         (0)     2363 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_pix_payer_response.py
--rw-r--r--   0 root         (0) root         (0)     2334 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_gateway_recipient_response.py
--rw-r--r--   0 root         (0) root         (0)     1717 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_interest_response.py
--rw-r--r--   0 root         (0) root         (0)     2055 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_transfers.py
--rw-r--r--   0 root         (0) root         (0)     6618 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_order_request.py
--rw-r--r--   0 root         (0) root         (0)    94644 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_transaction_response.py
--rw-r--r--   0 root         (0) root         (0)     2902 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_cancel_charge_request.py
--rw-r--r--   0 root         (0) root         (0)     1650 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_location_response.py
--rw-r--r--   0 root         (0) root         (0)     3130 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_card_token_response.py
--rw-r--r--   0 root         (0) root         (0)     5304 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_boleto_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     2151 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_debit_card_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     4055 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_debit_card_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     1401 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_gateway_error_response.py
--rw-r--r--   0 root         (0) root         (0)     2111 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_recipient_response.py
--rw-r--r--   0 root         (0) root         (0)    11778 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_subscription_request.py
--rw-r--r--   0 root         (0) root         (0)     2117 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_transfer_settings_request.py
--rw-r--r--   0 root         (0) root         (0)     2052 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_address_request.py
--rw-r--r--   0 root         (0) root         (0)     2096 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_transfer_response.py
--rw-r--r--   0 root         (0) root         (0)     1659 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_withdraw_request.py
--rw-r--r--   0 root         (0) root         (0)     2780 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_balance_response.py
--rw-r--r--   0 root         (0) root         (0)     2112 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_transfer_settings_request.py
--rw-r--r--   0 root         (0) root         (0)     2049 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_usages_details_response.py
--rw-r--r--   0 root         (0) root         (0)     1894 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_boleto_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     2129 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_order_item_request.py
--rw-r--r--   0 root         (0) root         (0)     2924 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_three_d_secure_request.py
--rw-r--r--   0 root         (0) root         (0)     6570 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_plan_request.py
--rw-r--r--   0 root         (0) root         (0)     1626 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_affiliation_id_request.py
--rw-r--r--   0 root         (0) root         (0)    11310 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     2384 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_pix_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     2262 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_order_item_request.py
--rw-r--r--   0 root         (0) root         (0)     1425 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_metadata_request.py
--rw-r--r--   0 root         (0) root         (0)     2120 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_increments_response.py
--rw-r--r--   0 root         (0) root         (0)     2174 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_price_bracket_request.py
--rw-r--r--   0 root         (0) root         (0)     5726 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_address_response.py
--rw-r--r--   0 root         (0) root         (0)     1834 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_cancel_charge_split_rules_request.py
--rw-r--r--   0 root         (0) root         (0)     4152 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_anticipation_response.py
--rw-r--r--   0 root         (0) root         (0)     2480 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/cancel_split_request.py
--rw-r--r--   0 root         (0) root         (0)     5102 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_plan_request.py
--rw-r--r--   0 root         (0) root         (0)     1685 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_anticipation_limit_response.py
--rw-r--r--   0 root         (0) root         (0)     1800 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_billing_date_request.py
--rw-r--r--   0 root         (0) root         (0)     1658 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_withdraw_target_response.py
--rw-r--r--   0 root         (0) root         (0)     2082 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_split_options_request.py
--rw-r--r--   0 root         (0) root         (0)     1408 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_order_status_request.py
--rw-r--r--   0 root         (0) root         (0)     2440 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_increment_request.py
--rw-r--r--   0 root         (0) root         (0)    11008 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_subscription_response.py
--rw-r--r--   0 root         (0) root         (0)     1461 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_access_token_request.py
--rw-r--r--   0 root         (0) root         (0)     2609 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_token_response.py
--rw-r--r--   0 root         (0) root         (0)     2140 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_transactions_response.py
--rw-r--r--   0 root         (0) root         (0)     5288 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_transfer.py
--rw-r--r--   0 root         (0) root         (0)     1953 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_gateway_response_response.py
--rw-r--r--   0 root         (0) root         (0)     2788 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_plan_item_request.py
--rw-r--r--   0 root         (0) root         (0)     2807 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_credit_card_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     2226 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_transactions_files_response.py
--rw-r--r--   0 root         (0) root         (0)     2108 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_addresses_response.py
--rw-r--r--   0 root         (0) root         (0)     2054 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_boleto_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     2074 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_setup_response.py
--rw-r--r--   0 root         (0) root         (0)     3668 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_address_request.py
--rw-r--r--   0 root         (0) root         (0)     3576 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_sub_merchant_request.py
--rw-r--r--   0 root         (0) root         (0)     2800 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_pricing_scheme_request.py
--rw-r--r--   0 root         (0) root         (0)     1708 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_start_at_request.py
--rw-r--r--   0 root         (0) root         (0)     1658 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_transfer_source_response.py
--rw-r--r--   0 root         (0) root         (0)     3872 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_subscription_item_request.py
--rw-r--r--   0 root         (0) root         (0)     1623 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_transfer_request.py
--rw-r--r--   0 root         (0) root         (0)     2342 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_payment_method_request.py
--rw-r--r--   0 root         (0) root         (0)     2758 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_plan_item_request.py
--rw-r--r--   0 root         (0) root         (0)     3911 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_shipping_response.py
--rw-r--r--   0 root         (0) root         (0)     1592 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_google_pay_header_request.py
--rw-r--r--   0 root         (0) root         (0)     2119 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_setup_request.py
--rw-r--r--   0 root         (0) root         (0)     2019 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_usage_report_response.py
--rw-r--r--   0 root         (0) root         (0)     2077 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_cards_response.py
--rw-r--r--   0 root         (0) root         (0)     4426 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_increment_response.py
--rw-r--r--   0 root         (0) root         (0)     2427 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_emv_data_decrypt_request.py
--rw-r--r--   0 root         (0) root         (0)     3115 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_seller_request.py
--rw-r--r--   0 root         (0) root         (0)     6274 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_card_response.py
--rw-r--r--   0 root         (0) root         (0)     2013 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_phones_response.py
--rw-r--r--   0 root         (0) root         (0)     2106 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_anticipation_request.py
--rw-r--r--   0 root         (0) root         (0)     2108 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_split_options_response.py
--rw-r--r--   0 root         (0) root         (0)     2144 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_access_tokens_response.py
--rw-r--r--   0 root         (0) root         (0)     2101 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_transfer_settings_response.py
--rw-r--r--   0 root         (0) root         (0)     9005 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_invoice_response.py
--rw-r--r--   0 root         (0) root         (0)     2004 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_recipient_bank_account_request.py
--rw-r--r--   0 root         (0) root         (0)     2114 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_usages_response.py
--rw-r--r--   0 root         (0) root         (0)     2426 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_card_payment_contactless_poi_request.py
--rw-r--r--   0 root         (0) root         (0)     3727 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_seller_response.py
--rw-r--r--   0 root         (0) root         (0)     2423 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_discount_request.py
--rw-r--r--   0 root         (0) root         (0)     2736 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_usage_request.py
--rw-r--r--   0 root         (0) root         (0)     2648 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_apple_pay_request.py
--rw-r--r--   0 root         (0) root         (0)     6930 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_recipient_response.py
--rw-r--r--   0 root         (0) root         (0)     2504 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_split_request.py
--rw-r--r--   0 root         (0) root         (0)     1911 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_phone_response.py
--rw-r--r--   0 root         (0) root         (0)     2071 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_transaction_report_file_request.py
--rw-r--r--   0 root         (0) root         (0)     1706 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_fine_request.py
--rw-r--r--   0 root         (0) root         (0)     1701 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_fine_response.py
--rw-r--r--   0 root         (0) root         (0)     8022 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     1424 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_invoice_request.py
--rw-r--r--   0 root         (0) root         (0)     5306 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_withdraw_response.py
--rw-r--r--   0 root         (0) root         (0)     2405 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_automatic_anticipation_settings_request.py
--rw-r--r--   0 root         (0) root         (0)     1614 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_charge_due_date_request.py
--rw-r--r--   0 root         (0) root         (0)     1410 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_emv_data_dukpt_decrypt_request.py
--rw-r--r--   0 root         (0) root         (0)     7964 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_charge_response.py
--rw-r--r--   0 root         (0) root         (0)     1648 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_card_installment_option_request.py
--rw-r--r--   0 root         (0) root         (0)     2790 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_sellers_request.py
--rw-r--r--   0 root         (0) root         (0)     2095 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_charges_response.py
--rw-r--r--   0 root         (0) root         (0)     1944 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_payment_authentication_response.py
--rw-r--r--   0 root         (0) root         (0)     1722 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_interest_request.py
--rw-r--r--   0 root         (0) root         (0)     2117 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_cycles_response.py
--rw-r--r--   0 root         (0) root         (0)     1646 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_bank_transfer_request.py
--rw-r--r--   0 root         (0) root         (0)     2196 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_apple_pay_header_request.py
--rw-r--r--   0 root         (0) root         (0)     2204 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_price_bracket_request.py
--rw-r--r--   0 root         (0) root         (0)     5870 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_subscription_item_response.py
--rw-r--r--   0 root         (0) root         (0)     1850 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_antifraud_request.py
--rw-r--r--   0 root         (0) root         (0)     2879 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_seller_request.py
--rw-r--r--   0 root         (0) root         (0)     2800 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_pricing_scheme_request.py
--rw-r--r--   0 root         (0) root         (0)     1795 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/paging_response.py
--rw-r--r--   0 root         (0) root         (0)     2181 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_subscription_items_response.py
--rw-r--r--   0 root         (0) root         (0)     1935 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_subscription_split_request.py
--rw-r--r--   0 root         (0) root         (0)     1917 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_phone_request.py
--rw-r--r--   0 root         (0) root         (0)     1733 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_cash_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     2524 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_capture_charge_request.py
--rw-r--r--   0 root         (0) root         (0)     2665 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_pix_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     1532 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_minimum_price_request.py
--rw-r--r--   0 root         (0) root         (0)     1834 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_confirm_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     6465 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_credit_card_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     2375 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_automatic_anticipation_response.py
--rw-r--r--   0 root         (0) root         (0)     2031 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/list_seller_response.py
--rw-r--r--   0 root         (0) root         (0)     2740 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_card_token_request.py
--rw-r--r--   0 root         (0) root         (0)     2365 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_three_d_secure_response.py
--rw-r--r--   0 root         (0) root         (0)     4127 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/create_shipping_request.py
--rw-r--r--   0 root         (0) root         (0)     4413 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_discount_response.py
--rw-r--r--   0 root         (0) root         (0)     1658 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/models/get_withdraw_source_response.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/
--rw-r--r--   0 root         (0) root         (0)    36176 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/charges_controller.py
--rw-r--r--   0 root         (0) root         (0)    55854 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/customers_controller.py
--rw-r--r--   0 root         (0) root         (0)     6055 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/tokens_controller.py
--rw-r--r--   0 root         (0) root         (0)     7154 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/transfers_controller.py
--rw-r--r--   0 root         (0) root         (0)      321 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/__init__.py
--rw-r--r--   0 root         (0) root         (0)    99671 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/subscriptions_controller.py
--rw-r--r--   0 root         (0) root         (0)    58037 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/recipients_controller.py
--rw-r--r--   0 root         (0) root         (0)     2962 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/transactions_controller.py
--rw-r--r--   0 root         (0) root         (0)    20247 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/invoices_controller.py
--rw-r--r--   0 root         (0) root         (0)    26708 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/plans_controller.py
--rw-r--r--   0 root         (0) root         (0)    26679 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/orders_controller.py
--rw-r--r--   0 root         (0) root         (0)     3335 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/base_controller.py
--rw-r--r--   0 root         (0) root         (0)    11888 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/controllers/sellers_controller.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarmecoreapi/http/
--rw-r--r--   0 root         (0) root         (0)     3557 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/http/requests_client.py
--rw-r--r--   0 root         (0) root         (0)      926 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/http/http_method_enum.py
--rw-r--r--   0 root         (0) root         (0)      181 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/http/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-02 14:35:37.000000 pagarme-python-5.7.4/pagarmecoreapi/http/auth/
--rw-r--r--   0 root         (0) root         (0)       31 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/http/auth/__init__.py
--rw-r--r--   0 root         (0) root         (0)      847 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/http/auth/basic_auth.py
--rw-r--r--   0 root         (0) root         (0)     2832 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/http/http_request.py
--rw-r--r--   0 root         (0) root         (0)      967 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/http/http_context.py
--rw-r--r--   0 root         (0) root         (0)     7106 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/http/http_client.py
--rw-r--r--   0 root         (0) root         (0)     1121 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/http/http_call_back.py
--rw-r--r--   0 root         (0) root         (0)     1094 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/http/http_response.py
--rw-r--r--   0 root         (0) root         (0)      515 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/pagarmecoreapi/decorators.py
--rw-r--r--   0 root         (0) root         (0)   151624 2023-06-02 14:35:35.000000 pagarme-python-5.7.4/README.md
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/
+-rw-r--r--   0 root         (0) root         (0)     1213 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/LICENSE
+-rw-r--r--   0 root         (0) root         (0)       36 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/MANIFEST.in
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/tests/
+-rw-r--r--   0 root         (0) root         (0)      681 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/http_response_catcher.py
+-rw-r--r--   0 root         (0) root         (0)        0 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     5125 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/test_helper.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/tests/controllers/
+-rw-r--r--   0 root         (0) root         (0)     1321 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/controllers/test_plans_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1718 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/controllers/test_recipients_controller.py
+-rw-r--r--   0 root         (0) root         (0)        0 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/controllers/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      999 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/controllers/controller_test_base.py
+-rw-r--r--   0 root         (0) root         (0)     1586 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/controllers/test_subscriptions_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1067 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/controllers/test_transfers_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1513 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/controllers/test_invoices_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1266 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/controllers/test_customers_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1325 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/controllers/test_orders_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1414 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/tests/controllers/test_charges_controller.py
+-rw-r--r--   0 root         (0) root         (0)      244 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/PKG-INFO
+-rw-r--r--   0 root         (0) root         (0)      872 2023-06-22 17:44:43.000000 pagarme-python-5.7.5/setup.py
+-rw-r--r--   0 root         (0) root         (0)       59 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/setup.cfg
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarme_python.egg-info/
+-rw-r--r--   0 root         (0) root         (0)      244 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarme_python.egg-info/PKG-INFO
+-rw-r--r--   0 root         (0) root         (0)    12967 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarme_python.egg-info/SOURCES.txt
+-rw-r--r--   0 root         (0) root         (0)        1 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarme_python.egg-info/dependency_links.txt
+-rw-r--r--   0 root         (0) root         (0)       21 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarme_python.egg-info/top_level.txt
+-rw-r--r--   0 root         (0) root         (0)      102 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarme_python.egg-info/requires.txt
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarmecoreapi/
+-rw-r--r--   0 root         (0) root         (0)    13744 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/api_helper.py
+-rw-r--r--   0 root         (0) root         (0)     2489 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/pagarmecoreapi_client.py
+-rw-r--r--   0 root         (0) root         (0)      169 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarmecoreapi/exceptions/
+-rw-r--r--   0 root         (0) root         (0)       58 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/exceptions/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      906 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/exceptions/api_exception.py
+-rw-r--r--   0 root         (0) root         (0)     1384 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/exceptions/error_exception.py
+-rw-r--r--   0 root         (0) root         (0)      978 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/configuration.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarmecoreapi/models/
+-rw-r--r--   0 root         (0) root         (0)     1941 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_anticipation_limits_response.py
+-rw-r--r--   0 root         (0) root         (0)     1626 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_bank_transfer_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     3105 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_voucher_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     1639 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_cancel_subscription_request.py
+-rw-r--r--   0 root         (0) root         (0)     1633 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_location_request.py
+-rw-r--r--   0 root         (0) root         (0)     2095 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_withdrawals.py
+-rw-r--r--   0 root         (0) root         (0)     1957 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_payment_authentication_request.py
+-rw-r--r--   0 root         (0) root         (0)     1604 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/pix_additional_information.py
+-rw-r--r--   0 root         (0) root         (0)     2109 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_customers_response.py
+-rw-r--r--   0 root         (0) root         (0)     1403 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_invoice_status_request.py
+-rw-r--r--   0 root         (0) root         (0)     3934 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_charge_request.py
+-rw-r--r--   0 root         (0) root         (0)     1443 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_bank_transfer_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2748 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_card_payment_contactless_request.py
+-rw-r--r--   0 root         (0) root         (0)     7653 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     2243 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_price_bracket_response.py
+-rw-r--r--   0 root         (0) root         (0)     4074 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_recipient_request.py
+-rw-r--r--   0 root         (0) root         (0)     1415 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_charges_summary_response.py
+-rw-r--r--   0 root         (0) root         (0)     3067 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_credit_card_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     3986 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_bank_account_request.py
+-rw-r--r--   0 root         (0) root         (0)     1655 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_current_cycle_end_date_request.py
+-rw-r--r--   0 root         (0) root         (0)     1592 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_period_request.py
+-rw-r--r--   0 root         (0) root         (0)     1411 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_device_request.py
+-rw-r--r--   0 root         (0) root         (0)     2149 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_subscriptions_response.py
+-rw-r--r--   0 root         (0) root         (0)     2443 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_antifraud_response.py
+-rw-r--r--   0 root         (0) root         (0)     2125 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_debit_card_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2619 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_pix_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     1935 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_split_request.py
+-rw-r--r--   0 root         (0) root         (0)     3645 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_payment_settings_response.py
+-rw-r--r--   0 root         (0) root         (0)     1526 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_due_days_request.py
+-rw-r--r--   0 root         (0) root         (0)     1806 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_transaction_report_file_response.py
+-rw-r--r--   0 root         (0) root         (0)     1921 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_subscription_split_response.py
+-rw-r--r--   0 root         (0) root         (0)     4352 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_usage_response.py
+-rw-r--r--   0 root         (0) root         (0)     5625 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_bank_account_response.py
+-rw-r--r--   0 root         (0) root         (0)     5360 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_card_request.py
+-rw-r--r--   0 root         (0) root         (0)     5390 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_customer_response.py
+-rw-r--r--   0 root         (0) root         (0)     2400 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_recipient_request.py
+-rw-r--r--   0 root         (0) root         (0)     4619 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_plan_item_response.py
+-rw-r--r--   0 root         (0) root         (0)     2107 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_anticipation_response.py
+-rw-r--r--   0 root         (0) root         (0)     2186 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_charge_transactions_response.py
+-rw-r--r--   0 root         (0) root         (0)     1423 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_current_cycle_status_request.py
+-rw-r--r--   0 root         (0) root         (0)     3489 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_invoice_item_response.py
+-rw-r--r--   0 root         (0) root         (0)     2089 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_order_response.py
+-rw-r--r--   0 root         (0) root         (0)     3763 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_customer_request.py
+-rw-r--r--   0 root         (0) root         (0)     1425 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_device_response.py
+-rw-r--r--   0 root         (0) root         (0)     4156 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_period_response.py
+-rw-r--r--   0 root         (0) root         (0)     2185 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_pix_bank_account_response.py
+-rw-r--r--   0 root         (0) root         (0)     2112 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_discounts_response.py
+-rw-r--r--   0 root         (0) root         (0)     7165 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     2445 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_order_item_response.py
+-rw-r--r--   0 root         (0) root         (0)     2397 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_automatic_anticipation_settings_request.py
+-rw-r--r--   0 root         (0) root         (0)     3168 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_card_request.py
+-rw-r--r--   0 root         (0) root         (0)     1576 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_card_options_request.py
+-rw-r--r--   0 root         (0) root         (0)     2116 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_transfer.py
+-rw-r--r--   0 root         (0) root         (0)     1778 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_emv_data_tlv_decrypt_request.py
+-rw-r--r--   0 root         (0) root         (0)     2382 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_charge_card_request.py
+-rw-r--r--   0 root         (0) root         (0)     1662 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_card_installment_options_response.py
+-rw-r--r--   0 root         (0) root         (0)     7387 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_order_response.py
+-rw-r--r--   0 root         (0) root         (0)     1801 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_card_request.py
+-rw-r--r--   0 root         (0) root         (0)     2077 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_plans_response.py
+-rw-r--r--   0 root         (0) root         (0)     4382 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_private_label_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     3443 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_billing_address_response.py
+-rw-r--r--   0 root         (0) root         (0)     1451 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_clear_sale_request.py
+-rw-r--r--   0 root         (0) root         (0)     3742 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_customer_request.py
+-rw-r--r--   0 root         (0) root         (0)     3257 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_transfer_response.py
+-rw-r--r--   0 root         (0) root         (0)     1658 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_transfer_target_response.py
+-rw-r--r--   0 root         (0) root         (0)     2686 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_access_token_response.py
+-rw-r--r--   0 root         (0) root         (0)     2104 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_invoices_response.py
+-rw-r--r--   0 root         (0) root         (0)     2659 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_emv_decrypt_request.py
+-rw-r--r--   0 root         (0) root         (0)     2812 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_split_response.py
+-rw-r--r--   0 root         (0) root         (0)     2033 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_phones_request.py
+-rw-r--r--   0 root         (0) root         (0)     3113 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_usages_details_response.py
+-rw-r--r--   0 root         (0) root         (0)     7246 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_plan_response.py
+-rw-r--r--   0 root         (0) root         (0)     2658 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_google_pay_request.py
+-rw-r--r--   0 root         (0) root         (0)     3075 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     5413 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_charge_payment_method_request.py
+-rw-r--r--   0 root         (0) root         (0)     1733 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_token_request.py
+-rw-r--r--   0 root         (0) root         (0)     2875 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_pricing_scheme_response.py
+-rw-r--r--   0 root         (0) root         (0)     2363 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_pix_payer_response.py
+-rw-r--r--   0 root         (0) root         (0)     2334 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_gateway_recipient_response.py
+-rw-r--r--   0 root         (0) root         (0)     1717 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_interest_response.py
+-rw-r--r--   0 root         (0) root         (0)     2055 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_transfers.py
+-rw-r--r--   0 root         (0) root         (0)     6618 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_order_request.py
+-rw-r--r--   0 root         (0) root         (0)    94644 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_transaction_response.py
+-rw-r--r--   0 root         (0) root         (0)     2902 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_cancel_charge_request.py
+-rw-r--r--   0 root         (0) root         (0)     1650 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_location_response.py
+-rw-r--r--   0 root         (0) root         (0)     3130 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_card_token_response.py
+-rw-r--r--   0 root         (0) root         (0)     5304 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_boleto_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     2151 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_debit_card_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     4055 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_debit_card_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     1401 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_gateway_error_response.py
+-rw-r--r--   0 root         (0) root         (0)     2111 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_recipient_response.py
+-rw-r--r--   0 root         (0) root         (0)    11778 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_subscription_request.py
+-rw-r--r--   0 root         (0) root         (0)     2117 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_transfer_settings_request.py
+-rw-r--r--   0 root         (0) root         (0)     2052 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_address_request.py
+-rw-r--r--   0 root         (0) root         (0)     2096 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_transfer_response.py
+-rw-r--r--   0 root         (0) root         (0)     1659 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_withdraw_request.py
+-rw-r--r--   0 root         (0) root         (0)     2780 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_balance_response.py
+-rw-r--r--   0 root         (0) root         (0)     2112 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_transfer_settings_request.py
+-rw-r--r--   0 root         (0) root         (0)     2049 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_usages_details_response.py
+-rw-r--r--   0 root         (0) root         (0)     1894 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_boleto_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2129 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_order_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     2924 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_three_d_secure_request.py
+-rw-r--r--   0 root         (0) root         (0)     6570 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_plan_request.py
+-rw-r--r--   0 root         (0) root         (0)     1626 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_affiliation_id_request.py
+-rw-r--r--   0 root         (0) root         (0)    11310 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2384 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_pix_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2262 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_order_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     1425 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_metadata_request.py
+-rw-r--r--   0 root         (0) root         (0)     2120 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_increments_response.py
+-rw-r--r--   0 root         (0) root         (0)     2174 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_price_bracket_request.py
+-rw-r--r--   0 root         (0) root         (0)     5726 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_address_response.py
+-rw-r--r--   0 root         (0) root         (0)     1834 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_cancel_charge_split_rules_request.py
+-rw-r--r--   0 root         (0) root         (0)     4152 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_anticipation_response.py
+-rw-r--r--   0 root         (0) root         (0)     2480 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/cancel_split_request.py
+-rw-r--r--   0 root         (0) root         (0)     5102 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_plan_request.py
+-rw-r--r--   0 root         (0) root         (0)     1685 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_anticipation_limit_response.py
+-rw-r--r--   0 root         (0) root         (0)     1800 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_billing_date_request.py
+-rw-r--r--   0 root         (0) root         (0)     1658 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_withdraw_target_response.py
+-rw-r--r--   0 root         (0) root         (0)     2082 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_split_options_request.py
+-rw-r--r--   0 root         (0) root         (0)     1408 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_order_status_request.py
+-rw-r--r--   0 root         (0) root         (0)     2440 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_increment_request.py
+-rw-r--r--   0 root         (0) root         (0)    11008 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_subscription_response.py
+-rw-r--r--   0 root         (0) root         (0)     1461 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_access_token_request.py
+-rw-r--r--   0 root         (0) root         (0)     2609 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_token_response.py
+-rw-r--r--   0 root         (0) root         (0)     2140 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_transactions_response.py
+-rw-r--r--   0 root         (0) root         (0)     5288 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_transfer.py
+-rw-r--r--   0 root         (0) root         (0)     1953 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_gateway_response_response.py
+-rw-r--r--   0 root         (0) root         (0)     2788 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_plan_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     2807 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_credit_card_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2226 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_transactions_files_response.py
+-rw-r--r--   0 root         (0) root         (0)     2108 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_addresses_response.py
+-rw-r--r--   0 root         (0) root         (0)     2054 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_boleto_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     2074 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_setup_response.py
+-rw-r--r--   0 root         (0) root         (0)     3668 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_address_request.py
+-rw-r--r--   0 root         (0) root         (0)     3576 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_sub_merchant_request.py
+-rw-r--r--   0 root         (0) root         (0)     2800 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_pricing_scheme_request.py
+-rw-r--r--   0 root         (0) root         (0)     1708 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_start_at_request.py
+-rw-r--r--   0 root         (0) root         (0)     1658 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_transfer_source_response.py
+-rw-r--r--   0 root         (0) root         (0)     3872 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_subscription_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     1623 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_transfer_request.py
+-rw-r--r--   0 root         (0) root         (0)     2342 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_payment_method_request.py
+-rw-r--r--   0 root         (0) root         (0)     2758 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_plan_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     3911 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_shipping_response.py
+-rw-r--r--   0 root         (0) root         (0)     1592 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_google_pay_header_request.py
+-rw-r--r--   0 root         (0) root         (0)     2119 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_setup_request.py
+-rw-r--r--   0 root         (0) root         (0)     2019 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_usage_report_response.py
+-rw-r--r--   0 root         (0) root         (0)     2077 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_cards_response.py
+-rw-r--r--   0 root         (0) root         (0)     4426 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_increment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2427 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_emv_data_decrypt_request.py
+-rw-r--r--   0 root         (0) root         (0)     3115 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_seller_request.py
+-rw-r--r--   0 root         (0) root         (0)     6274 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_card_response.py
+-rw-r--r--   0 root         (0) root         (0)     2013 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_phones_response.py
+-rw-r--r--   0 root         (0) root         (0)     2106 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_anticipation_request.py
+-rw-r--r--   0 root         (0) root         (0)     2108 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_split_options_response.py
+-rw-r--r--   0 root         (0) root         (0)     2144 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_access_tokens_response.py
+-rw-r--r--   0 root         (0) root         (0)     2101 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_transfer_settings_response.py
+-rw-r--r--   0 root         (0) root         (0)     9005 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_invoice_response.py
+-rw-r--r--   0 root         (0) root         (0)     2004 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_recipient_bank_account_request.py
+-rw-r--r--   0 root         (0) root         (0)     2114 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_usages_response.py
+-rw-r--r--   0 root         (0) root         (0)     2426 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_card_payment_contactless_poi_request.py
+-rw-r--r--   0 root         (0) root         (0)     3727 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_seller_response.py
+-rw-r--r--   0 root         (0) root         (0)     2423 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_discount_request.py
+-rw-r--r--   0 root         (0) root         (0)     2736 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_usage_request.py
+-rw-r--r--   0 root         (0) root         (0)     2648 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_apple_pay_request.py
+-rw-r--r--   0 root         (0) root         (0)     6930 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_recipient_response.py
+-rw-r--r--   0 root         (0) root         (0)     2504 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_split_request.py
+-rw-r--r--   0 root         (0) root         (0)     1911 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_phone_response.py
+-rw-r--r--   0 root         (0) root         (0)     2071 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_transaction_report_file_request.py
+-rw-r--r--   0 root         (0) root         (0)     1706 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_fine_request.py
+-rw-r--r--   0 root         (0) root         (0)     1701 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_fine_response.py
+-rw-r--r--   0 root         (0) root         (0)     8022 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     1424 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_invoice_request.py
+-rw-r--r--   0 root         (0) root         (0)     5306 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_withdraw_response.py
+-rw-r--r--   0 root         (0) root         (0)     2405 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_automatic_anticipation_settings_request.py
+-rw-r--r--   0 root         (0) root         (0)     1614 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_charge_due_date_request.py
+-rw-r--r--   0 root         (0) root         (0)     1410 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_emv_data_dukpt_decrypt_request.py
+-rw-r--r--   0 root         (0) root         (0)     7964 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_charge_response.py
+-rw-r--r--   0 root         (0) root         (0)     1648 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_card_installment_option_request.py
+-rw-r--r--   0 root         (0) root         (0)     2790 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_sellers_request.py
+-rw-r--r--   0 root         (0) root         (0)     2095 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_charges_response.py
+-rw-r--r--   0 root         (0) root         (0)     1944 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_payment_authentication_response.py
+-rw-r--r--   0 root         (0) root         (0)     1722 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_interest_request.py
+-rw-r--r--   0 root         (0) root         (0)     2117 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_cycles_response.py
+-rw-r--r--   0 root         (0) root         (0)     1646 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_bank_transfer_request.py
+-rw-r--r--   0 root         (0) root         (0)     2196 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_apple_pay_header_request.py
+-rw-r--r--   0 root         (0) root         (0)     2204 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_price_bracket_request.py
+-rw-r--r--   0 root         (0) root         (0)     5870 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_subscription_item_response.py
+-rw-r--r--   0 root         (0) root         (0)     1850 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_antifraud_request.py
+-rw-r--r--   0 root         (0) root         (0)     2879 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_seller_request.py
+-rw-r--r--   0 root         (0) root         (0)     2800 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_pricing_scheme_request.py
+-rw-r--r--   0 root         (0) root         (0)     1795 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/paging_response.py
+-rw-r--r--   0 root         (0) root         (0)     2181 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_subscription_items_response.py
+-rw-r--r--   0 root         (0) root         (0)     1935 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_subscription_split_request.py
+-rw-r--r--   0 root         (0) root         (0)     1917 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_phone_request.py
+-rw-r--r--   0 root         (0) root         (0)     1733 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_cash_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     2524 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_capture_charge_request.py
+-rw-r--r--   0 root         (0) root         (0)     2665 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_pix_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     1532 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_minimum_price_request.py
+-rw-r--r--   0 root         (0) root         (0)     1834 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_confirm_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     6465 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_credit_card_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     2375 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_automatic_anticipation_response.py
+-rw-r--r--   0 root         (0) root         (0)     2031 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/list_seller_response.py
+-rw-r--r--   0 root         (0) root         (0)     2740 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_card_token_request.py
+-rw-r--r--   0 root         (0) root         (0)     2365 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_three_d_secure_response.py
+-rw-r--r--   0 root         (0) root         (0)     4127 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/create_shipping_request.py
+-rw-r--r--   0 root         (0) root         (0)     4413 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_discount_response.py
+-rw-r--r--   0 root         (0) root         (0)     1658 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/models/get_withdraw_source_response.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/
+-rw-r--r--   0 root         (0) root         (0)    37099 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/charges_controller.py
+-rw-r--r--   0 root         (0) root         (0)    57345 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/customers_controller.py
+-rw-r--r--   0 root         (0) root         (0)     6197 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/tokens_controller.py
+-rw-r--r--   0 root         (0) root         (0)     7367 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/transfers_controller.py
+-rw-r--r--   0 root         (0) root         (0)      321 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/__init__.py
+-rw-r--r--   0 root         (0) root         (0)   102156 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/subscriptions_controller.py
+-rw-r--r--   0 root         (0) root         (0)    59528 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/recipients_controller.py
+-rw-r--r--   0 root         (0) root         (0)     3033 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/transactions_controller.py
+-rw-r--r--   0 root         (0) root         (0)    20744 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/invoices_controller.py
+-rw-r--r--   0 root         (0) root         (0)    27418 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/plans_controller.py
+-rw-r--r--   0 root         (0) root         (0)    27389 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/orders_controller.py
+-rw-r--r--   0 root         (0) root         (0)     3335 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/base_controller.py
+-rw-r--r--   0 root         (0) root         (0)    11888 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/controllers/sellers_controller.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarmecoreapi/http/
+-rw-r--r--   0 root         (0) root         (0)     3557 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/http/requests_client.py
+-rw-r--r--   0 root         (0) root         (0)      926 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/http/http_method_enum.py
+-rw-r--r--   0 root         (0) root         (0)      181 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/http/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-22 17:44:44.000000 pagarme-python-5.7.5/pagarmecoreapi/http/auth/
+-rw-r--r--   0 root         (0) root         (0)       31 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/http/auth/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      847 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/http/auth/basic_auth.py
+-rw-r--r--   0 root         (0) root         (0)     2832 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/http/http_request.py
+-rw-r--r--   0 root         (0) root         (0)      967 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/http/http_context.py
+-rw-r--r--   0 root         (0) root         (0)     7106 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/http/http_client.py
+-rw-r--r--   0 root         (0) root         (0)     1121 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/http/http_call_back.py
+-rw-r--r--   0 root         (0) root         (0)     1094 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/http/http_response.py
+-rw-r--r--   0 root         (0) root         (0)      515 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/pagarmecoreapi/decorators.py
+-rw-r--r--   0 root         (0) root         (0)   151759 2023-06-22 17:44:39.000000 pagarme-python-5.7.5/README.md
```

### Comparing `pagarme-python-5.7.4/LICENSE` & `pagarme-python-5.7.5/LICENSE`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/http_response_catcher.py` & `pagarme-python-5.7.5/tests/http_response_catcher.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/test_helper.py` & `pagarme-python-5.7.5/tests/test_helper.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/controllers/test_plans_controller.py` & `pagarme-python-5.7.5/tests/controllers/test_plans_controller.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/controllers/test_recipients_controller.py` & `pagarme-python-5.7.5/tests/controllers/test_recipients_controller.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/controllers/controller_test_base.py` & `pagarme-python-5.7.5/tests/controllers/controller_test_base.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/controllers/test_subscriptions_controller.py` & `pagarme-python-5.7.5/tests/controllers/test_subscriptions_controller.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/controllers/test_transfers_controller.py` & `pagarme-python-5.7.5/tests/controllers/test_transfers_controller.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/controllers/test_invoices_controller.py` & `pagarme-python-5.7.5/tests/controllers/test_invoices_controller.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/controllers/test_customers_controller.py` & `pagarme-python-5.7.5/tests/controllers/test_customers_controller.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/controllers/test_orders_controller.py` & `pagarme-python-5.7.5/tests/controllers/test_orders_controller.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/tests/controllers/test_charges_controller.py` & `pagarme-python-5.7.5/tests/controllers/test_charges_controller.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/setup.py` & `pagarme-python-5.7.5/setup.py`

 * *Files 0% similar despite different names*

```diff
@@ -8,15 +8,15 @@
         long_description = fh.read()
 else:
     with open("README.md", "r", encoding="utf-8") as fh:
         long_description = fh.read()
 
 setup(
     name='pagarme-python',
-    version='5.7.4',
+    version='5.7.5',
     description='Pagarme API',
      
     long_description_content_type="text/markdown",
      author='Pagarme',
     author_email='support@pagar.me',
     url='https://github.com/pagarme/pagarme-core-api-python',
     packages=find_packages(),
```

### Comparing `pagarme-python-5.7.4/pagarme_python.egg-info/SOURCES.txt` & `pagarme-python-5.7.5/pagarme_python.egg-info/SOURCES.txt`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/api_helper.py` & `pagarme-python-5.7.5/pagarmecoreapi/api_helper.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/pagarmecoreapi_client.py` & `pagarme-python-5.7.5/pagarmecoreapi/pagarmecoreapi_client.py`

 * *Files 15% similar despite different names*

```diff
@@ -12,16 +12,16 @@
 from pagarmecoreapi.controllers.orders_controller import OrdersController
 from pagarmecoreapi.controllers.plans_controller import PlansController
 from pagarmecoreapi.controllers.invoices_controller import InvoicesController
 from pagarmecoreapi.controllers.customers_controller import CustomersController
 from pagarmecoreapi.controllers.charges_controller import ChargesController
 from pagarmecoreapi.controllers.recipients_controller import RecipientsController
 from pagarmecoreapi.controllers.tokens_controller import TokensController
-from pagarmecoreapi.controllers.transactions_controller import TransactionsController
 from pagarmecoreapi.controllers.transfers_controller import TransfersController
+from pagarmecoreapi.controllers.transactions_controller import TransactionsController
 
 
 class PagarmecoreapiClient(object):
 
     config = Configuration
 
     @lazy_property
@@ -53,23 +53,26 @@
         return RecipientsController()
 
     @lazy_property
     def tokens(self):
         return TokensController()
 
     @lazy_property
-    def transactions(self):
-        return TransactionsController()
-
-    @lazy_property
     def transfers(self):
         return TransfersController()
 
+    @lazy_property
+    def transactions(self):
+        return TransactionsController()
+
 
     def __init__(self,
+                 service_referer_name=None,
                  basic_auth_user_name=None,
                  basic_auth_password=None):
+        if service_referer_name is not None:
+            Configuration.service_referer_name = service_referer_name
         if basic_auth_user_name is not None:
             Configuration.basic_auth_user_name = basic_auth_user_name
         if basic_auth_password is not None:
             Configuration.basic_auth_password = basic_auth_password
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/exceptions/api_exception.py` & `pagarme-python-5.7.5/pagarmecoreapi/exceptions/api_exception.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/exceptions/error_exception.py` & `pagarme-python-5.7.5/pagarmecoreapi/exceptions/error_exception.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/configuration.py` & `pagarme-python-5.7.5/pagarmecoreapi/configuration.py`

 * *Files 10% similar despite different names*

```diff
@@ -21,14 +21,17 @@
     # Set the array parameter serialization method
     # (allowed: indexed, unindexed, plain, csv, tsv, psv)
     array_serialization = "indexed"
 
     # The base Uri for API calls
     base_uri = 'https://api.pagar.me/core/v5'
 
+    # TODO: Set an appropriate value
+    service_referer_name = None
+
     # The username to use with basic authentication
     # TODO: Set an appropriate value
     basic_auth_user_name = None
 
     # The password to use with basic authentication
     # TODO: Set an appropriate value
     basic_auth_password = None
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_anticipation_limits_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_anticipation_limits_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_bank_transfer_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_bank_transfer_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_voucher_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_voucher_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_cancel_subscription_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_cancel_subscription_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_location_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_location_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_withdrawals.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_withdrawals.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_payment_authentication_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_payment_authentication_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/pix_additional_information.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/pix_additional_information.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_customers_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_customers_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_invoice_status_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_invoice_status_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_charge_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_charge_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_bank_transfer_payment_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_bank_transfer_payment_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_card_payment_contactless_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_card_payment_contactless_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_price_bracket_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_price_bracket_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_recipient_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_recipient_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_charges_summary_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_charges_summary_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_credit_card_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_credit_card_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_bank_account_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_bank_account_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_current_cycle_end_date_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_current_cycle_end_date_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_period_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_period_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_device_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_device_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_subscriptions_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_subscriptions_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_antifraud_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_antifraud_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_debit_card_payment_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_debit_card_payment_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_pix_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_pix_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_split_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_split_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_payment_settings_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_payment_settings_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_due_days_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_due_days_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_transaction_report_file_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_transaction_report_file_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_subscription_split_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_subscription_split_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_usage_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_usage_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_bank_account_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_bank_account_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_card_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_card_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_customer_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_customer_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_recipient_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_recipient_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_plan_item_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_plan_item_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_anticipation_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_anticipation_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_charge_transactions_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_charge_transactions_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_current_cycle_status_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_current_cycle_status_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_invoice_item_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_invoice_item_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_order_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_order_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_customer_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_customer_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_device_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_device_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_period_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_period_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_pix_bank_account_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_pix_bank_account_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_discounts_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_discounts_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/__init__.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/__init__.py`

 * *Ordering differences only*

 * *Files 0% similar despite different names*

```diff
@@ -1,200 +1,200 @@
 __all__ = [
+    'list_cards_response',
     'list_invoices_response',
-    'get_checkout_boleto_payment_response',
     'update_price_bracket_request',
-    'update_subscription_billing_date_request',
-    'list_charges_response',
-    'list_subscriptions_response',
     'paging_response',
-    'create_card_options_request',
-    'list_transactions_response',
     'get_plan_item_response',
-    'list_cards_response',
-    'get_phones_response',
-    'create_card_token_request',
     'get_pricing_scheme_response',
-    'get_price_bracket_response',
     'get_token_response',
-    'list_customers_response',
-    'update_plan_item_request',
-    'update_subscription_item_request',
-    'get_charge_response',
-    'get_checkout_payment_settings_response',
-    'list_plans_response',
-    'get_order_response',
-    'get_antifraud_response',
     'create_setup_request',
     'update_charge_card_request',
-    'create_phone_request',
-    'create_checkout_debit_card_payment_request',
     'create_plan_item_request',
-    'create_capture_charge_request',
-    'create_token_request',
     'update_metadata_request',
-    'create_checkout_card_installment_option_request',
+    'get_plan_response',
+    'get_card_token_response',
+    'get_checkout_card_installment_options_response',
+    'create_phones_request',
+    'create_checkout_boleto_payment_request',
+    'create_card_token_request',
+    'get_price_bracket_response',
+    'get_checkout_payment_settings_response',
+    'list_plans_response',
+    'create_phone_request',
+    'create_checkout_debit_card_payment_request',
     'update_pricing_scheme_request',
     'list_access_tokens_response',
-    'list_usages_response',
-    'update_subscription_card_request',
     'get_setup_response',
-    'get_plan_response',
     'update_plan_request',
-    'create_price_bracket_request',
-    'get_card_token_response',
-    'get_checkout_card_installment_options_response',
     'create_cancel_subscription_request',
+    'create_access_token_request',
+    'create_address_request',
+    'update_subscription_billing_date_request',
+    'create_card_options_request',
+    'list_transactions_response',
+    'get_phones_response',
+    'list_customers_response',
+    'get_charge_response',
+    'get_order_response',
+    'create_token_request',
+    'create_checkout_card_installment_option_request',
+    'list_usages_response',
+    'create_price_bracket_request',
     'update_card_request',
-    'create_plan_request',
     'create_bank_transfer_payment_request',
-    'create_pricing_scheme_request',
-    'create_phones_request',
     'create_voucher_payment_request',
-    'create_checkout_boleto_payment_request',
     'update_charge_due_date_request',
-    'create_access_token_request',
     'get_phone_response',
     'list_subscription_items_response',
     'list_order_response',
     'list_addresses_response',
+    'get_checkout_boleto_payment_response',
+    'list_charges_response',
+    'list_subscriptions_response',
+    'update_plan_item_request',
+    'update_subscription_item_request',
+    'get_antifraud_response',
+    'create_capture_charge_request',
+    'update_subscription_card_request',
+    'create_plan_request',
+    'create_pricing_scheme_request',
     'get_discount_response',
     'get_customer_response',
-    'create_address_request',
     'create_subscription_item_request',
     'create_order_request',
     'get_gateway_response_response',
     'create_device_request',
-    'update_subscription_affiliation_id_request',
-    'get_increment_response',
-    'create_three_d_secure_request',
-    'update_charge_payment_method_request',
     'get_recipient_response',
-    'update_recipient_request',
     'get_gateway_recipient_response',
-    'list_increments_response',
-    'create_anticipation_request',
     'get_anticipation_limits_response',
-    'get_invoice_item_response',
-    'create_discount_request',
-    'get_card_response',
     'create_bank_account_request',
+    'get_subscription_item_response',
+    'create_payment_authentication_request',
+    'update_invoice_status_request',
+    'get_anticipation_limit_response',
+    'get_subscription_response',
+    'update_order_status_request',
+    'create_cash_payment_request',
+    'create_charge_request',
+    'get_withdraw_source_response',
+    'get_anticipation_response',
+    'update_subscription_payment_method_request',
+    'get_bank_account_response',
+    'create_order_item_request',
+    'create_split_options_request',
+    'list_transfers',
+    'create_checkout_payment_request',
+    'update_current_cycle_status_request',
+    'get_increment_response',
+    'update_recipient_request',
     'get_balance_response',
     'update_order_item_request',
-    'create_boleto_payment_request',
+    'get_gateway_error_response',
+    'get_period_response',
+    'create_location_request',
+    'list_recipient_response',
+    'get_device_response',
+    'create_payment_request',
+    'get_billing_address_response',
+    'create_shipping_request',
+    'get_checkout_credit_card_payment_response',
+    'create_cancel_charge_split_rules_request',
+    'update_subscription_start_at_request',
+    'update_subscription_minimum_price_request',
+    'get_transaction_report_file_response',
+    'create_clear_sale_request',
+    'create_checkout_credit_card_payment_request',
+    'update_subscription_affiliation_id_request',
+    'create_three_d_secure_request',
+    'list_increments_response',
+    'create_anticipation_request',
+    'get_invoice_item_response',
     'list_anticipation_response',
     'update_address_request',
-    'get_location_response',
-    'get_subscription_item_response',
-    'create_transfer_settings_request',
     'create_transfer_request',
-    'get_gateway_error_response',
-    'list_transfer_response',
-    'create_usage_request',
-    'create_payment_authentication_request',
-    'update_invoice_status_request',
     'get_usage_response',
     'create_subscription_request',
     'create_apple_pay_request',
-    'get_anticipation_limit_response',
     'update_customer_request',
-    'get_subscription_response',
-    'get_period_response',
-    'create_debit_card_payment_request',
     'create_apple_pay_header_request',
-    'create_location_request',
-    'update_order_status_request',
+    'get_transfer_response',
+    'create_increment_request',
+    'create_transfer',
+    'create_card_request',
+    'create_emv_data_dukpt_decrypt_request',
+    'create_private_label_payment_request',
+    'create_emv_decrypt_request',
+    'create_automatic_anticipation_settings_request',
+    'create_antifraud_request',
+    'pix_additional_information',
+    'get_shipping_response',
+    'update_current_cycle_end_date_request',
+    'list_withdrawals',
+    'get_automatic_anticipation_response',
+    'get_transfer',
+    'update_charge_payment_method_request',
+    'create_discount_request',
+    'get_card_response',
+    'create_boleto_payment_request',
+    'get_location_response',
+    'create_transfer_settings_request',
+    'list_transfer_response',
+    'create_usage_request',
+    'create_debit_card_payment_request',
     'create_credit_card_payment_request',
     'list_discounts_response',
     'create_recipient_request',
-    'get_transfer_response',
-    'list_recipient_response',
-    'get_device_response',
-    'create_payment_request',
     'get_transaction_response',
     'update_recipient_bank_account_request',
     'update_transfer_settings_request',
-    'get_billing_address_response',
-    'create_increment_request',
-    'create_cash_payment_request',
     'create_cancel_charge_request',
-    'create_shipping_request',
-    'get_checkout_credit_card_payment_response',
-    'create_charge_request',
-    'create_transfer',
     'create_transaction_report_file_request',
-    'create_card_request',
-    'create_emv_data_dukpt_decrypt_request',
     'get_withdraw_target_response',
-    'create_cancel_charge_split_rules_request',
-    'update_subscription_start_at_request',
     'create_pix_payment_request',
     'get_charges_summary_response',
-    'create_private_label_payment_request',
     'update_automatic_anticipation_settings_request',
     'get_split_response',
     'list_transactions_files_response',
     'create_emv_data_tlv_decrypt_request',
-    'create_emv_decrypt_request',
-    'get_withdraw_source_response',
     'create_confirm_payment_request',
     'get_checkout_debit_card_payment_response',
-    'get_anticipation_response',
-    'create_automatic_anticipation_settings_request',
-    'update_subscription_minimum_price_request',
     'create_google_pay_request',
-    'update_subscription_payment_method_request',
-    'create_antifraud_request',
     'get_checkout_bank_transfer_payment_response',
-    'get_bank_account_response',
-    'create_order_item_request',
-    'create_split_options_request',
-    'get_transaction_report_file_response',
-    'create_clear_sale_request',
     'get_usage_report_response',
-    'list_transfers',
-    'pix_additional_information',
-    'get_shipping_response',
-    'update_current_cycle_end_date_request',
     'create_checkout_bank_transfer_request',
     'create_card_payment_contactless_request',
     'create_customer_request',
     'get_transfer_target_response',
-    'list_withdrawals',
     'get_checkout_payment_response',
     'create_emv_data_decrypt_request',
     'get_withdraw_response',
-    'get_automatic_anticipation_response',
-    'create_checkout_payment_request',
-    'create_checkout_credit_card_payment_request',
-    'get_transfer',
     'create_split_request',
-    'update_current_cycle_status_request',
     'create_invoice_request',
-    'get_transfer_settings_response',
-    'create_period_request',
     'get_payment_authentication_response',
-    'get_three_d_secure_response',
-    'create_google_pay_header_request',
-    'get_order_item_response',
-    'get_address_response',
     'create_card_payment_contactless_poi_request',
     'create_withdraw_request',
-    'get_split_options_response',
-    'list_charge_transactions_response',
-    'list_cycles_response',
-    'get_invoice_response',
     'get_access_token_response',
+    'create_subscription_split_request',
+    'create_interest_request',
+    'create_fine_request',
+    'create_google_pay_header_request',
+    'get_order_item_response',
+    'get_address_response',
     'get_transfer_source_response',
     'create_sub_merchant_request',
-    'update_subscription_due_days_request',
     'create_checkout_pix_payment_request',
     'get_checkout_pix_payment_response',
-    'create_subscription_split_request',
-    'update_subscription_split_request',
+    'get_three_d_secure_response',
+    'list_charge_transactions_response',
+    'get_invoice_response',
     'get_subscription_split_response',
     'get_pix_payer_response',
     'get_pix_bank_account_response',
     'get_interest_response',
-    'get_fine_response',
-    'create_interest_request',
-    'create_fine_request',
+    'get_transfer_settings_response',
+    'create_period_request',
+    'get_split_options_response',
+    'list_cycles_response',
+    'update_subscription_due_days_request',
+    'update_subscription_split_request',
+    'get_fine_response',
 ]
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_order_item_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_order_item_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_automatic_anticipation_settings_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_automatic_anticipation_settings_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_card_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_card_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_card_options_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_card_options_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_transfer.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_transfer.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_emv_data_tlv_decrypt_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_emv_data_tlv_decrypt_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_charge_card_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_charge_card_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_card_installment_options_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_card_installment_options_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_order_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_order_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_card_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_card_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_plans_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_plans_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_private_label_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_private_label_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_billing_address_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_billing_address_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_clear_sale_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_clear_sale_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_customer_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_customer_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_transfer_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_transfer_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_transfer_target_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_transfer_target_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_access_token_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_access_token_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_invoices_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_invoices_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_emv_decrypt_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_emv_decrypt_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_split_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_split_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_phones_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_phones_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_usages_details_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_usages_details_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_plan_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_plan_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_google_pay_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_google_pay_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_item_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_item_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_charge_payment_method_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_charge_payment_method_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_token_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_token_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_pricing_scheme_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_pricing_scheme_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_pix_payer_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_pix_payer_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_gateway_recipient_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_gateway_recipient_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_interest_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_interest_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_transfers.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_transfers.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_order_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_order_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_transaction_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_transaction_response.py`

 * *Files 0% similar despite different names*

```diff
@@ -129,23 +129,23 @@
             object: An instance of this structure class.
 
         """
         if dictionary is None:
             return None
 
         discriminators = {
-            'bank_transfer': GetBankTransferTransactionResponse.from_dictionary,
             'safetypay': GetSafetyPayTransactionResponse.from_dictionary,
+            'bank_transfer': GetBankTransferTransactionResponse.from_dictionary,
             'voucher': GetVoucherTransactionResponse.from_dictionary,
-            'boleto': GetBoletoTransactionResponse.from_dictionary,
             'debit_card': GetDebitCardTransactionResponse.from_dictionary,
             'private_label': GetPrivateLabelTransactionResponse.from_dictionary,
             'cash': GetCashTransactionResponse.from_dictionary,
-            'credit_card': GetCreditCardTransactionResponse.from_dictionary,
-            'pix': GetPixTransactionResponse.from_dictionary
+            'boleto': GetBoletoTransactionResponse.from_dictionary,
+            'pix': GetPixTransactionResponse.from_dictionary,
+            'credit_card': GetCreditCardTransactionResponse.from_dictionary
         }
         unboxer = discriminators.get(dictionary.get('transaction_type'))
 
         # Delegate unboxing to another function if a discriminator
         # value for a child class is present.
         if unboxer:
             return unboxer(dictionary)
@@ -197,35 +197,33 @@
                    transaction_type,
                    metadata,
                    interest,
                    fine,
                    max_days_to_pay_past_due)
 
 
-class GetBankTransferTransactionResponse(GetTransactionResponse):
+class GetSafetyPayTransactionResponse(GetTransactionResponse):
 
-    """Implementation of the 'GetBankTransferTransactionResponse' model.
+    """Implementation of the 'GetSafetyPayTransactionResponse' model.
 
-    Response object for getting a bank transfer transaction
+    Response object for getting a safety pay transaction
     NOTE: This class inherits from 'GetTransactionResponse'.
 
     Attributes:
         url (string): Payment url
-        bank_tid (string): Transaction identifier for the bank
-        bank (string): Bank
+        bank_tid (string): Transaction identifier on bank
         paid_at (datetime): Payment date
         paid_amount (int): Paid amount
 
     """
 
     # Create a mapping from Model property names to API property names
     _names = {
         "url":'url',
         "bank_tid":'bank_tid',
-        "bank":'bank',
         "gateway_id":'gateway_id',
         "amount":'amount',
         "status":'status',
         "success":'success',
         "created_at":'created_at',
         "updated_at":'updated_at',
         "attempt_count":'attempt_count',
@@ -244,15 +242,14 @@
         "fine":'fine',
         "max_days_to_pay_past_due":'max_days_to_pay_past_due'
     }
 
     def __init__(self,
                  url=None,
                  bank_tid=None,
-                 bank=None,
                  gateway_id=None,
                  amount=None,
                  status=None,
                  success=None,
                  created_at=None,
                  updated_at=None,
                  attempt_count=None,
@@ -266,43 +263,42 @@
                  paid_amount=None,
                  next_attempt=None,
                  transaction_type=None,
                  metadata=None,
                  interest=None,
                  fine=None,
                  max_days_to_pay_past_due=None):
-        """Constructor for the GetBankTransferTransactionResponse class"""
+        """Constructor for the GetSafetyPayTransactionResponse class"""
 
         # Initialize members of the class
         self.url = url
         self.bank_tid = bank_tid
-        self.bank = bank
         self.paid_at = APIHelper.RFC3339DateTime(paid_at) if paid_at else None
         self.paid_amount = paid_amount
 
         # Call the constructor for the base class
-        super(GetBankTransferTransactionResponse, self).__init__(gateway_id,
-                                                                 amount,
-                                                                 status,
-                                                                 success,
-                                                                 created_at,
-                                                                 updated_at,
-                                                                 attempt_count,
-                                                                 max_attempts,
-                                                                 splits,
-                                                                 id,
-                                                                 gateway_response,
-                                                                 antifraud_response,
-                                                                 split,
-                                                                 next_attempt,
-                                                                 transaction_type,
-                                                                 metadata,
-                                                                 interest,
-                                                                 fine,
-                                                                 max_days_to_pay_past_due)
+        super(GetSafetyPayTransactionResponse, self).__init__(gateway_id,
+                                                              amount,
+                                                              status,
+                                                              success,
+                                                              created_at,
+                                                              updated_at,
+                                                              attempt_count,
+                                                              max_attempts,
+                                                              splits,
+                                                              id,
+                                                              gateway_response,
+                                                              antifraud_response,
+                                                              split,
+                                                              next_attempt,
+                                                              transaction_type,
+                                                              metadata,
+                                                              interest,
+                                                              fine,
+                                                              max_days_to_pay_past_due)
 
 
     @classmethod
     def from_dictionary(cls,
                         dictionary):
         """Creates an instance of this model from a dictionary
 
@@ -317,15 +313,14 @@
         """
         if dictionary is None:
             return None
 
         # Extract variables from the dictionary
         url = dictionary.get('url')
         bank_tid = dictionary.get('bank_tid')
-        bank = dictionary.get('bank')
         gateway_id = dictionary.get('gateway_id')
         amount = dictionary.get('amount')
         status = dictionary.get('status')
         success = dictionary.get('success')
         created_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("created_at")).datetime if dictionary.get("created_at") else None
         updated_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("updated_at")).datetime if dictionary.get("updated_at") else None
         attempt_count = dictionary.get('attempt_count')
@@ -351,15 +346,14 @@
         interest = pagarmecoreapi.models.get_interest_response.GetInterestResponse.from_dictionary(dictionary.get('interest')) if dictionary.get('interest') else None
         fine = pagarmecoreapi.models.get_fine_response.GetFineResponse.from_dictionary(dictionary.get('fine')) if dictionary.get('fine') else None
         max_days_to_pay_past_due = dictionary.get('max_days_to_pay_past_due')
 
         # Return an object of this model
         return cls(url,
                    bank_tid,
-                   bank,
                    gateway_id,
                    amount,
                    status,
                    success,
                    created_at,
                    updated_at,
                    attempt_count,
@@ -375,33 +369,35 @@
                    transaction_type,
                    metadata,
                    interest,
                    fine,
                    max_days_to_pay_past_due)
 
 
-class GetSafetyPayTransactionResponse(GetTransactionResponse):
+class GetBankTransferTransactionResponse(GetTransactionResponse):
 
-    """Implementation of the 'GetSafetyPayTransactionResponse' model.
+    """Implementation of the 'GetBankTransferTransactionResponse' model.
 
-    Response object for getting a safety pay transaction
+    Response object for getting a bank transfer transaction
     NOTE: This class inherits from 'GetTransactionResponse'.
 
     Attributes:
         url (string): Payment url
-        bank_tid (string): Transaction identifier on bank
+        bank_tid (string): Transaction identifier for the bank
+        bank (string): Bank
         paid_at (datetime): Payment date
         paid_amount (int): Paid amount
 
     """
 
     # Create a mapping from Model property names to API property names
     _names = {
         "url":'url',
         "bank_tid":'bank_tid',
+        "bank":'bank',
         "gateway_id":'gateway_id',
         "amount":'amount',
         "status":'status',
         "success":'success',
         "created_at":'created_at',
         "updated_at":'updated_at',
         "attempt_count":'attempt_count',
@@ -420,14 +416,15 @@
         "fine":'fine',
         "max_days_to_pay_past_due":'max_days_to_pay_past_due'
     }
 
     def __init__(self,
                  url=None,
                  bank_tid=None,
+                 bank=None,
                  gateway_id=None,
                  amount=None,
                  status=None,
                  success=None,
                  created_at=None,
                  updated_at=None,
                  attempt_count=None,
@@ -441,42 +438,43 @@
                  paid_amount=None,
                  next_attempt=None,
                  transaction_type=None,
                  metadata=None,
                  interest=None,
                  fine=None,
                  max_days_to_pay_past_due=None):
-        """Constructor for the GetSafetyPayTransactionResponse class"""
+        """Constructor for the GetBankTransferTransactionResponse class"""
 
         # Initialize members of the class
         self.url = url
         self.bank_tid = bank_tid
+        self.bank = bank
         self.paid_at = APIHelper.RFC3339DateTime(paid_at) if paid_at else None
         self.paid_amount = paid_amount
 
         # Call the constructor for the base class
-        super(GetSafetyPayTransactionResponse, self).__init__(gateway_id,
-                                                              amount,
-                                                              status,
-                                                              success,
-                                                              created_at,
-                                                              updated_at,
-                                                              attempt_count,
-                                                              max_attempts,
-                                                              splits,
-                                                              id,
-                                                              gateway_response,
-                                                              antifraud_response,
-                                                              split,
-                                                              next_attempt,
-                                                              transaction_type,
-                                                              metadata,
-                                                              interest,
-                                                              fine,
-                                                              max_days_to_pay_past_due)
+        super(GetBankTransferTransactionResponse, self).__init__(gateway_id,
+                                                                 amount,
+                                                                 status,
+                                                                 success,
+                                                                 created_at,
+                                                                 updated_at,
+                                                                 attempt_count,
+                                                                 max_attempts,
+                                                                 splits,
+                                                                 id,
+                                                                 gateway_response,
+                                                                 antifraud_response,
+                                                                 split,
+                                                                 next_attempt,
+                                                                 transaction_type,
+                                                                 metadata,
+                                                                 interest,
+                                                                 fine,
+                                                                 max_days_to_pay_past_due)
 
 
     @classmethod
     def from_dictionary(cls,
                         dictionary):
         """Creates an instance of this model from a dictionary
 
@@ -491,14 +489,15 @@
         """
         if dictionary is None:
             return None
 
         # Extract variables from the dictionary
         url = dictionary.get('url')
         bank_tid = dictionary.get('bank_tid')
+        bank = dictionary.get('bank')
         gateway_id = dictionary.get('gateway_id')
         amount = dictionary.get('amount')
         status = dictionary.get('status')
         success = dictionary.get('success')
         created_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("created_at")).datetime if dictionary.get("created_at") else None
         updated_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("updated_at")).datetime if dictionary.get("updated_at") else None
         attempt_count = dictionary.get('attempt_count')
@@ -524,14 +523,15 @@
         interest = pagarmecoreapi.models.get_interest_response.GetInterestResponse.from_dictionary(dictionary.get('interest')) if dictionary.get('interest') else None
         fine = pagarmecoreapi.models.get_fine_response.GetFineResponse.from_dictionary(dictionary.get('fine')) if dictionary.get('fine') else None
         max_days_to_pay_past_due = dictionary.get('max_days_to_pay_past_due')
 
         # Return an object of this model
         return cls(url,
                    bank_tid,
+                   bank,
                    gateway_id,
                    amount,
                    status,
                    success,
                    created_at,
                    updated_at,
                    attempt_count,
@@ -756,265 +756,14 @@
                    transaction_type,
                    metadata,
                    interest,
                    fine,
                    max_days_to_pay_past_due)
 
 
-class GetBoletoTransactionResponse(GetTransactionResponse):
-
-    """Implementation of the 'GetBoletoTransactionResponse' model.
-
-    Response object for getting a boleto transaction
-    NOTE: This class inherits from 'GetTransactionResponse'.
-
-    Attributes:
-        url (string): TODO: type description here.
-        barcode (string): TODO: type description here.
-        nosso_numero (string): TODO: type description here.
-        bank (string): TODO: type description here.
-        document_number (string): TODO: type description here.
-        instructions (string): TODO: type description here.
-        billing_address (GetBillingAddressResponse): Response object for
-            getting a billing address
-        due_at (datetime): TODO: type description here.
-        qr_code (string): TODO: type description here.
-        line (string): TODO: type description here.
-        pdf_password (string): TODO: type description here.
-        pdf (string): TODO: type description here.
-        paid_at (datetime): TODO: type description here.
-        paid_amount (string): TODO: type description here.
-        mtype (string): TODO: type description here.
-        credit_at (datetime): TODO: type description here.
-        statement_descriptor (string): Soft Descriptor
-
-    """
-
-    # Create a mapping from Model property names to API property names
-    _names = {
-        "url":'url',
-        "barcode":'barcode',
-        "nosso_numero":'nosso_numero',
-        "bank":'bank',
-        "document_number":'document_number',
-        "instructions":'instructions',
-        "billing_address":'billing_address',
-        "qr_code":'qr_code',
-        "line":'line',
-        "pdf_password":'pdf_password',
-        "pdf":'pdf',
-        "paid_amount":'paid_amount',
-        "mtype":'type',
-        "statement_descriptor":'statement_descriptor',
-        "gateway_id":'gateway_id',
-        "amount":'amount',
-        "status":'status',
-        "success":'success',
-        "created_at":'created_at',
-        "updated_at":'updated_at',
-        "attempt_count":'attempt_count',
-        "max_attempts":'max_attempts',
-        "splits":'splits',
-        "id":'id',
-        "gateway_response":'gateway_response',
-        "antifraud_response":'antifraud_response',
-        "split":'split',
-        "due_at":'due_at',
-        "paid_at":'paid_at',
-        "credit_at":'credit_at',
-        "next_attempt":'next_attempt',
-        "transaction_type":'transaction_type',
-        "metadata":'metadata',
-        "interest":'interest',
-        "fine":'fine',
-        "max_days_to_pay_past_due":'max_days_to_pay_past_due'
-    }
-
-    def __init__(self,
-                 url=None,
-                 barcode=None,
-                 nosso_numero=None,
-                 bank=None,
-                 document_number=None,
-                 instructions=None,
-                 billing_address=None,
-                 qr_code=None,
-                 line=None,
-                 pdf_password=None,
-                 pdf=None,
-                 paid_amount=None,
-                 mtype=None,
-                 statement_descriptor=None,
-                 gateway_id=None,
-                 amount=None,
-                 status=None,
-                 success=None,
-                 created_at=None,
-                 updated_at=None,
-                 attempt_count=None,
-                 max_attempts=None,
-                 splits=None,
-                 id=None,
-                 gateway_response=None,
-                 antifraud_response=None,
-                 split=None,
-                 due_at=None,
-                 paid_at=None,
-                 credit_at=None,
-                 next_attempt=None,
-                 transaction_type=None,
-                 metadata=None,
-                 interest=None,
-                 fine=None,
-                 max_days_to_pay_past_due=None):
-        """Constructor for the GetBoletoTransactionResponse class"""
-
-        # Initialize members of the class
-        self.url = url
-        self.barcode = barcode
-        self.nosso_numero = nosso_numero
-        self.bank = bank
-        self.document_number = document_number
-        self.instructions = instructions
-        self.billing_address = billing_address
-        self.due_at = APIHelper.RFC3339DateTime(due_at) if due_at else None
-        self.qr_code = qr_code
-        self.line = line
-        self.pdf_password = pdf_password
-        self.pdf = pdf
-        self.paid_at = APIHelper.RFC3339DateTime(paid_at) if paid_at else None
-        self.paid_amount = paid_amount
-        self.mtype = mtype
-        self.credit_at = APIHelper.RFC3339DateTime(credit_at) if credit_at else None
-        self.statement_descriptor = statement_descriptor
-
-        # Call the constructor for the base class
-        super(GetBoletoTransactionResponse, self).__init__(gateway_id,
-                                                           amount,
-                                                           status,
-                                                           success,
-                                                           created_at,
-                                                           updated_at,
-                                                           attempt_count,
-                                                           max_attempts,
-                                                           splits,
-                                                           id,
-                                                           gateway_response,
-                                                           antifraud_response,
-                                                           split,
-                                                           next_attempt,
-                                                           transaction_type,
-                                                           metadata,
-                                                           interest,
-                                                           fine,
-                                                           max_days_to_pay_past_due)
-
-
-    @classmethod
-    def from_dictionary(cls,
-                        dictionary):
-        """Creates an instance of this model from a dictionary
-
-        Args:
-            dictionary (dictionary): A dictionary representation of the object as
-            obtained from the deserialization of the server's response. The keys
-            MUST match property names in the API description.
-
-        Returns:
-            object: An instance of this structure class.
-
-        """
-        if dictionary is None:
-            return None
-
-        # Extract variables from the dictionary
-        url = dictionary.get('url')
-        barcode = dictionary.get('barcode')
-        nosso_numero = dictionary.get('nosso_numero')
-        bank = dictionary.get('bank')
-        document_number = dictionary.get('document_number')
-        instructions = dictionary.get('instructions')
-        billing_address = pagarmecoreapi.models.get_billing_address_response.GetBillingAddressResponse.from_dictionary(dictionary.get('billing_address')) if dictionary.get('billing_address') else None
-        qr_code = dictionary.get('qr_code')
-        line = dictionary.get('line')
-        pdf_password = dictionary.get('pdf_password')
-        pdf = dictionary.get('pdf')
-        paid_amount = dictionary.get('paid_amount')
-        mtype = dictionary.get('type')
-        statement_descriptor = dictionary.get('statement_descriptor')
-        gateway_id = dictionary.get('gateway_id')
-        amount = dictionary.get('amount')
-        status = dictionary.get('status')
-        success = dictionary.get('success')
-        created_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("created_at")).datetime if dictionary.get("created_at") else None
-        updated_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("updated_at")).datetime if dictionary.get("updated_at") else None
-        attempt_count = dictionary.get('attempt_count')
-        max_attempts = dictionary.get('max_attempts')
-        splits = None
-        if dictionary.get('splits') != None:
-            splits = list()
-            for structure in dictionary.get('splits'):
-                splits.append(pagarmecoreapi.models.get_split_response.GetSplitResponse.from_dictionary(structure))
-        id = dictionary.get('id')
-        gateway_response = pagarmecoreapi.models.get_gateway_response_response.GetGatewayResponseResponse.from_dictionary(dictionary.get('gateway_response')) if dictionary.get('gateway_response') else None
-        antifraud_response = pagarmecoreapi.models.get_antifraud_response.GetAntifraudResponse.from_dictionary(dictionary.get('antifraud_response')) if dictionary.get('antifraud_response') else None
-        split = None
-        if dictionary.get('split') != None:
-            split = list()
-            for structure in dictionary.get('split'):
-                split.append(pagarmecoreapi.models.get_split_response.GetSplitResponse.from_dictionary(structure))
-        due_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("due_at")).datetime if dictionary.get("due_at") else None
-        paid_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("paid_at")).datetime if dictionary.get("paid_at") else None
-        credit_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("credit_at")).datetime if dictionary.get("credit_at") else None
-        next_attempt = APIHelper.RFC3339DateTime.from_value(dictionary.get("next_attempt")).datetime if dictionary.get("next_attempt") else None
-        transaction_type = dictionary.get('transaction_type')
-        metadata = dictionary.get('metadata')
-        interest = pagarmecoreapi.models.get_interest_response.GetInterestResponse.from_dictionary(dictionary.get('interest')) if dictionary.get('interest') else None
-        fine = pagarmecoreapi.models.get_fine_response.GetFineResponse.from_dictionary(dictionary.get('fine')) if dictionary.get('fine') else None
-        max_days_to_pay_past_due = dictionary.get('max_days_to_pay_past_due')
-
-        # Return an object of this model
-        return cls(url,
-                   barcode,
-                   nosso_numero,
-                   bank,
-                   document_number,
-                   instructions,
-                   billing_address,
-                   qr_code,
-                   line,
-                   pdf_password,
-                   pdf,
-                   paid_amount,
-                   mtype,
-                   statement_descriptor,
-                   gateway_id,
-                   amount,
-                   status,
-                   success,
-                   created_at,
-                   updated_at,
-                   attempt_count,
-                   max_attempts,
-                   splits,
-                   id,
-                   gateway_response,
-                   antifraud_response,
-                   split,
-                   due_at,
-                   paid_at,
-                   credit_at,
-                   next_attempt,
-                   transaction_type,
-                   metadata,
-                   interest,
-                   fine,
-                   max_days_to_pay_past_due)
-
-
 class GetDebitCardTransactionResponse(GetTransactionResponse):
 
     """Implementation of the 'GetDebitCardTransactionResponse' model.
 
     Response object for getting a debit card transaction
     NOTE: This class inherits from 'GetTransactionResponse'.
 
@@ -1616,146 +1365,161 @@
                    transaction_type,
                    metadata,
                    interest,
                    fine,
                    max_days_to_pay_past_due)
 
 
-class GetCreditCardTransactionResponse(GetTransactionResponse):
+class GetBoletoTransactionResponse(GetTransactionResponse):
 
-    """Implementation of the 'GetCreditCardTransactionResponse' model.
+    """Implementation of the 'GetBoletoTransactionResponse' model.
 
-    Response object for getting a credit card transaction
+    Response object for getting a boleto transaction
     NOTE: This class inherits from 'GetTransactionResponse'.
 
     Attributes:
-        statement_descriptor (string): Text that will appear on the credit
-            card's statement
-        acquirer_name (string): Acquirer name
-        acquirer_affiliation_code (string): Aquirer affiliation code
-        acquirer_tid (string): Acquirer TID
-        acquirer_nsu (string): Acquirer NSU
-        acquirer_auth_code (string): Acquirer authorization code
-        operation_type (string): Operation type
-        card (GetCardResponse): Response object for getting a credit card
-        acquirer_message (string): Acquirer message
-        acquirer_return_code (string): Acquirer Return Code
-        installments (int): Number of installments
-        threed_authentication_url (string): 3D-S authentication Url
-        funding_source (string): Identify when a card is prepaid, credit or
-            debit.
+        url (string): TODO: type description here.
+        barcode (string): TODO: type description here.
+        nosso_numero (string): TODO: type description here.
+        bank (string): TODO: type description here.
+        document_number (string): TODO: type description here.
+        instructions (string): TODO: type description here.
+        billing_address (GetBillingAddressResponse): Response object for
+            getting a billing address
+        due_at (datetime): TODO: type description here.
+        qr_code (string): TODO: type description here.
+        line (string): TODO: type description here.
+        pdf_password (string): TODO: type description here.
+        pdf (string): TODO: type description here.
+        paid_at (datetime): TODO: type description here.
+        paid_amount (string): TODO: type description here.
+        mtype (string): TODO: type description here.
+        credit_at (datetime): TODO: type description here.
+        statement_descriptor (string): Soft Descriptor
 
     """
 
     # Create a mapping from Model property names to API property names
     _names = {
+        "url":'url',
+        "barcode":'barcode',
+        "nosso_numero":'nosso_numero',
+        "bank":'bank',
+        "document_number":'document_number',
+        "instructions":'instructions',
+        "billing_address":'billing_address',
+        "qr_code":'qr_code',
+        "line":'line',
+        "pdf_password":'pdf_password',
+        "pdf":'pdf',
+        "paid_amount":'paid_amount',
+        "mtype":'type',
         "statement_descriptor":'statement_descriptor',
-        "acquirer_name":'acquirer_name',
-        "acquirer_affiliation_code":'acquirer_affiliation_code',
-        "acquirer_tid":'acquirer_tid',
-        "acquirer_nsu":'acquirer_nsu',
-        "acquirer_auth_code":'acquirer_auth_code',
-        "operation_type":'operation_type',
-        "card":'card',
-        "acquirer_message":'acquirer_message',
-        "acquirer_return_code":'acquirer_return_code',
-        "threed_authentication_url":'threed_authentication_url',
         "gateway_id":'gateway_id',
         "amount":'amount',
         "status":'status',
         "success":'success',
         "created_at":'created_at',
         "updated_at":'updated_at',
         "attempt_count":'attempt_count',
         "max_attempts":'max_attempts',
         "splits":'splits',
         "id":'id',
         "gateway_response":'gateway_response',
         "antifraud_response":'antifraud_response',
         "split":'split',
-        "installments":'installments',
-        "funding_source":'funding_source',
+        "due_at":'due_at',
+        "paid_at":'paid_at',
+        "credit_at":'credit_at',
         "next_attempt":'next_attempt',
         "transaction_type":'transaction_type',
         "metadata":'metadata',
         "interest":'interest',
         "fine":'fine',
         "max_days_to_pay_past_due":'max_days_to_pay_past_due'
     }
 
     def __init__(self,
+                 url=None,
+                 barcode=None,
+                 nosso_numero=None,
+                 bank=None,
+                 document_number=None,
+                 instructions=None,
+                 billing_address=None,
+                 qr_code=None,
+                 line=None,
+                 pdf_password=None,
+                 pdf=None,
+                 paid_amount=None,
+                 mtype=None,
                  statement_descriptor=None,
-                 acquirer_name=None,
-                 acquirer_affiliation_code=None,
-                 acquirer_tid=None,
-                 acquirer_nsu=None,
-                 acquirer_auth_code=None,
-                 operation_type=None,
-                 card=None,
-                 acquirer_message=None,
-                 acquirer_return_code=None,
-                 threed_authentication_url=None,
                  gateway_id=None,
                  amount=None,
                  status=None,
                  success=None,
                  created_at=None,
                  updated_at=None,
                  attempt_count=None,
                  max_attempts=None,
                  splits=None,
                  id=None,
                  gateway_response=None,
                  antifraud_response=None,
                  split=None,
-                 installments=None,
-                 funding_source=None,
+                 due_at=None,
+                 paid_at=None,
+                 credit_at=None,
                  next_attempt=None,
                  transaction_type=None,
                  metadata=None,
                  interest=None,
                  fine=None,
                  max_days_to_pay_past_due=None):
-        """Constructor for the GetCreditCardTransactionResponse class"""
+        """Constructor for the GetBoletoTransactionResponse class"""
 
         # Initialize members of the class
+        self.url = url
+        self.barcode = barcode
+        self.nosso_numero = nosso_numero
+        self.bank = bank
+        self.document_number = document_number
+        self.instructions = instructions
+        self.billing_address = billing_address
+        self.due_at = APIHelper.RFC3339DateTime(due_at) if due_at else None
+        self.qr_code = qr_code
+        self.line = line
+        self.pdf_password = pdf_password
+        self.pdf = pdf
+        self.paid_at = APIHelper.RFC3339DateTime(paid_at) if paid_at else None
+        self.paid_amount = paid_amount
+        self.mtype = mtype
+        self.credit_at = APIHelper.RFC3339DateTime(credit_at) if credit_at else None
         self.statement_descriptor = statement_descriptor
-        self.acquirer_name = acquirer_name
-        self.acquirer_affiliation_code = acquirer_affiliation_code
-        self.acquirer_tid = acquirer_tid
-        self.acquirer_nsu = acquirer_nsu
-        self.acquirer_auth_code = acquirer_auth_code
-        self.operation_type = operation_type
-        self.card = card
-        self.acquirer_message = acquirer_message
-        self.acquirer_return_code = acquirer_return_code
-        self.installments = installments
-        self.threed_authentication_url = threed_authentication_url
-        self.funding_source = funding_source
 
         # Call the constructor for the base class
-        super(GetCreditCardTransactionResponse, self).__init__(gateway_id,
-                                                               amount,
-                                                               status,
-                                                               success,
-                                                               created_at,
-                                                               updated_at,
-                                                               attempt_count,
-                                                               max_attempts,
-                                                               splits,
-                                                               id,
-                                                               gateway_response,
-                                                               antifraud_response,
-                                                               split,
-                                                               next_attempt,
-                                                               transaction_type,
-                                                               metadata,
-                                                               interest,
-                                                               fine,
-                                                               max_days_to_pay_past_due)
+        super(GetBoletoTransactionResponse, self).__init__(gateway_id,
+                                                           amount,
+                                                           status,
+                                                           success,
+                                                           created_at,
+                                                           updated_at,
+                                                           attempt_count,
+                                                           max_attempts,
+                                                           splits,
+                                                           id,
+                                                           gateway_response,
+                                                           antifraud_response,
+                                                           split,
+                                                           next_attempt,
+                                                           transaction_type,
+                                                           metadata,
+                                                           interest,
+                                                           fine,
+                                                           max_days_to_pay_past_due)
 
 
     @classmethod
     def from_dictionary(cls,
                         dictionary):
         """Creates an instance of this model from a dictionary
 
@@ -1768,25 +1532,28 @@
             object: An instance of this structure class.
 
         """
         if dictionary is None:
             return None
 
         # Extract variables from the dictionary
+        url = dictionary.get('url')
+        barcode = dictionary.get('barcode')
+        nosso_numero = dictionary.get('nosso_numero')
+        bank = dictionary.get('bank')
+        document_number = dictionary.get('document_number')
+        instructions = dictionary.get('instructions')
+        billing_address = pagarmecoreapi.models.get_billing_address_response.GetBillingAddressResponse.from_dictionary(dictionary.get('billing_address')) if dictionary.get('billing_address') else None
+        qr_code = dictionary.get('qr_code')
+        line = dictionary.get('line')
+        pdf_password = dictionary.get('pdf_password')
+        pdf = dictionary.get('pdf')
+        paid_amount = dictionary.get('paid_amount')
+        mtype = dictionary.get('type')
         statement_descriptor = dictionary.get('statement_descriptor')
-        acquirer_name = dictionary.get('acquirer_name')
-        acquirer_affiliation_code = dictionary.get('acquirer_affiliation_code')
-        acquirer_tid = dictionary.get('acquirer_tid')
-        acquirer_nsu = dictionary.get('acquirer_nsu')
-        acquirer_auth_code = dictionary.get('acquirer_auth_code')
-        operation_type = dictionary.get('operation_type')
-        card = pagarmecoreapi.models.get_card_response.GetCardResponse.from_dictionary(dictionary.get('card')) if dictionary.get('card') else None
-        acquirer_message = dictionary.get('acquirer_message')
-        acquirer_return_code = dictionary.get('acquirer_return_code')
-        threed_authentication_url = dictionary.get('threed_authentication_url')
         gateway_id = dictionary.get('gateway_id')
         amount = dictionary.get('amount')
         status = dictionary.get('status')
         success = dictionary.get('success')
         created_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("created_at")).datetime if dictionary.get("created_at") else None
         updated_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("updated_at")).datetime if dictionary.get("updated_at") else None
         attempt_count = dictionary.get('attempt_count')
@@ -1800,50 +1567,55 @@
         gateway_response = pagarmecoreapi.models.get_gateway_response_response.GetGatewayResponseResponse.from_dictionary(dictionary.get('gateway_response')) if dictionary.get('gateway_response') else None
         antifraud_response = pagarmecoreapi.models.get_antifraud_response.GetAntifraudResponse.from_dictionary(dictionary.get('antifraud_response')) if dictionary.get('antifraud_response') else None
         split = None
         if dictionary.get('split') != None:
             split = list()
             for structure in dictionary.get('split'):
                 split.append(pagarmecoreapi.models.get_split_response.GetSplitResponse.from_dictionary(structure))
-        installments = dictionary.get('installments')
-        funding_source = dictionary.get('funding_source')
+        due_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("due_at")).datetime if dictionary.get("due_at") else None
+        paid_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("paid_at")).datetime if dictionary.get("paid_at") else None
+        credit_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("credit_at")).datetime if dictionary.get("credit_at") else None
         next_attempt = APIHelper.RFC3339DateTime.from_value(dictionary.get("next_attempt")).datetime if dictionary.get("next_attempt") else None
         transaction_type = dictionary.get('transaction_type')
         metadata = dictionary.get('metadata')
         interest = pagarmecoreapi.models.get_interest_response.GetInterestResponse.from_dictionary(dictionary.get('interest')) if dictionary.get('interest') else None
         fine = pagarmecoreapi.models.get_fine_response.GetFineResponse.from_dictionary(dictionary.get('fine')) if dictionary.get('fine') else None
         max_days_to_pay_past_due = dictionary.get('max_days_to_pay_past_due')
 
         # Return an object of this model
-        return cls(statement_descriptor,
-                   acquirer_name,
-                   acquirer_affiliation_code,
-                   acquirer_tid,
-                   acquirer_nsu,
-                   acquirer_auth_code,
-                   operation_type,
-                   card,
-                   acquirer_message,
-                   acquirer_return_code,
-                   threed_authentication_url,
+        return cls(url,
+                   barcode,
+                   nosso_numero,
+                   bank,
+                   document_number,
+                   instructions,
+                   billing_address,
+                   qr_code,
+                   line,
+                   pdf_password,
+                   pdf,
+                   paid_amount,
+                   mtype,
+                   statement_descriptor,
                    gateway_id,
                    amount,
                    status,
                    success,
                    created_at,
                    updated_at,
                    attempt_count,
                    max_attempts,
                    splits,
                    id,
                    gateway_response,
                    antifraud_response,
                    split,
-                   installments,
-                   funding_source,
+                   due_at,
+                   paid_at,
+                   credit_at,
                    next_attempt,
                    transaction_type,
                    metadata,
                    interest,
                    fine,
                    max_days_to_pay_past_due)
 
@@ -2038,8 +1810,236 @@
                    next_attempt,
                    transaction_type,
                    metadata,
                    interest,
                    fine,
                    max_days_to_pay_past_due)
 
+
+class GetCreditCardTransactionResponse(GetTransactionResponse):
+
+    """Implementation of the 'GetCreditCardTransactionResponse' model.
+
+    Response object for getting a credit card transaction
+    NOTE: This class inherits from 'GetTransactionResponse'.
+
+    Attributes:
+        statement_descriptor (string): Text that will appear on the credit
+            card's statement
+        acquirer_name (string): Acquirer name
+        acquirer_affiliation_code (string): Aquirer affiliation code
+        acquirer_tid (string): Acquirer TID
+        acquirer_nsu (string): Acquirer NSU
+        acquirer_auth_code (string): Acquirer authorization code
+        operation_type (string): Operation type
+        card (GetCardResponse): Response object for getting a credit card
+        acquirer_message (string): Acquirer message
+        acquirer_return_code (string): Acquirer Return Code
+        installments (int): Number of installments
+        threed_authentication_url (string): 3D-S authentication Url
+        funding_source (string): Identify when a card is prepaid, credit or
+            debit.
+
+    """
+
+    # Create a mapping from Model property names to API property names
+    _names = {
+        "statement_descriptor":'statement_descriptor',
+        "acquirer_name":'acquirer_name',
+        "acquirer_affiliation_code":'acquirer_affiliation_code',
+        "acquirer_tid":'acquirer_tid',
+        "acquirer_nsu":'acquirer_nsu',
+        "acquirer_auth_code":'acquirer_auth_code',
+        "operation_type":'operation_type',
+        "card":'card',
+        "acquirer_message":'acquirer_message',
+        "acquirer_return_code":'acquirer_return_code',
+        "threed_authentication_url":'threed_authentication_url',
+        "gateway_id":'gateway_id',
+        "amount":'amount',
+        "status":'status',
+        "success":'success',
+        "created_at":'created_at',
+        "updated_at":'updated_at',
+        "attempt_count":'attempt_count',
+        "max_attempts":'max_attempts',
+        "splits":'splits',
+        "id":'id',
+        "gateway_response":'gateway_response',
+        "antifraud_response":'antifraud_response',
+        "split":'split',
+        "installments":'installments',
+        "funding_source":'funding_source',
+        "next_attempt":'next_attempt',
+        "transaction_type":'transaction_type',
+        "metadata":'metadata',
+        "interest":'interest',
+        "fine":'fine',
+        "max_days_to_pay_past_due":'max_days_to_pay_past_due'
+    }
+
+    def __init__(self,
+                 statement_descriptor=None,
+                 acquirer_name=None,
+                 acquirer_affiliation_code=None,
+                 acquirer_tid=None,
+                 acquirer_nsu=None,
+                 acquirer_auth_code=None,
+                 operation_type=None,
+                 card=None,
+                 acquirer_message=None,
+                 acquirer_return_code=None,
+                 threed_authentication_url=None,
+                 gateway_id=None,
+                 amount=None,
+                 status=None,
+                 success=None,
+                 created_at=None,
+                 updated_at=None,
+                 attempt_count=None,
+                 max_attempts=None,
+                 splits=None,
+                 id=None,
+                 gateway_response=None,
+                 antifraud_response=None,
+                 split=None,
+                 installments=None,
+                 funding_source=None,
+                 next_attempt=None,
+                 transaction_type=None,
+                 metadata=None,
+                 interest=None,
+                 fine=None,
+                 max_days_to_pay_past_due=None):
+        """Constructor for the GetCreditCardTransactionResponse class"""
+
+        # Initialize members of the class
+        self.statement_descriptor = statement_descriptor
+        self.acquirer_name = acquirer_name
+        self.acquirer_affiliation_code = acquirer_affiliation_code
+        self.acquirer_tid = acquirer_tid
+        self.acquirer_nsu = acquirer_nsu
+        self.acquirer_auth_code = acquirer_auth_code
+        self.operation_type = operation_type
+        self.card = card
+        self.acquirer_message = acquirer_message
+        self.acquirer_return_code = acquirer_return_code
+        self.installments = installments
+        self.threed_authentication_url = threed_authentication_url
+        self.funding_source = funding_source
+
+        # Call the constructor for the base class
+        super(GetCreditCardTransactionResponse, self).__init__(gateway_id,
+                                                               amount,
+                                                               status,
+                                                               success,
+                                                               created_at,
+                                                               updated_at,
+                                                               attempt_count,
+                                                               max_attempts,
+                                                               splits,
+                                                               id,
+                                                               gateway_response,
+                                                               antifraud_response,
+                                                               split,
+                                                               next_attempt,
+                                                               transaction_type,
+                                                               metadata,
+                                                               interest,
+                                                               fine,
+                                                               max_days_to_pay_past_due)
+
+
+    @classmethod
+    def from_dictionary(cls,
+                        dictionary):
+        """Creates an instance of this model from a dictionary
+
+        Args:
+            dictionary (dictionary): A dictionary representation of the object as
+            obtained from the deserialization of the server's response. The keys
+            MUST match property names in the API description.
+
+        Returns:
+            object: An instance of this structure class.
+
+        """
+        if dictionary is None:
+            return None
+
+        # Extract variables from the dictionary
+        statement_descriptor = dictionary.get('statement_descriptor')
+        acquirer_name = dictionary.get('acquirer_name')
+        acquirer_affiliation_code = dictionary.get('acquirer_affiliation_code')
+        acquirer_tid = dictionary.get('acquirer_tid')
+        acquirer_nsu = dictionary.get('acquirer_nsu')
+        acquirer_auth_code = dictionary.get('acquirer_auth_code')
+        operation_type = dictionary.get('operation_type')
+        card = pagarmecoreapi.models.get_card_response.GetCardResponse.from_dictionary(dictionary.get('card')) if dictionary.get('card') else None
+        acquirer_message = dictionary.get('acquirer_message')
+        acquirer_return_code = dictionary.get('acquirer_return_code')
+        threed_authentication_url = dictionary.get('threed_authentication_url')
+        gateway_id = dictionary.get('gateway_id')
+        amount = dictionary.get('amount')
+        status = dictionary.get('status')
+        success = dictionary.get('success')
+        created_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("created_at")).datetime if dictionary.get("created_at") else None
+        updated_at = APIHelper.RFC3339DateTime.from_value(dictionary.get("updated_at")).datetime if dictionary.get("updated_at") else None
+        attempt_count = dictionary.get('attempt_count')
+        max_attempts = dictionary.get('max_attempts')
+        splits = None
+        if dictionary.get('splits') != None:
+            splits = list()
+            for structure in dictionary.get('splits'):
+                splits.append(pagarmecoreapi.models.get_split_response.GetSplitResponse.from_dictionary(structure))
+        id = dictionary.get('id')
+        gateway_response = pagarmecoreapi.models.get_gateway_response_response.GetGatewayResponseResponse.from_dictionary(dictionary.get('gateway_response')) if dictionary.get('gateway_response') else None
+        antifraud_response = pagarmecoreapi.models.get_antifraud_response.GetAntifraudResponse.from_dictionary(dictionary.get('antifraud_response')) if dictionary.get('antifraud_response') else None
+        split = None
+        if dictionary.get('split') != None:
+            split = list()
+            for structure in dictionary.get('split'):
+                split.append(pagarmecoreapi.models.get_split_response.GetSplitResponse.from_dictionary(structure))
+        installments = dictionary.get('installments')
+        funding_source = dictionary.get('funding_source')
+        next_attempt = APIHelper.RFC3339DateTime.from_value(dictionary.get("next_attempt")).datetime if dictionary.get("next_attempt") else None
+        transaction_type = dictionary.get('transaction_type')
+        metadata = dictionary.get('metadata')
+        interest = pagarmecoreapi.models.get_interest_response.GetInterestResponse.from_dictionary(dictionary.get('interest')) if dictionary.get('interest') else None
+        fine = pagarmecoreapi.models.get_fine_response.GetFineResponse.from_dictionary(dictionary.get('fine')) if dictionary.get('fine') else None
+        max_days_to_pay_past_due = dictionary.get('max_days_to_pay_past_due')
+
+        # Return an object of this model
+        return cls(statement_descriptor,
+                   acquirer_name,
+                   acquirer_affiliation_code,
+                   acquirer_tid,
+                   acquirer_nsu,
+                   acquirer_auth_code,
+                   operation_type,
+                   card,
+                   acquirer_message,
+                   acquirer_return_code,
+                   threed_authentication_url,
+                   gateway_id,
+                   amount,
+                   status,
+                   success,
+                   created_at,
+                   updated_at,
+                   attempt_count,
+                   max_attempts,
+                   splits,
+                   id,
+                   gateway_response,
+                   antifraud_response,
+                   split,
+                   installments,
+                   funding_source,
+                   next_attempt,
+                   transaction_type,
+                   metadata,
+                   interest,
+                   fine,
+                   max_days_to_pay_past_due)
+
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_cancel_charge_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_cancel_charge_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_location_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_location_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_card_token_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_card_token_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_boleto_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_boleto_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_debit_card_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_debit_card_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_debit_card_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_debit_card_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_gateway_error_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_gateway_error_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_recipient_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_recipient_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_subscription_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_subscription_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_transfer_settings_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_transfer_settings_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_address_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_address_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_transfer_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_transfer_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_withdraw_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_withdraw_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_balance_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_balance_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_transfer_settings_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_transfer_settings_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_usages_details_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_usages_details_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_boleto_payment_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_boleto_payment_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_order_item_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_order_item_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_three_d_secure_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_three_d_secure_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_plan_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_plan_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_affiliation_id_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_affiliation_id_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_payment_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_payment_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_pix_payment_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_pix_payment_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_order_item_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_order_item_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_metadata_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_metadata_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_increments_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_increments_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_price_bracket_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_price_bracket_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_address_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_address_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_cancel_charge_split_rules_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_cancel_charge_split_rules_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_anticipation_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_anticipation_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/cancel_split_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/cancel_split_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_plan_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_plan_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_anticipation_limit_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_anticipation_limit_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_billing_date_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_billing_date_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_withdraw_target_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_withdraw_target_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_split_options_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_split_options_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_order_status_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_order_status_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_increment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_increment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_subscription_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_subscription_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_access_token_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_access_token_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_token_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_token_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_transactions_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_transactions_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_transfer.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_transfer.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_gateway_response_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_gateway_response_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_plan_item_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_plan_item_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_checkout_credit_card_payment_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_checkout_credit_card_payment_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_transactions_files_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_transactions_files_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_addresses_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_addresses_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_boleto_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_boleto_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_setup_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_setup_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_address_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_address_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_sub_merchant_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_sub_merchant_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_pricing_scheme_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_pricing_scheme_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_start_at_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_start_at_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_transfer_source_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_transfer_source_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_subscription_item_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_subscription_item_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_transfer_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_transfer_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_payment_method_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_payment_method_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_plan_item_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_plan_item_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_shipping_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_shipping_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_google_pay_header_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_google_pay_header_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_setup_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_setup_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_usage_report_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_usage_report_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_cards_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_cards_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_increment_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_increment_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_emv_data_decrypt_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_emv_data_decrypt_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_seller_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_seller_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_card_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_card_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_phones_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_phones_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_anticipation_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_anticipation_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_split_options_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_split_options_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_access_tokens_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_access_tokens_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_transfer_settings_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_transfer_settings_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_invoice_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_invoice_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_recipient_bank_account_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_recipient_bank_account_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_usages_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_usages_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_card_payment_contactless_poi_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_card_payment_contactless_poi_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_seller_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_seller_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_discount_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_discount_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_usage_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_usage_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_apple_pay_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_apple_pay_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_recipient_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_recipient_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_split_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_split_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_phone_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_phone_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_transaction_report_file_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_transaction_report_file_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_fine_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_fine_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_fine_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_fine_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_invoice_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_invoice_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_withdraw_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_withdraw_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_automatic_anticipation_settings_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_automatic_anticipation_settings_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_charge_due_date_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_charge_due_date_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_emv_data_dukpt_decrypt_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_emv_data_dukpt_decrypt_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_charge_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_charge_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_card_installment_option_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_card_installment_option_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_sellers_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_sellers_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_charges_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_charges_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_payment_authentication_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_payment_authentication_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_interest_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_interest_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_cycles_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_cycles_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_checkout_bank_transfer_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_checkout_bank_transfer_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_apple_pay_header_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_apple_pay_header_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_price_bracket_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_price_bracket_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_subscription_item_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_subscription_item_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_antifraud_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_antifraud_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_seller_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_seller_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_pricing_scheme_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_pricing_scheme_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/paging_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/paging_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_subscription_items_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_subscription_items_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_subscription_split_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_subscription_split_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_phone_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_phone_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_cash_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_cash_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_capture_charge_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_capture_charge_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_pix_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_pix_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/update_subscription_minimum_price_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/update_subscription_minimum_price_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_confirm_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_confirm_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_credit_card_payment_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_credit_card_payment_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_automatic_anticipation_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_automatic_anticipation_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/list_seller_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/list_seller_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_card_token_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_card_token_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_three_d_secure_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_three_d_secure_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/create_shipping_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/create_shipping_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_discount_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_discount_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/models/get_withdraw_source_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/models/get_withdraw_source_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/charges_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/charges_controller.py`

 * *Files 2% similar despite different names*

```diff
@@ -17,58 +17,59 @@
 from pagarmecoreapi.exceptions.error_exception import ErrorException
 
 class ChargesController(BaseController):
 
     """A Controller to access Endpoints in the pagarmecoreapi API."""
 
 
-    def update_charge_metadata(self,
-                               charge_id,
-                               body,
-                               idempotency_key=None):
-        """Does a PATCH request to /Charges/{charge_id}/metadata.
+    def capture_charge(self,
+                       charge_id,
+                       idempotency_key=None,
+                       body=None):
+        """Does a POST request to /charges/{charge_id}/capture.
 
-        Updates the metadata from a charge
+        Captures a charge
 
         Args:
-            charge_id (string): The charge id
-            body (UpdateMetadataRequest): Request for updating the charge
-                metadata
+            charge_id (string): Charge id
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
+            body (CreateCaptureChargeRequest, optional): Request for capturing
+                a charge
 
         Returns:
             GetChargeResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/Charges/{charge_id}/metadata'
+        _url_path = '/charges/{charge_id}/capture'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'charge_id': charge_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -82,58 +83,61 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
 
-    def capture_charge(self,
-                       charge_id,
-                       idempotency_key=None,
-                       body=None):
-        """Does a POST request to /charges/{charge_id}/capture.
+    def get_charge_transactions(self,
+                                charge_id,
+                                page=None,
+                                size=None):
+        """Does a GET request to /charges/{charge_id}/transactions.
 
-        Captures a charge
+        GetChargeTransactions
 
         Args:
-            charge_id (string): Charge id
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
-            body (CreateCaptureChargeRequest, optional): Request for capturing
-                a charge
+            charge_id (string): Charge Id
+            page (int, optional): Page number
+            size (int, optional): Page size
 
         Returns:
-            GetChargeResponse: Response from the API. 
+            ListChargeTransactionsResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/charges/{charge_id}/capture'
+        _url_path = '/charges/{charge_id}/transactions'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'charge_id': charge_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
+        _query_parameters = {
+            'page': page,
+            'size': size
+        }
+        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
+            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -145,60 +149,82 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListChargeTransactionsResponse.from_dictionary)
 
-    def update_charge_payment_method(self,
-                                     charge_id,
-                                     body,
-                                     idempotency_key=None):
-        """Does a PATCH request to /charges/{charge_id}/payment-method.
+    def get_charges(self,
+                    page=None,
+                    size=None,
+                    code=None,
+                    status=None,
+                    payment_method=None,
+                    customer_id=None,
+                    order_id=None,
+                    created_since=None,
+                    created_until=None):
+        """Does a GET request to /charges.
 
-        Updates a charge's payment method
+        Lists all charges
 
         Args:
-            charge_id (string): Charge id
-            body (UpdateChargePaymentMethodRequest): Request for updating the
-                payment method from a charge
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
+            page (int, optional): Page number
+            size (int, optional): Page size
+            code (string, optional): Filter for charge's code
+            status (string, optional): Filter for charge's status
+            payment_method (string, optional): Filter for charge's payment
+                method
+            customer_id (string, optional): Filter for charge's customer id
+            order_id (string, optional): Filter for charge's order id
+            created_since (datetime, optional): Filter for the beginning of
+                the range for charge's creation
+            created_until (datetime, optional): Filter for the end of the
+                range for charge's creation
 
         Returns:
-            GetChargeResponse: Response from the API. 
+            ListChargesResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/charges/{charge_id}/payment-method'
-        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'charge_id': charge_id
-        })
+        _url_path = '/charges'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
+        _query_parameters = {
+            'page': page,
+            'size': size,
+            'code': code,
+            'status': status,
+            'payment_method': payment_method,
+            'customer_id': customer_id,
+            'order_id': order_id,
+            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
+            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
+        }
+        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
+            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -210,62 +236,61 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListChargesResponse.from_dictionary)
 
-    def get_charge_transactions(self,
-                                charge_id,
-                                page=None,
-                                size=None):
-        """Does a GET request to /charges/{charge_id}/transactions.
+    def update_charge_payment_method(self,
+                                     charge_id,
+                                     body,
+                                     idempotency_key=None):
+        """Does a PATCH request to /charges/{charge_id}/payment-method.
 
-        GetChargeTransactions
+        Updates a charge's payment method
 
         Args:
-            charge_id (string): Charge Id
-            page (int, optional): Page number
-            size (int, optional): Page size
+            charge_id (string): Charge id
+            body (UpdateChargePaymentMethodRequest): Request for updating the
+                payment method from a charge
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
-            ListChargeTransactionsResponse: Response from the API. 
+            GetChargeResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/charges/{charge_id}/transactions'
+        _url_path = '/charges/{charge_id}/payment-method'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'charge_id': charge_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
-        _query_parameters = {
-            'page': page,
-            'size': size
-        }
-        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
-            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -277,15 +302,15 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListChargeTransactionsResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
 
     def update_charge_due_date(self,
                                charge_id,
                                body,
                                idempotency_key=None):
         """Does a PATCH request to /Charges/{charge_id}/due-date.
 
@@ -317,14 +342,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -344,79 +370,59 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
 
-    def get_charges(self,
-                    page=None,
-                    size=None,
-                    code=None,
-                    status=None,
-                    payment_method=None,
-                    customer_id=None,
-                    order_id=None,
-                    created_since=None,
-                    created_until=None):
-        """Does a GET request to /charges.
+    def confirm_payment(self,
+                        charge_id,
+                        idempotency_key=None,
+                        body=None):
+        """Does a POST request to /charges/{charge_id}/confirm-payment.
 
-        Lists all charges
+        ConfirmPayment
 
         Args:
-            page (int, optional): Page number
-            size (int, optional): Page size
-            code (string, optional): Filter for charge's code
-            status (string, optional): Filter for charge's status
-            payment_method (string, optional): Filter for charge's payment
-                method
-            customer_id (string, optional): Filter for charge's customer id
-            order_id (string, optional): Filter for charge's order id
-            created_since (datetime, optional): Filter for the beginning of
-                the range for charge's creation
-            created_until (datetime, optional): Filter for the end of the
-                range for charge's creation
+            charge_id (string): TODO: type description here. Example: 
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
+            body (CreateConfirmPaymentRequest, optional): Request for confirm
+                payment
 
         Returns:
-            ListChargesResponse: Response from the API. 
+            GetChargeResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/charges'
+        _url_path = '/charges/{charge_id}/confirm-payment'
+        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
+            'charge_id': charge_id
+        })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
-        _query_parameters = {
-            'page': page,
-            'size': size,
-            'code': code,
-            'status': status,
-            'payment_method': payment_method,
-            'customer_id': customer_id,
-            'order_id': order_id,
-            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
-            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
-        }
-        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
-            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -428,60 +434,53 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListChargesResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
 
-    def update_charge_card(self,
-                           charge_id,
-                           body,
-                           idempotency_key=None):
-        """Does a PATCH request to /charges/{charge_id}/card.
+    def get_charge(self,
+                   charge_id):
+        """Does a GET request to /charges/{charge_id}.
 
-        Updates the card from a charge
+        Get a charge from its id
 
         Args:
             charge_id (string): Charge id
-            body (UpdateChargeCardRequest): Request for updating a charge's
-                card
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
 
         Returns:
             GetChargeResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/charges/{charge_id}/card'
+        _url_path = '/charges/{charge_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'charge_id': charge_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -495,50 +494,55 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
 
-    def get_charge(self,
-                   charge_id):
-        """Does a GET request to /charges/{charge_id}.
+    def retry_charge(self,
+                     charge_id,
+                     idempotency_key=None):
+        """Does a POST request to /charges/{charge_id}/retry.
 
-        Get a charge from its id
+        Retries a charge
 
         Args:
             charge_id (string): Charge id
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
             GetChargeResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/charges/{charge_id}'
+        _url_path = '/charges/{charge_id}/retry'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'charge_id': charge_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.post(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -552,58 +556,59 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
 
-    def cancel_charge(self,
-                      charge_id,
-                      idempotency_key=None,
-                      body=None):
-        """Does a DELETE request to /charges/{charge_id}.
+    def update_charge_metadata(self,
+                               charge_id,
+                               body,
+                               idempotency_key=None):
+        """Does a PATCH request to /Charges/{charge_id}/metadata.
 
-        Cancel a charge
+        Updates the metadata from a charge
 
         Args:
-            charge_id (string): Charge id
+            charge_id (string): The charge id
+            body (UpdateMetadataRequest): Request for updating the charge
+                metadata
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
-            body (CreateCancelChargeRequest, optional): Request for cancelling
-                a charge
 
         Returns:
             GetChargeResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/charges/{charge_id}'
+        _url_path = '/Charges/{charge_id}/metadata'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'charge_id': charge_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.delete(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -617,60 +622,59 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
 
-    def get_charges_summary(self,
-                            status,
-                            created_since=None,
-                            created_until=None):
-        """Does a GET request to /charges/summary.
+    def update_charge_card(self,
+                           charge_id,
+                           body,
+                           idempotency_key=None):
+        """Does a PATCH request to /charges/{charge_id}/card.
 
-        GetChargesSummary
+        Updates the card from a charge
 
         Args:
-            status (string): TODO: type description here. Example: 
-            created_since (datetime, optional): TODO: type description here.
-                Example: 
-            created_until (datetime, optional): TODO: type description here.
+            charge_id (string): Charge id
+            body (UpdateChargeCardRequest): Request for updating a charge's
+                card
+            idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetChargesSummaryResponse: Response from the API. 
+            GetChargeResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/charges/summary'
+        _url_path = '/charges/{charge_id}/card'
+        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
+            'charge_id': charge_id
+        })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
-        _query_parameters = {
-            'status': status,
-            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
-            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
-        }
-        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
-            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -682,56 +686,61 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetChargesSummaryResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
 
-    def retry_charge(self,
-                     charge_id,
-                     idempotency_key=None):
-        """Does a POST request to /charges/{charge_id}/retry.
+    def cancel_charge(self,
+                      charge_id,
+                      idempotency_key=None,
+                      body=None):
+        """Does a DELETE request to /charges/{charge_id}.
 
-        Retries a charge
+        Cancel a charge
 
         Args:
             charge_id (string): Charge id
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
+            body (CreateCancelChargeRequest, optional): Request for cancelling
+                a charge
 
         Returns:
             GetChargeResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/charges/{charge_id}/retry'
+        _url_path = '/charges/{charge_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'charge_id': charge_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers)
+        _request = self.http_client.delete(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -745,52 +754,61 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
 
-    def create_charge(self,
-                      body,
-                      idempotency_key=None):
-        """Does a POST request to /Charges.
+    def get_charges_summary(self,
+                            status,
+                            created_since=None,
+                            created_until=None):
+        """Does a GET request to /charges/summary.
 
-        Creates a new charge
+        GetChargesSummary
 
         Args:
-            body (CreateChargeRequest): Request for creating a charge
-            idempotency_key (string, optional): TODO: type description here.
+            status (string): TODO: type description here. Example: 
+            created_since (datetime, optional): TODO: type description here.
+                Example: 
+            created_until (datetime, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetChargeResponse: Response from the API. 
+            GetChargesSummaryResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/Charges'
+        _url_path = '/charges/summary'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
+        _query_parameters = {
+            'status': status,
+            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
+            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
+        }
+        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
+            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -802,54 +820,49 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetChargeResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetChargesSummaryResponse.from_dictionary)
 
-    def confirm_payment(self,
-                        charge_id,
-                        idempotency_key=None,
-                        body=None):
-        """Does a POST request to /charges/{charge_id}/confirm-payment.
+    def create_charge(self,
+                      body,
+                      idempotency_key=None):
+        """Does a POST request to /Charges.
 
-        ConfirmPayment
+        Creates a new charge
 
         Args:
-            charge_id (string): TODO: type description here. Example: 
+            body (CreateChargeRequest): Request for creating a charge
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
-            body (CreateConfirmPaymentRequest, optional): Request for confirm
-                payment
 
         Returns:
             GetChargeResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/charges/{charge_id}/confirm-payment'
-        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'charge_id': charge_id
-        })
+        _url_path = '/Charges'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/customers_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/customers_controller.py`

 * *Files 2% similar despite different names*

```diff
@@ -8,40 +8,38 @@
 
 from pagarmecoreapi.api_helper import APIHelper
 from pagarmecoreapi.configuration import Configuration
 from pagarmecoreapi.controllers.base_controller import BaseController
 from pagarmecoreapi.http.auth.basic_auth import BasicAuth
 from pagarmecoreapi.models.get_card_response import GetCardResponse
 from pagarmecoreapi.models.get_address_response import GetAddressResponse
-from pagarmecoreapi.models.get_access_token_response import GetAccessTokenResponse
 from pagarmecoreapi.models.list_access_tokens_response import ListAccessTokensResponse
-from pagarmecoreapi.models.list_addresses_response import ListAddressesResponse
 from pagarmecoreapi.models.get_customer_response import GetCustomerResponse
 from pagarmecoreapi.models.list_customers_response import ListCustomersResponse
+from pagarmecoreapi.models.get_access_token_response import GetAccessTokenResponse
 from pagarmecoreapi.models.list_cards_response import ListCardsResponse
+from pagarmecoreapi.models.list_addresses_response import ListAddressesResponse
 from pagarmecoreapi.exceptions.error_exception import ErrorException
 
 class CustomersController(BaseController):
 
     """A Controller to access Endpoints in the pagarmecoreapi API."""
 
 
-    def update_card(self,
+    def delete_card(self,
                     customer_id,
                     card_id,
-                    body,
                     idempotency_key=None):
-        """Does a PUT request to /customers/{customer_id}/cards/{card_id}.
+        """Does a DELETE request to /customers/{customer_id}/cards/{card_id}.
 
-        Updates a card
+        Delete a customer's card
 
         Args:
             customer_id (string): Customer Id
-            card_id (string): Card id
-            body (UpdateCardRequest): Request for updating a card
+            card_id (string): Card Id
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
             GetCardResponse: Response from the API. 
 
         Raises:
@@ -61,20 +59,20 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -88,57 +86,61 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetCardResponse.from_dictionary)
 
-    def delete_card(self,
-                    customer_id,
-                    card_id,
-                    idempotency_key=None):
-        """Does a DELETE request to /customers/{customer_id}/cards/{card_id}.
+    def update_address(self,
+                       customer_id,
+                       address_id,
+                       body,
+                       idempotency_key=None):
+        """Does a PUT request to /customers/{customer_id}/addresses/{address_id}.
 
-        Delete a customer's card
+        Updates an address
 
         Args:
             customer_id (string): Customer Id
-            card_id (string): Card Id
+            address_id (string): Address Id
+            body (UpdateAddressRequest): Request for updating an address
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetCardResponse: Response from the API. 
+            GetAddressResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/cards/{card_id}'
+        _url_path = '/customers/{customer_id}/addresses/{address_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'customer_id': customer_id,
-            'card_id': card_id
+            'address_id': address_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.delete(_query_url, headers=_headers)
+        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -150,51 +152,52 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetCardResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetAddressResponse.from_dictionary)
 
-    def get_card(self,
-                 customer_id,
-                 card_id):
-        """Does a GET request to /customers/{customer_id}/cards/{card_id}.
+    def get_address(self,
+                    customer_id,
+                    address_id):
+        """Does a GET request to /customers/{customer_id}/addresses/{address_id}.
 
-        Get a customer's card
+        Get a customer's address
 
         Args:
             customer_id (string): Customer id
-            card_id (string): Card id
+            address_id (string): Address Id
 
         Returns:
-            GetCardResponse: Response from the API. 
+            GetAddressResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/cards/{card_id}'
+        _url_path = '/customers/{customer_id}/addresses/{address_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'customer_id': customer_id,
-            'card_id': card_id
+            'address_id': address_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -210,62 +213,63 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetCardResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetAddressResponse.from_dictionary)
 
-    def update_address(self,
-                       customer_id,
-                       address_id,
-                       body,
-                       idempotency_key=None):
-        """Does a PUT request to /customers/{customer_id}/addresses/{address_id}.
+    def get_access_tokens(self,
+                          customer_id,
+                          page=None,
+                          size=None):
+        """Does a GET request to /customers/{customer_id}/access-tokens.
 
-        Updates an address
+        Get all access tokens from a customer
 
         Args:
             customer_id (string): Customer Id
-            address_id (string): Address Id
-            body (UpdateAddressRequest): Request for updating an address
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
+            page (int, optional): Page number
+            size (int, optional): Page size
 
         Returns:
-            GetAddressResponse: Response from the API. 
+            ListAccessTokensResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/addresses/{address_id}'
+        _url_path = '/customers/{customer_id}/access-tokens'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'customer_id': customer_id,
-            'address_id': address_id
+            'customer_id': customer_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
+        _query_parameters = {
+            'page': page,
+            'size': size
+        }
+        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
+            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -277,55 +281,60 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetAddressResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListAccessTokensResponse.from_dictionary)
 
-    def get_address(self,
-                    customer_id,
-                    address_id):
-        """Does a GET request to /customers/{customer_id}/addresses/{address_id}.
+    def update_customer(self,
+                        customer_id,
+                        body,
+                        idempotency_key=None):
+        """Does a PUT request to /customers/{customer_id}.
 
-        Get a customer's address
+        Updates a customer
 
         Args:
             customer_id (string): Customer id
-            address_id (string): Address Id
+            body (UpdateCustomerRequest): Request for updating a customer
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
-            GetAddressResponse: Response from the API. 
+            GetCustomerResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/addresses/{address_id}'
+        _url_path = '/customers/{customer_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'customer_id': customer_id,
-            'address_id': address_id
+            'customer_id': customer_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -337,59 +346,60 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetAddressResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetCustomerResponse.from_dictionary)
 
-    def delete_address(self,
-                       customer_id,
-                       address_id,
-                       idempotency_key=None):
-        """Does a DELETE request to /customers/{customer_id}/addresses/{address_id}.
+    def renew_card(self,
+                   customer_id,
+                   card_id,
+                   idempotency_key=None):
+        """Does a POST request to /customers/{customer_id}/cards/{card_id}/renew.
 
-        Delete a Customer's address
+        Renew a card
 
         Args:
-            customer_id (string): Customer Id
-            address_id (string): Address Id
+            customer_id (string): Customer id
+            card_id (string): Card Id
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetAddressResponse: Response from the API. 
+            GetCardResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/addresses/{address_id}'
+        _url_path = '/customers/{customer_id}/cards/{card_id}/renew'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'customer_id': customer_id,
-            'address_id': address_id
+            'card_id': card_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.delete(_query_url, headers=_headers)
+        _request = self.http_client.post(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -401,59 +411,70 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetAddressResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetCardResponse.from_dictionary)
 
-    def delete_access_token(self,
-                            customer_id,
-                            token_id,
-                            idempotency_key=None):
-        """Does a DELETE request to /customers/{customer_id}/access-tokens/{token_id}.
+    def get_customers(self,
+                      name=None,
+                      document=None,
+                      page=1,
+                      size=10,
+                      email=None,
+                      code=None):
+        """Does a GET request to /customers.
 
-        Delete a customer's access token
+        Get all Customers
 
         Args:
-            customer_id (string): Customer Id
-            token_id (string): Token Id
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
+            name (string, optional): Name of the Customer
+            document (string, optional): Document of the Customer
+            page (int, optional): Current page the the search
+            size (int, optional): Quantity pages of the search
+            email (string, optional): Customer's email
+            code (string, optional): Customer's code
 
         Returns:
-            GetAccessTokenResponse: Response from the API. 
+            ListCustomersResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/access-tokens/{token_id}'
-        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'customer_id': customer_id,
-            'token_id': token_id
-        })
+        _url_path = '/customers'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
+        _query_parameters = {
+            'name': name,
+            'document': document,
+            'page': page,
+            'size': size,
+            'email': email,
+            'Code': code
+        }
+        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
+            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.delete(_query_url, headers=_headers)
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -465,51 +486,49 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetAccessTokenResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListCustomersResponse.from_dictionary)
 
-    def get_access_token(self,
-                         customer_id,
-                         token_id):
-        """Does a GET request to /customers/{customer_id}/access-tokens/{token_id}.
+    def delete_access_tokens(self,
+                             customer_id):
+        """Does a GET request to /customers/{customer_id}/access-tokens/.
 
-        Get a Customer's access token
+        Delete a Customer's access tokens
 
         Args:
             customer_id (string): Customer Id
-            token_id (string): Token Id
 
         Returns:
-            GetAccessTokenResponse: Response from the API. 
+            ListAccessTokensResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/access-tokens/{token_id}'
+        _url_path = '/customers/{customer_id}/access-tokens/'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'customer_id': customer_id,
-            'token_id': token_id
+            'customer_id': customer_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -525,60 +544,53 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetAccessTokenResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListAccessTokensResponse.from_dictionary)
 
-    def create_access_token(self,
-                            customer_id,
-                            body,
-                            idempotency_key=None):
-        """Does a POST request to /customers/{customer_id}/access-tokens.
+    def get_customer(self,
+                     customer_id):
+        """Does a GET request to /customers/{customer_id}.
 
-        Creates a access token for a customer
+        Get a customer
 
         Args:
             customer_id (string): Customer Id
-            body (CreateAccessTokenRequest): Request for creating a access
-                token
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
 
         Returns:
-            GetAccessTokenResponse: Response from the API. 
+            GetCustomerResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/access-tokens'
+        _url_path = '/customers/{customer_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'customer_id': customer_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -590,62 +602,63 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetAccessTokenResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetCustomerResponse.from_dictionary)
 
-    def get_access_tokens(self,
-                          customer_id,
-                          page=None,
-                          size=None):
-        """Does a GET request to /customers/{customer_id}/access-tokens.
+    def update_card(self,
+                    customer_id,
+                    card_id,
+                    body,
+                    idempotency_key=None):
+        """Does a PUT request to /customers/{customer_id}/cards/{card_id}.
 
-        Get all access tokens from a customer
+        Updates a card
 
         Args:
             customer_id (string): Customer Id
-            page (int, optional): Page number
-            size (int, optional): Page size
+            card_id (string): Card id
+            body (UpdateCardRequest): Request for updating a card
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
-            ListAccessTokensResponse: Response from the API. 
+            GetCardResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/access-tokens'
+        _url_path = '/customers/{customer_id}/cards/{card_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'customer_id': customer_id
+            'customer_id': customer_id,
+            'card_id': card_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
-        _query_parameters = {
-            'page': page,
-            'size': size
-        }
-        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
-            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -657,27 +670,27 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListAccessTokensResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetCardResponse.from_dictionary)
 
-    def create_address(self,
+    def delete_address(self,
                        customer_id,
-                       body,
+                       address_id,
                        idempotency_key=None):
-        """Does a POST request to /customers/{customer_id}/addresses.
+        """Does a DELETE request to /customers/{customer_id}/addresses/{address_id}.
 
-        Creates a new address for a customer
+        Delete a Customer's address
 
         Args:
             customer_id (string): Customer Id
-            body (CreateAddressRequest): Request for creating an address
+            address_id (string): Address Id
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
             GetAddressResponse: Response from the API. 
 
         Raises:
@@ -685,31 +698,32 @@
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/addresses'
+        _url_path = '/customers/{customer_id}/addresses/{address_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'customer_id': customer_id
+            'customer_id': customer_id,
+            'address_id': address_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -723,60 +737,59 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetAddressResponse.from_dictionary)
 
-    def get_addresses(self,
-                      customer_id,
-                      page=None,
-                      size=None):
-        """Does a GET request to /customers/{customer_id}/addresses.
+    def create_access_token(self,
+                            customer_id,
+                            body,
+                            idempotency_key=None):
+        """Does a POST request to /customers/{customer_id}/access-tokens.
 
-        Gets all adressess from a customer
+        Creates a access token for a customer
 
         Args:
-            customer_id (string): Customer id
-            page (int, optional): Page number
-            size (int, optional): Page size
+            customer_id (string): Customer Id
+            body (CreateAccessTokenRequest): Request for creating a access
+                token
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
-            ListAddressesResponse: Response from the API. 
+            GetAccessTokenResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/addresses'
+        _url_path = '/customers/{customer_id}/access-tokens'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'customer_id': customer_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
-        _query_parameters = {
-            'page': page,
-            'size': size
-        }
-        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
-            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -788,48 +801,54 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListAddressesResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetAccessTokenResponse.from_dictionary)
 
-    def create_customer(self,
-                        body,
-                        idempotency_key=None):
-        """Does a POST request to /customers.
+    def create_address(self,
+                       customer_id,
+                       body,
+                       idempotency_key=None):
+        """Does a POST request to /customers/{customer_id}/addresses.
 
-        Creates a new customer
+        Creates a new address for a customer
 
         Args:
-            body (CreateCustomerRequest): Request for creating a customer
+            customer_id (string): Customer Id
+            body (CreateAddressRequest): Request for creating an address
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetCustomerResponse: Response from the API. 
+            GetAddressResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers'
+        _url_path = '/customers/{customer_id}/addresses'
+        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
+            'customer_id': customer_id
+        })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -847,65 +866,59 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetCustomerResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetAddressResponse.from_dictionary)
 
-    def get_customers(self,
-                      name=None,
-                      document=None,
-                      page=1,
-                      size=10,
-                      email=None,
-                      code=None):
-        """Does a GET request to /customers.
+    def get_cards(self,
+                  customer_id,
+                  page=None,
+                  size=None):
+        """Does a GET request to /customers/{customer_id}/cards.
 
-        Get all Customers
+        Get all cards from a customer
 
         Args:
-            name (string, optional): Name of the Customer
-            document (string, optional): Document of the Customer
-            page (int, optional): Current page the the search
-            size (int, optional): Quantity pages of the search
-            email (string, optional): Customer's email
-            code (string, optional): Customer's code
+            customer_id (string): Customer Id
+            page (int, optional): Page number
+            size (int, optional): Page size
 
         Returns:
-            ListCustomersResponse: Response from the API. 
+            ListCardsResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers'
+        _url_path = '/customers/{customer_id}/cards'
+        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
+            'customer_id': customer_id
+        })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_parameters = {
-            'name': name,
-            'document': document,
             'page': page,
-            'size': size,
-            'email': email,
-            'Code': code
+            'size': size
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -921,52 +934,61 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListCustomersResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListCardsResponse.from_dictionary)
 
-    def delete_access_tokens(self,
-                             customer_id):
-        """Does a GET request to /customers/{customer_id}/access-tokens/.
+    def update_customer_metadata(self,
+                                 customer_id,
+                                 body,
+                                 idempotency_key=None):
+        """Does a PATCH request to /Customers/{customer_id}/metadata.
 
-        Delete a Customer's access tokens
+        Updates the metadata a customer
 
         Args:
-            customer_id (string): Customer Id
+            customer_id (string): The customer id
+            body (UpdateMetadataRequest): Request for updating the customer
+                metadata
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
-            ListAccessTokensResponse: Response from the API. 
+            GetCustomerResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/access-tokens/'
+        _url_path = '/Customers/{customer_id}/metadata'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'customer_id': customer_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -978,59 +1000,56 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListAccessTokensResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetCustomerResponse.from_dictionary)
 
-    def create_card(self,
-                    customer_id,
-                    body,
-                    idempotency_key=None):
-        """Does a POST request to /customers/{customer_id}/cards.
+    def get_card(self,
+                 customer_id,
+                 card_id):
+        """Does a GET request to /customers/{customer_id}/cards/{card_id}.
 
-        Creates a new card for a customer
+        Get a customer's card
 
         Args:
             customer_id (string): Customer id
-            body (CreateCardRequest): Request for creating a card
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
+            card_id (string): Card id
 
         Returns:
             GetCardResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/cards'
+        _url_path = '/customers/{customer_id}/cards/{card_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'customer_id': customer_id
+            'customer_id': customer_id,
+            'card_id': card_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -1044,60 +1063,58 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetCardResponse.from_dictionary)
 
-    def get_cards(self,
-                  customer_id,
-                  page=None,
-                  size=None):
-        """Does a GET request to /customers/{customer_id}/cards.
+    def delete_access_token(self,
+                            customer_id,
+                            token_id,
+                            idempotency_key=None):
+        """Does a DELETE request to /customers/{customer_id}/access-tokens/{token_id}.
 
-        Get all cards from a customer
+        Delete a customer's access token
 
         Args:
             customer_id (string): Customer Id
-            page (int, optional): Page number
-            size (int, optional): Page size
+            token_id (string): Token Id
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
-            ListCardsResponse: Response from the API. 
+            GetAccessTokenResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/cards'
+        _url_path = '/customers/{customer_id}/access-tokens/{token_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'customer_id': customer_id
+            'customer_id': customer_id,
+            'token_id': token_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
-        _query_parameters = {
-            'page': page,
-            'size': size
-        }
-        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
-            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -1109,59 +1126,56 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListCardsResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetAccessTokenResponse.from_dictionary)
 
-    def update_customer(self,
-                        customer_id,
-                        body,
-                        idempotency_key=None):
-        """Does a PUT request to /customers/{customer_id}.
+    def get_access_token(self,
+                         customer_id,
+                         token_id):
+        """Does a GET request to /customers/{customer_id}/access-tokens/{token_id}.
 
-        Updates a customer
+        Get a Customer's access token
 
         Args:
-            customer_id (string): Customer id
-            body (UpdateCustomerRequest): Request for updating a customer
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
+            customer_id (string): Customer Id
+            token_id (string): Token Id
 
         Returns:
-            GetCustomerResponse: Response from the API. 
+            GetAccessTokenResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}'
+        _url_path = '/customers/{customer_id}/access-tokens/{token_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'customer_id': customer_id
+            'customer_id': customer_id,
+            'token_id': token_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -1173,48 +1187,59 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetCustomerResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetAccessTokenResponse.from_dictionary)
 
-    def get_customer(self,
-                     customer_id):
-        """Does a GET request to /customers/{customer_id}.
+    def get_addresses(self,
+                      customer_id,
+                      page=None,
+                      size=None):
+        """Does a GET request to /customers/{customer_id}/addresses.
 
-        Get a customer
+        Gets all adressess from a customer
 
         Args:
-            customer_id (string): Customer Id
+            customer_id (string): Customer id
+            page (int, optional): Page number
+            size (int, optional): Page size
 
         Returns:
-            GetCustomerResponse: Response from the API. 
+            ListAddressesResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}'
+        _url_path = '/customers/{customer_id}/addresses'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'customer_id': customer_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
+        _query_parameters = {
+            'page': page,
+            'size': size
+        }
+        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
+            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -1230,59 +1255,55 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetCustomerResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListAddressesResponse.from_dictionary)
 
-    def renew_card(self,
-                   customer_id,
-                   card_id,
-                   idempotency_key=None):
-        """Does a POST request to /customers/{customer_id}/cards/{card_id}/renew.
+    def create_customer(self,
+                        body,
+                        idempotency_key=None):
+        """Does a POST request to /customers.
 
-        Renew a card
+        Creates a new customer
 
         Args:
-            customer_id (string): Customer id
-            card_id (string): Card Id
+            body (CreateCustomerRequest): Request for creating a customer
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetCardResponse: Response from the API. 
+            GetCustomerResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/customers/{customer_id}/cards/{card_id}/renew'
-        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'customer_id': customer_id,
-            'card_id': card_id
-        })
+        _url_path = '/customers'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers)
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -1294,60 +1315,60 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetCardResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetCustomerResponse.from_dictionary)
 
-    def update_customer_metadata(self,
-                                 customer_id,
-                                 body,
-                                 idempotency_key=None):
-        """Does a PATCH request to /Customers/{customer_id}/metadata.
+    def create_card(self,
+                    customer_id,
+                    body,
+                    idempotency_key=None):
+        """Does a POST request to /customers/{customer_id}/cards.
 
-        Updates the metadata a customer
+        Creates a new card for a customer
 
         Args:
-            customer_id (string): The customer id
-            body (UpdateMetadataRequest): Request for updating the customer
-                metadata
+            customer_id (string): Customer id
+            body (CreateCardRequest): Request for creating a card
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetCustomerResponse: Response from the API. 
+            GetCardResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/Customers/{customer_id}/metadata'
+        _url_path = '/customers/{customer_id}/cards'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'customer_id': customer_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -1359,8 +1380,8 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetCustomerResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetCardResponse.from_dictionary)
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/tokens_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/tokens_controller.py`

 * *Files 4% similar despite different names*

```diff
@@ -57,14 +57,15 @@
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         _context = self.execute_request(_request)
@@ -124,15 +125,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/transfers_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/transfers_controller.py`

 * *Files 5% similar despite different names*

```diff
@@ -6,55 +6,49 @@
     This file was automatically generated by APIMATIC v2.0 ( https://apimatic.io ).
 """
 
 from pagarmecoreapi.api_helper import APIHelper
 from pagarmecoreapi.configuration import Configuration
 from pagarmecoreapi.controllers.base_controller import BaseController
 from pagarmecoreapi.http.auth.basic_auth import BasicAuth
-from pagarmecoreapi.models.get_transfer import GetTransfer
 from pagarmecoreapi.models.list_transfers import ListTransfers
+from pagarmecoreapi.models.get_transfer import GetTransfer
 from pagarmecoreapi.exceptions.error_exception import ErrorException
 
 class TransfersController(BaseController):
 
     """A Controller to access Endpoints in the pagarmecoreapi API."""
 
 
-    def get_transfer_by_id(self,
-                           transfer_id):
-        """Does a GET request to /transfers/{transfer_id}.
-
-        GetTransferById
+    def get_transfers_1(self):
+        """Does a GET request to /transfers.
 
-        Args:
-            transfer_id (string): TODO: type description here. Example: 
+        Gets all transfers
 
         Returns:
-            GetTransfer: Response from the API. 
+            ListTransfers: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/transfers/{transfer_id}'
-        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'transfer_id': transfer_id
-        })
+        _url_path = '/transfers'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -70,50 +64,53 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetTransfer.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListTransfers.from_dictionary)
 
-    def post_create_transfer(self,
-                             body):
-        """Does a POST request to /transfers/recipients.
+    def get_transfer_by_id(self,
+                           transfer_id):
+        """Does a GET request to /transfers/{transfer_id}.
 
-        CreateTransfer
+        GetTransferById
 
         Args:
-            body (CreateTransfer): TODO: type description here. Example: 
+            transfer_id (string): TODO: type description here. Example: 
 
         Returns:
             GetTransfer: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/transfers/recipients'
+        _url_path = '/transfers/{transfer_id}'
+        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
+            'transfer_id': transfer_id
+        })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json'
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -127,43 +124,49 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetTransfer.from_dictionary)
 
-    def get_transfers_1(self):
-        """Does a GET request to /transfers.
+    def post_create_transfer(self,
+                             body):
+        """Does a POST request to /transfers/recipients.
 
-        Gets all transfers
+        CreateTransfer
+
+        Args:
+            body (CreateTransfer): TODO: type description here. Example: 
 
         Returns:
-            ListTransfers: Response from the API. 
+            GetTransfer: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/transfers'
+        _url_path = '/transfers/recipients'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json'
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -175,8 +178,8 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListTransfers.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetTransfer.from_dictionary)
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/subscriptions_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/subscriptions_controller.py`

 * *Files 6% similar despite different names*

```diff
@@ -29,64 +29,64 @@
 000001c0: 6372 6970 7469 6f6e 5265 7370 6f6e 7365  criptionResponse
 000001d0: 0d0a 6672 6f6d 2070 6167 6172 6d65 636f  ..from pagarmeco
 000001e0: 7265 6170 692e 6d6f 6465 6c73 2e67 6574  reapi.models.get
 000001f0: 5f75 7361 6765 5f72 6573 706f 6e73 6520  _usage_response 
 00000200: 696d 706f 7274 2047 6574 5573 6167 6552  import GetUsageR
 00000210: 6573 706f 6e73 650d 0a66 726f 6d20 7061  esponse..from pa
 00000220: 6761 726d 6563 6f72 6561 7069 2e6d 6f64  garmecoreapi.mod
-00000230: 656c 732e 6765 745f 6469 7363 6f75 6e74  els.get_discount
-00000240: 5f72 6573 706f 6e73 6520 696d 706f 7274  _response import
-00000250: 2047 6574 4469 7363 6f75 6e74 5265 7370   GetDiscountResp
-00000260: 6f6e 7365 0d0a 6672 6f6d 2070 6167 6172  onse..from pagar
-00000270: 6d65 636f 7265 6170 692e 6d6f 6465 6c73  mecoreapi.models
-00000280: 2e6c 6973 745f 7573 6167 6573 5f72 6573  .list_usages_res
-00000290: 706f 6e73 6520 696d 706f 7274 204c 6973  ponse import Lis
-000002a0: 7455 7361 6765 7352 6573 706f 6e73 650d  tUsagesResponse.
-000002b0: 0a66 726f 6d20 7061 6761 726d 6563 6f72  .from pagarmecor
-000002c0: 6561 7069 2e6d 6f64 656c 732e 6c69 7374  eapi.models.list
-000002d0: 5f73 7562 7363 7269 7074 696f 6e5f 6974  _subscription_it
-000002e0: 656d 735f 7265 7370 6f6e 7365 2069 6d70  ems_response imp
-000002f0: 6f72 7420 4c69 7374 5375 6273 6372 6970  ort ListSubscrip
-00000300: 7469 6f6e 4974 656d 7352 6573 706f 6e73  tionItemsRespons
+00000230: 656c 732e 6765 745f 7375 6273 6372 6970  els.get_subscrip
+00000240: 7469 6f6e 5f69 7465 6d5f 7265 7370 6f6e  tion_item_respon
+00000250: 7365 2069 6d70 6f72 7420 4765 7453 7562  se import GetSub
+00000260: 7363 7269 7074 696f 6e49 7465 6d52 6573  scriptionItemRes
+00000270: 706f 6e73 650d 0a66 726f 6d20 7061 6761  ponse..from paga
+00000280: 726d 6563 6f72 6561 7069 2e6d 6f64 656c  rmecoreapi.model
+00000290: 732e 6c69 7374 5f69 6e63 7265 6d65 6e74  s.list_increment
+000002a0: 735f 7265 7370 6f6e 7365 2069 6d70 6f72  s_response impor
+000002b0: 7420 4c69 7374 496e 6372 656d 656e 7473  t ListIncrements
+000002c0: 5265 7370 6f6e 7365 0d0a 6672 6f6d 2070  Response..from p
+000002d0: 6167 6172 6d65 636f 7265 6170 692e 6d6f  agarmecoreapi.mo
+000002e0: 6465 6c73 2e67 6574 5f70 6572 696f 645f  dels.get_period_
+000002f0: 7265 7370 6f6e 7365 2069 6d70 6f72 7420  response import 
+00000300: 4765 7450 6572 696f 6452 6573 706f 6e73  GetPeriodRespons
 00000310: 650d 0a66 726f 6d20 7061 6761 726d 6563  e..from pagarmec
 00000320: 6f72 6561 7069 2e6d 6f64 656c 732e 6765  oreapi.models.ge
-00000330: 745f 7375 6273 6372 6970 7469 6f6e 5f69  t_subscription_i
-00000340: 7465 6d5f 7265 7370 6f6e 7365 2069 6d70  tem_response imp
-00000350: 6f72 7420 4765 7453 7562 7363 7269 7074  ort GetSubscript
-00000360: 696f 6e49 7465 6d52 6573 706f 6e73 650d  ionItemResponse.
-00000370: 0a66 726f 6d20 7061 6761 726d 6563 6f72  .from pagarmecor
-00000380: 6561 7069 2e6d 6f64 656c 732e 6c69 7374  eapi.models.list
-00000390: 5f73 7562 7363 7269 7074 696f 6e73 5f72  _subscriptions_r
-000003a0: 6573 706f 6e73 6520 696d 706f 7274 204c  esponse import L
-000003b0: 6973 7453 7562 7363 7269 7074 696f 6e73  istSubscriptions
-000003c0: 5265 7370 6f6e 7365 0d0a 6672 6f6d 2070  Response..from p
-000003d0: 6167 6172 6d65 636f 7265 6170 692e 6d6f  agarmecoreapi.mo
-000003e0: 6465 6c73 2e67 6574 5f69 6e63 7265 6d65  dels.get_increme
-000003f0: 6e74 5f72 6573 706f 6e73 6520 696d 706f  nt_response impo
-00000400: 7274 2047 6574 496e 6372 656d 656e 7452  rt GetIncrementR
-00000410: 6573 706f 6e73 650d 0a66 726f 6d20 7061  esponse..from pa
-00000420: 6761 726d 6563 6f72 6561 7069 2e6d 6f64  garmecoreapi.mod
-00000430: 656c 732e 6c69 7374 5f63 7963 6c65 735f  els.list_cycles_
-00000440: 7265 7370 6f6e 7365 2069 6d70 6f72 7420  response import 
-00000450: 4c69 7374 4379 636c 6573 5265 7370 6f6e  ListCyclesRespon
-00000460: 7365 0d0a 6672 6f6d 2070 6167 6172 6d65  se..from pagarme
-00000470: 636f 7265 6170 692e 6d6f 6465 6c73 2e67  coreapi.models.g
-00000480: 6574 5f70 6572 696f 645f 7265 7370 6f6e  et_period_respon
-00000490: 7365 2069 6d70 6f72 7420 4765 7450 6572  se import GetPer
-000004a0: 696f 6452 6573 706f 6e73 650d 0a66 726f  iodResponse..fro
+00000330: 745f 6469 7363 6f75 6e74 5f72 6573 706f  t_discount_respo
+00000340: 6e73 6520 696d 706f 7274 2047 6574 4469  nse import GetDi
+00000350: 7363 6f75 6e74 5265 7370 6f6e 7365 0d0a  scountResponse..
+00000360: 6672 6f6d 2070 6167 6172 6d65 636f 7265  from pagarmecore
+00000370: 6170 692e 6d6f 6465 6c73 2e6c 6973 745f  api.models.list_
+00000380: 7375 6273 6372 6970 7469 6f6e 5f69 7465  subscription_ite
+00000390: 6d73 5f72 6573 706f 6e73 6520 696d 706f  ms_response impo
+000003a0: 7274 204c 6973 7453 7562 7363 7269 7074  rt ListSubscript
+000003b0: 696f 6e49 7465 6d73 5265 7370 6f6e 7365  ionItemsResponse
+000003c0: 0d0a 6672 6f6d 2070 6167 6172 6d65 636f  ..from pagarmeco
+000003d0: 7265 6170 692e 6d6f 6465 6c73 2e6c 6973  reapi.models.lis
+000003e0: 745f 7573 6167 6573 5f72 6573 706f 6e73  t_usages_respons
+000003f0: 6520 696d 706f 7274 204c 6973 7455 7361  e import ListUsa
+00000400: 6765 7352 6573 706f 6e73 650d 0a66 726f  gesResponse..fro
+00000410: 6d20 7061 6761 726d 6563 6f72 6561 7069  m pagarmecoreapi
+00000420: 2e6d 6f64 656c 732e 6765 745f 696e 6372  .models.get_incr
+00000430: 656d 656e 745f 7265 7370 6f6e 7365 2069  ement_response i
+00000440: 6d70 6f72 7420 4765 7449 6e63 7265 6d65  mport GetIncreme
+00000450: 6e74 5265 7370 6f6e 7365 0d0a 6672 6f6d  ntResponse..from
+00000460: 2070 6167 6172 6d65 636f 7265 6170 692e   pagarmecoreapi.
+00000470: 6d6f 6465 6c73 2e6c 6973 745f 6469 7363  models.list_disc
+00000480: 6f75 6e74 735f 7265 7370 6f6e 7365 2069  ounts_response i
+00000490: 6d70 6f72 7420 4c69 7374 4469 7363 6f75  mport ListDiscou
+000004a0: 6e74 7352 6573 706f 6e73 650d 0a66 726f  ntsResponse..fro
 000004b0: 6d20 7061 6761 726d 6563 6f72 6561 7069  m pagarmecoreapi
-000004c0: 2e6d 6f64 656c 732e 6c69 7374 5f64 6973  .models.list_dis
-000004d0: 636f 756e 7473 5f72 6573 706f 6e73 6520  counts_response 
-000004e0: 696d 706f 7274 204c 6973 7444 6973 636f  import ListDisco
-000004f0: 756e 7473 5265 7370 6f6e 7365 0d0a 6672  untsResponse..fr
-00000500: 6f6d 2070 6167 6172 6d65 636f 7265 6170  om pagarmecoreap
-00000510: 692e 6d6f 6465 6c73 2e6c 6973 745f 696e  i.models.list_in
-00000520: 6372 656d 656e 7473 5f72 6573 706f 6e73  crements_respons
-00000530: 6520 696d 706f 7274 204c 6973 7449 6e63  e import ListInc
-00000540: 7265 6d65 6e74 7352 6573 706f 6e73 650d  rementsResponse.
+000004c0: 2e6d 6f64 656c 732e 6c69 7374 5f73 7562  .models.list_sub
+000004d0: 7363 7269 7074 696f 6e73 5f72 6573 706f  scriptions_respo
+000004e0: 6e73 6520 696d 706f 7274 204c 6973 7453  nse import ListS
+000004f0: 7562 7363 7269 7074 696f 6e73 5265 7370  ubscriptionsResp
+00000500: 6f6e 7365 0d0a 6672 6f6d 2070 6167 6172  onse..from pagar
+00000510: 6d65 636f 7265 6170 692e 6d6f 6465 6c73  mecoreapi.models
+00000520: 2e6c 6973 745f 6379 636c 6573 5f72 6573  .list_cycles_res
+00000530: 706f 6e73 6520 696d 706f 7274 204c 6973  ponse import Lis
+00000540: 7443 7963 6c65 7352 6573 706f 6e73 650d  tCyclesResponse.
 00000550: 0a66 726f 6d20 7061 6761 726d 6563 6f72  .from pagarmecor
 00000560: 6561 7069 2e6d 6f64 656c 732e 6765 745f  eapi.models.get_
 00000570: 7573 6167 655f 7265 706f 7274 5f72 6573  usage_report_res
 00000580: 706f 6e73 6520 696d 706f 7274 2047 6574  ponse import Get
 00000590: 5573 6167 6552 6570 6f72 7452 6573 706f  UsageReportRespo
 000005a0: 6e73 650d 0a66 726f 6d20 7061 6761 726d  nse..from pagarm
 000005b0: 6563 6f72 6561 7069 2e65 7863 6570 7469  ecoreapi.excepti
@@ -186,6045 +186,6200 @@
 00000b90: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
 00000ba0: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
 00000bb0: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
 00000bc0: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
 00000bd0: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
 00000be0: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
 00000bf0: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
-00000c00: 2020 2020 2027 436f 6e74 656e 742d 5479       'Content-Ty
-00000c10: 7065 273a 2027 6170 706c 6963 6174 696f  pe': 'applicatio
-00000c20: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
-00000c30: 2020 2020 2020 2769 6465 6d70 6f74 656e        'idempoten
-00000c40: 6379 2d6b 6579 273a 2069 6465 6d70 6f74  cy-key': idempot
-00000c50: 656e 6379 5f6b 6579 0d0a 2020 2020 2020  ency_key..      
-00000c60: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
-00000c70: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
-00000c80: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
-00000c90: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
-00000ca0: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
-00000cb0: 742e 7061 7463 6828 5f71 7565 7279 5f75  t.patch(_query_u
-00000cc0: 726c 2c20 6865 6164 6572 733d 5f68 6561  rl, headers=_hea
-00000cd0: 6465 7273 2c20 7061 7261 6d65 7465 7273  ders, parameters
-00000ce0: 3d41 5049 4865 6c70 6572 2e6a 736f 6e5f  =APIHelper.json_
-00000cf0: 7365 7269 616c 697a 6528 626f 6479 2929  serialize(body))
-00000d00: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
-00000d10: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
-00000d20: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
-00000d30: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
-00000d40: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
-00000d50: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
-00000d60: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
-00000d70: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
-00000d80: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
-00000d90: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
-00000da0: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
-00000db0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00000dc0: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
-00000dd0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00000de0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00000df0: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
-00000e00: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
-00000e10: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00000e20: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00000e30: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00000e40: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
-00000e50: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00000e60: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-00000e70: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
-00000e80: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00000e90: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00000ea0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00000eb0: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
-00000ec0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00000ed0: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
-00000ee0: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
-00000ef0: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
-00000f00: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00000f10: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00000f20: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00000f30: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
-00000f40: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00000f50: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00000f60: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
-00000f70: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-00000f80: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00000f90: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00000fa0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00000fb0: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
-00000fc0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00000fd0: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
-00000fe0: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
-00000ff0: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
-00001000: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00001010: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00001020: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00001030: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
-00001040: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00001050: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
-00001060: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
-00001070: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00001080: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
-00001090: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
-000010a0: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
-000010b0: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
-000010c0: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
-000010d0: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
-000010e0: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
-000010f0: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
-00001100: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
-00001110: 792c 2047 6574 5375 6273 6372 6970 7469  y, GetSubscripti
-00001120: 6f6e 5265 7370 6f6e 7365 2e66 726f 6d5f  onResponse.from_
-00001130: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
-00001140: 2020 2064 6566 2064 656c 6574 655f 7573     def delete_us
-00001150: 6167 6528 7365 6c66 2c0d 0a20 2020 2020  age(self,..     
-00001160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001170: 7375 6273 6372 6970 7469 6f6e 5f69 642c  subscription_id,
-00001180: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001190: 2020 2020 2020 2069 7465 6d5f 6964 2c0d         item_id,.
-000011a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000011b0: 2020 2020 2020 7573 6167 655f 6964 2c0d        usage_id,.
-000011c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000011d0: 2020 2020 2020 6964 656d 706f 7465 6e63        idempotenc
-000011e0: 795f 6b65 793d 4e6f 6e65 293a 0d0a 2020  y_key=None):..  
-000011f0: 2020 2020 2020 2222 2244 6f65 7320 6120        """Does a 
-00001200: 4445 4c45 5445 2072 6571 7565 7374 2074  DELETE request t
-00001210: 6f20 2f73 7562 7363 7269 7074 696f 6e73  o /subscriptions
-00001220: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-00001230: 647d 2f69 7465 6d73 2f7b 6974 656d 5f69  d}/items/{item_i
-00001240: 647d 2f75 7361 6765 732f 7b75 7361 6765  d}/usages/{usage
-00001250: 5f69 647d 2e0d 0a0d 0a20 2020 2020 2020  _id}.....       
-00001260: 2044 656c 6574 6573 2061 2075 7361 6765   Deletes a usage
-00001270: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
-00001280: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
-00001290: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
-000012a0: 7374 7269 6e67 293a 2054 6865 2073 7562  string): The sub
-000012b0: 7363 7269 7074 696f 6e20 6964 0d0a 2020  scription id..  
-000012c0: 2020 2020 2020 2020 2020 6974 656d 5f69            item_i
-000012d0: 6420 2873 7472 696e 6729 3a20 5468 6520  d (string): The 
-000012e0: 7375 6273 6372 6970 7469 6f6e 2069 7465  subscription ite
-000012f0: 6d20 6964 0d0a 2020 2020 2020 2020 2020  m id..          
-00001300: 2020 7573 6167 655f 6964 2028 7374 7269    usage_id (stri
-00001310: 6e67 293a 2054 6865 2075 7361 6765 2069  ng): The usage i
-00001320: 640d 0a20 2020 2020 2020 2020 2020 2069  d..            i
-00001330: 6465 6d70 6f74 656e 6379 5f6b 6579 2028  dempotency_key (
-00001340: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
-00001350: 293a 2054 4f44 4f3a 2074 7970 6520 6465  ): TODO: type de
-00001360: 7363 7269 7074 696f 6e20 6865 7265 2e0d  scription here..
-00001370: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001380: 2045 7861 6d70 6c65 3a20 0d0a 0d0a 2020   Example: ....  
-00001390: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
-000013a0: 2020 2020 2020 2020 2020 2020 4765 7455              GetU
-000013b0: 7361 6765 5265 7370 6f6e 7365 3a20 5265  sageResponse: Re
-000013c0: 7370 6f6e 7365 2066 726f 6d20 7468 6520  sponse from the 
-000013d0: 4150 492e 200d 0a0d 0a20 2020 2020 2020  API. ....       
-000013e0: 2052 6169 7365 733a 0d0a 2020 2020 2020   Raises:..      
-000013f0: 2020 2020 2020 4150 4945 7863 6570 7469        APIExcepti
-00001400: 6f6e 3a20 5768 656e 2061 6e20 6572 726f  on: When an erro
-00001410: 7220 6f63 6375 7273 2077 6869 6c65 2066  r occurs while f
-00001420: 6574 6368 696e 6720 7468 6520 6461 7461  etching the data
-00001430: 2066 726f 6d0d 0a20 2020 2020 2020 2020   from..         
-00001440: 2020 2020 2020 2074 6865 2072 656d 6f74         the remot
-00001450: 6520 4150 492e 2054 6869 7320 6578 6365  e API. This exce
-00001460: 7074 696f 6e20 696e 636c 7564 6573 2074  ption includes t
-00001470: 6865 2048 5454 5020 5265 7370 6f6e 7365  he HTTP Response
-00001480: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00001490: 2020 636f 6465 2c20 616e 2065 7272 6f72    code, an error
-000014a0: 206d 6573 7361 6765 2c20 616e 6420 7468   message, and th
-000014b0: 6520 4854 5450 2062 6f64 7920 7468 6174  e HTTP body that
-000014c0: 2077 6173 2072 6563 6569 7665 6420 696e   was received in
-000014d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000014e0: 2020 7468 6520 7265 7175 6573 742e 0d0a    the request...
-000014f0: 0d0a 2020 2020 2020 2020 2222 220d 0a0d  ..        """...
-00001500: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-00001510: 7265 2071 7565 7279 2055 524c 0d0a 2020  re query URL..  
-00001520: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-00001530: 3d20 272f 7375 6273 6372 6970 7469 6f6e  = '/subscription
-00001540: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
-00001550: 6964 7d2f 6974 656d 732f 7b69 7465 6d5f  id}/items/{item_
-00001560: 6964 7d2f 7573 6167 6573 2f7b 7573 6167  id}/usages/{usag
-00001570: 655f 6964 7d27 0d0a 2020 2020 2020 2020  e_id}'..        
-00001580: 5f75 726c 5f70 6174 6820 3d20 4150 4948  _url_path = APIH
-00001590: 656c 7065 722e 6170 7065 6e64 5f75 726c  elper.append_url
-000015a0: 5f77 6974 685f 7465 6d70 6c61 7465 5f70  _with_template_p
-000015b0: 6172 616d 6574 6572 7328 5f75 726c 5f70  arameters(_url_p
-000015c0: 6174 682c 207b 200d 0a20 2020 2020 2020  ath, { ..       
-000015d0: 2020 2020 2027 7375 6273 6372 6970 7469       'subscripti
-000015e0: 6f6e 5f69 6427 3a20 7375 6273 6372 6970  on_id': subscrip
-000015f0: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-00001600: 2020 2020 2020 2769 7465 6d5f 6964 273a        'item_id':
-00001610: 2069 7465 6d5f 6964 2c0d 0a20 2020 2020   item_id,..     
-00001620: 2020 2020 2020 2027 7573 6167 655f 6964         'usage_id
-00001630: 273a 2075 7361 6765 5f69 640d 0a20 2020  ': usage_id..   
-00001640: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
-00001650: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-00001660: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
-00001670: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
-00001680: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-00001690: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
-000016a0: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
-000016b0: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
-000016c0: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
-000016d0: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
-000016e0: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
-000016f0: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
-00001700: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
-00001710: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
-00001720: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
-00001730: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
-00001740: 2020 2027 6964 656d 706f 7465 6e63 792d     'idempotency-
-00001750: 6b65 7927 3a20 6964 656d 706f 7465 6e63  key': idempotenc
-00001760: 795f 6b65 790d 0a20 2020 2020 2020 207d  y_key..        }
-00001770: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-00001780: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
-00001790: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
-000017a0: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
-000017b0: 6c66 2e68 7474 705f 636c 6965 6e74 2e64  lf.http_client.d
-000017c0: 656c 6574 6528 5f71 7565 7279 5f75 726c  elete(_query_url
-000017d0: 2c20 6865 6164 6572 733d 5f68 6561 6465  , headers=_heade
-000017e0: 7273 290d 0a20 2020 2020 2020 2042 6173  rs)..        Bas
-000017f0: 6963 4175 7468 2e61 7070 6c79 285f 7265  icAuth.apply(_re
-00001800: 7175 6573 7429 0d0a 2020 2020 2020 2020  quest)..        
-00001810: 5f63 6f6e 7465 7874 203d 2073 656c 662e  _context = self.
-00001820: 6578 6563 7574 655f 7265 7175 6573 7428  execute_request(
-00001830: 5f72 6571 7565 7374 290d 0a0d 0a20 2020  _request)....   
-00001840: 2020 2020 2023 2045 6e64 706f 696e 7420       # Endpoint 
-00001850: 616e 6420 676c 6f62 616c 2065 7272 6f72  and global error
-00001860: 2068 616e 646c 696e 6720 7573 696e 6720   handling using 
-00001870: 4854 5450 2073 7461 7475 7320 636f 6465  HTTP status code
-00001880: 732e 0d0a 2020 2020 2020 2020 6966 205f  s...        if _
-00001890: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-000018a0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-000018b0: 3430 303a 0d0a 2020 2020 2020 2020 2020  400:..          
-000018c0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-000018d0: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-000018e0: 7265 7175 6573 7427 2c20 5f63 6f6e 7465  request', _conte
-000018f0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00001900: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00001910: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00001920: 3d3d 2034 3031 3a0d 0a20 2020 2020 2020  == 401:..       
-00001930: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00001940: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
-00001950: 6964 2041 5049 206b 6579 272c 205f 636f  id API key', _co
-00001960: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00001970: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00001980: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00001990: 6465 203d 3d20 3430 343a 0d0a 2020 2020  de == 404:..    
-000019a0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-000019b0: 726f 7245 7863 6570 7469 6f6e 2827 416e  rorException('An
-000019c0: 2069 6e66 6f72 6d65 6420 7265 736f 7572   informed resour
-000019d0: 6365 2077 6173 206e 6f74 2066 6f75 6e64  ce was not found
-000019e0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-000019f0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-00001a00: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00001a10: 7475 735f 636f 6465 203d 3d20 3431 323a  tus_code == 412:
-00001a20: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00001a30: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00001a40: 6f6e 2827 4275 7369 6e65 7373 2076 616c  on('Business val
-00001a50: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
-00001a60: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00001a70: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00001a80: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00001a90: 5f63 6f64 6520 3d3d 2034 3232 3a0d 0a20  _code == 422:.. 
-00001aa0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00001ab0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00001ac0: 2743 6f6e 7472 6163 7420 7661 6c69 6461  'Contract valida
-00001ad0: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-00001ae0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00001af0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00001b00: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00001b10: 6465 203d 3d20 3530 303a 0d0a 2020 2020  de == 500:..    
-00001b20: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00001b30: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-00001b40: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
-00001b50: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-00001b60: 0a20 2020 2020 2020 2073 656c 662e 7661  .        self.va
-00001b70: 6c69 6461 7465 5f72 6573 706f 6e73 6528  lidate_response(
-00001b80: 5f63 6f6e 7465 7874 290d 0a0d 0a20 2020  _context)....   
-00001b90: 2020 2020 2023 2052 6574 7572 6e20 6170       # Return ap
-00001ba0: 7072 6f70 7269 6174 6520 7479 7065 0d0a  propriate type..
-00001bb0: 2020 2020 2020 2020 7265 7475 726e 2041          return A
-00001bc0: 5049 4865 6c70 6572 2e6a 736f 6e5f 6465  PIHelper.json_de
-00001bd0: 7365 7269 616c 697a 6528 5f63 6f6e 7465  serialize(_conte
-00001be0: 7874 2e72 6573 706f 6e73 652e 7261 775f  xt.response.raw_
-00001bf0: 626f 6479 2c20 4765 7455 7361 6765 5265  body, GetUsageRe
-00001c00: 7370 6f6e 7365 2e66 726f 6d5f 6469 6374  sponse.from_dict
-00001c10: 696f 6e61 7279 290d 0a0d 0a20 2020 2064  ionary)....    d
-00001c20: 6566 2063 7265 6174 655f 6469 7363 6f75  ef create_discou
-00001c30: 6e74 2873 656c 662c 0d0a 2020 2020 2020  nt(self,..      
-00001c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c50: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-00001c60: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
-00001c70: 2020 2020 2020 2020 2020 2020 626f 6479              body
-00001c80: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00001c90: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
-00001ca0: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 6529  otency_key=None)
-00001cb0: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
-00001cc0: 6573 2061 2050 4f53 5420 7265 7175 6573  es a POST reques
-00001cd0: 7420 746f 202f 7375 6273 6372 6970 7469  t to /subscripti
-00001ce0: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
-00001cf0: 6e5f 6964 7d2f 6469 7363 6f75 6e74 732e  n_id}/discounts.
-00001d00: 0d0a 0d0a 2020 2020 2020 2020 4372 6561  ....        Crea
-00001d10: 7465 7320 6120 6469 7363 6f75 6e74 0d0a  tes a discount..
-00001d20: 0d0a 2020 2020 2020 2020 4172 6773 3a0d  ..        Args:.
-00001d30: 0a20 2020 2020 2020 2020 2020 2073 7562  .            sub
-00001d40: 7363 7269 7074 696f 6e5f 6964 2028 7374  scription_id (st
-00001d50: 7269 6e67 293a 2053 7562 7363 7269 7074  ring): Subscript
-00001d60: 696f 6e20 6964 0d0a 2020 2020 2020 2020  ion id..        
-00001d70: 2020 2020 626f 6479 2028 4372 6561 7465      body (Create
-00001d80: 4469 7363 6f75 6e74 5265 7175 6573 7429  DiscountRequest)
-00001d90: 3a20 5265 7175 6573 7420 666f 7220 6372  : Request for cr
-00001da0: 6561 7469 6e67 2061 2064 6973 636f 756e  eating a discoun
-00001db0: 740d 0a20 2020 2020 2020 2020 2020 2069  t..            i
-00001dc0: 6465 6d70 6f74 656e 6379 5f6b 6579 2028  dempotency_key (
-00001dd0: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
-00001de0: 293a 2054 4f44 4f3a 2074 7970 6520 6465  ): TODO: type de
-00001df0: 7363 7269 7074 696f 6e20 6865 7265 2e0d  scription here..
-00001e00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001e10: 2045 7861 6d70 6c65 3a20 0d0a 0d0a 2020   Example: ....  
-00001e20: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
-00001e30: 2020 2020 2020 2020 2020 2020 4765 7444              GetD
-00001e40: 6973 636f 756e 7452 6573 706f 6e73 653a  iscountResponse:
-00001e50: 2052 6573 706f 6e73 6520 6672 6f6d 2074   Response from t
-00001e60: 6865 2041 5049 2e20 0d0a 0d0a 2020 2020  he API. ....    
-00001e70: 2020 2020 5261 6973 6573 3a0d 0a20 2020      Raises:..   
-00001e80: 2020 2020 2020 2020 2041 5049 4578 6365           APIExce
-00001e90: 7074 696f 6e3a 2057 6865 6e20 616e 2065  ption: When an e
-00001ea0: 7272 6f72 206f 6363 7572 7320 7768 696c  rror occurs whil
-00001eb0: 6520 6665 7463 6869 6e67 2074 6865 2064  e fetching the d
-00001ec0: 6174 6120 6672 6f6d 0d0a 2020 2020 2020  ata from..      
-00001ed0: 2020 2020 2020 2020 2020 7468 6520 7265            the re
-00001ee0: 6d6f 7465 2041 5049 2e20 5468 6973 2065  mote API. This e
-00001ef0: 7863 6570 7469 6f6e 2069 6e63 6c75 6465  xception include
-00001f00: 7320 7468 6520 4854 5450 2052 6573 706f  s the HTTP Respo
-00001f10: 6e73 650d 0a20 2020 2020 2020 2020 2020  nse..           
-00001f20: 2020 2020 2063 6f64 652c 2061 6e20 6572       code, an er
-00001f30: 726f 7220 6d65 7373 6167 652c 2061 6e64  ror message, and
-00001f40: 2074 6865 2048 5454 5020 626f 6479 2074   the HTTP body t
-00001f50: 6861 7420 7761 7320 7265 6365 6976 6564  hat was received
-00001f60: 2069 6e0d 0a20 2020 2020 2020 2020 2020   in..           
-00001f70: 2020 2020 2074 6865 2072 6571 7565 7374       the request
-00001f80: 2e0d 0a0d 0a20 2020 2020 2020 2022 2222  .....        """
-00001f90: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-00001fa0: 6570 6172 6520 7175 6572 7920 5552 4c0d  epare query URL.
-00001fb0: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
-00001fc0: 7468 203d 2027 2f73 7562 7363 7269 7074  th = '/subscript
-00001fd0: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
-00001fe0: 6f6e 5f69 647d 2f64 6973 636f 756e 7473  on_id}/discounts
-00001ff0: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
-00002000: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
-00002010: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
-00002020: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
-00002030: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
-00002040: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
-00002050: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
-00002060: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
-00002070: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
-00002080: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-00002090: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
-000020a0: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
-000020b0: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-000020c0: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
-000020d0: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
-000020e0: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
-000020f0: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
-00002100: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
-00002110: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-00002120: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
-00002130: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
-00002140: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
-00002150: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
-00002160: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
-00002170: 2020 2020 2020 2020 2020 2743 6f6e 7465            'Conte
-00002180: 6e74 2d54 7970 6527 3a20 2761 7070 6c69  nt-Type': 'appli
-00002190: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
-000021a0: 2020 2020 2020 2020 2020 2027 6964 656d             'idem
-000021b0: 706f 7465 6e63 792d 6b65 7927 3a20 6964  potency-key': id
-000021c0: 656d 706f 7465 6e63 795f 6b65 790d 0a20  empotency_key.. 
-000021d0: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
-000021e0: 2020 2020 2320 5072 6570 6172 6520 616e      # Prepare an
-000021f0: 6420 6578 6563 7574 6520 7265 7175 6573  d execute reques
-00002200: 740d 0a20 2020 2020 2020 205f 7265 7175  t..        _requ
-00002210: 6573 7420 3d20 7365 6c66 2e68 7474 705f  est = self.http_
-00002220: 636c 6965 6e74 2e70 6f73 7428 5f71 7565  client.post(_que
-00002230: 7279 5f75 726c 2c20 6865 6164 6572 733d  ry_url, headers=
-00002240: 5f68 6561 6465 7273 2c20 7061 7261 6d65  _headers, parame
-00002250: 7465 7273 3d41 5049 4865 6c70 6572 2e6a  ters=APIHelper.j
-00002260: 736f 6e5f 7365 7269 616c 697a 6528 626f  son_serialize(bo
-00002270: 6479 2929 0d0a 2020 2020 2020 2020 4261  dy))..        Ba
-00002280: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
-00002290: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
-000022a0: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
-000022b0: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
-000022c0: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
-000022d0: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
-000022e0: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
-000022f0: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
-00002300: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
-00002310: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
-00002320: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00002330: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00002340: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
-00002350: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00002360: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-00002370: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
-00002380: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00002390: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-000023a0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-000023b0: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
-000023c0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-000023d0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-000023e0: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
-000023f0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00002400: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00002410: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00002420: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
-00002430: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00002440: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
-00002450: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
-00002460: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
-00002470: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
-00002480: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00002490: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-000024a0: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
-000024b0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-000024c0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-000024d0: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
-000024e0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-000024f0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00002500: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00002510: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00002520: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
-00002530: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00002540: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00002550: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
-00002560: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-00002570: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00002580: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00002590: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-000025a0: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
-000025b0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-000025c0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-000025d0: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
-000025e0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-000025f0: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
-00002600: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
-00002610: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
-00002620: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
-00002630: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
-00002640: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00002650: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
-00002660: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
-00002670: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
-00002680: 5f62 6f64 792c 2047 6574 4469 7363 6f75  _body, GetDiscou
-00002690: 6e74 5265 7370 6f6e 7365 2e66 726f 6d5f  ntResponse.from_
-000026a0: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
-000026b0: 2020 2064 6566 2063 7265 6174 655f 616e     def create_an
-000026c0: 5f75 7361 6765 2873 656c 662c 0d0a 2020  _usage(self,..  
-000026d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000026e0: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
-000026f0: 6f6e 5f69 642c 0d0a 2020 2020 2020 2020  on_id,..        
-00002700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002710: 6974 656d 5f69 642c 0d0a 2020 2020 2020  item_id,..      
-00002720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002730: 2020 6964 656d 706f 7465 6e63 795f 6b65    idempotency_ke
-00002740: 793d 4e6f 6e65 293a 0d0a 2020 2020 2020  y=None):..      
-00002750: 2020 2222 2244 6f65 7320 6120 504f 5354    """Does a POST
-00002760: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
-00002770: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
-00002780: 6372 6970 7469 6f6e 5f69 647d 2f69 7465  cription_id}/ite
-00002790: 6d73 2f7b 6974 656d 5f69 647d 2f75 7361  ms/{item_id}/usa
-000027a0: 6765 732e 0d0a 0d0a 2020 2020 2020 2020  ges.....        
-000027b0: 4372 6561 7465 2055 7361 6765 0d0a 0d0a  Create Usage....
-000027c0: 2020 2020 2020 2020 4172 6773 3a0d 0a20          Args:.. 
-000027d0: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
-000027e0: 7269 7074 696f 6e5f 6964 2028 7374 7269  ription_id (stri
-000027f0: 6e67 293a 2053 7562 7363 7269 7074 696f  ng): Subscriptio
-00002800: 6e20 6964 0d0a 2020 2020 2020 2020 2020  n id..          
-00002810: 2020 6974 656d 5f69 6420 2873 7472 696e    item_id (strin
-00002820: 6729 3a20 4974 656d 2069 640d 0a20 2020  g): Item id..   
-00002830: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
-00002840: 656e 6379 5f6b 6579 2028 7374 7269 6e67  ency_key (string
-00002850: 2c20 6f70 7469 6f6e 616c 293a 2054 4f44  , optional): TOD
-00002860: 4f3a 2074 7970 6520 6465 7363 7269 7074  O: type descript
-00002870: 696f 6e20 6865 7265 2e0d 0a20 2020 2020  ion here...     
-00002880: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
-00002890: 6c65 3a20 0d0a 0d0a 2020 2020 2020 2020  le: ....        
-000028a0: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
-000028b0: 2020 2020 2020 4765 7455 7361 6765 5265        GetUsageRe
-000028c0: 7370 6f6e 7365 3a20 5265 7370 6f6e 7365  sponse: Response
-000028d0: 2066 726f 6d20 7468 6520 4150 492e 200d   from the API. .
-000028e0: 0a0d 0a20 2020 2020 2020 2052 6169 7365  ...        Raise
-000028f0: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00002900: 4150 4945 7863 6570 7469 6f6e 3a20 5768  APIException: Wh
-00002910: 656e 2061 6e20 6572 726f 7220 6f63 6375  en an error occu
-00002920: 7273 2077 6869 6c65 2066 6574 6368 696e  rs while fetchin
-00002930: 6720 7468 6520 6461 7461 2066 726f 6d0d  g the data from.
-00002940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002950: 2074 6865 2072 656d 6f74 6520 4150 492e   the remote API.
-00002960: 2054 6869 7320 6578 6365 7074 696f 6e20   This exception 
-00002970: 696e 636c 7564 6573 2074 6865 2048 5454  includes the HTT
-00002980: 5020 5265 7370 6f6e 7365 0d0a 2020 2020  P Response..    
-00002990: 2020 2020 2020 2020 2020 2020 636f 6465              code
-000029a0: 2c20 616e 2065 7272 6f72 206d 6573 7361  , an error messa
-000029b0: 6765 2c20 616e 6420 7468 6520 4854 5450  ge, and the HTTP
-000029c0: 2062 6f64 7920 7468 6174 2077 6173 2072   body that was r
-000029d0: 6563 6569 7665 6420 696e 0d0a 2020 2020  eceived in..    
-000029e0: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-000029f0: 7265 7175 6573 742e 0d0a 0d0a 2020 2020  request.....    
-00002a00: 2020 2020 2222 220d 0a0d 0a20 2020 2020      """....     
-00002a10: 2020 2023 2050 7265 7061 7265 2071 7565     # Prepare que
-00002a20: 7279 2055 524c 0d0a 2020 2020 2020 2020  ry URL..        
-00002a30: 5f75 726c 5f70 6174 6820 3d20 272f 7375  _url_path = '/su
-00002a40: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
-00002a50: 7363 7269 7074 696f 6e5f 6964 7d2f 6974  scription_id}/it
-00002a60: 656d 732f 7b69 7465 6d5f 6964 7d2f 7573  ems/{item_id}/us
-00002a70: 6167 6573 270d 0a20 2020 2020 2020 205f  ages'..        _
-00002a80: 7572 6c5f 7061 7468 203d 2041 5049 4865  url_path = APIHe
-00002a90: 6c70 6572 2e61 7070 656e 645f 7572 6c5f  lper.append_url_
-00002aa0: 7769 7468 5f74 656d 706c 6174 655f 7061  with_template_pa
-00002ab0: 7261 6d65 7465 7273 285f 7572 6c5f 7061  rameters(_url_pa
-00002ac0: 7468 2c20 7b20 0d0a 2020 2020 2020 2020  th, { ..        
-00002ad0: 2020 2020 2773 7562 7363 7269 7074 696f      'subscriptio
-00002ae0: 6e5f 6964 273a 2073 7562 7363 7269 7074  n_id': subscript
-00002af0: 696f 6e5f 6964 2c0d 0a20 2020 2020 2020  ion_id,..       
-00002b00: 2020 2020 2027 6974 656d 5f69 6427 3a20       'item_id': 
-00002b10: 6974 656d 5f69 640d 0a20 2020 2020 2020  item_id..       
-00002b20: 207d 290d 0a20 2020 2020 2020 205f 7175   })..        _qu
-00002b30: 6572 795f 6275 696c 6465 7220 3d20 436f  ery_builder = Co
-00002b40: 6e66 6967 7572 6174 696f 6e2e 6261 7365  nfiguration.base
-00002b50: 5f75 7269 0d0a 2020 2020 2020 2020 5f71  _uri..        _q
-00002b60: 7565 7279 5f62 7569 6c64 6572 202b 3d20  uery_builder += 
-00002b70: 5f75 726c 5f70 6174 680d 0a20 2020 2020  _url_path..     
-00002b80: 2020 205f 7175 6572 795f 7572 6c20 3d20     _query_url = 
-00002b90: 4150 4948 656c 7065 722e 636c 6561 6e5f  APIHelper.clean_
-00002ba0: 7572 6c28 5f71 7565 7279 5f62 7569 6c64  url(_query_build
-00002bb0: 6572 290d 0a0d 0a20 2020 2020 2020 2023  er)....        #
-00002bc0: 2050 7265 7061 7265 2068 6561 6465 7273   Prepare headers
-00002bd0: 0d0a 2020 2020 2020 2020 5f68 6561 6465  ..        _heade
-00002be0: 7273 203d 207b 0d0a 2020 2020 2020 2020  rs = {..        
-00002bf0: 2020 2020 2761 6363 6570 7427 3a20 2761      'accept': 'a
-00002c00: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
-00002c10: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
-00002c20: 6964 656d 706f 7465 6e63 792d 6b65 7927  idempotency-key'
-00002c30: 3a20 6964 656d 706f 7465 6e63 795f 6b65  : idempotency_ke
-00002c40: 790d 0a20 2020 2020 2020 207d 0d0a 0d0a  y..        }....
-00002c50: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-00002c60: 6520 616e 6420 6578 6563 7574 6520 7265  e and execute re
-00002c70: 7175 6573 740d 0a20 2020 2020 2020 205f  quest..        _
-00002c80: 7265 7175 6573 7420 3d20 7365 6c66 2e68  request = self.h
-00002c90: 7474 705f 636c 6965 6e74 2e70 6f73 7428  ttp_client.post(
-00002ca0: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
-00002cb0: 6572 733d 5f68 6561 6465 7273 290d 0a20  ers=_headers).. 
-00002cc0: 2020 2020 2020 2042 6173 6963 4175 7468         BasicAuth
-00002cd0: 2e61 7070 6c79 285f 7265 7175 6573 7429  .apply(_request)
-00002ce0: 0d0a 2020 2020 2020 2020 5f63 6f6e 7465  ..        _conte
-00002cf0: 7874 203d 2073 656c 662e 6578 6563 7574  xt = self.execut
-00002d00: 655f 7265 7175 6573 7428 5f72 6571 7565  e_request(_reque
-00002d10: 7374 290d 0a0d 0a20 2020 2020 2020 2023  st)....        #
-00002d20: 2045 6e64 706f 696e 7420 616e 6420 676c   Endpoint and gl
-00002d30: 6f62 616c 2065 7272 6f72 2068 616e 646c  obal error handl
-00002d40: 696e 6720 7573 696e 6720 4854 5450 2073  ing using HTTP s
-00002d50: 7461 7475 7320 636f 6465 732e 0d0a 2020  tatus codes...  
-00002d60: 2020 2020 2020 6966 205f 636f 6e74 6578        if _contex
-00002d70: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00002d80: 735f 636f 6465 203d 3d20 3430 303a 0d0a  s_code == 400:..
-00002d90: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00002da0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00002db0: 2827 496e 7661 6c69 6420 7265 7175 6573  ('Invalid reques
-00002dc0: 7427 2c20 5f63 6f6e 7465 7874 290d 0a20  t', _context).. 
-00002dd0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00002de0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00002df0: 6174 7573 5f63 6f64 6520 3d3d 2034 3031  atus_code == 401
-00002e00: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00002e10: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00002e20: 696f 6e28 2749 6e76 616c 6964 2041 5049  ion('Invalid API
-00002e30: 206b 6579 272c 205f 636f 6e74 6578 7429   key', _context)
-00002e40: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00002e50: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00002e60: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00002e70: 3430 343a 0d0a 2020 2020 2020 2020 2020  404:..          
-00002e80: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00002e90: 6570 7469 6f6e 2827 416e 2069 6e66 6f72  eption('An infor
-00002ea0: 6d65 6420 7265 736f 7572 6365 2077 6173  med resource was
-00002eb0: 206e 6f74 2066 6f75 6e64 272c 205f 636f   not found', _co
-00002ec0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00002ed0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00002ee0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00002ef0: 6465 203d 3d20 3431 323a 0d0a 2020 2020  de == 412:..    
-00002f00: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00002f10: 726f 7245 7863 6570 7469 6f6e 2827 4275  rorException('Bu
-00002f20: 7369 6e65 7373 2076 616c 6964 6174 696f  siness validatio
-00002f30: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
-00002f40: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00002f50: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00002f60: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00002f70: 3d3d 2034 3232 3a0d 0a20 2020 2020 2020  == 422:..       
-00002f80: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00002f90: 4578 6365 7074 696f 6e28 2743 6f6e 7472  Exception('Contr
-00002fa0: 6163 7420 7661 6c69 6461 7469 6f6e 2065  act validation e
-00002fb0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-00002fc0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00002fd0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00002fe0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00002ff0: 3530 303a 0d0a 2020 2020 2020 2020 2020  500:..          
-00003000: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00003010: 6570 7469 6f6e 2827 496e 7465 726e 616c  eption('Internal
-00003020: 2073 6572 7665 7220 6572 726f 7227 2c20   server error', 
-00003030: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00003040: 2020 2073 656c 662e 7661 6c69 6461 7465     self.validate
-00003050: 5f72 6573 706f 6e73 6528 5f63 6f6e 7465  _response(_conte
-00003060: 7874 290d 0a0d 0a20 2020 2020 2020 2023  xt)....        #
-00003070: 2052 6574 7572 6e20 6170 7072 6f70 7269   Return appropri
-00003080: 6174 6520 7479 7065 0d0a 2020 2020 2020  ate type..      
-00003090: 2020 7265 7475 726e 2041 5049 4865 6c70    return APIHelp
-000030a0: 6572 2e6a 736f 6e5f 6465 7365 7269 616c  er.json_deserial
-000030b0: 697a 6528 5f63 6f6e 7465 7874 2e72 6573  ize(_context.res
-000030c0: 706f 6e73 652e 7261 775f 626f 6479 2c20  ponse.raw_body, 
-000030d0: 4765 7455 7361 6765 5265 7370 6f6e 7365  GetUsageResponse
-000030e0: 2e66 726f 6d5f 6469 6374 696f 6e61 7279  .from_dictionary
-000030f0: 290d 0a0d 0a20 2020 2064 6566 2067 6574  )....    def get
-00003100: 5f75 7361 6765 7328 7365 6c66 2c0d 0a20  _usages(self,.. 
-00003110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003120: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-00003130: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
-00003140: 2020 2020 2020 2069 7465 6d5f 6964 2c0d         item_id,.
-00003150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003160: 2020 2020 7061 6765 3d4e 6f6e 652c 0d0a      page=None,..
-00003170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003180: 2020 2073 697a 653d 4e6f 6e65 2c0d 0a20     size=None,.. 
-00003190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000031a0: 2020 636f 6465 3d4e 6f6e 652c 0d0a 2020    code=None,..  
-000031b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000031c0: 2067 726f 7570 3d4e 6f6e 652c 0d0a 2020   group=None,..  
-000031d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000031e0: 2075 7365 645f 7369 6e63 653d 4e6f 6e65   used_since=None
-000031f0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00003200: 2020 2020 2020 7573 6564 5f75 6e74 696c        used_until
-00003210: 3d4e 6f6e 6529 3a0d 0a20 2020 2020 2020  =None):..       
-00003220: 2022 2222 446f 6573 2061 2047 4554 2072   """Does a GET r
-00003230: 6571 7565 7374 2074 6f20 2f73 7562 7363  equest to /subsc
-00003240: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
-00003250: 6970 7469 6f6e 5f69 647d 2f69 7465 6d73  iption_id}/items
-00003260: 2f7b 6974 656d 5f69 647d 2f75 7361 6765  /{item_id}/usage
-00003270: 732e 0d0a 0d0a 2020 2020 2020 2020 4c69  s.....        Li
-00003280: 7374 7320 616c 6c20 7573 6167 6573 2066  sts all usages f
-00003290: 726f 6d20 6120 7375 6273 6372 6970 7469  rom a subscripti
-000032a0: 6f6e 2069 7465 6d0d 0a0d 0a20 2020 2020  on item....     
-000032b0: 2020 2041 7267 733a 0d0a 2020 2020 2020     Args:..      
-000032c0: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
-000032d0: 6f6e 5f69 6420 2873 7472 696e 6729 3a20  on_id (string): 
-000032e0: 5468 6520 7375 6273 6372 6970 7469 6f6e  The subscription
-000032f0: 2069 640d 0a20 2020 2020 2020 2020 2020   id..           
-00003300: 2069 7465 6d5f 6964 2028 7374 7269 6e67   item_id (string
-00003310: 293a 2054 6865 2073 7562 7363 7269 7074  ): The subscript
-00003320: 696f 6e20 6974 656d 2069 640d 0a20 2020  ion item id..   
-00003330: 2020 2020 2020 2020 2070 6167 6520 2869           page (i
-00003340: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
-00003350: 6167 6520 6e75 6d62 6572 0d0a 2020 2020  age number..    
-00003360: 2020 2020 2020 2020 7369 7a65 2028 696e          size (in
-00003370: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
-00003380: 6765 2073 697a 650d 0a20 2020 2020 2020  ge size..       
-00003390: 2020 2020 2063 6f64 6520 2873 7472 696e       code (strin
-000033a0: 672c 206f 7074 696f 6e61 6c29 3a20 4964  g, optional): Id
-000033b0: 656e 7469 6669 6361 7469 6f6e 2063 6f64  entification cod
-000033c0: 6520 696e 2074 6865 2063 6c69 656e 7420  e in the client 
-000033d0: 7379 7374 656d 0d0a 2020 2020 2020 2020  system..        
-000033e0: 2020 2020 6772 6f75 7020 2873 7472 696e      group (strin
-000033f0: 672c 206f 7074 696f 6e61 6c29 3a20 4964  g, optional): Id
-00003400: 656e 7469 6669 6361 7469 6f6e 2067 726f  entification gro
-00003410: 7570 2069 6e20 7468 6520 636c 6965 6e74  up in the client
-00003420: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003430: 2020 7379 7374 656d 0d0a 2020 2020 2020    system..      
-00003440: 2020 2020 2020 7573 6564 5f73 696e 6365        used_since
-00003450: 2028 6461 7465 7469 6d65 2c20 6f70 7469   (datetime, opti
-00003460: 6f6e 616c 293a 2054 4f44 4f3a 2074 7970  onal): TODO: typ
-00003470: 6520 6465 7363 7269 7074 696f 6e20 6865  e description he
-00003480: 7265 2e0d 0a20 2020 2020 2020 2020 2020  re...           
-00003490: 2020 2020 2045 7861 6d70 6c65 3a20 0d0a       Example: ..
-000034a0: 2020 2020 2020 2020 2020 2020 7573 6564              used
-000034b0: 5f75 6e74 696c 2028 6461 7465 7469 6d65  _until (datetime
-000034c0: 2c20 6f70 7469 6f6e 616c 293a 2054 4f44  , optional): TOD
-000034d0: 4f3a 2074 7970 6520 6465 7363 7269 7074  O: type descript
-000034e0: 696f 6e20 6865 7265 2e0d 0a20 2020 2020  ion here...     
-000034f0: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
-00003500: 6c65 3a20 0d0a 0d0a 2020 2020 2020 2020  le: ....        
-00003510: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
-00003520: 2020 2020 2020 4c69 7374 5573 6167 6573        ListUsages
-00003530: 5265 7370 6f6e 7365 3a20 5265 7370 6f6e  Response: Respon
-00003540: 7365 2066 726f 6d20 7468 6520 4150 492e  se from the API.
-00003550: 200d 0a0d 0a20 2020 2020 2020 2052 6169   ....        Rai
-00003560: 7365 733a 0d0a 2020 2020 2020 2020 2020  ses:..          
-00003570: 2020 4150 4945 7863 6570 7469 6f6e 3a20    APIException: 
-00003580: 5768 656e 2061 6e20 6572 726f 7220 6f63  When an error oc
-00003590: 6375 7273 2077 6869 6c65 2066 6574 6368  curs while fetch
-000035a0: 696e 6720 7468 6520 6461 7461 2066 726f  ing the data fro
-000035b0: 6d0d 0a20 2020 2020 2020 2020 2020 2020  m..             
-000035c0: 2020 2074 6865 2072 656d 6f74 6520 4150     the remote AP
-000035d0: 492e 2054 6869 7320 6578 6365 7074 696f  I. This exceptio
-000035e0: 6e20 696e 636c 7564 6573 2074 6865 2048  n includes the H
-000035f0: 5454 5020 5265 7370 6f6e 7365 0d0a 2020  TTP Response..  
-00003600: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00003610: 6465 2c20 616e 2065 7272 6f72 206d 6573  de, an error mes
-00003620: 7361 6765 2c20 616e 6420 7468 6520 4854  sage, and the HT
-00003630: 5450 2062 6f64 7920 7468 6174 2077 6173  TP body that was
-00003640: 2072 6563 6569 7665 6420 696e 0d0a 2020   received in..  
-00003650: 2020 2020 2020 2020 2020 2020 2020 7468                th
-00003660: 6520 7265 7175 6573 742e 0d0a 0d0a 2020  e request.....  
-00003670: 2020 2020 2020 2222 220d 0a0d 0a20 2020        """....   
-00003680: 2020 2020 2023 2050 7265 7061 7265 2071       # Prepare q
-00003690: 7565 7279 2055 524c 0d0a 2020 2020 2020  uery URL..      
-000036a0: 2020 5f75 726c 5f70 6174 6820 3d20 272f    _url_path = '/
-000036b0: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
-000036c0: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
-000036d0: 6974 656d 732f 7b69 7465 6d5f 6964 7d2f  items/{item_id}/
-000036e0: 7573 6167 6573 270d 0a20 2020 2020 2020  usages'..       
-000036f0: 205f 7572 6c5f 7061 7468 203d 2041 5049   _url_path = API
-00003700: 4865 6c70 6572 2e61 7070 656e 645f 7572  Helper.append_ur
-00003710: 6c5f 7769 7468 5f74 656d 706c 6174 655f  l_with_template_
-00003720: 7061 7261 6d65 7465 7273 285f 7572 6c5f  parameters(_url_
-00003730: 7061 7468 2c20 7b20 0d0a 2020 2020 2020  path, { ..      
-00003740: 2020 2020 2020 2773 7562 7363 7269 7074        'subscript
-00003750: 696f 6e5f 6964 273a 2073 7562 7363 7269  ion_id': subscri
-00003760: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
-00003770: 2020 2020 2020 2027 6974 656d 5f69 6427         'item_id'
-00003780: 3a20 6974 656d 5f69 640d 0a20 2020 2020  : item_id..     
-00003790: 2020 207d 290d 0a20 2020 2020 2020 205f     })..        _
-000037a0: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
-000037b0: 436f 6e66 6967 7572 6174 696f 6e2e 6261  Configuration.ba
-000037c0: 7365 5f75 7269 0d0a 2020 2020 2020 2020  se_uri..        
-000037d0: 5f71 7565 7279 5f62 7569 6c64 6572 202b  _query_builder +
-000037e0: 3d20 5f75 726c 5f70 6174 680d 0a20 2020  = _url_path..   
-000037f0: 2020 2020 205f 7175 6572 795f 7061 7261       _query_para
-00003800: 6d65 7465 7273 203d 207b 0d0a 2020 2020  meters = {..    
-00003810: 2020 2020 2020 2020 2770 6167 6527 3a20          'page': 
-00003820: 7061 6765 2c0d 0a20 2020 2020 2020 2020  page,..         
-00003830: 2020 2027 7369 7a65 273a 2073 697a 652c     'size': size,
-00003840: 0d0a 2020 2020 2020 2020 2020 2020 2763  ..            'c
-00003850: 6f64 6527 3a20 636f 6465 2c0d 0a20 2020  ode': code,..   
-00003860: 2020 2020 2020 2020 2027 6772 6f75 7027           'group'
-00003870: 3a20 6772 6f75 702c 0d0a 2020 2020 2020  : group,..      
-00003880: 2020 2020 2020 2775 7365 645f 7369 6e63        'used_sinc
-00003890: 6527 3a20 4150 4948 656c 7065 722e 7768  e': APIHelper.wh
-000038a0: 656e 5f64 6566 696e 6564 2841 5049 4865  en_defined(APIHe
-000038b0: 6c70 6572 2e52 4643 3333 3339 4461 7465  lper.RFC3339Date
-000038c0: 5469 6d65 2c20 7573 6564 5f73 696e 6365  Time, used_since
-000038d0: 292c 0d0a 2020 2020 2020 2020 2020 2020  ),..            
-000038e0: 2775 7365 645f 756e 7469 6c27 3a20 4150  'used_until': AP
-000038f0: 4948 656c 7065 722e 7768 656e 5f64 6566  IHelper.when_def
-00003900: 696e 6564 2841 5049 4865 6c70 6572 2e52  ined(APIHelper.R
-00003910: 4643 3333 3339 4461 7465 5469 6d65 2c20  FC3339DateTime, 
-00003920: 7573 6564 5f75 6e74 696c 290d 0a20 2020  used_until)..   
-00003930: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
-00003940: 5f71 7565 7279 5f62 7569 6c64 6572 203d  _query_builder =
-00003950: 2041 5049 4865 6c70 6572 2e61 7070 656e   APIHelper.appen
-00003960: 645f 7572 6c5f 7769 7468 5f71 7565 7279  d_url_with_query
-00003970: 5f70 6172 616d 6574 6572 7328 5f71 7565  _parameters(_que
-00003980: 7279 5f62 7569 6c64 6572 2c0d 0a20 2020  ry_builder,..   
-00003990: 2020 2020 2020 2020 205f 7175 6572 795f           _query_
-000039a0: 7061 7261 6d65 7465 7273 2c20 436f 6e66  parameters, Conf
-000039b0: 6967 7572 6174 696f 6e2e 6172 7261 795f  iguration.array_
-000039c0: 7365 7269 616c 697a 6174 696f 6e29 0d0a  serialization)..
-000039d0: 2020 2020 2020 2020 5f71 7565 7279 5f75          _query_u
-000039e0: 726c 203d 2041 5049 4865 6c70 6572 2e63  rl = APIHelper.c
-000039f0: 6c65 616e 5f75 726c 285f 7175 6572 795f  lean_url(_query_
-00003a00: 6275 696c 6465 7229 0d0a 0d0a 2020 2020  builder)....    
-00003a10: 2020 2020 2320 5072 6570 6172 6520 6865      # Prepare he
-00003a20: 6164 6572 730d 0a20 2020 2020 2020 205f  aders..        _
-00003a30: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
-00003a40: 2020 2020 2020 2020 2027 6163 6365 7074           'accept
-00003a50: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
-00003a60: 6a73 6f6e 270d 0a20 2020 2020 2020 207d  json'..        }
-00003a70: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-00003a80: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
-00003a90: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
-00003aa0: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
-00003ab0: 6c66 2e68 7474 705f 636c 6965 6e74 2e67  lf.http_client.g
-00003ac0: 6574 285f 7175 6572 795f 7572 6c2c 2068  et(_query_url, h
-00003ad0: 6561 6465 7273 3d5f 6865 6164 6572 7329  eaders=_headers)
-00003ae0: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
-00003af0: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
-00003b00: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
-00003b10: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
-00003b20: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
-00003b30: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
-00003b40: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
-00003b50: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
-00003b60: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
-00003b70: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
-00003b80: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
-00003b90: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00003ba0: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
-00003bb0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00003bc0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00003bd0: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
-00003be0: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
-00003bf0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00003c00: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00003c10: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00003c20: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
-00003c30: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00003c40: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-00003c50: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
-00003c60: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00003c70: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00003c80: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00003c90: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
-00003ca0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00003cb0: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
-00003cc0: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
-00003cd0: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
-00003ce0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00003cf0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00003d00: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00003d10: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
-00003d20: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00003d30: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00003d40: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
-00003d50: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-00003d60: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00003d70: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00003d80: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00003d90: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
-00003da0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00003db0: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
-00003dc0: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
-00003dd0: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
-00003de0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00003df0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00003e00: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00003e10: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
-00003e20: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00003e30: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
-00003e40: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
-00003e50: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00003e60: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
-00003e70: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
-00003e80: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
-00003e90: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
-00003ea0: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
-00003eb0: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
-00003ec0: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
-00003ed0: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
-00003ee0: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
-00003ef0: 792c 204c 6973 7455 7361 6765 7352 6573  y, ListUsagesRes
-00003f00: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
-00003f10: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
-00003f20: 6620 7570 6461 7465 5f63 7572 7265 6e74  f update_current
-00003f30: 5f63 7963 6c65 5f73 7461 7475 7328 7365  _cycle_status(se
-00003f40: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
-00003f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f60: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-00003f70: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
-00003f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f90: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-00003fa0: 6f64 792c 0d0a 2020 2020 2020 2020 2020  ody,..          
-00003fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003fc0: 2020 2020 2020 2020 2020 6964 656d 706f            idempo
-00003fd0: 7465 6e63 795f 6b65 793d 4e6f 6e65 293a  tency_key=None):
-00003fe0: 0d0a 2020 2020 2020 2020 2222 2244 6f65  ..        """Doe
-00003ff0: 7320 6120 5041 5443 4820 7265 7175 6573  s a PATCH reques
-00004000: 7420 746f 202f 7375 6273 6372 6970 7469  t to /subscripti
-00004010: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
-00004020: 6e5f 6964 7d2f 6379 636c 652d 7374 6174  n_id}/cycle-stat
-00004030: 7573 2e0d 0a0d 0a20 2020 2020 2020 2055  us.....        U
-00004040: 7064 6174 6543 7572 7265 6e74 4379 636c  pdateCurrentCycl
-00004050: 6553 7461 7475 730d 0a0d 0a20 2020 2020  eStatus....     
-00004060: 2020 2041 7267 733a 0d0a 2020 2020 2020     Args:..      
-00004070: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
-00004080: 6f6e 5f69 6420 2873 7472 696e 6729 3a20  on_id (string): 
-00004090: 5375 6273 6372 6970 7469 6f6e 2049 640d  Subscription Id.
-000040a0: 0a20 2020 2020 2020 2020 2020 2062 6f64  .            bod
-000040b0: 7920 2855 7064 6174 6543 7572 7265 6e74  y (UpdateCurrent
-000040c0: 4379 636c 6553 7461 7475 7352 6571 7565  CycleStatusReque
-000040d0: 7374 293a 2052 6571 7565 7374 2066 6f72  st): Request for
-000040e0: 2075 7064 6174 696e 6720 7468 650d 0a20   updating the.. 
-000040f0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00004100: 6e64 2064 6174 6520 6f66 2074 6865 2073  nd date of the s
-00004110: 7562 7363 7269 7074 696f 6e20 6375 7272  ubscription curr
-00004120: 656e 7420 7374 6174 7573 0d0a 2020 2020  ent status..    
-00004130: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
-00004140: 6e63 795f 6b65 7920 2873 7472 696e 672c  ncy_key (string,
-00004150: 206f 7074 696f 6e61 6c29 3a20 544f 444f   optional): TODO
-00004160: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
-00004170: 6f6e 2068 6572 652e 0d0a 2020 2020 2020  on here...      
-00004180: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
-00004190: 653a 200d 0a0d 0a20 2020 2020 2020 2052  e: ....        R
-000041a0: 6574 7572 6e73 3a0d 0a20 2020 2020 2020  eturns:..       
-000041b0: 2020 2020 2076 6f69 643a 2052 6573 706f       void: Respo
-000041c0: 6e73 6520 6672 6f6d 2074 6865 2041 5049  nse from the API
-000041d0: 2e20 0d0a 0d0a 2020 2020 2020 2020 5261  . ....        Ra
-000041e0: 6973 6573 3a0d 0a20 2020 2020 2020 2020  ises:..         
-000041f0: 2020 2041 5049 4578 6365 7074 696f 6e3a     APIException:
-00004200: 2057 6865 6e20 616e 2065 7272 6f72 206f   When an error o
-00004210: 6363 7572 7320 7768 696c 6520 6665 7463  ccurs while fetc
-00004220: 6869 6e67 2074 6865 2064 6174 6120 6672  hing the data fr
-00004230: 6f6d 0d0a 2020 2020 2020 2020 2020 2020  om..            
-00004240: 2020 2020 7468 6520 7265 6d6f 7465 2041      the remote A
-00004250: 5049 2e20 5468 6973 2065 7863 6570 7469  PI. This excepti
-00004260: 6f6e 2069 6e63 6c75 6465 7320 7468 6520  on includes the 
-00004270: 4854 5450 2052 6573 706f 6e73 650d 0a20  HTTP Response.. 
-00004280: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00004290: 6f64 652c 2061 6e20 6572 726f 7220 6d65  ode, an error me
-000042a0: 7373 6167 652c 2061 6e64 2074 6865 2048  ssage, and the H
-000042b0: 5454 5020 626f 6479 2074 6861 7420 7761  TTP body that wa
-000042c0: 7320 7265 6365 6976 6564 2069 6e0d 0a20  s received in.. 
-000042d0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-000042e0: 6865 2072 6571 7565 7374 2e0d 0a0d 0a20  he request..... 
-000042f0: 2020 2020 2020 2022 2222 0d0a 0d0a 2020         """....  
-00004300: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00004310: 7175 6572 7920 5552 4c0d 0a20 2020 2020  query URL..     
-00004320: 2020 205f 7572 6c5f 7061 7468 203d 2027     _url_path = '
-00004330: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
-00004340: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
-00004350: 2f63 7963 6c65 2d73 7461 7475 7327 0d0a  /cycle-status'..
-00004360: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
-00004370: 6820 3d20 4150 4948 656c 7065 722e 6170  h = APIHelper.ap
-00004380: 7065 6e64 5f75 726c 5f77 6974 685f 7465  pend_url_with_te
-00004390: 6d70 6c61 7465 5f70 6172 616d 6574 6572  mplate_parameter
-000043a0: 7328 5f75 726c 5f70 6174 682c 207b 200d  s(_url_path, { .
-000043b0: 0a20 2020 2020 2020 2020 2020 2027 7375  .            'su
-000043c0: 6273 6372 6970 7469 6f6e 5f69 6427 3a20  bscription_id': 
-000043d0: 7375 6273 6372 6970 7469 6f6e 5f69 640d  subscription_id.
-000043e0: 0a20 2020 2020 2020 207d 290d 0a20 2020  .        })..   
-000043f0: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
-00004400: 6465 7220 3d20 436f 6e66 6967 7572 6174  der = Configurat
-00004410: 696f 6e2e 6261 7365 5f75 7269 0d0a 2020  ion.base_uri..  
-00004420: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
-00004430: 6c64 6572 202b 3d20 5f75 726c 5f70 6174  lder += _url_pat
-00004440: 680d 0a20 2020 2020 2020 205f 7175 6572  h..        _quer
-00004450: 795f 7572 6c20 3d20 4150 4948 656c 7065  y_url = APIHelpe
-00004460: 722e 636c 6561 6e5f 7572 6c28 5f71 7565  r.clean_url(_que
-00004470: 7279 5f62 7569 6c64 6572 290d 0a0d 0a20  ry_builder).... 
-00004480: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-00004490: 2068 6561 6465 7273 0d0a 2020 2020 2020   headers..      
-000044a0: 2020 5f68 6561 6465 7273 203d 207b 0d0a    _headers = {..
-000044b0: 2020 2020 2020 2020 2020 2020 2743 6f6e              'Con
-000044c0: 7465 6e74 2d54 7970 6527 3a20 2761 7070  tent-Type': 'app
-000044d0: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
-000044e0: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
-000044f0: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
-00004500: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
-00004510: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
-00004520: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00004530: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
-00004540: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
-00004550: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
-00004560: 705f 636c 6965 6e74 2e70 6174 6368 285f  p_client.patch(_
-00004570: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
-00004580: 7273 3d5f 6865 6164 6572 732c 2070 6172  rs=_headers, par
-00004590: 616d 6574 6572 733d 4150 4948 656c 7065  ameters=APIHelpe
-000045a0: 722e 6a73 6f6e 5f73 6572 6961 6c69 7a65  r.json_serialize
-000045b0: 2862 6f64 7929 290d 0a20 2020 2020 2020  (body))..       
-000045c0: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
-000045d0: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
-000045e0: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
-000045f0: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
-00004600: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
-00004610: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
-00004620: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
-00004630: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
-00004640: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
-00004650: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
-00004660: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00004670: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00004680: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
-00004690: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-000046a0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-000046b0: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
-000046c0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-000046d0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-000046e0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-000046f0: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
-00004700: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00004710: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00004720: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
-00004730: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00004740: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00004750: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00004760: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
-00004770: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00004780: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00004790: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
-000047a0: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
-000047b0: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
-000047c0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-000047d0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-000047e0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-000047f0: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
-00004800: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00004810: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
-00004820: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-00004830: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-00004840: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00004850: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00004860: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
-00004870: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00004880: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00004890: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
-000048a0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-000048b0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-000048c0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-000048d0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-000048e0: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
-000048f0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00004900: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00004910: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
-00004920: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
-00004930: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
-00004940: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
-00004950: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
-00004960: 0a20 2020 2064 6566 2075 7064 6174 655f  .    def update_
-00004970: 7375 6273 6372 6970 7469 6f6e 5f70 6179  subscription_pay
-00004980: 6d65 6e74 5f6d 6574 686f 6428 7365 6c66  ment_method(self
-00004990: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000049a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049b0: 2020 2020 2020 2020 2020 2020 2020 7375                su
-000049c0: 6273 6372 6970 7469 6f6e 5f69 642c 0d0a  bscription_id,..
-000049d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049f0: 2020 2020 2020 2020 2020 2062 6f64 792c             body,
-00004a00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a20: 2020 2020 2020 2020 2020 2020 2069 6465               ide
-00004a30: 6d70 6f74 656e 6379 5f6b 6579 3d4e 6f6e  mpotency_key=Non
-00004a40: 6529 3a0d 0a20 2020 2020 2020 2022 2222  e):..        """
-00004a50: 446f 6573 2061 2050 4154 4348 2072 6571  Does a PATCH req
-00004a60: 7565 7374 2074 6f20 2f73 7562 7363 7269  uest to /subscri
-00004a70: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
-00004a80: 7469 6f6e 5f69 647d 2f70 6179 6d65 6e74  tion_id}/payment
-00004a90: 2d6d 6574 686f 642e 0d0a 0d0a 2020 2020  -method.....    
-00004aa0: 2020 2020 5570 6461 7465 7320 7468 6520      Updates the 
-00004ab0: 7061 796d 656e 7420 6d65 7468 6f64 2066  payment method f
-00004ac0: 726f 6d20 6120 7375 6273 6372 6970 7469  rom a subscripti
-00004ad0: 6f6e 0d0a 0d0a 2020 2020 2020 2020 4172  on....        Ar
-00004ae0: 6773 3a0d 0a20 2020 2020 2020 2020 2020  gs:..           
-00004af0: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
-00004b00: 2028 7374 7269 6e67 293a 2053 7562 7363   (string): Subsc
-00004b10: 7269 7074 696f 6e20 6964 0d0a 2020 2020  ription id..    
-00004b20: 2020 2020 2020 2020 626f 6479 2028 5570          body (Up
-00004b30: 6461 7465 5375 6273 6372 6970 7469 6f6e  dateSubscription
-00004b40: 5061 796d 656e 744d 6574 686f 6452 6571  PaymentMethodReq
-00004b50: 7565 7374 293a 2052 6571 7565 7374 2066  uest): Request f
-00004b60: 6f72 0d0a 2020 2020 2020 2020 2020 2020  or..            
-00004b70: 2020 2020 7570 6461 7469 6e67 2074 6865      updating the
-00004b80: 2070 6179 6d65 6e74 6d65 7468 6f64 2066   paymentmethod f
-00004b90: 726f 6d20 6120 7375 6273 6372 6970 7469  rom a subscripti
-00004ba0: 6f6e 0d0a 2020 2020 2020 2020 2020 2020  on..            
-00004bb0: 6964 656d 706f 7465 6e63 795f 6b65 7920  idempotency_key 
-00004bc0: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
-00004bd0: 6c29 3a20 544f 444f 3a20 7479 7065 2064  l): TODO: type d
-00004be0: 6573 6372 6970 7469 6f6e 2068 6572 652e  escription here.
-00004bf0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00004c00: 2020 4578 616d 706c 653a 200d 0a0d 0a20    Example: .... 
-00004c10: 2020 2020 2020 2052 6574 7572 6e73 3a0d         Returns:.
-00004c20: 0a20 2020 2020 2020 2020 2020 2047 6574  .            Get
-00004c30: 5375 6273 6372 6970 7469 6f6e 5265 7370  SubscriptionResp
-00004c40: 6f6e 7365 3a20 5265 7370 6f6e 7365 2066  onse: Response f
-00004c50: 726f 6d20 7468 6520 4150 492e 200d 0a0d  rom the API. ...
-00004c60: 0a20 2020 2020 2020 2052 6169 7365 733a  .        Raises:
-00004c70: 0d0a 2020 2020 2020 2020 2020 2020 4150  ..            AP
-00004c80: 4945 7863 6570 7469 6f6e 3a20 5768 656e  IException: When
-00004c90: 2061 6e20 6572 726f 7220 6f63 6375 7273   an error occurs
-00004ca0: 2077 6869 6c65 2066 6574 6368 696e 6720   while fetching 
-00004cb0: 7468 6520 6461 7461 2066 726f 6d0d 0a20  the data from.. 
-00004cc0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00004cd0: 6865 2072 656d 6f74 6520 4150 492e 2054  he remote API. T
-00004ce0: 6869 7320 6578 6365 7074 696f 6e20 696e  his exception in
-00004cf0: 636c 7564 6573 2074 6865 2048 5454 5020  cludes the HTTP 
-00004d00: 5265 7370 6f6e 7365 0d0a 2020 2020 2020  Response..      
-00004d10: 2020 2020 2020 2020 2020 636f 6465 2c20            code, 
-00004d20: 616e 2065 7272 6f72 206d 6573 7361 6765  an error message
-00004d30: 2c20 616e 6420 7468 6520 4854 5450 2062  , and the HTTP b
-00004d40: 6f64 7920 7468 6174 2077 6173 2072 6563  ody that was rec
-00004d50: 6569 7665 6420 696e 0d0a 2020 2020 2020  eived in..      
-00004d60: 2020 2020 2020 2020 2020 7468 6520 7265            the re
-00004d70: 7175 6573 742e 0d0a 0d0a 2020 2020 2020  quest.....      
-00004d80: 2020 2222 220d 0a0d 0a20 2020 2020 2020    """....       
-00004d90: 2023 2050 7265 7061 7265 2071 7565 7279   # Prepare query
-00004da0: 2055 524c 0d0a 2020 2020 2020 2020 5f75   URL..        _u
-00004db0: 726c 5f70 6174 6820 3d20 272f 7375 6273  rl_path = '/subs
-00004dc0: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
-00004dd0: 7269 7074 696f 6e5f 6964 7d2f 7061 796d  ription_id}/paym
-00004de0: 656e 742d 6d65 7468 6f64 270d 0a20 2020  ent-method'..   
-00004df0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
-00004e00: 2041 5049 4865 6c70 6572 2e61 7070 656e   APIHelper.appen
-00004e10: 645f 7572 6c5f 7769 7468 5f74 656d 706c  d_url_with_templ
-00004e20: 6174 655f 7061 7261 6d65 7465 7273 285f  ate_parameters(_
-00004e30: 7572 6c5f 7061 7468 2c20 7b20 0d0a 2020  url_path, { ..  
-00004e40: 2020 2020 2020 2020 2020 2773 7562 7363            'subsc
-00004e50: 7269 7074 696f 6e5f 6964 273a 2073 7562  ription_id': sub
-00004e60: 7363 7269 7074 696f 6e5f 6964 0d0a 2020  scription_id..  
-00004e70: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
-00004e80: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-00004e90: 203d 2043 6f6e 6669 6775 7261 7469 6f6e   = Configuration
-00004ea0: 2e62 6173 655f 7572 690d 0a20 2020 2020  .base_uri..     
-00004eb0: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-00004ec0: 7220 2b3d 205f 7572 6c5f 7061 7468 0d0a  r += _url_path..
-00004ed0: 2020 2020 2020 2020 5f71 7565 7279 5f75          _query_u
-00004ee0: 726c 203d 2041 5049 4865 6c70 6572 2e63  rl = APIHelper.c
-00004ef0: 6c65 616e 5f75 726c 285f 7175 6572 795f  lean_url(_query_
-00004f00: 6275 696c 6465 7229 0d0a 0d0a 2020 2020  builder)....    
-00004f10: 2020 2020 2320 5072 6570 6172 6520 6865      # Prepare he
-00004f20: 6164 6572 730d 0a20 2020 2020 2020 205f  aders..        _
-00004f30: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
-00004f40: 2020 2020 2020 2020 2027 6163 6365 7074           'accept
-00004f50: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
-00004f60: 6a73 6f6e 272c 0d0a 2020 2020 2020 2020  json',..        
-00004f70: 2020 2020 2743 6f6e 7465 6e74 2d54 7970      'Content-Typ
-00004f80: 6527 3a20 2761 7070 6c69 6361 7469 6f6e  e': 'application
-00004f90: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
-00004fa0: 2020 2020 2027 6964 656d 706f 7465 6e63       'idempotenc
-00004fb0: 792d 6b65 7927 3a20 6964 656d 706f 7465  y-key': idempote
-00004fc0: 6e63 795f 6b65 790d 0a20 2020 2020 2020  ncy_key..       
-00004fd0: 207d 0d0a 0d0a 2020 2020 2020 2020 2320   }....        # 
-00004fe0: 5072 6570 6172 6520 616e 6420 6578 6563  Prepare and exec
-00004ff0: 7574 6520 7265 7175 6573 740d 0a20 2020  ute request..   
-00005000: 2020 2020 205f 7265 7175 6573 7420 3d20       _request = 
-00005010: 7365 6c66 2e68 7474 705f 636c 6965 6e74  self.http_client
-00005020: 2e70 6174 6368 285f 7175 6572 795f 7572  .patch(_query_ur
-00005030: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
-00005040: 6572 732c 2070 6172 616d 6574 6572 733d  ers, parameters=
-00005050: 4150 4948 656c 7065 722e 6a73 6f6e 5f73  APIHelper.json_s
-00005060: 6572 6961 6c69 7a65 2862 6f64 7929 290d  erialize(body)).
-00005070: 0a20 2020 2020 2020 2042 6173 6963 4175  .        BasicAu
-00005080: 7468 2e61 7070 6c79 285f 7265 7175 6573  th.apply(_reques
-00005090: 7429 0d0a 2020 2020 2020 2020 5f63 6f6e  t)..        _con
-000050a0: 7465 7874 203d 2073 656c 662e 6578 6563  text = self.exec
-000050b0: 7574 655f 7265 7175 6573 7428 5f72 6571  ute_request(_req
-000050c0: 7565 7374 290d 0a0d 0a20 2020 2020 2020  uest)....       
-000050d0: 2023 2045 6e64 706f 696e 7420 616e 6420   # Endpoint and 
-000050e0: 676c 6f62 616c 2065 7272 6f72 2068 616e  global error han
-000050f0: 646c 696e 6720 7573 696e 6720 4854 5450  dling using HTTP
-00005100: 2073 7461 7475 7320 636f 6465 732e 0d0a   status codes...
-00005110: 2020 2020 2020 2020 6966 205f 636f 6e74          if _cont
-00005120: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00005130: 7475 735f 636f 6465 203d 3d20 3430 303a  tus_code == 400:
-00005140: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00005150: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00005160: 6f6e 2827 496e 7661 6c69 6420 7265 7175  on('Invalid requ
-00005170: 6573 7427 2c20 5f63 6f6e 7465 7874 290d  est', _context).
-00005180: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00005190: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-000051a0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-000051b0: 3031 3a0d 0a20 2020 2020 2020 2020 2020  01:..           
-000051c0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-000051d0: 7074 696f 6e28 2749 6e76 616c 6964 2041  ption('Invalid A
-000051e0: 5049 206b 6579 272c 205f 636f 6e74 6578  PI key', _contex
-000051f0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00005200: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00005210: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00005220: 3d20 3430 343a 0d0a 2020 2020 2020 2020  = 404:..        
-00005230: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00005240: 7863 6570 7469 6f6e 2827 416e 2069 6e66  xception('An inf
-00005250: 6f72 6d65 6420 7265 736f 7572 6365 2077  ormed resource w
-00005260: 6173 206e 6f74 2066 6f75 6e64 272c 205f  as not found', _
-00005270: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00005280: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00005290: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-000052a0: 636f 6465 203d 3d20 3431 323a 0d0a 2020  code == 412:..  
-000052b0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-000052c0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-000052d0: 4275 7369 6e65 7373 2076 616c 6964 6174  Business validat
-000052e0: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
-000052f0: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-00005300: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00005310: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00005320: 6520 3d3d 2034 3232 3a0d 0a20 2020 2020  e == 422:..     
-00005330: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00005340: 6f72 4578 6365 7074 696f 6e28 2743 6f6e  orException('Con
-00005350: 7472 6163 7420 7661 6c69 6461 7469 6f6e  tract validation
-00005360: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-00005370: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00005380: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00005390: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-000053a0: 3d20 3530 303a 0d0a 2020 2020 2020 2020  = 500:..        
-000053b0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-000053c0: 7863 6570 7469 6f6e 2827 496e 7465 726e  xception('Intern
-000053d0: 616c 2073 6572 7665 7220 6572 726f 7227  al server error'
-000053e0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-000053f0: 2020 2020 2073 656c 662e 7661 6c69 6461       self.valida
-00005400: 7465 5f72 6573 706f 6e73 6528 5f63 6f6e  te_response(_con
-00005410: 7465 7874 290d 0a0d 0a20 2020 2020 2020  text)....       
-00005420: 2023 2052 6574 7572 6e20 6170 7072 6f70   # Return approp
-00005430: 7269 6174 6520 7479 7065 0d0a 2020 2020  riate type..    
-00005440: 2020 2020 7265 7475 726e 2041 5049 4865      return APIHe
-00005450: 6c70 6572 2e6a 736f 6e5f 6465 7365 7269  lper.json_deseri
-00005460: 616c 697a 6528 5f63 6f6e 7465 7874 2e72  alize(_context.r
-00005470: 6573 706f 6e73 652e 7261 775f 626f 6479  esponse.raw_body
-00005480: 2c20 4765 7453 7562 7363 7269 7074 696f  , GetSubscriptio
-00005490: 6e52 6573 706f 6e73 652e 6672 6f6d 5f64  nResponse.from_d
-000054a0: 6963 7469 6f6e 6172 7929 0d0a 0d0a 2020  ictionary)....  
-000054b0: 2020 6465 6620 6465 6c65 7465 5f64 6973    def delete_dis
-000054c0: 636f 756e 7428 7365 6c66 2c0d 0a20 2020  count(self,..   
-000054d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000054e0: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
-000054f0: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
-00005500: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00005510: 6973 636f 756e 745f 6964 2c0d 0a20 2020  iscount_id,..   
-00005520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005530: 2020 2020 2069 6465 6d70 6f74 656e 6379       idempotency
-00005540: 5f6b 6579 3d4e 6f6e 6529 3a0d 0a20 2020  _key=None):..   
-00005550: 2020 2020 2022 2222 446f 6573 2061 2044       """Does a D
-00005560: 454c 4554 4520 7265 7175 6573 7420 746f  ELETE request to
-00005570: 202f 7375 6273 6372 6970 7469 6f6e 732f   /subscriptions/
-00005580: 7b73 7562 7363 7269 7074 696f 6e5f 6964  {subscription_id
-00005590: 7d2f 6469 7363 6f75 6e74 732f 7b64 6973  }/discounts/{dis
-000055a0: 636f 756e 745f 6964 7d2e 0d0a 0d0a 2020  count_id}.....  
-000055b0: 2020 2020 2020 4465 6c65 7465 7320 6120        Deletes a 
-000055c0: 6469 7363 6f75 6e74 0d0a 0d0a 2020 2020  discount....    
-000055d0: 2020 2020 4172 6773 3a0d 0a20 2020 2020      Args:..     
-000055e0: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
-000055f0: 696f 6e5f 6964 2028 7374 7269 6e67 293a  ion_id (string):
-00005600: 2053 7562 7363 7269 7074 696f 6e20 6964   Subscription id
-00005610: 0d0a 2020 2020 2020 2020 2020 2020 6469  ..            di
-00005620: 7363 6f75 6e74 5f69 6420 2873 7472 696e  scount_id (strin
-00005630: 6729 3a20 4469 7363 6f75 6e74 2049 640d  g): Discount Id.
-00005640: 0a20 2020 2020 2020 2020 2020 2069 6465  .            ide
-00005650: 6d70 6f74 656e 6379 5f6b 6579 2028 7374  mpotency_key (st
-00005660: 7269 6e67 2c20 6f70 7469 6f6e 616c 293a  ring, optional):
-00005670: 2054 4f44 4f3a 2074 7970 6520 6465 7363   TODO: type desc
-00005680: 7269 7074 696f 6e20 6865 7265 2e0d 0a20  ription here... 
-00005690: 2020 2020 2020 2020 2020 2020 2020 2045                 E
-000056a0: 7861 6d70 6c65 3a20 0d0a 0d0a 2020 2020  xample: ....    
-000056b0: 2020 2020 5265 7475 726e 733a 0d0a 2020      Returns:..  
-000056c0: 2020 2020 2020 2020 2020 4765 7444 6973            GetDis
-000056d0: 636f 756e 7452 6573 706f 6e73 653a 2052  countResponse: R
-000056e0: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
-000056f0: 2041 5049 2e20 0d0a 0d0a 2020 2020 2020   API. ....      
-00005700: 2020 5261 6973 6573 3a0d 0a20 2020 2020    Raises:..     
-00005710: 2020 2020 2020 2041 5049 4578 6365 7074         APIExcept
-00005720: 696f 6e3a 2057 6865 6e20 616e 2065 7272  ion: When an err
-00005730: 6f72 206f 6363 7572 7320 7768 696c 6520  or occurs while 
-00005740: 6665 7463 6869 6e67 2074 6865 2064 6174  fetching the dat
-00005750: 6120 6672 6f6d 0d0a 2020 2020 2020 2020  a from..        
-00005760: 2020 2020 2020 2020 7468 6520 7265 6d6f          the remo
-00005770: 7465 2041 5049 2e20 5468 6973 2065 7863  te API. This exc
-00005780: 6570 7469 6f6e 2069 6e63 6c75 6465 7320  eption includes 
-00005790: 7468 6520 4854 5450 2052 6573 706f 6e73  the HTTP Respons
-000057a0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-000057b0: 2020 2063 6f64 652c 2061 6e20 6572 726f     code, an erro
-000057c0: 7220 6d65 7373 6167 652c 2061 6e64 2074  r message, and t
-000057d0: 6865 2048 5454 5020 626f 6479 2074 6861  he HTTP body tha
-000057e0: 7420 7761 7320 7265 6365 6976 6564 2069  t was received i
-000057f0: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
-00005800: 2020 2074 6865 2072 6571 7565 7374 2e0d     the request..
-00005810: 0a0d 0a20 2020 2020 2020 2022 2222 0d0a  ...        """..
-00005820: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-00005830: 6172 6520 7175 6572 7920 5552 4c0d 0a20  are query URL.. 
-00005840: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
-00005850: 203d 2027 2f73 7562 7363 7269 7074 696f   = '/subscriptio
-00005860: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
-00005870: 5f69 647d 2f64 6973 636f 756e 7473 2f7b  _id}/discounts/{
-00005880: 6469 7363 6f75 6e74 5f69 647d 270d 0a20  discount_id}'.. 
-00005890: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
-000058a0: 203d 2041 5049 4865 6c70 6572 2e61 7070   = APIHelper.app
-000058b0: 656e 645f 7572 6c5f 7769 7468 5f74 656d  end_url_with_tem
-000058c0: 706c 6174 655f 7061 7261 6d65 7465 7273  plate_parameters
-000058d0: 285f 7572 6c5f 7061 7468 2c20 7b20 0d0a  (_url_path, { ..
-000058e0: 2020 2020 2020 2020 2020 2020 2773 7562              'sub
-000058f0: 7363 7269 7074 696f 6e5f 6964 273a 2073  scription_id': s
-00005900: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
-00005910: 0a20 2020 2020 2020 2020 2020 2027 6469  .            'di
-00005920: 7363 6f75 6e74 5f69 6427 3a20 6469 7363  scount_id': disc
-00005930: 6f75 6e74 5f69 640d 0a20 2020 2020 2020  ount_id..       
-00005940: 207d 290d 0a20 2020 2020 2020 205f 7175   })..        _qu
-00005950: 6572 795f 6275 696c 6465 7220 3d20 436f  ery_builder = Co
-00005960: 6e66 6967 7572 6174 696f 6e2e 6261 7365  nfiguration.base
-00005970: 5f75 7269 0d0a 2020 2020 2020 2020 5f71  _uri..        _q
-00005980: 7565 7279 5f62 7569 6c64 6572 202b 3d20  uery_builder += 
-00005990: 5f75 726c 5f70 6174 680d 0a20 2020 2020  _url_path..     
-000059a0: 2020 205f 7175 6572 795f 7572 6c20 3d20     _query_url = 
-000059b0: 4150 4948 656c 7065 722e 636c 6561 6e5f  APIHelper.clean_
-000059c0: 7572 6c28 5f71 7565 7279 5f62 7569 6c64  url(_query_build
-000059d0: 6572 290d 0a0d 0a20 2020 2020 2020 2023  er)....        #
-000059e0: 2050 7265 7061 7265 2068 6561 6465 7273   Prepare headers
-000059f0: 0d0a 2020 2020 2020 2020 5f68 6561 6465  ..        _heade
-00005a00: 7273 203d 207b 0d0a 2020 2020 2020 2020  rs = {..        
-00005a10: 2020 2020 2761 6363 6570 7427 3a20 2761      'accept': 'a
-00005a20: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
-00005a30: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
-00005a40: 6964 656d 706f 7465 6e63 792d 6b65 7927  idempotency-key'
-00005a50: 3a20 6964 656d 706f 7465 6e63 795f 6b65  : idempotency_ke
-00005a60: 790d 0a20 2020 2020 2020 207d 0d0a 0d0a  y..        }....
-00005a70: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-00005a80: 6520 616e 6420 6578 6563 7574 6520 7265  e and execute re
-00005a90: 7175 6573 740d 0a20 2020 2020 2020 205f  quest..        _
-00005aa0: 7265 7175 6573 7420 3d20 7365 6c66 2e68  request = self.h
-00005ab0: 7474 705f 636c 6965 6e74 2e64 656c 6574  ttp_client.delet
-00005ac0: 6528 5f71 7565 7279 5f75 726c 2c20 6865  e(_query_url, he
-00005ad0: 6164 6572 733d 5f68 6561 6465 7273 290d  aders=_headers).
-00005ae0: 0a20 2020 2020 2020 2042 6173 6963 4175  .        BasicAu
-00005af0: 7468 2e61 7070 6c79 285f 7265 7175 6573  th.apply(_reques
-00005b00: 7429 0d0a 2020 2020 2020 2020 5f63 6f6e  t)..        _con
-00005b10: 7465 7874 203d 2073 656c 662e 6578 6563  text = self.exec
-00005b20: 7574 655f 7265 7175 6573 7428 5f72 6571  ute_request(_req
-00005b30: 7565 7374 290d 0a0d 0a20 2020 2020 2020  uest)....       
-00005b40: 2023 2045 6e64 706f 696e 7420 616e 6420   # Endpoint and 
-00005b50: 676c 6f62 616c 2065 7272 6f72 2068 616e  global error han
-00005b60: 646c 696e 6720 7573 696e 6720 4854 5450  dling using HTTP
-00005b70: 2073 7461 7475 7320 636f 6465 732e 0d0a   status codes...
-00005b80: 2020 2020 2020 2020 6966 205f 636f 6e74          if _cont
-00005b90: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00005ba0: 7475 735f 636f 6465 203d 3d20 3430 303a  tus_code == 400:
-00005bb0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00005bc0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00005bd0: 6f6e 2827 496e 7661 6c69 6420 7265 7175  on('Invalid requ
-00005be0: 6573 7427 2c20 5f63 6f6e 7465 7874 290d  est', _context).
-00005bf0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00005c00: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00005c10: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-00005c20: 3031 3a0d 0a20 2020 2020 2020 2020 2020  01:..           
-00005c30: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00005c40: 7074 696f 6e28 2749 6e76 616c 6964 2041  ption('Invalid A
-00005c50: 5049 206b 6579 272c 205f 636f 6e74 6578  PI key', _contex
-00005c60: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00005c70: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00005c80: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00005c90: 3d20 3430 343a 0d0a 2020 2020 2020 2020  = 404:..        
-00005ca0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00005cb0: 7863 6570 7469 6f6e 2827 416e 2069 6e66  xception('An inf
-00005cc0: 6f72 6d65 6420 7265 736f 7572 6365 2077  ormed resource w
-00005cd0: 6173 206e 6f74 2066 6f75 6e64 272c 205f  as not found', _
-00005ce0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00005cf0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00005d00: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00005d10: 636f 6465 203d 3d20 3431 323a 0d0a 2020  code == 412:..  
-00005d20: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00005d30: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00005d40: 4275 7369 6e65 7373 2076 616c 6964 6174  Business validat
-00005d50: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
-00005d60: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-00005d70: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00005d80: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00005d90: 6520 3d3d 2034 3232 3a0d 0a20 2020 2020  e == 422:..     
-00005da0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00005db0: 6f72 4578 6365 7074 696f 6e28 2743 6f6e  orException('Con
-00005dc0: 7472 6163 7420 7661 6c69 6461 7469 6f6e  tract validation
-00005dd0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-00005de0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00005df0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00005e00: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00005e10: 3d20 3530 303a 0d0a 2020 2020 2020 2020  = 500:..        
-00005e20: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00005e30: 7863 6570 7469 6f6e 2827 496e 7465 726e  xception('Intern
-00005e40: 616c 2073 6572 7665 7220 6572 726f 7227  al server error'
-00005e50: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00005e60: 2020 2020 2073 656c 662e 7661 6c69 6461       self.valida
-00005e70: 7465 5f72 6573 706f 6e73 6528 5f63 6f6e  te_response(_con
-00005e80: 7465 7874 290d 0a0d 0a20 2020 2020 2020  text)....       
-00005e90: 2023 2052 6574 7572 6e20 6170 7072 6f70   # Return approp
-00005ea0: 7269 6174 6520 7479 7065 0d0a 2020 2020  riate type..    
-00005eb0: 2020 2020 7265 7475 726e 2041 5049 4865      return APIHe
-00005ec0: 6c70 6572 2e6a 736f 6e5f 6465 7365 7269  lper.json_deseri
-00005ed0: 616c 697a 6528 5f63 6f6e 7465 7874 2e72  alize(_context.r
-00005ee0: 6573 706f 6e73 652e 7261 775f 626f 6479  esponse.raw_body
-00005ef0: 2c20 4765 7444 6973 636f 756e 7452 6573  , GetDiscountRes
-00005f00: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
-00005f10: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
-00005f20: 6620 6765 745f 7375 6273 6372 6970 7469  f get_subscripti
-00005f30: 6f6e 5f69 7465 6d73 2873 656c 662c 0d0a  on_items(self,..
-00005f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f50: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00005f60: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
-00005f70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f90: 7061 6765 3d4e 6f6e 652c 0d0a 2020 2020  page=None,..    
-00005fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005fb0: 2020 2020 2020 2020 2020 2073 697a 653d             size=
-00005fc0: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
-00005fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005fe0: 2020 2020 2020 6e61 6d65 3d4e 6f6e 652c        name=None,
-00005ff0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00006000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006010: 2063 6f64 653d 4e6f 6e65 2c0d 0a20 2020   code=None,..   
-00006020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006030: 2020 2020 2020 2020 2020 2020 7374 6174              stat
-00006040: 7573 3d4e 6f6e 652c 0d0a 2020 2020 2020  us=None,..      
-00006050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006060: 2020 2020 2020 2020 2064 6573 6372 6970           descrip
-00006070: 7469 6f6e 3d4e 6f6e 652c 0d0a 2020 2020  tion=None,..    
-00006080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006090: 2020 2020 2020 2020 2020 2063 7265 6174             creat
-000060a0: 6564 5f73 696e 6365 3d4e 6f6e 652c 0d0a  ed_since=None,..
-000060b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000060c0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-000060d0: 7265 6174 6564 5f75 6e74 696c 3d4e 6f6e  reated_until=Non
-000060e0: 6529 3a0d 0a20 2020 2020 2020 2022 2222  e):..        """
-000060f0: 446f 6573 2061 2047 4554 2072 6571 7565  Does a GET reque
-00006100: 7374 2074 6f20 2f73 7562 7363 7269 7074  st to /subscript
-00006110: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
-00006120: 6f6e 5f69 647d 2f69 7465 6d73 2e0d 0a0d  on_id}/items....
-00006130: 0a20 2020 2020 2020 2047 6574 2053 7562  .        Get Sub
-00006140: 7363 7269 7074 696f 6e20 4974 656d 730d  scription Items.
-00006150: 0a0d 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-00006160: 0d0a 2020 2020 2020 2020 2020 2020 7375  ..            su
-00006170: 6273 6372 6970 7469 6f6e 5f69 6420 2873  bscription_id (s
-00006180: 7472 696e 6729 3a20 5468 6520 7375 6273  tring): The subs
-00006190: 6372 6970 7469 6f6e 2069 640d 0a20 2020  cription id..   
-000061a0: 2020 2020 2020 2020 2070 6167 6520 2869           page (i
-000061b0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
-000061c0: 6167 6520 6e75 6d62 6572 0d0a 2020 2020  age number..    
-000061d0: 2020 2020 2020 2020 7369 7a65 2028 696e          size (in
-000061e0: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
-000061f0: 6765 2073 697a 650d 0a20 2020 2020 2020  ge size..       
-00006200: 2020 2020 206e 616d 6520 2873 7472 696e       name (strin
-00006210: 672c 206f 7074 696f 6e61 6c29 3a20 5468  g, optional): Th
-00006220: 6520 6974 656d 206e 616d 650d 0a20 2020  e item name..   
-00006230: 2020 2020 2020 2020 2063 6f64 6520 2873           code (s
-00006240: 7472 696e 672c 206f 7074 696f 6e61 6c29  tring, optional)
-00006250: 3a20 4964 656e 7469 6669 6361 7469 6f6e  : Identification
-00006260: 2063 6f64 6520 696e 2074 6865 2063 6c69   code in the cli
-00006270: 656e 7420 7379 7374 656d 0d0a 2020 2020  ent system..    
-00006280: 2020 2020 2020 2020 7374 6174 7573 2028          status (
-00006290: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
-000062a0: 293a 2054 6865 2069 7465 6d20 7374 6174  ): The item stat
-000062b0: 6973 0d0a 2020 2020 2020 2020 2020 2020  is..            
-000062c0: 6465 7363 7269 7074 696f 6e20 2873 7472  description (str
-000062d0: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
-000062e0: 5468 6520 6974 656d 2064 6573 6372 6970  The item descrip
-000062f0: 7469 6f6e 0d0a 2020 2020 2020 2020 2020  tion..          
-00006300: 2020 6372 6561 7465 645f 7369 6e63 6520    created_since 
-00006310: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
-00006320: 6c29 3a20 4669 6c74 6572 2066 6f72 2069  l): Filter for i
-00006330: 7465 6d27 7320 6372 6561 7469 6f6e 2064  tem's creation d
-00006340: 6174 650d 0a20 2020 2020 2020 2020 2020  ate..           
-00006350: 2020 2020 2073 7461 7274 2072 616e 6765       start range
-00006360: 0d0a 2020 2020 2020 2020 2020 2020 6372  ..            cr
-00006370: 6561 7465 645f 756e 7469 6c20 2873 7472  eated_until (str
-00006380: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
-00006390: 4669 6c74 6572 2066 6f72 2069 7465 6d27  Filter for item'
-000063a0: 7320 6372 6561 7469 6f6e 2064 6174 650d  s creation date.
-000063b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000063c0: 2065 6e64 2072 616e 6765 0d0a 0d0a 2020   end range....  
-000063d0: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
-000063e0: 2020 2020 2020 2020 2020 2020 4c69 7374              List
-000063f0: 5375 6273 6372 6970 7469 6f6e 4974 656d  SubscriptionItem
-00006400: 7352 6573 706f 6e73 653a 2052 6573 706f  sResponse: Respo
-00006410: 6e73 6520 6672 6f6d 2074 6865 2041 5049  nse from the API
-00006420: 2e20 0d0a 0d0a 2020 2020 2020 2020 5261  . ....        Ra
-00006430: 6973 6573 3a0d 0a20 2020 2020 2020 2020  ises:..         
-00006440: 2020 2041 5049 4578 6365 7074 696f 6e3a     APIException:
-00006450: 2057 6865 6e20 616e 2065 7272 6f72 206f   When an error o
-00006460: 6363 7572 7320 7768 696c 6520 6665 7463  ccurs while fetc
-00006470: 6869 6e67 2074 6865 2064 6174 6120 6672  hing the data fr
-00006480: 6f6d 0d0a 2020 2020 2020 2020 2020 2020  om..            
-00006490: 2020 2020 7468 6520 7265 6d6f 7465 2041      the remote A
-000064a0: 5049 2e20 5468 6973 2065 7863 6570 7469  PI. This excepti
-000064b0: 6f6e 2069 6e63 6c75 6465 7320 7468 6520  on includes the 
-000064c0: 4854 5450 2052 6573 706f 6e73 650d 0a20  HTTP Response.. 
-000064d0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-000064e0: 6f64 652c 2061 6e20 6572 726f 7220 6d65  ode, an error me
-000064f0: 7373 6167 652c 2061 6e64 2074 6865 2048  ssage, and the H
-00006500: 5454 5020 626f 6479 2074 6861 7420 7761  TTP body that wa
-00006510: 7320 7265 6365 6976 6564 2069 6e0d 0a20  s received in.. 
-00006520: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00006530: 6865 2072 6571 7565 7374 2e0d 0a0d 0a20  he request..... 
-00006540: 2020 2020 2020 2022 2222 0d0a 0d0a 2020         """....  
-00006550: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00006560: 7175 6572 7920 5552 4c0d 0a20 2020 2020  query URL..     
-00006570: 2020 205f 7572 6c5f 7061 7468 203d 2027     _url_path = '
-00006580: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
-00006590: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
-000065a0: 2f69 7465 6d73 270d 0a20 2020 2020 2020  /items'..       
-000065b0: 205f 7572 6c5f 7061 7468 203d 2041 5049   _url_path = API
-000065c0: 4865 6c70 6572 2e61 7070 656e 645f 7572  Helper.append_ur
-000065d0: 6c5f 7769 7468 5f74 656d 706c 6174 655f  l_with_template_
-000065e0: 7061 7261 6d65 7465 7273 285f 7572 6c5f  parameters(_url_
-000065f0: 7061 7468 2c20 7b20 0d0a 2020 2020 2020  path, { ..      
-00006600: 2020 2020 2020 2773 7562 7363 7269 7074        'subscript
-00006610: 696f 6e5f 6964 273a 2073 7562 7363 7269  ion_id': subscri
-00006620: 7074 696f 6e5f 6964 0d0a 2020 2020 2020  ption_id..      
-00006630: 2020 7d29 0d0a 2020 2020 2020 2020 5f71    })..        _q
-00006640: 7565 7279 5f62 7569 6c64 6572 203d 2043  uery_builder = C
-00006650: 6f6e 6669 6775 7261 7469 6f6e 2e62 6173  onfiguration.bas
-00006660: 655f 7572 690d 0a20 2020 2020 2020 205f  e_uri..        _
-00006670: 7175 6572 795f 6275 696c 6465 7220 2b3d  query_builder +=
-00006680: 205f 7572 6c5f 7061 7468 0d0a 2020 2020   _url_path..    
-00006690: 2020 2020 5f71 7565 7279 5f70 6172 616d      _query_param
-000066a0: 6574 6572 7320 3d20 7b0d 0a20 2020 2020  eters = {..     
-000066b0: 2020 2020 2020 2027 7061 6765 273a 2070         'page': p
-000066c0: 6167 652c 0d0a 2020 2020 2020 2020 2020  age,..          
-000066d0: 2020 2773 697a 6527 3a20 7369 7a65 2c0d    'size': size,.
-000066e0: 0a20 2020 2020 2020 2020 2020 2027 6e61  .            'na
-000066f0: 6d65 273a 206e 616d 652c 0d0a 2020 2020  me': name,..    
-00006700: 2020 2020 2020 2020 2763 6f64 6527 3a20          'code': 
-00006710: 636f 6465 2c0d 0a20 2020 2020 2020 2020  code,..         
-00006720: 2020 2027 7374 6174 7573 273a 2073 7461     'status': sta
-00006730: 7475 732c 0d0a 2020 2020 2020 2020 2020  tus,..          
-00006740: 2020 2764 6573 6372 6970 7469 6f6e 273a    'description':
-00006750: 2064 6573 6372 6970 7469 6f6e 2c0d 0a20   description,.. 
-00006760: 2020 2020 2020 2020 2020 2027 6372 6561             'crea
-00006770: 7465 645f 7369 6e63 6527 3a20 6372 6561  ted_since': crea
-00006780: 7465 645f 7369 6e63 652c 0d0a 2020 2020  ted_since,..    
-00006790: 2020 2020 2020 2020 2763 7265 6174 6564          'created
-000067a0: 5f75 6e74 696c 273a 2063 7265 6174 6564  _until': created
-000067b0: 5f75 6e74 696c 0d0a 2020 2020 2020 2020  _until..        
-000067c0: 7d0d 0a20 2020 2020 2020 205f 7175 6572  }..        _quer
-000067d0: 795f 6275 696c 6465 7220 3d20 4150 4948  y_builder = APIH
-000067e0: 656c 7065 722e 6170 7065 6e64 5f75 726c  elper.append_url
-000067f0: 5f77 6974 685f 7175 6572 795f 7061 7261  _with_query_para
-00006800: 6d65 7465 7273 285f 7175 6572 795f 6275  meters(_query_bu
-00006810: 696c 6465 722c 0d0a 2020 2020 2020 2020  ilder,..        
-00006820: 2020 2020 5f71 7565 7279 5f70 6172 616d      _query_param
-00006830: 6574 6572 732c 2043 6f6e 6669 6775 7261  eters, Configura
-00006840: 7469 6f6e 2e61 7272 6179 5f73 6572 6961  tion.array_seria
-00006850: 6c69 7a61 7469 6f6e 290d 0a20 2020 2020  lization)..     
-00006860: 2020 205f 7175 6572 795f 7572 6c20 3d20     _query_url = 
-00006870: 4150 4948 656c 7065 722e 636c 6561 6e5f  APIHelper.clean_
-00006880: 7572 6c28 5f71 7565 7279 5f62 7569 6c64  url(_query_build
-00006890: 6572 290d 0a0d 0a20 2020 2020 2020 2023  er)....        #
-000068a0: 2050 7265 7061 7265 2068 6561 6465 7273   Prepare headers
-000068b0: 0d0a 2020 2020 2020 2020 5f68 6561 6465  ..        _heade
-000068c0: 7273 203d 207b 0d0a 2020 2020 2020 2020  rs = {..        
-000068d0: 2020 2020 2761 6363 6570 7427 3a20 2761      'accept': 'a
-000068e0: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
-000068f0: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
-00006900: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-00006910: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
-00006920: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
-00006930: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
-00006940: 7470 5f63 6c69 656e 742e 6765 7428 5f71  tp_client.get(_q
-00006950: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
-00006960: 733d 5f68 6561 6465 7273 290d 0a20 2020  s=_headers)..   
-00006970: 2020 2020 2042 6173 6963 4175 7468 2e61       BasicAuth.a
-00006980: 7070 6c79 285f 7265 7175 6573 7429 0d0a  pply(_request)..
-00006990: 2020 2020 2020 2020 5f63 6f6e 7465 7874          _context
-000069a0: 203d 2073 656c 662e 6578 6563 7574 655f   = self.execute_
-000069b0: 7265 7175 6573 7428 5f72 6571 7565 7374  request(_request
-000069c0: 290d 0a0d 0a20 2020 2020 2020 2023 2045  )....        # E
-000069d0: 6e64 706f 696e 7420 616e 6420 676c 6f62  ndpoint and glob
-000069e0: 616c 2065 7272 6f72 2068 616e 646c 696e  al error handlin
-000069f0: 6720 7573 696e 6720 4854 5450 2073 7461  g using HTTP sta
-00006a00: 7475 7320 636f 6465 732e 0d0a 2020 2020  tus codes...    
-00006a10: 2020 2020 6966 205f 636f 6e74 6578 742e      if _context.
-00006a20: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00006a30: 636f 6465 203d 3d20 3430 303a 0d0a 2020  code == 400:..  
-00006a40: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00006a50: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00006a60: 496e 7661 6c69 6420 7265 7175 6573 7427  Invalid request'
-00006a70: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00006a80: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00006a90: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00006aa0: 7573 5f63 6f64 6520 3d3d 2034 3031 3a0d  us_code == 401:.
-00006ab0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00006ac0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00006ad0: 6e28 2749 6e76 616c 6964 2041 5049 206b  n('Invalid API k
-00006ae0: 6579 272c 205f 636f 6e74 6578 7429 0d0a  ey', _context)..
-00006af0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-00006b00: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00006b10: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
-00006b20: 343a 0d0a 2020 2020 2020 2020 2020 2020  4:..            
-00006b30: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00006b40: 7469 6f6e 2827 416e 2069 6e66 6f72 6d65  tion('An informe
-00006b50: 6420 7265 736f 7572 6365 2077 6173 206e  d resource was n
-00006b60: 6f74 2066 6f75 6e64 272c 205f 636f 6e74  ot found', _cont
-00006b70: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00006b80: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00006b90: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00006ba0: 203d 3d20 3431 323a 0d0a 2020 2020 2020   == 412:..      
-00006bb0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-00006bc0: 7245 7863 6570 7469 6f6e 2827 4275 7369  rException('Busi
-00006bd0: 6e65 7373 2076 616c 6964 6174 696f 6e20  ness validation 
-00006be0: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
-00006bf0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-00006c00: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00006c10: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00006c20: 2034 3232 3a0d 0a20 2020 2020 2020 2020   422:..         
-00006c30: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00006c40: 6365 7074 696f 6e28 2743 6f6e 7472 6163  ception('Contrac
-00006c50: 7420 7661 6c69 6461 7469 6f6e 2065 7272  t validation err
-00006c60: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
-00006c70: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-00006c80: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00006c90: 7461 7475 735f 636f 6465 203d 3d20 3530  tatus_code == 50
-00006ca0: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
-00006cb0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00006cc0: 7469 6f6e 2827 496e 7465 726e 616c 2073  tion('Internal s
-00006cd0: 6572 7665 7220 6572 726f 7227 2c20 5f63  erver error', _c
-00006ce0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00006cf0: 2073 656c 662e 7661 6c69 6461 7465 5f72   self.validate_r
-00006d00: 6573 706f 6e73 6528 5f63 6f6e 7465 7874  esponse(_context
-00006d10: 290d 0a0d 0a20 2020 2020 2020 2023 2052  )....        # R
-00006d20: 6574 7572 6e20 6170 7072 6f70 7269 6174  eturn appropriat
-00006d30: 6520 7479 7065 0d0a 2020 2020 2020 2020  e type..        
-00006d40: 7265 7475 726e 2041 5049 4865 6c70 6572  return APIHelper
-00006d50: 2e6a 736f 6e5f 6465 7365 7269 616c 697a  .json_deserializ
-00006d60: 6528 5f63 6f6e 7465 7874 2e72 6573 706f  e(_context.respo
-00006d70: 6e73 652e 7261 775f 626f 6479 2c20 4c69  nse.raw_body, Li
-00006d80: 7374 5375 6273 6372 6970 7469 6f6e 4974  stSubscriptionIt
-00006d90: 656d 7352 6573 706f 6e73 652e 6672 6f6d  emsResponse.from
-00006da0: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
-00006db0: 2020 2020 6465 6620 6372 6561 7465 5f73      def create_s
-00006dc0: 7562 7363 7269 7074 696f 6e5f 6974 656d  ubscription_item
-00006dd0: 2873 656c 662c 0d0a 2020 2020 2020 2020  (self,..        
-00006de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006df0: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-00006e00: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
-00006e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006e20: 2020 2020 2020 2020 2020 2020 626f 6479              body
-00006e30: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00006e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006e50: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
-00006e60: 6b65 793d 4e6f 6e65 293a 0d0a 2020 2020  key=None):..    
-00006e70: 2020 2020 2222 2244 6f65 7320 6120 504f      """Does a PO
-00006e80: 5354 2072 6571 7565 7374 2074 6f20 2f73  ST request to /s
-00006e90: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-00006ea0: 6273 6372 6970 7469 6f6e 5f69 647d 2f69  bscription_id}/i
-00006eb0: 7465 6d73 2e0d 0a0d 0a20 2020 2020 2020  tems.....       
-00006ec0: 2043 7265 6174 6573 2061 206e 6577 2053   Creates a new S
-00006ed0: 7562 7363 7269 7074 696f 6e20 6974 656d  ubscription item
-00006ee0: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
-00006ef0: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
-00006f00: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
-00006f10: 7374 7269 6e67 293a 2053 7562 7363 7269  string): Subscri
-00006f20: 7074 696f 6e20 6964 0d0a 2020 2020 2020  ption id..      
-00006f30: 2020 2020 2020 626f 6479 2028 4372 6561        body (Crea
-00006f40: 7465 5375 6273 6372 6970 7469 6f6e 4974  teSubscriptionIt
-00006f50: 656d 5265 7175 6573 7429 3a20 5265 7175  emRequest): Requ
-00006f60: 6573 7420 666f 7220 6372 6561 7469 6e67  est for creating
-00006f70: 2061 0d0a 2020 2020 2020 2020 2020 2020   a..            
-00006f80: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
-00006f90: 2069 7465 6d0d 0a20 2020 2020 2020 2020   item..         
-00006fa0: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
-00006fb0: 6579 2028 7374 7269 6e67 2c20 6f70 7469  ey (string, opti
-00006fc0: 6f6e 616c 293a 2054 4f44 4f3a 2074 7970  onal): TODO: typ
-00006fd0: 6520 6465 7363 7269 7074 696f 6e20 6865  e description he
-00006fe0: 7265 2e0d 0a20 2020 2020 2020 2020 2020  re...           
-00006ff0: 2020 2020 2045 7861 6d70 6c65 3a20 0d0a       Example: ..
-00007000: 0d0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00007010: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00007020: 4765 7453 7562 7363 7269 7074 696f 6e49  GetSubscriptionI
-00007030: 7465 6d52 6573 706f 6e73 653a 2052 6573  temResponse: Res
-00007040: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
-00007050: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
-00007060: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
-00007070: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
-00007080: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
-00007090: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
-000070a0: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
-000070b0: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
-000070c0: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
-000070d0: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
-000070e0: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
-000070f0: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
-00007100: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007110: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
-00007120: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
-00007130: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
-00007140: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
-00007150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007160: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
-00007170: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
-00007180: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-00007190: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
-000071a0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
-000071b0: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
-000071c0: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-000071d0: 647d 2f69 7465 6d73 270d 0a20 2020 2020  d}/items'..     
-000071e0: 2020 205f 7572 6c5f 7061 7468 203d 2041     _url_path = A
-000071f0: 5049 4865 6c70 6572 2e61 7070 656e 645f  PIHelper.append_
-00007200: 7572 6c5f 7769 7468 5f74 656d 706c 6174  url_with_templat
-00007210: 655f 7061 7261 6d65 7465 7273 285f 7572  e_parameters(_ur
-00007220: 6c5f 7061 7468 2c20 7b20 0d0a 2020 2020  l_path, { ..    
-00007230: 2020 2020 2020 2020 2773 7562 7363 7269          'subscri
-00007240: 7074 696f 6e5f 6964 273a 2073 7562 7363  ption_id': subsc
-00007250: 7269 7074 696f 6e5f 6964 0d0a 2020 2020  ription_id..    
-00007260: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
-00007270: 5f71 7565 7279 5f62 7569 6c64 6572 203d  _query_builder =
-00007280: 2043 6f6e 6669 6775 7261 7469 6f6e 2e62   Configuration.b
-00007290: 6173 655f 7572 690d 0a20 2020 2020 2020  ase_uri..       
-000072a0: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-000072b0: 2b3d 205f 7572 6c5f 7061 7468 0d0a 2020  += _url_path..  
-000072c0: 2020 2020 2020 5f71 7565 7279 5f75 726c        _query_url
-000072d0: 203d 2041 5049 4865 6c70 6572 2e63 6c65   = APIHelper.cle
-000072e0: 616e 5f75 726c 285f 7175 6572 795f 6275  an_url(_query_bu
-000072f0: 696c 6465 7229 0d0a 0d0a 2020 2020 2020  ilder)....      
-00007300: 2020 2320 5072 6570 6172 6520 6865 6164    # Prepare head
-00007310: 6572 730d 0a20 2020 2020 2020 205f 6865  ers..        _he
-00007320: 6164 6572 7320 3d20 7b0d 0a20 2020 2020  aders = {..     
-00007330: 2020 2020 2020 2027 6163 6365 7074 273a         'accept':
-00007340: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
-00007350: 6f6e 272c 0d0a 2020 2020 2020 2020 2020  on',..          
-00007360: 2020 2743 6f6e 7465 6e74 2d54 7970 6527    'Content-Type'
-00007370: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
-00007380: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
-00007390: 2020 2027 6964 656d 706f 7465 6e63 792d     'idempotency-
-000073a0: 6b65 7927 3a20 6964 656d 706f 7465 6e63  key': idempotenc
-000073b0: 795f 6b65 790d 0a20 2020 2020 2020 207d  y_key..        }
-000073c0: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-000073d0: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
-000073e0: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
-000073f0: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
-00007400: 6c66 2e68 7474 705f 636c 6965 6e74 2e70  lf.http_client.p
-00007410: 6f73 7428 5f71 7565 7279 5f75 726c 2c20  ost(_query_url, 
-00007420: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
-00007430: 2c20 7061 7261 6d65 7465 7273 3d41 5049  , parameters=API
-00007440: 4865 6c70 6572 2e6a 736f 6e5f 7365 7269  Helper.json_seri
-00007450: 616c 697a 6528 626f 6479 2929 0d0a 2020  alize(body))..  
-00007460: 2020 2020 2020 4261 7369 6341 7574 682e        BasicAuth.
-00007470: 6170 706c 7928 5f72 6571 7565 7374 290d  apply(_request).
-00007480: 0a20 2020 2020 2020 205f 636f 6e74 6578  .        _contex
-00007490: 7420 3d20 7365 6c66 2e65 7865 6375 7465  t = self.execute
-000074a0: 5f72 6571 7565 7374 285f 7265 7175 6573  _request(_reques
-000074b0: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
-000074c0: 456e 6470 6f69 6e74 2061 6e64 2067 6c6f  Endpoint and glo
-000074d0: 6261 6c20 6572 726f 7220 6861 6e64 6c69  bal error handli
-000074e0: 6e67 2075 7369 6e67 2048 5454 5020 7374  ng using HTTP st
-000074f0: 6174 7573 2063 6f64 6573 2e0d 0a20 2020  atus codes...   
-00007500: 2020 2020 2069 6620 5f63 6f6e 7465 7874       if _context
-00007510: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00007520: 5f63 6f64 6520 3d3d 2034 3030 3a0d 0a20  _code == 400:.. 
-00007530: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00007540: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00007550: 2749 6e76 616c 6964 2072 6571 7565 7374  'Invalid request
-00007560: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00007570: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-00007580: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00007590: 7475 735f 636f 6465 203d 3d20 3430 313a  tus_code == 401:
-000075a0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-000075b0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-000075c0: 6f6e 2827 496e 7661 6c69 6420 4150 4920  on('Invalid API 
-000075d0: 6b65 7927 2c20 5f63 6f6e 7465 7874 290d  key', _context).
-000075e0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-000075f0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00007600: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-00007610: 3034 3a0d 0a20 2020 2020 2020 2020 2020  04:..           
-00007620: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00007630: 7074 696f 6e28 2741 6e20 696e 666f 726d  ption('An inform
-00007640: 6564 2072 6573 6f75 7263 6520 7761 7320  ed resource was 
-00007650: 6e6f 7420 666f 756e 6427 2c20 5f63 6f6e  not found', _con
-00007660: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-00007670: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00007680: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00007690: 6520 3d3d 2034 3132 3a0d 0a20 2020 2020  e == 412:..     
-000076a0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-000076b0: 6f72 4578 6365 7074 696f 6e28 2742 7573  orException('Bus
-000076c0: 696e 6573 7320 7661 6c69 6461 7469 6f6e  iness validation
-000076d0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-000076e0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-000076f0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00007700: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00007710: 3d20 3432 323a 0d0a 2020 2020 2020 2020  = 422:..        
-00007720: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00007730: 7863 6570 7469 6f6e 2827 436f 6e74 7261  xception('Contra
-00007740: 6374 2076 616c 6964 6174 696f 6e20 6572  ct validation er
-00007750: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-00007760: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00007770: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00007780: 7374 6174 7573 5f63 6f64 6520 3d3d 2035  status_code == 5
-00007790: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
-000077a0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-000077b0: 7074 696f 6e28 2749 6e74 6572 6e61 6c20  ption('Internal 
-000077c0: 7365 7276 6572 2065 7272 6f72 272c 205f  server error', _
-000077d0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-000077e0: 2020 7365 6c66 2e76 616c 6964 6174 655f    self.validate_
-000077f0: 7265 7370 6f6e 7365 285f 636f 6e74 6578  response(_contex
-00007800: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
-00007810: 5265 7475 726e 2061 7070 726f 7072 6961  Return appropria
-00007820: 7465 2074 7970 650d 0a20 2020 2020 2020  te type..       
-00007830: 2072 6574 7572 6e20 4150 4948 656c 7065   return APIHelpe
-00007840: 722e 6a73 6f6e 5f64 6573 6572 6961 6c69  r.json_deseriali
-00007850: 7a65 285f 636f 6e74 6578 742e 7265 7370  ze(_context.resp
-00007860: 6f6e 7365 2e72 6177 5f62 6f64 792c 2047  onse.raw_body, G
-00007870: 6574 5375 6273 6372 6970 7469 6f6e 4974  etSubscriptionIt
-00007880: 656d 5265 7370 6f6e 7365 2e66 726f 6d5f  emResponse.from_
-00007890: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
-000078a0: 2020 2064 6566 2067 6574 5f73 7562 7363     def get_subsc
-000078b0: 7269 7074 696f 6e5f 6974 656d 2873 656c  ription_item(sel
-000078c0: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
-000078d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000078e0: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-000078f0: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
-00007900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007910: 2020 6974 656d 5f69 6429 3a0d 0a20 2020    item_id):..   
-00007920: 2020 2020 2022 2222 446f 6573 2061 2047       """Does a G
-00007930: 4554 2072 6571 7565 7374 2074 6f20 2f73  ET request to /s
-00007940: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-00007950: 6273 6372 6970 7469 6f6e 5f69 647d 2f69  bscription_id}/i
-00007960: 7465 6d73 2f7b 6974 656d 5f69 647d 2e0d  tems/{item_id}..
-00007970: 0a0d 0a20 2020 2020 2020 2047 6574 2053  ...        Get S
-00007980: 7562 7363 7269 7074 696f 6e20 4974 656d  ubscription Item
-00007990: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
-000079a0: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
-000079b0: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
-000079c0: 7374 7269 6e67 293a 2053 7562 7363 7269  string): Subscri
-000079d0: 7074 696f 6e20 4964 0d0a 2020 2020 2020  ption Id..      
-000079e0: 2020 2020 2020 6974 656d 5f69 6420 2873        item_id (s
-000079f0: 7472 696e 6729 3a20 4974 656d 2069 640d  tring): Item id.
-00007a00: 0a0d 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-00007a10: 6e73 3a0d 0a20 2020 2020 2020 2020 2020  ns:..           
-00007a20: 2047 6574 5375 6273 6372 6970 7469 6f6e   GetSubscription
-00007a30: 4974 656d 5265 7370 6f6e 7365 3a20 5265  ItemResponse: Re
-00007a40: 7370 6f6e 7365 2066 726f 6d20 7468 6520  sponse from the 
-00007a50: 4150 492e 200d 0a0d 0a20 2020 2020 2020  API. ....       
-00007a60: 2052 6169 7365 733a 0d0a 2020 2020 2020   Raises:..      
-00007a70: 2020 2020 2020 4150 4945 7863 6570 7469        APIExcepti
-00007a80: 6f6e 3a20 5768 656e 2061 6e20 6572 726f  on: When an erro
-00007a90: 7220 6f63 6375 7273 2077 6869 6c65 2066  r occurs while f
-00007aa0: 6574 6368 696e 6720 7468 6520 6461 7461  etching the data
-00007ab0: 2066 726f 6d0d 0a20 2020 2020 2020 2020   from..         
-00007ac0: 2020 2020 2020 2074 6865 2072 656d 6f74         the remot
-00007ad0: 6520 4150 492e 2054 6869 7320 6578 6365  e API. This exce
-00007ae0: 7074 696f 6e20 696e 636c 7564 6573 2074  ption includes t
-00007af0: 6865 2048 5454 5020 5265 7370 6f6e 7365  he HTTP Response
-00007b00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00007b10: 2020 636f 6465 2c20 616e 2065 7272 6f72    code, an error
-00007b20: 206d 6573 7361 6765 2c20 616e 6420 7468   message, and th
-00007b30: 6520 4854 5450 2062 6f64 7920 7468 6174  e HTTP body that
-00007b40: 2077 6173 2072 6563 6569 7665 6420 696e   was received in
-00007b50: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00007b60: 2020 7468 6520 7265 7175 6573 742e 0d0a    the request...
-00007b70: 0d0a 2020 2020 2020 2020 2222 220d 0a0d  ..        """...
-00007b80: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-00007b90: 7265 2071 7565 7279 2055 524c 0d0a 2020  re query URL..  
-00007ba0: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-00007bb0: 3d20 272f 7375 6273 6372 6970 7469 6f6e  = '/subscription
-00007bc0: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
-00007bd0: 6964 7d2f 6974 656d 732f 7b69 7465 6d5f  id}/items/{item_
-00007be0: 6964 7d27 0d0a 2020 2020 2020 2020 5f75  id}'..        _u
-00007bf0: 726c 5f70 6174 6820 3d20 4150 4948 656c  rl_path = APIHel
-00007c00: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
-00007c10: 6974 685f 7465 6d70 6c61 7465 5f70 6172  ith_template_par
-00007c20: 616d 6574 6572 7328 5f75 726c 5f70 6174  ameters(_url_pat
-00007c30: 682c 207b 200d 0a20 2020 2020 2020 2020  h, { ..         
-00007c40: 2020 2027 7375 6273 6372 6970 7469 6f6e     'subscription
-00007c50: 5f69 6427 3a20 7375 6273 6372 6970 7469  _id': subscripti
-00007c60: 6f6e 5f69 642c 0d0a 2020 2020 2020 2020  on_id,..        
-00007c70: 2020 2020 2769 7465 6d5f 6964 273a 2069      'item_id': i
-00007c80: 7465 6d5f 6964 0d0a 2020 2020 2020 2020  tem_id..        
-00007c90: 7d29 0d0a 2020 2020 2020 2020 5f71 7565  })..        _que
-00007ca0: 7279 5f62 7569 6c64 6572 203d 2043 6f6e  ry_builder = Con
-00007cb0: 6669 6775 7261 7469 6f6e 2e62 6173 655f  figuration.base_
-00007cc0: 7572 690d 0a20 2020 2020 2020 205f 7175  uri..        _qu
-00007cd0: 6572 795f 6275 696c 6465 7220 2b3d 205f  ery_builder += _
-00007ce0: 7572 6c5f 7061 7468 0d0a 2020 2020 2020  url_path..      
-00007cf0: 2020 5f71 7565 7279 5f75 726c 203d 2041    _query_url = A
-00007d00: 5049 4865 6c70 6572 2e63 6c65 616e 5f75  PIHelper.clean_u
-00007d10: 726c 285f 7175 6572 795f 6275 696c 6465  rl(_query_builde
-00007d20: 7229 0d0a 0d0a 2020 2020 2020 2020 2320  r)....        # 
-00007d30: 5072 6570 6172 6520 6865 6164 6572 730d  Prepare headers.
-00007d40: 0a20 2020 2020 2020 205f 6865 6164 6572  .        _header
-00007d50: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
-00007d60: 2020 2027 6163 6365 7074 273a 2027 6170     'accept': 'ap
-00007d70: 706c 6963 6174 696f 6e2f 6a73 6f6e 270d  plication/json'.
-00007d80: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
-00007d90: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00007da0: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
-00007db0: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
-00007dc0: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
-00007dd0: 705f 636c 6965 6e74 2e67 6574 285f 7175  p_client.get(_qu
-00007de0: 6572 795f 7572 6c2c 2068 6561 6465 7273  ery_url, headers
-00007df0: 3d5f 6865 6164 6572 7329 0d0a 2020 2020  =_headers)..    
-00007e00: 2020 2020 4261 7369 6341 7574 682e 6170      BasicAuth.ap
-00007e10: 706c 7928 5f72 6571 7565 7374 290d 0a20  ply(_request).. 
-00007e20: 2020 2020 2020 205f 636f 6e74 6578 7420         _context 
-00007e30: 3d20 7365 6c66 2e65 7865 6375 7465 5f72  = self.execute_r
-00007e40: 6571 7565 7374 285f 7265 7175 6573 7429  equest(_request)
-00007e50: 0d0a 0d0a 2020 2020 2020 2020 2320 456e  ....        # En
-00007e60: 6470 6f69 6e74 2061 6e64 2067 6c6f 6261  dpoint and globa
-00007e70: 6c20 6572 726f 7220 6861 6e64 6c69 6e67  l error handling
-00007e80: 2075 7369 6e67 2048 5454 5020 7374 6174   using HTTP stat
-00007e90: 7573 2063 6f64 6573 2e0d 0a20 2020 2020  us codes...     
-00007ea0: 2020 2069 6620 5f63 6f6e 7465 7874 2e72     if _context.r
-00007eb0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00007ec0: 6f64 6520 3d3d 2034 3030 3a0d 0a20 2020  ode == 400:..   
-00007ed0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00007ee0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00007ef0: 6e76 616c 6964 2072 6571 7565 7374 272c  nvalid request',
-00007f00: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00007f10: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00007f20: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00007f30: 735f 636f 6465 203d 3d20 3430 313a 0d0a  s_code == 401:..
-00007f40: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00007f50: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00007f60: 2827 496e 7661 6c69 6420 4150 4920 6b65  ('Invalid API ke
-00007f70: 7927 2c20 5f63 6f6e 7465 7874 290d 0a20  y', _context).. 
-00007f80: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00007f90: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00007fa0: 6174 7573 5f63 6f64 6520 3d3d 2034 3034  atus_code == 404
-00007fb0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00007fc0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00007fd0: 696f 6e28 2741 6e20 696e 666f 726d 6564  ion('An informed
-00007fe0: 2072 6573 6f75 7263 6520 7761 7320 6e6f   resource was no
-00007ff0: 7420 666f 756e 6427 2c20 5f63 6f6e 7465  t found', _conte
-00008000: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00008010: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00008020: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00008030: 3d3d 2034 3132 3a0d 0a20 2020 2020 2020  == 412:..       
-00008040: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00008050: 4578 6365 7074 696f 6e28 2742 7573 696e  Exception('Busin
-00008060: 6573 7320 7661 6c69 6461 7469 6f6e 2065  ess validation e
-00008070: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-00008080: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00008090: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-000080a0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-000080b0: 3432 323a 0d0a 2020 2020 2020 2020 2020  422:..          
-000080c0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-000080d0: 6570 7469 6f6e 2827 436f 6e74 7261 6374  eption('Contract
-000080e0: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-000080f0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-00008100: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00008110: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00008120: 6174 7573 5f63 6f64 6520 3d3d 2035 3030  atus_code == 500
-00008130: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00008140: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00008150: 696f 6e28 2749 6e74 6572 6e61 6c20 7365  ion('Internal se
-00008160: 7276 6572 2065 7272 6f72 272c 205f 636f  rver error', _co
-00008170: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00008180: 7365 6c66 2e76 616c 6964 6174 655f 7265  self.validate_re
-00008190: 7370 6f6e 7365 285f 636f 6e74 6578 7429  sponse(_context)
-000081a0: 0d0a 0d0a 2020 2020 2020 2020 2320 5265  ....        # Re
-000081b0: 7475 726e 2061 7070 726f 7072 6961 7465  turn appropriate
-000081c0: 2074 7970 650d 0a20 2020 2020 2020 2072   type..        r
-000081d0: 6574 7572 6e20 4150 4948 656c 7065 722e  eturn APIHelper.
-000081e0: 6a73 6f6e 5f64 6573 6572 6961 6c69 7a65  json_deserialize
-000081f0: 285f 636f 6e74 6578 742e 7265 7370 6f6e  (_context.respon
-00008200: 7365 2e72 6177 5f62 6f64 792c 2047 6574  se.raw_body, Get
-00008210: 5375 6273 6372 6970 7469 6f6e 4974 656d  SubscriptionItem
-00008220: 5265 7370 6f6e 7365 2e66 726f 6d5f 6469  Response.from_di
-00008230: 6374 696f 6e61 7279 290d 0a0d 0a20 2020  ctionary)....   
-00008240: 2064 6566 2075 7064 6174 655f 7375 6273   def update_subs
-00008250: 6372 6970 7469 6f6e 5f69 7465 6d28 7365  cription_item(se
-00008260: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
-00008270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008280: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
-00008290: 6f6e 5f69 642c 0d0a 2020 2020 2020 2020  on_id,..        
-000082a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000082b0: 2020 2020 2020 2020 2069 7465 6d5f 6964           item_id
-000082c0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-000082d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000082e0: 2020 2020 626f 6479 2c0d 0a20 2020 2020      body,..     
-000082f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008300: 2020 2020 2020 2020 2020 2020 6964 656d              idem
-00008310: 706f 7465 6e63 795f 6b65 793d 4e6f 6e65  potency_key=None
-00008320: 293a 0d0a 2020 2020 2020 2020 2222 2244  ):..        """D
-00008330: 6f65 7320 6120 5055 5420 7265 7175 6573  oes a PUT reques
-00008340: 7420 746f 202f 7375 6273 6372 6970 7469  t to /subscripti
-00008350: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
-00008360: 6e5f 6964 7d2f 6974 656d 732f 7b69 7465  n_id}/items/{ite
-00008370: 6d5f 6964 7d2e 0d0a 0d0a 2020 2020 2020  m_id}.....      
-00008380: 2020 5570 6461 7465 7320 6120 7375 6273    Updates a subs
-00008390: 6372 6970 7469 6f6e 2069 7465 6d0d 0a0d  cription item...
-000083a0: 0a20 2020 2020 2020 2041 7267 733a 0d0a  .        Args:..
-000083b0: 2020 2020 2020 2020 2020 2020 7375 6273              subs
-000083c0: 6372 6970 7469 6f6e 5f69 6420 2873 7472  cription_id (str
-000083d0: 696e 6729 3a20 5375 6273 6372 6970 7469  ing): Subscripti
-000083e0: 6f6e 2049 640d 0a20 2020 2020 2020 2020  on Id..         
-000083f0: 2020 2069 7465 6d5f 6964 2028 7374 7269     item_id (stri
-00008400: 6e67 293a 2049 7465 6d20 6964 0d0a 2020  ng): Item id..  
-00008410: 2020 2020 2020 2020 2020 626f 6479 2028            body (
-00008420: 5570 6461 7465 5375 6273 6372 6970 7469  UpdateSubscripti
-00008430: 6f6e 4974 656d 5265 7175 6573 7429 3a20  onItemRequest): 
-00008440: 5265 7175 6573 7420 666f 7220 7570 6461  Request for upda
-00008450: 7469 6e67 2061 0d0a 2020 2020 2020 2020  ting a..        
-00008460: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-00008470: 7469 6f6e 2069 7465 6d0d 0a20 2020 2020  tion item..     
-00008480: 2020 2020 2020 2069 6465 6d70 6f74 656e         idempoten
-00008490: 6379 5f6b 6579 2028 7374 7269 6e67 2c20  cy_key (string, 
-000084a0: 6f70 7469 6f6e 616c 293a 2054 4f44 4f3a  optional): TODO:
-000084b0: 2074 7970 6520 6465 7363 7269 7074 696f   type descriptio
-000084c0: 6e20 6865 7265 2e0d 0a20 2020 2020 2020  n here...       
-000084d0: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
-000084e0: 3a20 0d0a 0d0a 2020 2020 2020 2020 5265  : ....        Re
-000084f0: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
-00008500: 2020 2020 4765 7453 7562 7363 7269 7074      GetSubscript
-00008510: 696f 6e49 7465 6d52 6573 706f 6e73 653a  ionItemResponse:
-00008520: 2052 6573 706f 6e73 6520 6672 6f6d 2074   Response from t
-00008530: 6865 2041 5049 2e20 0d0a 0d0a 2020 2020  he API. ....    
-00008540: 2020 2020 5261 6973 6573 3a0d 0a20 2020      Raises:..   
-00008550: 2020 2020 2020 2020 2041 5049 4578 6365           APIExce
-00008560: 7074 696f 6e3a 2057 6865 6e20 616e 2065  ption: When an e
-00008570: 7272 6f72 206f 6363 7572 7320 7768 696c  rror occurs whil
-00008580: 6520 6665 7463 6869 6e67 2074 6865 2064  e fetching the d
-00008590: 6174 6120 6672 6f6d 0d0a 2020 2020 2020  ata from..      
-000085a0: 2020 2020 2020 2020 2020 7468 6520 7265            the re
-000085b0: 6d6f 7465 2041 5049 2e20 5468 6973 2065  mote API. This e
-000085c0: 7863 6570 7469 6f6e 2069 6e63 6c75 6465  xception include
-000085d0: 7320 7468 6520 4854 5450 2052 6573 706f  s the HTTP Respo
-000085e0: 6e73 650d 0a20 2020 2020 2020 2020 2020  nse..           
-000085f0: 2020 2020 2063 6f64 652c 2061 6e20 6572       code, an er
-00008600: 726f 7220 6d65 7373 6167 652c 2061 6e64  ror message, and
-00008610: 2074 6865 2048 5454 5020 626f 6479 2074   the HTTP body t
-00008620: 6861 7420 7761 7320 7265 6365 6976 6564  hat was received
-00008630: 2069 6e0d 0a20 2020 2020 2020 2020 2020   in..           
-00008640: 2020 2020 2074 6865 2072 6571 7565 7374       the request
-00008650: 2e0d 0a0d 0a20 2020 2020 2020 2022 2222  .....        """
-00008660: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-00008670: 6570 6172 6520 7175 6572 7920 5552 4c0d  epare query URL.
-00008680: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
-00008690: 7468 203d 2027 2f73 7562 7363 7269 7074  th = '/subscript
-000086a0: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
-000086b0: 6f6e 5f69 647d 2f69 7465 6d73 2f7b 6974  on_id}/items/{it
-000086c0: 656d 5f69 647d 270d 0a20 2020 2020 2020  em_id}'..       
-000086d0: 205f 7572 6c5f 7061 7468 203d 2041 5049   _url_path = API
-000086e0: 4865 6c70 6572 2e61 7070 656e 645f 7572  Helper.append_ur
-000086f0: 6c5f 7769 7468 5f74 656d 706c 6174 655f  l_with_template_
-00008700: 7061 7261 6d65 7465 7273 285f 7572 6c5f  parameters(_url_
-00008710: 7061 7468 2c20 7b20 0d0a 2020 2020 2020  path, { ..      
-00008720: 2020 2020 2020 2773 7562 7363 7269 7074        'subscript
-00008730: 696f 6e5f 6964 273a 2073 7562 7363 7269  ion_id': subscri
-00008740: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
-00008750: 2020 2020 2020 2027 6974 656d 5f69 6427         'item_id'
-00008760: 3a20 6974 656d 5f69 640d 0a20 2020 2020  : item_id..     
-00008770: 2020 207d 290d 0a20 2020 2020 2020 205f     })..        _
-00008780: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
-00008790: 436f 6e66 6967 7572 6174 696f 6e2e 6261  Configuration.ba
-000087a0: 7365 5f75 7269 0d0a 2020 2020 2020 2020  se_uri..        
-000087b0: 5f71 7565 7279 5f62 7569 6c64 6572 202b  _query_builder +
-000087c0: 3d20 5f75 726c 5f70 6174 680d 0a20 2020  = _url_path..   
-000087d0: 2020 2020 205f 7175 6572 795f 7572 6c20       _query_url 
-000087e0: 3d20 4150 4948 656c 7065 722e 636c 6561  = APIHelper.clea
-000087f0: 6e5f 7572 6c28 5f71 7565 7279 5f62 7569  n_url(_query_bui
-00008800: 6c64 6572 290d 0a0d 0a20 2020 2020 2020  lder)....       
-00008810: 2023 2050 7265 7061 7265 2068 6561 6465   # Prepare heade
-00008820: 7273 0d0a 2020 2020 2020 2020 5f68 6561  rs..        _hea
-00008830: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
-00008840: 2020 2020 2020 2761 6363 6570 7427 3a20        'accept': 
-00008850: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
-00008860: 6e27 2c0d 0a20 2020 2020 2020 2020 2020  n',..           
-00008870: 2027 436f 6e74 656e 742d 5479 7065 273a   'Content-Type':
-00008880: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
-00008890: 6f6e 272c 0d0a 2020 2020 2020 2020 2020  on',..          
-000088a0: 2020 2769 6465 6d70 6f74 656e 6379 2d6b    'idempotency-k
-000088b0: 6579 273a 2069 6465 6d70 6f74 656e 6379  ey': idempotency
-000088c0: 5f6b 6579 0d0a 2020 2020 2020 2020 7d0d  _key..        }.
-000088d0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
-000088e0: 7061 7265 2061 6e64 2065 7865 6375 7465  pare and execute
-000088f0: 2072 6571 7565 7374 0d0a 2020 2020 2020   request..      
-00008900: 2020 5f72 6571 7565 7374 203d 2073 656c    _request = sel
-00008910: 662e 6874 7470 5f63 6c69 656e 742e 7075  f.http_client.pu
-00008920: 7428 5f71 7565 7279 5f75 726c 2c20 6865  t(_query_url, he
-00008930: 6164 6572 733d 5f68 6561 6465 7273 2c20  aders=_headers, 
-00008940: 7061 7261 6d65 7465 7273 3d41 5049 4865  parameters=APIHe
-00008950: 6c70 6572 2e6a 736f 6e5f 7365 7269 616c  lper.json_serial
-00008960: 697a 6528 626f 6479 2929 0d0a 2020 2020  ize(body))..    
-00008970: 2020 2020 4261 7369 6341 7574 682e 6170      BasicAuth.ap
-00008980: 706c 7928 5f72 6571 7565 7374 290d 0a20  ply(_request).. 
-00008990: 2020 2020 2020 205f 636f 6e74 6578 7420         _context 
-000089a0: 3d20 7365 6c66 2e65 7865 6375 7465 5f72  = self.execute_r
-000089b0: 6571 7565 7374 285f 7265 7175 6573 7429  equest(_request)
-000089c0: 0d0a 0d0a 2020 2020 2020 2020 2320 456e  ....        # En
-000089d0: 6470 6f69 6e74 2061 6e64 2067 6c6f 6261  dpoint and globa
-000089e0: 6c20 6572 726f 7220 6861 6e64 6c69 6e67  l error handling
-000089f0: 2075 7369 6e67 2048 5454 5020 7374 6174   using HTTP stat
-00008a00: 7573 2063 6f64 6573 2e0d 0a20 2020 2020  us codes...     
-00008a10: 2020 2069 6620 5f63 6f6e 7465 7874 2e72     if _context.r
-00008a20: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00008a30: 6f64 6520 3d3d 2034 3030 3a0d 0a20 2020  ode == 400:..   
-00008a40: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00008a50: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00008a60: 6e76 616c 6964 2072 6571 7565 7374 272c  nvalid request',
-00008a70: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00008a80: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00008a90: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00008aa0: 735f 636f 6465 203d 3d20 3430 313a 0d0a  s_code == 401:..
-00008ab0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00008ac0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00008ad0: 2827 496e 7661 6c69 6420 4150 4920 6b65  ('Invalid API ke
-00008ae0: 7927 2c20 5f63 6f6e 7465 7874 290d 0a20  y', _context).. 
-00008af0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00008b00: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00008b10: 6174 7573 5f63 6f64 6520 3d3d 2034 3034  atus_code == 404
-00008b20: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00008b30: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00008b40: 696f 6e28 2741 6e20 696e 666f 726d 6564  ion('An informed
-00008b50: 2072 6573 6f75 7263 6520 7761 7320 6e6f   resource was no
-00008b60: 7420 666f 756e 6427 2c20 5f63 6f6e 7465  t found', _conte
-00008b70: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00008b80: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00008b90: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00008ba0: 3d3d 2034 3132 3a0d 0a20 2020 2020 2020  == 412:..       
-00008bb0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00008bc0: 4578 6365 7074 696f 6e28 2742 7573 696e  Exception('Busin
-00008bd0: 6573 7320 7661 6c69 6461 7469 6f6e 2065  ess validation e
-00008be0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-00008bf0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00008c00: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00008c10: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00008c20: 3432 323a 0d0a 2020 2020 2020 2020 2020  422:..          
-00008c30: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00008c40: 6570 7469 6f6e 2827 436f 6e74 7261 6374  eption('Contract
-00008c50: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-00008c60: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-00008c70: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00008c80: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00008c90: 6174 7573 5f63 6f64 6520 3d3d 2035 3030  atus_code == 500
-00008ca0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00008cb0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00008cc0: 696f 6e28 2749 6e74 6572 6e61 6c20 7365  ion('Internal se
-00008cd0: 7276 6572 2065 7272 6f72 272c 205f 636f  rver error', _co
-00008ce0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00008cf0: 7365 6c66 2e76 616c 6964 6174 655f 7265  self.validate_re
-00008d00: 7370 6f6e 7365 285f 636f 6e74 6578 7429  sponse(_context)
-00008d10: 0d0a 0d0a 2020 2020 2020 2020 2320 5265  ....        # Re
-00008d20: 7475 726e 2061 7070 726f 7072 6961 7465  turn appropriate
-00008d30: 2074 7970 650d 0a20 2020 2020 2020 2072   type..        r
-00008d40: 6574 7572 6e20 4150 4948 656c 7065 722e  eturn APIHelper.
-00008d50: 6a73 6f6e 5f64 6573 6572 6961 6c69 7a65  json_deserialize
-00008d60: 285f 636f 6e74 6578 742e 7265 7370 6f6e  (_context.respon
-00008d70: 7365 2e72 6177 5f62 6f64 792c 2047 6574  se.raw_body, Get
-00008d80: 5375 6273 6372 6970 7469 6f6e 4974 656d  SubscriptionItem
-00008d90: 5265 7370 6f6e 7365 2e66 726f 6d5f 6469  Response.from_di
-00008da0: 6374 696f 6e61 7279 290d 0a0d 0a20 2020  ctionary)....   
-00008db0: 2064 6566 2067 6574 5f73 7562 7363 7269   def get_subscri
-00008dc0: 7074 696f 6e73 2873 656c 662c 0d0a 2020  ptions(self,..  
-00008dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008de0: 2020 2020 2020 2020 7061 6765 3d4e 6f6e          page=Non
-00008df0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00008e00: 2020 2020 2020 2020 2020 2020 2020 7369                si
-00008e10: 7a65 3d4e 6f6e 652c 0d0a 2020 2020 2020  ze=None,..      
+00000c00: 2020 2020 2027 5365 7276 6963 6552 6566       'ServiceRef
+00000c10: 6572 6572 4e61 6d65 273a 2043 6f6e 6669  ererName': Confi
+00000c20: 6775 7261 7469 6f6e 2e73 6572 7669 6365  guration.service
+00000c30: 5f72 6566 6572 6572 5f6e 616d 652c 0d0a  _referer_name,..
+00000c40: 2020 2020 2020 2020 2020 2020 2743 6f6e              'Con
+00000c50: 7465 6e74 2d54 7970 6527 3a20 2761 7070  tent-Type': 'app
+00000c60: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+00000c70: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
+00000c80: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
+00000c90: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
+00000ca0: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
+00000cb0: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+00000cc0: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
+00000cd0: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
+00000ce0: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
+00000cf0: 705f 636c 6965 6e74 2e70 6174 6368 285f  p_client.patch(_
+00000d00: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
+00000d10: 7273 3d5f 6865 6164 6572 732c 2070 6172  rs=_headers, par
+00000d20: 616d 6574 6572 733d 4150 4948 656c 7065  ameters=APIHelpe
+00000d30: 722e 6a73 6f6e 5f73 6572 6961 6c69 7a65  r.json_serialize
+00000d40: 2862 6f64 7929 290d 0a20 2020 2020 2020  (body))..       
+00000d50: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
+00000d60: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
+00000d70: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
+00000d80: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
+00000d90: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
+00000da0: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
+00000db0: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
+00000dc0: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
+00000dd0: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
+00000de0: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
+00000df0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00000e00: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00000e10: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
+00000e20: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00000e30: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+00000e40: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
+00000e50: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00000e60: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00000e70: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00000e80: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
+00000e90: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00000ea0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+00000eb0: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
+00000ec0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00000ed0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00000ee0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00000ef0: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
+00000f00: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00000f10: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00000f20: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
+00000f30: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
+00000f40: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
+00000f50: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00000f60: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00000f70: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00000f80: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
+00000f90: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00000fa0: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
+00000fb0: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
+00000fc0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+00000fd0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+00000fe0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00000ff0: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
+00001000: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00001010: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00001020: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
+00001030: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+00001040: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00001050: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00001060: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00001070: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
+00001080: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00001090: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+000010a0: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
+000010b0: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
+000010c0: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
+000010d0: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
+000010e0: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
+000010f0: 0a20 2020 2020 2020 2023 2052 6574 7572  .        # Retur
+00001100: 6e20 6170 7072 6f70 7269 6174 6520 7479  n appropriate ty
+00001110: 7065 0d0a 2020 2020 2020 2020 7265 7475  pe..        retu
+00001120: 726e 2041 5049 4865 6c70 6572 2e6a 736f  rn APIHelper.jso
+00001130: 6e5f 6465 7365 7269 616c 697a 6528 5f63  n_deserialize(_c
+00001140: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00001150: 7261 775f 626f 6479 2c20 4765 7453 7562  raw_body, GetSub
+00001160: 7363 7269 7074 696f 6e52 6573 706f 6e73  scriptionRespons
+00001170: 652e 6672 6f6d 5f64 6963 7469 6f6e 6172  e.from_dictionar
+00001180: 7929 0d0a 0d0a 2020 2020 6465 6620 6372  y)....    def cr
+00001190: 6561 7465 5f61 6e5f 7573 6167 6528 7365  eate_an_usage(se
+000011a0: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
+000011b0: 2020 2020 2020 2020 2020 2020 2073 7562               sub
+000011c0: 7363 7269 7074 696f 6e5f 6964 2c0d 0a20  scription_id,.. 
+000011d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000011e0: 2020 2020 2020 2069 7465 6d5f 6964 2c0d         item_id,.
+000011f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001200: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
+00001210: 656e 6379 5f6b 6579 3d4e 6f6e 6529 3a0d  ency_key=None):.
+00001220: 0a20 2020 2020 2020 2022 2222 446f 6573  .        """Does
+00001230: 2061 2050 4f53 5420 7265 7175 6573 7420   a POST request 
+00001240: 746f 202f 7375 6273 6372 6970 7469 6f6e  to /subscription
+00001250: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
+00001260: 6964 7d2f 6974 656d 732f 7b69 7465 6d5f  id}/items/{item_
+00001270: 6964 7d2f 7573 6167 6573 2e0d 0a0d 0a20  id}/usages..... 
+00001280: 2020 2020 2020 2043 7265 6174 6520 5573         Create Us
+00001290: 6167 650d 0a0d 0a20 2020 2020 2020 2041  age....        A
+000012a0: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
+000012b0: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
+000012c0: 6420 2873 7472 696e 6729 3a20 5375 6273  d (string): Subs
+000012d0: 6372 6970 7469 6f6e 2069 640d 0a20 2020  cription id..   
+000012e0: 2020 2020 2020 2020 2069 7465 6d5f 6964           item_id
+000012f0: 2028 7374 7269 6e67 293a 2049 7465 6d20   (string): Item 
+00001300: 6964 0d0a 2020 2020 2020 2020 2020 2020  id..            
+00001310: 6964 656d 706f 7465 6e63 795f 6b65 7920  idempotency_key 
+00001320: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
+00001330: 6c29 3a20 544f 444f 3a20 7479 7065 2064  l): TODO: type d
+00001340: 6573 6372 6970 7469 6f6e 2068 6572 652e  escription here.
+00001350: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00001360: 2020 4578 616d 706c 653a 200d 0a0d 0a20    Example: .... 
+00001370: 2020 2020 2020 2052 6574 7572 6e73 3a0d         Returns:.
+00001380: 0a20 2020 2020 2020 2020 2020 2047 6574  .            Get
+00001390: 5573 6167 6552 6573 706f 6e73 653a 2052  UsageResponse: R
+000013a0: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
+000013b0: 2041 5049 2e20 0d0a 0d0a 2020 2020 2020   API. ....      
+000013c0: 2020 5261 6973 6573 3a0d 0a20 2020 2020    Raises:..     
+000013d0: 2020 2020 2020 2041 5049 4578 6365 7074         APIExcept
+000013e0: 696f 6e3a 2057 6865 6e20 616e 2065 7272  ion: When an err
+000013f0: 6f72 206f 6363 7572 7320 7768 696c 6520  or occurs while 
+00001400: 6665 7463 6869 6e67 2074 6865 2064 6174  fetching the dat
+00001410: 6120 6672 6f6d 0d0a 2020 2020 2020 2020  a from..        
+00001420: 2020 2020 2020 2020 7468 6520 7265 6d6f          the remo
+00001430: 7465 2041 5049 2e20 5468 6973 2065 7863  te API. This exc
+00001440: 6570 7469 6f6e 2069 6e63 6c75 6465 7320  eption includes 
+00001450: 7468 6520 4854 5450 2052 6573 706f 6e73  the HTTP Respons
+00001460: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+00001470: 2020 2063 6f64 652c 2061 6e20 6572 726f     code, an erro
+00001480: 7220 6d65 7373 6167 652c 2061 6e64 2074  r message, and t
+00001490: 6865 2048 5454 5020 626f 6479 2074 6861  he HTTP body tha
+000014a0: 7420 7761 7320 7265 6365 6976 6564 2069  t was received i
+000014b0: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
+000014c0: 2020 2074 6865 2072 6571 7565 7374 2e0d     the request..
+000014d0: 0a0d 0a20 2020 2020 2020 2022 2222 0d0a  ...        """..
+000014e0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+000014f0: 6172 6520 7175 6572 7920 5552 4c0d 0a20  are query URL.. 
+00001500: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
+00001510: 203d 2027 2f73 7562 7363 7269 7074 696f   = '/subscriptio
+00001520: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
+00001530: 5f69 647d 2f69 7465 6d73 2f7b 6974 656d  _id}/items/{item
+00001540: 5f69 647d 2f75 7361 6765 7327 0d0a 2020  _id}/usages'..  
+00001550: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
+00001560: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
+00001570: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
+00001580: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
+00001590: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
+000015a0: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
+000015b0: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
+000015c0: 6273 6372 6970 7469 6f6e 5f69 642c 0d0a  bscription_id,..
+000015d0: 2020 2020 2020 2020 2020 2020 2769 7465              'ite
+000015e0: 6d5f 6964 273a 2069 7465 6d5f 6964 0d0a  m_id': item_id..
+000015f0: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
+00001600: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+00001610: 6572 203d 2043 6f6e 6669 6775 7261 7469  er = Configurati
+00001620: 6f6e 2e62 6173 655f 7572 690d 0a20 2020  on.base_uri..   
+00001630: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+00001640: 6465 7220 2b3d 205f 7572 6c5f 7061 7468  der += _url_path
+00001650: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00001660: 5f75 726c 203d 2041 5049 4865 6c70 6572  _url = APIHelper
+00001670: 2e63 6c65 616e 5f75 726c 285f 7175 6572  .clean_url(_quer
+00001680: 795f 6275 696c 6465 7229 0d0a 0d0a 2020  y_builder)....  
+00001690: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+000016a0: 6865 6164 6572 730d 0a20 2020 2020 2020  headers..       
+000016b0: 205f 6865 6164 6572 7320 3d20 7b0d 0a20   _headers = {.. 
+000016c0: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
+000016d0: 7074 273a 2027 6170 706c 6963 6174 696f  pt': 'applicatio
+000016e0: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
+000016f0: 2020 2020 2020 2753 6572 7669 6365 5265        'ServiceRe
+00001700: 6665 7265 724e 616d 6527 3a20 436f 6e66  fererName': Conf
+00001710: 6967 7572 6174 696f 6e2e 7365 7276 6963  iguration.servic
+00001720: 655f 7265 6665 7265 725f 6e61 6d65 2c0d  e_referer_name,.
+00001730: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
+00001740: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
+00001750: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
+00001760: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
+00001770: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+00001780: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
+00001790: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
+000017a0: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
+000017b0: 705f 636c 6965 6e74 2e70 6f73 7428 5f71  p_client.post(_q
+000017c0: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
+000017d0: 733d 5f68 6561 6465 7273 290d 0a20 2020  s=_headers)..   
+000017e0: 2020 2020 2042 6173 6963 4175 7468 2e61       BasicAuth.a
+000017f0: 7070 6c79 285f 7265 7175 6573 7429 0d0a  pply(_request)..
+00001800: 2020 2020 2020 2020 5f63 6f6e 7465 7874          _context
+00001810: 203d 2073 656c 662e 6578 6563 7574 655f   = self.execute_
+00001820: 7265 7175 6573 7428 5f72 6571 7565 7374  request(_request
+00001830: 290d 0a0d 0a20 2020 2020 2020 2023 2045  )....        # E
+00001840: 6e64 706f 696e 7420 616e 6420 676c 6f62  ndpoint and glob
+00001850: 616c 2065 7272 6f72 2068 616e 646c 696e  al error handlin
+00001860: 6720 7573 696e 6720 4854 5450 2073 7461  g using HTTP sta
+00001870: 7475 7320 636f 6465 732e 0d0a 2020 2020  tus codes...    
+00001880: 2020 2020 6966 205f 636f 6e74 6578 742e      if _context.
+00001890: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+000018a0: 636f 6465 203d 3d20 3430 303a 0d0a 2020  code == 400:..  
+000018b0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+000018c0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+000018d0: 496e 7661 6c69 6420 7265 7175 6573 7427  Invalid request'
+000018e0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+000018f0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00001900: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00001910: 7573 5f63 6f64 6520 3d3d 2034 3031 3a0d  us_code == 401:.
+00001920: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00001930: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00001940: 6e28 2749 6e76 616c 6964 2041 5049 206b  n('Invalid API k
+00001950: 6579 272c 205f 636f 6e74 6578 7429 0d0a  ey', _context)..
+00001960: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00001970: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00001980: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+00001990: 343a 0d0a 2020 2020 2020 2020 2020 2020  4:..            
+000019a0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+000019b0: 7469 6f6e 2827 416e 2069 6e66 6f72 6d65  tion('An informe
+000019c0: 6420 7265 736f 7572 6365 2077 6173 206e  d resource was n
+000019d0: 6f74 2066 6f75 6e64 272c 205f 636f 6e74  ot found', _cont
+000019e0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+000019f0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00001a00: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00001a10: 203d 3d20 3431 323a 0d0a 2020 2020 2020   == 412:..      
+00001a20: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00001a30: 7245 7863 6570 7469 6f6e 2827 4275 7369  rException('Busi
+00001a40: 6e65 7373 2076 616c 6964 6174 696f 6e20  ness validation 
+00001a50: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+00001a60: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00001a70: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00001a80: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00001a90: 2034 3232 3a0d 0a20 2020 2020 2020 2020   422:..         
+00001aa0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00001ab0: 6365 7074 696f 6e28 2743 6f6e 7472 6163  ception('Contrac
+00001ac0: 7420 7661 6c69 6461 7469 6f6e 2065 7272  t validation err
+00001ad0: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+00001ae0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00001af0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00001b00: 7461 7475 735f 636f 6465 203d 3d20 3530  tatus_code == 50
+00001b10: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+00001b20: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00001b30: 7469 6f6e 2827 496e 7465 726e 616c 2073  tion('Internal s
+00001b40: 6572 7665 7220 6572 726f 7227 2c20 5f63  erver error', _c
+00001b50: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00001b60: 2073 656c 662e 7661 6c69 6461 7465 5f72   self.validate_r
+00001b70: 6573 706f 6e73 6528 5f63 6f6e 7465 7874  esponse(_context
+00001b80: 290d 0a0d 0a20 2020 2020 2020 2023 2052  )....        # R
+00001b90: 6574 7572 6e20 6170 7072 6f70 7269 6174  eturn appropriat
+00001ba0: 6520 7479 7065 0d0a 2020 2020 2020 2020  e type..        
+00001bb0: 7265 7475 726e 2041 5049 4865 6c70 6572  return APIHelper
+00001bc0: 2e6a 736f 6e5f 6465 7365 7269 616c 697a  .json_deserializ
+00001bd0: 6528 5f63 6f6e 7465 7874 2e72 6573 706f  e(_context.respo
+00001be0: 6e73 652e 7261 775f 626f 6479 2c20 4765  nse.raw_body, Ge
+00001bf0: 7455 7361 6765 5265 7370 6f6e 7365 2e66  tUsageResponse.f
+00001c00: 726f 6d5f 6469 6374 696f 6e61 7279 290d  rom_dictionary).
+00001c10: 0a0d 0a20 2020 2064 6566 2075 7064 6174  ...    def updat
+00001c20: 655f 7375 6273 6372 6970 7469 6f6e 5f70  e_subscription_p
+00001c30: 6179 6d65 6e74 5f6d 6574 686f 6428 7365  ayment_method(se
+00001c40: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
+00001c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c70: 7375 6273 6372 6970 7469 6f6e 5f69 642c  subscription_id,
+00001c80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00001c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ca0: 2020 2020 2020 2020 2020 2020 2062 6f64               bod
+00001cb0: 792c 0d0a 2020 2020 2020 2020 2020 2020  y,..            
+00001cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001cd0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00001ce0: 6465 6d70 6f74 656e 6379 5f6b 6579 3d4e  dempotency_key=N
+00001cf0: 6f6e 6529 3a0d 0a20 2020 2020 2020 2022  one):..        "
+00001d00: 2222 446f 6573 2061 2050 4154 4348 2072  ""Does a PATCH r
+00001d10: 6571 7565 7374 2074 6f20 2f73 7562 7363  equest to /subsc
+00001d20: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
+00001d30: 6970 7469 6f6e 5f69 647d 2f70 6179 6d65  iption_id}/payme
+00001d40: 6e74 2d6d 6574 686f 642e 0d0a 0d0a 2020  nt-method.....  
+00001d50: 2020 2020 2020 5570 6461 7465 7320 7468        Updates th
+00001d60: 6520 7061 796d 656e 7420 6d65 7468 6f64  e payment method
+00001d70: 2066 726f 6d20 6120 7375 6273 6372 6970   from a subscrip
+00001d80: 7469 6f6e 0d0a 0d0a 2020 2020 2020 2020  tion....        
+00001d90: 4172 6773 3a0d 0a20 2020 2020 2020 2020  Args:..         
+00001da0: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
+00001db0: 6964 2028 7374 7269 6e67 293a 2053 7562  id (string): Sub
+00001dc0: 7363 7269 7074 696f 6e20 6964 0d0a 2020  scription id..  
+00001dd0: 2020 2020 2020 2020 2020 626f 6479 2028            body (
+00001de0: 5570 6461 7465 5375 6273 6372 6970 7469  UpdateSubscripti
+00001df0: 6f6e 5061 796d 656e 744d 6574 686f 6452  onPaymentMethodR
+00001e00: 6571 7565 7374 293a 2052 6571 7565 7374  equest): Request
+00001e10: 2066 6f72 0d0a 2020 2020 2020 2020 2020   for..          
+00001e20: 2020 2020 2020 7570 6461 7469 6e67 2074        updating t
+00001e30: 6865 2070 6179 6d65 6e74 6d65 7468 6f64  he paymentmethod
+00001e40: 2066 726f 6d20 6120 7375 6273 6372 6970   from a subscrip
+00001e50: 7469 6f6e 0d0a 2020 2020 2020 2020 2020  tion..          
+00001e60: 2020 6964 656d 706f 7465 6e63 795f 6b65    idempotency_ke
+00001e70: 7920 2873 7472 696e 672c 206f 7074 696f  y (string, optio
+00001e80: 6e61 6c29 3a20 544f 444f 3a20 7479 7065  nal): TODO: type
+00001e90: 2064 6573 6372 6970 7469 6f6e 2068 6572   description her
+00001ea0: 652e 0d0a 2020 2020 2020 2020 2020 2020  e...            
+00001eb0: 2020 2020 4578 616d 706c 653a 200d 0a0d      Example: ...
+00001ec0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00001ed0: 3a0d 0a20 2020 2020 2020 2020 2020 2047  :..            G
+00001ee0: 6574 5375 6273 6372 6970 7469 6f6e 5265  etSubscriptionRe
+00001ef0: 7370 6f6e 7365 3a20 5265 7370 6f6e 7365  sponse: Response
+00001f00: 2066 726f 6d20 7468 6520 4150 492e 200d   from the API. .
+00001f10: 0a0d 0a20 2020 2020 2020 2052 6169 7365  ...        Raise
+00001f20: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00001f30: 4150 4945 7863 6570 7469 6f6e 3a20 5768  APIException: Wh
+00001f40: 656e 2061 6e20 6572 726f 7220 6f63 6375  en an error occu
+00001f50: 7273 2077 6869 6c65 2066 6574 6368 696e  rs while fetchin
+00001f60: 6720 7468 6520 6461 7461 2066 726f 6d0d  g the data from.
+00001f70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001f80: 2074 6865 2072 656d 6f74 6520 4150 492e   the remote API.
+00001f90: 2054 6869 7320 6578 6365 7074 696f 6e20   This exception 
+00001fa0: 696e 636c 7564 6573 2074 6865 2048 5454  includes the HTT
+00001fb0: 5020 5265 7370 6f6e 7365 0d0a 2020 2020  P Response..    
+00001fc0: 2020 2020 2020 2020 2020 2020 636f 6465              code
+00001fd0: 2c20 616e 2065 7272 6f72 206d 6573 7361  , an error messa
+00001fe0: 6765 2c20 616e 6420 7468 6520 4854 5450  ge, and the HTTP
+00001ff0: 2062 6f64 7920 7468 6174 2077 6173 2072   body that was r
+00002000: 6563 6569 7665 6420 696e 0d0a 2020 2020  eceived in..    
+00002010: 2020 2020 2020 2020 2020 2020 7468 6520              the 
+00002020: 7265 7175 6573 742e 0d0a 0d0a 2020 2020  request.....    
+00002030: 2020 2020 2222 220d 0a0d 0a20 2020 2020      """....     
+00002040: 2020 2023 2050 7265 7061 7265 2071 7565     # Prepare que
+00002050: 7279 2055 524c 0d0a 2020 2020 2020 2020  ry URL..        
+00002060: 5f75 726c 5f70 6174 6820 3d20 272f 7375  _url_path = '/su
+00002070: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
+00002080: 7363 7269 7074 696f 6e5f 6964 7d2f 7061  scription_id}/pa
+00002090: 796d 656e 742d 6d65 7468 6f64 270d 0a20  yment-method'.. 
+000020a0: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
+000020b0: 203d 2041 5049 4865 6c70 6572 2e61 7070   = APIHelper.app
+000020c0: 656e 645f 7572 6c5f 7769 7468 5f74 656d  end_url_with_tem
+000020d0: 706c 6174 655f 7061 7261 6d65 7465 7273  plate_parameters
+000020e0: 285f 7572 6c5f 7061 7468 2c20 7b20 0d0a  (_url_path, { ..
+000020f0: 2020 2020 2020 2020 2020 2020 2773 7562              'sub
+00002100: 7363 7269 7074 696f 6e5f 6964 273a 2073  scription_id': s
+00002110: 7562 7363 7269 7074 696f 6e5f 6964 0d0a  ubscription_id..
+00002120: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
+00002130: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+00002140: 6572 203d 2043 6f6e 6669 6775 7261 7469  er = Configurati
+00002150: 6f6e 2e62 6173 655f 7572 690d 0a20 2020  on.base_uri..   
+00002160: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+00002170: 6465 7220 2b3d 205f 7572 6c5f 7061 7468  der += _url_path
+00002180: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00002190: 5f75 726c 203d 2041 5049 4865 6c70 6572  _url = APIHelper
+000021a0: 2e63 6c65 616e 5f75 726c 285f 7175 6572  .clean_url(_quer
+000021b0: 795f 6275 696c 6465 7229 0d0a 0d0a 2020  y_builder)....  
+000021c0: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+000021d0: 6865 6164 6572 730d 0a20 2020 2020 2020  headers..       
+000021e0: 205f 6865 6164 6572 7320 3d20 7b0d 0a20   _headers = {.. 
+000021f0: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
+00002200: 7074 273a 2027 6170 706c 6963 6174 696f  pt': 'applicatio
+00002210: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
+00002220: 2020 2020 2020 2753 6572 7669 6365 5265        'ServiceRe
+00002230: 6665 7265 724e 616d 6527 3a20 436f 6e66  fererName': Conf
+00002240: 6967 7572 6174 696f 6e2e 7365 7276 6963  iguration.servic
+00002250: 655f 7265 6665 7265 725f 6e61 6d65 2c0d  e_referer_name,.
+00002260: 0a20 2020 2020 2020 2020 2020 2027 436f  .            'Co
+00002270: 6e74 656e 742d 5479 7065 273a 2027 6170  ntent-Type': 'ap
+00002280: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
+00002290: 0d0a 2020 2020 2020 2020 2020 2020 2769  ..            'i
+000022a0: 6465 6d70 6f74 656e 6379 2d6b 6579 273a  dempotency-key':
+000022b0: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
+000022c0: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
+000022d0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+000022e0: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
+000022f0: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
+00002300: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
+00002310: 7470 5f63 6c69 656e 742e 7061 7463 6828  tp_client.patch(
+00002320: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
+00002330: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
+00002340: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
+00002350: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
+00002360: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
+00002370: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
+00002380: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
+00002390: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
+000023a0: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
+000023b0: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
+000023c0: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
+000023d0: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
+000023e0: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
+000023f0: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
+00002400: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
+00002410: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
+00002420: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00002430: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
+00002440: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00002450: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+00002460: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
+00002470: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00002480: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00002490: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+000024a0: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
+000024b0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+000024c0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+000024d0: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
+000024e0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+000024f0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00002500: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00002510: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
+00002520: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00002530: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00002540: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
+00002550: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
+00002560: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
+00002570: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00002580: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00002590: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+000025a0: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
+000025b0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+000025c0: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
+000025d0: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
+000025e0: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+000025f0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00002600: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00002610: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
+00002620: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+00002630: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00002640: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
+00002650: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+00002660: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00002670: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00002680: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00002690: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
+000026a0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+000026b0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+000026c0: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
+000026d0: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
+000026e0: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
+000026f0: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
+00002700: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
+00002710: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
+00002720: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
+00002730: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
+00002740: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
+00002750: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
+00002760: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00002770: 2e72 6177 5f62 6f64 792c 2047 6574 5375  .raw_body, GetSu
+00002780: 6273 6372 6970 7469 6f6e 5265 7370 6f6e  bscriptionRespon
+00002790: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
+000027a0: 7279 290d 0a0d 0a20 2020 2064 6566 2063  ry)....    def c
+000027b0: 7265 6174 655f 7375 6273 6372 6970 7469  reate_subscripti
+000027c0: 6f6e 5f69 7465 6d28 7365 6c66 2c0d 0a20  on_item(self,.. 
+000027d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000027e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000027f0: 7375 6273 6372 6970 7469 6f6e 5f69 642c  subscription_id,
+00002800: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00002810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002820: 2020 2062 6f64 792c 0d0a 2020 2020 2020     body,..      
+00002830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002840: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
+00002850: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 6529  otency_key=None)
+00002860: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
+00002870: 6573 2061 2050 4f53 5420 7265 7175 6573  es a POST reques
+00002880: 7420 746f 202f 7375 6273 6372 6970 7469  t to /subscripti
+00002890: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
+000028a0: 6e5f 6964 7d2f 6974 656d 732e 0d0a 0d0a  n_id}/items.....
+000028b0: 2020 2020 2020 2020 4372 6561 7465 7320          Creates 
+000028c0: 6120 6e65 7720 5375 6273 6372 6970 7469  a new Subscripti
+000028d0: 6f6e 2069 7465 6d0d 0a0d 0a20 2020 2020  on item....     
+000028e0: 2020 2041 7267 733a 0d0a 2020 2020 2020     Args:..      
+000028f0: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
+00002900: 6f6e 5f69 6420 2873 7472 696e 6729 3a20  on_id (string): 
+00002910: 5375 6273 6372 6970 7469 6f6e 2069 640d  Subscription id.
+00002920: 0a20 2020 2020 2020 2020 2020 2062 6f64  .            bod
+00002930: 7920 2843 7265 6174 6553 7562 7363 7269  y (CreateSubscri
+00002940: 7074 696f 6e49 7465 6d52 6571 7565 7374  ptionItemRequest
+00002950: 293a 2052 6571 7565 7374 2066 6f72 2063  ): Request for c
+00002960: 7265 6174 696e 6720 610d 0a20 2020 2020  reating a..     
+00002970: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
+00002980: 7269 7074 696f 6e20 6974 656d 0d0a 2020  ription item..  
+00002990: 2020 2020 2020 2020 2020 6964 656d 706f            idempo
+000029a0: 7465 6e63 795f 6b65 7920 2873 7472 696e  tency_key (strin
+000029b0: 672c 206f 7074 696f 6e61 6c29 3a20 544f  g, optional): TO
+000029c0: 444f 3a20 7479 7065 2064 6573 6372 6970  DO: type descrip
+000029d0: 7469 6f6e 2068 6572 652e 0d0a 2020 2020  tion here...    
+000029e0: 2020 2020 2020 2020 2020 2020 4578 616d              Exam
+000029f0: 706c 653a 200d 0a0d 0a20 2020 2020 2020  ple: ....       
+00002a00: 2052 6574 7572 6e73 3a0d 0a20 2020 2020   Returns:..     
+00002a10: 2020 2020 2020 2047 6574 5375 6273 6372         GetSubscr
+00002a20: 6970 7469 6f6e 4974 656d 5265 7370 6f6e  iptionItemRespon
+00002a30: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
+00002a40: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
+00002a50: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
+00002a60: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
+00002a70: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
+00002a80: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
+00002a90: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
+00002aa0: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
+00002ab0: 2020 2020 2020 2020 2020 2020 2074 6865               the
+00002ac0: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
+00002ad0: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
+00002ae0: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
+00002af0: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
+00002b00: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
+00002b10: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
+00002b20: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
+00002b30: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
+00002b40: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
+00002b50: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
+00002b60: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
+00002b70: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
+00002b80: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
+00002b90: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
+00002ba0: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
+00002bb0: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+00002bc0: 7074 696f 6e5f 6964 7d2f 6974 656d 7327  ption_id}/items'
+00002bd0: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
+00002be0: 6174 6820 3d20 4150 4948 656c 7065 722e  ath = APIHelper.
+00002bf0: 6170 7065 6e64 5f75 726c 5f77 6974 685f  append_url_with_
+00002c00: 7465 6d70 6c61 7465 5f70 6172 616d 6574  template_paramet
+00002c10: 6572 7328 5f75 726c 5f70 6174 682c 207b  ers(_url_path, {
+00002c20: 200d 0a20 2020 2020 2020 2020 2020 2027   ..            '
+00002c30: 7375 6273 6372 6970 7469 6f6e 5f69 6427  subscription_id'
+00002c40: 3a20 7375 6273 6372 6970 7469 6f6e 5f69  : subscription_i
+00002c50: 640d 0a20 2020 2020 2020 207d 290d 0a20  d..        }).. 
+00002c60: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
+00002c70: 696c 6465 7220 3d20 436f 6e66 6967 7572  ilder = Configur
+00002c80: 6174 696f 6e2e 6261 7365 5f75 7269 0d0a  ation.base_uri..
+00002c90: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
+00002ca0: 7569 6c64 6572 202b 3d20 5f75 726c 5f70  uilder += _url_p
+00002cb0: 6174 680d 0a20 2020 2020 2020 205f 7175  ath..        _qu
+00002cc0: 6572 795f 7572 6c20 3d20 4150 4948 656c  ery_url = APIHel
+00002cd0: 7065 722e 636c 6561 6e5f 7572 6c28 5f71  per.clean_url(_q
+00002ce0: 7565 7279 5f62 7569 6c64 6572 290d 0a0d  uery_builder)...
+00002cf0: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
+00002d00: 7265 2068 6561 6465 7273 0d0a 2020 2020  re headers..    
+00002d10: 2020 2020 5f68 6561 6465 7273 203d 207b      _headers = {
+00002d20: 0d0a 2020 2020 2020 2020 2020 2020 2761  ..            'a
+00002d30: 6363 6570 7427 3a20 2761 7070 6c69 6361  ccept': 'applica
+00002d40: 7469 6f6e 2f6a 736f 6e27 2c0d 0a20 2020  tion/json',..   
+00002d50: 2020 2020 2020 2020 2027 5365 7276 6963           'Servic
+00002d60: 6552 6566 6572 6572 4e61 6d65 273a 2043  eRefererName': C
+00002d70: 6f6e 6669 6775 7261 7469 6f6e 2e73 6572  onfiguration.ser
+00002d80: 7669 6365 5f72 6566 6572 6572 5f6e 616d  vice_referer_nam
+00002d90: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+00002da0: 2743 6f6e 7465 6e74 2d54 7970 6527 3a20  'Content-Type': 
+00002db0: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
+00002dc0: 6e27 2c0d 0a20 2020 2020 2020 2020 2020  n',..           
+00002dd0: 2027 6964 656d 706f 7465 6e63 792d 6b65   'idempotency-ke
+00002de0: 7927 3a20 6964 656d 706f 7465 6e63 795f  y': idempotency_
+00002df0: 6b65 790d 0a20 2020 2020 2020 207d 0d0a  key..        }..
+00002e00: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00002e10: 6172 6520 616e 6420 6578 6563 7574 6520  are and execute 
+00002e20: 7265 7175 6573 740d 0a20 2020 2020 2020  request..       
+00002e30: 205f 7265 7175 6573 7420 3d20 7365 6c66   _request = self
+00002e40: 2e68 7474 705f 636c 6965 6e74 2e70 6f73  .http_client.pos
+00002e50: 7428 5f71 7565 7279 5f75 726c 2c20 6865  t(_query_url, he
+00002e60: 6164 6572 733d 5f68 6561 6465 7273 2c20  aders=_headers, 
+00002e70: 7061 7261 6d65 7465 7273 3d41 5049 4865  parameters=APIHe
+00002e80: 6c70 6572 2e6a 736f 6e5f 7365 7269 616c  lper.json_serial
+00002e90: 697a 6528 626f 6479 2929 0d0a 2020 2020  ize(body))..    
+00002ea0: 2020 2020 4261 7369 6341 7574 682e 6170      BasicAuth.ap
+00002eb0: 706c 7928 5f72 6571 7565 7374 290d 0a20  ply(_request).. 
+00002ec0: 2020 2020 2020 205f 636f 6e74 6578 7420         _context 
+00002ed0: 3d20 7365 6c66 2e65 7865 6375 7465 5f72  = self.execute_r
+00002ee0: 6571 7565 7374 285f 7265 7175 6573 7429  equest(_request)
+00002ef0: 0d0a 0d0a 2020 2020 2020 2020 2320 456e  ....        # En
+00002f00: 6470 6f69 6e74 2061 6e64 2067 6c6f 6261  dpoint and globa
+00002f10: 6c20 6572 726f 7220 6861 6e64 6c69 6e67  l error handling
+00002f20: 2075 7369 6e67 2048 5454 5020 7374 6174   using HTTP stat
+00002f30: 7573 2063 6f64 6573 2e0d 0a20 2020 2020  us codes...     
+00002f40: 2020 2069 6620 5f63 6f6e 7465 7874 2e72     if _context.r
+00002f50: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00002f60: 6f64 6520 3d3d 2034 3030 3a0d 0a20 2020  ode == 400:..   
+00002f70: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00002f80: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+00002f90: 6e76 616c 6964 2072 6571 7565 7374 272c  nvalid request',
+00002fa0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00002fb0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00002fc0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00002fd0: 735f 636f 6465 203d 3d20 3430 313a 0d0a  s_code == 401:..
+00002fe0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00002ff0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00003000: 2827 496e 7661 6c69 6420 4150 4920 6b65  ('Invalid API ke
+00003010: 7927 2c20 5f63 6f6e 7465 7874 290d 0a20  y', _context).. 
+00003020: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+00003030: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00003040: 6174 7573 5f63 6f64 6520 3d3d 2034 3034  atus_code == 404
+00003050: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00003060: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00003070: 696f 6e28 2741 6e20 696e 666f 726d 6564  ion('An informed
+00003080: 2072 6573 6f75 7263 6520 7761 7320 6e6f   resource was no
+00003090: 7420 666f 756e 6427 2c20 5f63 6f6e 7465  t found', _conte
+000030a0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+000030b0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+000030c0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+000030d0: 3d3d 2034 3132 3a0d 0a20 2020 2020 2020  == 412:..       
+000030e0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+000030f0: 4578 6365 7074 696f 6e28 2742 7573 696e  Exception('Busin
+00003100: 6573 7320 7661 6c69 6461 7469 6f6e 2065  ess validation e
+00003110: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+00003120: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00003130: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00003140: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00003150: 3432 323a 0d0a 2020 2020 2020 2020 2020  422:..          
+00003160: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00003170: 6570 7469 6f6e 2827 436f 6e74 7261 6374  eption('Contract
+00003180: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
+00003190: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+000031a0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+000031b0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+000031c0: 6174 7573 5f63 6f64 6520 3d3d 2035 3030  atus_code == 500
+000031d0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+000031e0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+000031f0: 696f 6e28 2749 6e74 6572 6e61 6c20 7365  ion('Internal se
+00003200: 7276 6572 2065 7272 6f72 272c 205f 636f  rver error', _co
+00003210: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00003220: 7365 6c66 2e76 616c 6964 6174 655f 7265  self.validate_re
+00003230: 7370 6f6e 7365 285f 636f 6e74 6578 7429  sponse(_context)
+00003240: 0d0a 0d0a 2020 2020 2020 2020 2320 5265  ....        # Re
+00003250: 7475 726e 2061 7070 726f 7072 6961 7465  turn appropriate
+00003260: 2074 7970 650d 0a20 2020 2020 2020 2072   type..        r
+00003270: 6574 7572 6e20 4150 4948 656c 7065 722e  eturn APIHelper.
+00003280: 6a73 6f6e 5f64 6573 6572 6961 6c69 7a65  json_deserialize
+00003290: 285f 636f 6e74 6578 742e 7265 7370 6f6e  (_context.respon
+000032a0: 7365 2e72 6177 5f62 6f64 792c 2047 6574  se.raw_body, Get
+000032b0: 5375 6273 6372 6970 7469 6f6e 4974 656d  SubscriptionItem
+000032c0: 5265 7370 6f6e 7365 2e66 726f 6d5f 6469  Response.from_di
+000032d0: 6374 696f 6e61 7279 290d 0a0d 0a20 2020  ctionary)....   
+000032e0: 2064 6566 2067 6574 5f73 7562 7363 7269   def get_subscri
+000032f0: 7074 696f 6e5f 6974 656d 2873 656c 662c  ption_item(self,
+00003300: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003320: 7375 6273 6372 6970 7469 6f6e 5f69 642c  subscription_id,
+00003330: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00003340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003350: 6974 656d 5f69 6429 3a0d 0a20 2020 2020  item_id):..     
+00003360: 2020 2022 2222 446f 6573 2061 2047 4554     """Does a GET
+00003370: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
+00003380: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
+00003390: 6372 6970 7469 6f6e 5f69 647d 2f69 7465  cription_id}/ite
+000033a0: 6d73 2f7b 6974 656d 5f69 647d 2e0d 0a0d  ms/{item_id}....
+000033b0: 0a20 2020 2020 2020 2047 6574 2053 7562  .        Get Sub
+000033c0: 7363 7269 7074 696f 6e20 4974 656d 0d0a  scription Item..
+000033d0: 0d0a 2020 2020 2020 2020 4172 6773 3a0d  ..        Args:.
+000033e0: 0a20 2020 2020 2020 2020 2020 2073 7562  .            sub
+000033f0: 7363 7269 7074 696f 6e5f 6964 2028 7374  scription_id (st
+00003400: 7269 6e67 293a 2053 7562 7363 7269 7074  ring): Subscript
+00003410: 696f 6e20 4964 0d0a 2020 2020 2020 2020  ion Id..        
+00003420: 2020 2020 6974 656d 5f69 6420 2873 7472      item_id (str
+00003430: 696e 6729 3a20 4974 656d 2069 640d 0a0d  ing): Item id...
+00003440: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00003450: 3a0d 0a20 2020 2020 2020 2020 2020 2047  :..            G
+00003460: 6574 5375 6273 6372 6970 7469 6f6e 4974  etSubscriptionIt
+00003470: 656d 5265 7370 6f6e 7365 3a20 5265 7370  emResponse: Resp
+00003480: 6f6e 7365 2066 726f 6d20 7468 6520 4150  onse from the AP
+00003490: 492e 200d 0a0d 0a20 2020 2020 2020 2052  I. ....        R
+000034a0: 6169 7365 733a 0d0a 2020 2020 2020 2020  aises:..        
+000034b0: 2020 2020 4150 4945 7863 6570 7469 6f6e      APIException
+000034c0: 3a20 5768 656e 2061 6e20 6572 726f 7220  : When an error 
+000034d0: 6f63 6375 7273 2077 6869 6c65 2066 6574  occurs while fet
+000034e0: 6368 696e 6720 7468 6520 6461 7461 2066  ching the data f
+000034f0: 726f 6d0d 0a20 2020 2020 2020 2020 2020  rom..           
+00003500: 2020 2020 2074 6865 2072 656d 6f74 6520       the remote 
+00003510: 4150 492e 2054 6869 7320 6578 6365 7074  API. This except
+00003520: 696f 6e20 696e 636c 7564 6573 2074 6865  ion includes the
+00003530: 2048 5454 5020 5265 7370 6f6e 7365 0d0a   HTTP Response..
+00003540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003550: 636f 6465 2c20 616e 2065 7272 6f72 206d  code, an error m
+00003560: 6573 7361 6765 2c20 616e 6420 7468 6520  essage, and the 
+00003570: 4854 5450 2062 6f64 7920 7468 6174 2077  HTTP body that w
+00003580: 6173 2072 6563 6569 7665 6420 696e 0d0a  as received in..
+00003590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000035a0: 7468 6520 7265 7175 6573 742e 0d0a 0d0a  the request.....
+000035b0: 2020 2020 2020 2020 2222 220d 0a0d 0a20          """.... 
+000035c0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+000035d0: 2071 7565 7279 2055 524c 0d0a 2020 2020   query URL..    
+000035e0: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
+000035f0: 272f 7375 6273 6372 6970 7469 6f6e 732f  '/subscriptions/
+00003600: 7b73 7562 7363 7269 7074 696f 6e5f 6964  {subscription_id
+00003610: 7d2f 6974 656d 732f 7b69 7465 6d5f 6964  }/items/{item_id
+00003620: 7d27 0d0a 2020 2020 2020 2020 5f75 726c  }'..        _url
+00003630: 5f70 6174 6820 3d20 4150 4948 656c 7065  _path = APIHelpe
+00003640: 722e 6170 7065 6e64 5f75 726c 5f77 6974  r.append_url_wit
+00003650: 685f 7465 6d70 6c61 7465 5f70 6172 616d  h_template_param
+00003660: 6574 6572 7328 5f75 726c 5f70 6174 682c  eters(_url_path,
+00003670: 207b 200d 0a20 2020 2020 2020 2020 2020   { ..           
+00003680: 2027 7375 6273 6372 6970 7469 6f6e 5f69   'subscription_i
+00003690: 6427 3a20 7375 6273 6372 6970 7469 6f6e  d': subscription
+000036a0: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+000036b0: 2020 2769 7465 6d5f 6964 273a 2069 7465    'item_id': ite
+000036c0: 6d5f 6964 0d0a 2020 2020 2020 2020 7d29  m_id..        })
+000036d0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+000036e0: 5f62 7569 6c64 6572 203d 2043 6f6e 6669  _builder = Confi
+000036f0: 6775 7261 7469 6f6e 2e62 6173 655f 7572  guration.base_ur
+00003700: 690d 0a20 2020 2020 2020 205f 7175 6572  i..        _quer
+00003710: 795f 6275 696c 6465 7220 2b3d 205f 7572  y_builder += _ur
+00003720: 6c5f 7061 7468 0d0a 2020 2020 2020 2020  l_path..        
+00003730: 5f71 7565 7279 5f75 726c 203d 2041 5049  _query_url = API
+00003740: 4865 6c70 6572 2e63 6c65 616e 5f75 726c  Helper.clean_url
+00003750: 285f 7175 6572 795f 6275 696c 6465 7229  (_query_builder)
+00003760: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+00003770: 6570 6172 6520 6865 6164 6572 730d 0a20  epare headers.. 
+00003780: 2020 2020 2020 205f 6865 6164 6572 7320         _headers 
+00003790: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+000037a0: 2027 6163 6365 7074 273a 2027 6170 706c   'accept': 'appl
+000037b0: 6963 6174 696f 6e2f 6a73 6f6e 272c 0d0a  ication/json',..
+000037c0: 2020 2020 2020 2020 2020 2020 2753 6572              'Ser
+000037d0: 7669 6365 5265 6665 7265 724e 616d 6527  viceRefererName'
+000037e0: 3a20 436f 6e66 6967 7572 6174 696f 6e2e  : Configuration.
+000037f0: 7365 7276 6963 655f 7265 6665 7265 725f  service_referer_
+00003800: 6e61 6d65 0d0a 2020 2020 2020 2020 7d0d  name..        }.
+00003810: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+00003820: 7061 7265 2061 6e64 2065 7865 6375 7465  pare and execute
+00003830: 2072 6571 7565 7374 0d0a 2020 2020 2020   request..      
+00003840: 2020 5f72 6571 7565 7374 203d 2073 656c    _request = sel
+00003850: 662e 6874 7470 5f63 6c69 656e 742e 6765  f.http_client.ge
+00003860: 7428 5f71 7565 7279 5f75 726c 2c20 6865  t(_query_url, he
+00003870: 6164 6572 733d 5f68 6561 6465 7273 290d  aders=_headers).
+00003880: 0a20 2020 2020 2020 2042 6173 6963 4175  .        BasicAu
+00003890: 7468 2e61 7070 6c79 285f 7265 7175 6573  th.apply(_reques
+000038a0: 7429 0d0a 2020 2020 2020 2020 5f63 6f6e  t)..        _con
+000038b0: 7465 7874 203d 2073 656c 662e 6578 6563  text = self.exec
+000038c0: 7574 655f 7265 7175 6573 7428 5f72 6571  ute_request(_req
+000038d0: 7565 7374 290d 0a0d 0a20 2020 2020 2020  uest)....       
+000038e0: 2023 2045 6e64 706f 696e 7420 616e 6420   # Endpoint and 
+000038f0: 676c 6f62 616c 2065 7272 6f72 2068 616e  global error han
+00003900: 646c 696e 6720 7573 696e 6720 4854 5450  dling using HTTP
+00003910: 2073 7461 7475 7320 636f 6465 732e 0d0a   status codes...
+00003920: 2020 2020 2020 2020 6966 205f 636f 6e74          if _cont
+00003930: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00003940: 7475 735f 636f 6465 203d 3d20 3430 303a  tus_code == 400:
+00003950: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00003960: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+00003970: 6f6e 2827 496e 7661 6c69 6420 7265 7175  on('Invalid requ
+00003980: 6573 7427 2c20 5f63 6f6e 7465 7874 290d  est', _context).
+00003990: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+000039a0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+000039b0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+000039c0: 3031 3a0d 0a20 2020 2020 2020 2020 2020  01:..           
+000039d0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+000039e0: 7074 696f 6e28 2749 6e76 616c 6964 2041  ption('Invalid A
+000039f0: 5049 206b 6579 272c 205f 636f 6e74 6578  PI key', _contex
+00003a00: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+00003a10: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00003a20: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00003a30: 3d20 3430 343a 0d0a 2020 2020 2020 2020  = 404:..        
+00003a40: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00003a50: 7863 6570 7469 6f6e 2827 416e 2069 6e66  xception('An inf
+00003a60: 6f72 6d65 6420 7265 736f 7572 6365 2077  ormed resource w
+00003a70: 6173 206e 6f74 2066 6f75 6e64 272c 205f  as not found', _
+00003a80: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00003a90: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00003aa0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00003ab0: 636f 6465 203d 3d20 3431 323a 0d0a 2020  code == 412:..  
+00003ac0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00003ad0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00003ae0: 4275 7369 6e65 7373 2076 616c 6964 6174  Business validat
+00003af0: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
+00003b00: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+00003b10: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+00003b20: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00003b30: 6520 3d3d 2034 3232 3a0d 0a20 2020 2020  e == 422:..     
+00003b40: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00003b50: 6f72 4578 6365 7074 696f 6e28 2743 6f6e  orException('Con
+00003b60: 7472 6163 7420 7661 6c69 6461 7469 6f6e  tract validation
+00003b70: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+00003b80: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+00003b90: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00003ba0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00003bb0: 3d20 3530 303a 0d0a 2020 2020 2020 2020  = 500:..        
+00003bc0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00003bd0: 7863 6570 7469 6f6e 2827 496e 7465 726e  xception('Intern
+00003be0: 616c 2073 6572 7665 7220 6572 726f 7227  al server error'
+00003bf0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00003c00: 2020 2020 2073 656c 662e 7661 6c69 6461       self.valida
+00003c10: 7465 5f72 6573 706f 6e73 6528 5f63 6f6e  te_response(_con
+00003c20: 7465 7874 290d 0a0d 0a20 2020 2020 2020  text)....       
+00003c30: 2023 2052 6574 7572 6e20 6170 7072 6f70   # Return approp
+00003c40: 7269 6174 6520 7479 7065 0d0a 2020 2020  riate type..    
+00003c50: 2020 2020 7265 7475 726e 2041 5049 4865      return APIHe
+00003c60: 6c70 6572 2e6a 736f 6e5f 6465 7365 7269  lper.json_deseri
+00003c70: 616c 697a 6528 5f63 6f6e 7465 7874 2e72  alize(_context.r
+00003c80: 6573 706f 6e73 652e 7261 775f 626f 6479  esponse.raw_body
+00003c90: 2c20 4765 7453 7562 7363 7269 7074 696f  , GetSubscriptio
+00003ca0: 6e49 7465 6d52 6573 706f 6e73 652e 6672  nItemResponse.fr
+00003cb0: 6f6d 5f64 6963 7469 6f6e 6172 7929 0d0a  om_dictionary)..
+00003cc0: 0d0a 2020 2020 6465 6620 7570 6461 7465  ..    def update
+00003cd0: 5f73 7562 7363 7269 7074 696f 6e5f 6166  _subscription_af
+00003ce0: 6669 6c69 6174 696f 6e5f 6964 2873 656c  filiation_id(sel
+00003cf0: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
+00003d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003d10: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00003d20: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
+00003d30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003d50: 2020 2020 2020 2020 2020 2020 626f 6479              body
+00003d60: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00003d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003d80: 2020 2020 2020 2020 2020 2020 2020 6964                id
+00003d90: 656d 706f 7465 6e63 795f 6b65 793d 4e6f  empotency_key=No
+00003da0: 6e65 293a 0d0a 2020 2020 2020 2020 2222  ne):..        ""
+00003db0: 2244 6f65 7320 6120 5041 5443 4820 7265  "Does a PATCH re
+00003dc0: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
+00003dd0: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+00003de0: 7074 696f 6e5f 6964 7d2f 6761 7465 7761  ption_id}/gatewa
+00003df0: 792d 6166 6669 6c69 6174 696f 6e2d 6964  y-affiliation-id
+00003e00: 2e0d 0a0d 0a20 2020 2020 2020 2055 7064  .....        Upd
+00003e10: 6174 6553 7562 7363 7269 7074 696f 6e41  ateSubscriptionA
+00003e20: 6666 696c 6961 7469 6f6e 4964 0d0a 0d0a  ffiliationId....
+00003e30: 2020 2020 2020 2020 4172 6773 3a0d 0a20          Args:.. 
+00003e40: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
+00003e50: 7269 7074 696f 6e5f 6964 2028 7374 7269  ription_id (stri
+00003e60: 6e67 293a 2054 4f44 4f3a 2074 7970 6520  ng): TODO: type 
+00003e70: 6465 7363 7269 7074 696f 6e20 6865 7265  description here
+00003e80: 2e20 4578 616d 706c 653a 200d 0a20 2020  . Example: ..   
+00003e90: 2020 2020 2020 2020 2062 6f64 7920 2855           body (U
+00003ea0: 7064 6174 6553 7562 7363 7269 7074 696f  pdateSubscriptio
+00003eb0: 6e41 6666 696c 6961 7469 6f6e 4964 5265  nAffiliationIdRe
+00003ec0: 7175 6573 7429 3a20 5265 7175 6573 7420  quest): Request 
+00003ed0: 666f 720d 0a20 2020 2020 2020 2020 2020  for..           
+00003ee0: 2020 2020 2075 7064 6174 696e 6720 6120       updating a 
+00003ef0: 7375 6273 6372 6970 7469 6f6e 2061 6666  subscription aff
+00003f00: 696c 6961 7469 6f6e 2069 640d 0a20 2020  iliation id..   
+00003f10: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
+00003f20: 656e 6379 5f6b 6579 2028 7374 7269 6e67  ency_key (string
+00003f30: 2c20 6f70 7469 6f6e 616c 293a 2054 4f44  , optional): TOD
+00003f40: 4f3a 2074 7970 6520 6465 7363 7269 7074  O: type descript
+00003f50: 696f 6e20 6865 7265 2e0d 0a20 2020 2020  ion here...     
+00003f60: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
+00003f70: 6c65 3a20 0d0a 0d0a 2020 2020 2020 2020  le: ....        
+00003f80: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
+00003f90: 2020 2020 2020 4765 7453 7562 7363 7269        GetSubscri
+00003fa0: 7074 696f 6e52 6573 706f 6e73 653a 2052  ptionResponse: R
+00003fb0: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
+00003fc0: 2041 5049 2e20 0d0a 0d0a 2020 2020 2020   API. ....      
+00003fd0: 2020 5261 6973 6573 3a0d 0a20 2020 2020    Raises:..     
+00003fe0: 2020 2020 2020 2041 5049 4578 6365 7074         APIExcept
+00003ff0: 696f 6e3a 2057 6865 6e20 616e 2065 7272  ion: When an err
+00004000: 6f72 206f 6363 7572 7320 7768 696c 6520  or occurs while 
+00004010: 6665 7463 6869 6e67 2074 6865 2064 6174  fetching the dat
+00004020: 6120 6672 6f6d 0d0a 2020 2020 2020 2020  a from..        
+00004030: 2020 2020 2020 2020 7468 6520 7265 6d6f          the remo
+00004040: 7465 2041 5049 2e20 5468 6973 2065 7863  te API. This exc
+00004050: 6570 7469 6f6e 2069 6e63 6c75 6465 7320  eption includes 
+00004060: 7468 6520 4854 5450 2052 6573 706f 6e73  the HTTP Respons
+00004070: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+00004080: 2020 2063 6f64 652c 2061 6e20 6572 726f     code, an erro
+00004090: 7220 6d65 7373 6167 652c 2061 6e64 2074  r message, and t
+000040a0: 6865 2048 5454 5020 626f 6479 2074 6861  he HTTP body tha
+000040b0: 7420 7761 7320 7265 6365 6976 6564 2069  t was received i
+000040c0: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
+000040d0: 2020 2074 6865 2072 6571 7565 7374 2e0d     the request..
+000040e0: 0a0d 0a20 2020 2020 2020 2022 2222 0d0a  ...        """..
+000040f0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00004100: 6172 6520 7175 6572 7920 5552 4c0d 0a20  are query URL.. 
+00004110: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
+00004120: 203d 2027 2f73 7562 7363 7269 7074 696f   = '/subscriptio
+00004130: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
+00004140: 5f69 647d 2f67 6174 6577 6179 2d61 6666  _id}/gateway-aff
+00004150: 696c 6961 7469 6f6e 2d69 6427 0d0a 2020  iliation-id'..  
+00004160: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
+00004170: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
+00004180: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
+00004190: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
+000041a0: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
+000041b0: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
+000041c0: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
+000041d0: 6273 6372 6970 7469 6f6e 5f69 640d 0a20  bscription_id.. 
+000041e0: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
+000041f0: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
+00004200: 7220 3d20 436f 6e66 6967 7572 6174 696f  r = Configuratio
+00004210: 6e2e 6261 7365 5f75 7269 0d0a 2020 2020  n.base_uri..    
+00004220: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+00004230: 6572 202b 3d20 5f75 726c 5f70 6174 680d  er += _url_path.
+00004240: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00004250: 7572 6c20 3d20 4150 4948 656c 7065 722e  url = APIHelper.
+00004260: 636c 6561 6e5f 7572 6c28 5f71 7565 7279  clean_url(_query
+00004270: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
+00004280: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
+00004290: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
+000042a0: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
+000042b0: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
+000042c0: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
+000042d0: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
+000042e0: 2020 2020 2027 5365 7276 6963 6552 6566       'ServiceRef
+000042f0: 6572 6572 4e61 6d65 273a 2043 6f6e 6669  ererName': Confi
+00004300: 6775 7261 7469 6f6e 2e73 6572 7669 6365  guration.service
+00004310: 5f72 6566 6572 6572 5f6e 616d 652c 0d0a  _referer_name,..
+00004320: 2020 2020 2020 2020 2020 2020 2743 6f6e              'Con
+00004330: 7465 6e74 2d54 7970 6527 3a20 2761 7070  tent-Type': 'app
+00004340: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+00004350: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
+00004360: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
+00004370: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
+00004380: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
+00004390: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+000043a0: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
+000043b0: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
+000043c0: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
+000043d0: 705f 636c 6965 6e74 2e70 6174 6368 285f  p_client.patch(_
+000043e0: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
+000043f0: 7273 3d5f 6865 6164 6572 732c 2070 6172  rs=_headers, par
+00004400: 616d 6574 6572 733d 4150 4948 656c 7065  ameters=APIHelpe
+00004410: 722e 6a73 6f6e 5f73 6572 6961 6c69 7a65  r.json_serialize
+00004420: 2862 6f64 7929 290d 0a20 2020 2020 2020  (body))..       
+00004430: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
+00004440: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
+00004450: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
+00004460: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
+00004470: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
+00004480: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
+00004490: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
+000044a0: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
+000044b0: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
+000044c0: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
+000044d0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+000044e0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+000044f0: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
+00004500: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00004510: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+00004520: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
+00004530: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00004540: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00004550: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00004560: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
+00004570: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00004580: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+00004590: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
+000045a0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+000045b0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+000045c0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+000045d0: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
+000045e0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000045f0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00004600: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
+00004610: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
+00004620: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
+00004630: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00004640: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00004650: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00004660: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
+00004670: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00004680: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
+00004690: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
+000046a0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+000046b0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+000046c0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+000046d0: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
+000046e0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+000046f0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00004700: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
+00004710: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+00004720: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00004730: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00004740: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00004750: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
+00004760: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00004770: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00004780: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
+00004790: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
+000047a0: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
+000047b0: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
+000047c0: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
+000047d0: 0a20 2020 2020 2020 2023 2052 6574 7572  .        # Retur
+000047e0: 6e20 6170 7072 6f70 7269 6174 6520 7479  n appropriate ty
+000047f0: 7065 0d0a 2020 2020 2020 2020 7265 7475  pe..        retu
+00004800: 726e 2041 5049 4865 6c70 6572 2e6a 736f  rn APIHelper.jso
+00004810: 6e5f 6465 7365 7269 616c 697a 6528 5f63  n_deserialize(_c
+00004820: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00004830: 7261 775f 626f 6479 2c20 4765 7453 7562  raw_body, GetSub
+00004840: 7363 7269 7074 696f 6e52 6573 706f 6e73  scriptionRespons
+00004850: 652e 6672 6f6d 5f64 6963 7469 6f6e 6172  e.from_dictionar
+00004860: 7929 0d0a 0d0a 2020 2020 6465 6620 6765  y)....    def ge
+00004870: 745f 696e 6372 656d 656e 7473 2873 656c  t_increments(sel
+00004880: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
+00004890: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
+000048a0: 7269 7074 696f 6e5f 6964 2c0d 0a20 2020  ription_id,..   
+000048b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000048c0: 2020 2020 7061 6765 3d4e 6f6e 652c 0d0a      page=None,..
+000048d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000048e0: 2020 2020 2020 2073 697a 653d 4e6f 6e65         size=None
+000048f0: 293a 0d0a 2020 2020 2020 2020 2222 2244  ):..        """D
+00004900: 6f65 7320 6120 4745 5420 7265 7175 6573  oes a GET reques
+00004910: 7420 746f 202f 7375 6273 6372 6970 7469  t to /subscripti
+00004920: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
+00004930: 6e5f 6964 7d2f 696e 6372 656d 656e 7473  n_id}/increments
+00004940: 2f2e 0d0a 0d0a 2020 2020 2020 2020 4765  /.....        Ge
+00004950: 7449 6e63 7265 6d65 6e74 730d 0a0d 0a20  tIncrements.... 
+00004960: 2020 2020 2020 2041 7267 733a 0d0a 2020         Args:..  
+00004970: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
+00004980: 6970 7469 6f6e 5f69 6420 2873 7472 696e  iption_id (strin
+00004990: 6729 3a20 5468 6520 7375 6273 6372 6970  g): The subscrip
+000049a0: 7469 6f6e 2069 640d 0a20 2020 2020 2020  tion id..       
+000049b0: 2020 2020 2070 6167 6520 2869 6e74 2c20       page (int, 
+000049c0: 6f70 7469 6f6e 616c 293a 2050 6167 6520  optional): Page 
+000049d0: 6e75 6d62 6572 0d0a 2020 2020 2020 2020  number..        
+000049e0: 2020 2020 7369 7a65 2028 696e 742c 206f      size (int, o
+000049f0: 7074 696f 6e61 6c29 3a20 5061 6765 2073  ptional): Page s
+00004a00: 697a 650d 0a0d 0a20 2020 2020 2020 2052  ize....        R
+00004a10: 6574 7572 6e73 3a0d 0a20 2020 2020 2020  eturns:..       
+00004a20: 2020 2020 204c 6973 7449 6e63 7265 6d65       ListIncreme
+00004a30: 6e74 7352 6573 706f 6e73 653a 2052 6573  ntsResponse: Res
+00004a40: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
+00004a50: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
+00004a60: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
+00004a70: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
+00004a80: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
+00004a90: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
+00004aa0: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
+00004ab0: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
+00004ac0: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
+00004ad0: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
+00004ae0: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
+00004af0: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
+00004b00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004b10: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
+00004b20: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
+00004b30: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
+00004b40: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
+00004b50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004b60: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
+00004b70: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
+00004b80: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+00004b90: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
+00004ba0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+00004bb0: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
+00004bc0: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
+00004bd0: 647d 2f69 6e63 7265 6d65 6e74 732f 270d  d}/increments/'.
+00004be0: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
+00004bf0: 7468 203d 2041 5049 4865 6c70 6572 2e61  th = APIHelper.a
+00004c00: 7070 656e 645f 7572 6c5f 7769 7468 5f74  ppend_url_with_t
+00004c10: 656d 706c 6174 655f 7061 7261 6d65 7465  emplate_paramete
+00004c20: 7273 285f 7572 6c5f 7061 7468 2c20 7b20  rs(_url_path, { 
+00004c30: 0d0a 2020 2020 2020 2020 2020 2020 2773  ..            's
+00004c40: 7562 7363 7269 7074 696f 6e5f 6964 273a  ubscription_id':
+00004c50: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+00004c60: 0d0a 2020 2020 2020 2020 7d29 0d0a 2020  ..        })..  
+00004c70: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
+00004c80: 6c64 6572 203d 2043 6f6e 6669 6775 7261  lder = Configura
+00004c90: 7469 6f6e 2e62 6173 655f 7572 690d 0a20  tion.base_uri.. 
+00004ca0: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
+00004cb0: 696c 6465 7220 2b3d 205f 7572 6c5f 7061  ilder += _url_pa
+00004cc0: 7468 0d0a 2020 2020 2020 2020 5f71 7565  th..        _que
+00004cd0: 7279 5f70 6172 616d 6574 6572 7320 3d20  ry_parameters = 
+00004ce0: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
+00004cf0: 7061 6765 273a 2070 6167 652c 0d0a 2020  page': page,..  
+00004d00: 2020 2020 2020 2020 2020 2773 697a 6527            'size'
+00004d10: 3a20 7369 7a65 0d0a 2020 2020 2020 2020  : size..        
+00004d20: 7d0d 0a20 2020 2020 2020 205f 7175 6572  }..        _quer
+00004d30: 795f 6275 696c 6465 7220 3d20 4150 4948  y_builder = APIH
+00004d40: 656c 7065 722e 6170 7065 6e64 5f75 726c  elper.append_url
+00004d50: 5f77 6974 685f 7175 6572 795f 7061 7261  _with_query_para
+00004d60: 6d65 7465 7273 285f 7175 6572 795f 6275  meters(_query_bu
+00004d70: 696c 6465 722c 0d0a 2020 2020 2020 2020  ilder,..        
+00004d80: 2020 2020 5f71 7565 7279 5f70 6172 616d      _query_param
+00004d90: 6574 6572 732c 2043 6f6e 6669 6775 7261  eters, Configura
+00004da0: 7469 6f6e 2e61 7272 6179 5f73 6572 6961  tion.array_seria
+00004db0: 6c69 7a61 7469 6f6e 290d 0a20 2020 2020  lization)..     
+00004dc0: 2020 205f 7175 6572 795f 7572 6c20 3d20     _query_url = 
+00004dd0: 4150 4948 656c 7065 722e 636c 6561 6e5f  APIHelper.clean_
+00004de0: 7572 6c28 5f71 7565 7279 5f62 7569 6c64  url(_query_build
+00004df0: 6572 290d 0a0d 0a20 2020 2020 2020 2023  er)....        #
+00004e00: 2050 7265 7061 7265 2068 6561 6465 7273   Prepare headers
+00004e10: 0d0a 2020 2020 2020 2020 5f68 6561 6465  ..        _heade
+00004e20: 7273 203d 207b 0d0a 2020 2020 2020 2020  rs = {..        
+00004e30: 2020 2020 2761 6363 6570 7427 3a20 2761      'accept': 'a
+00004e40: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
+00004e50: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+00004e60: 5365 7276 6963 6552 6566 6572 6572 4e61  ServiceRefererNa
+00004e70: 6d65 273a 2043 6f6e 6669 6775 7261 7469  me': Configurati
+00004e80: 6f6e 2e73 6572 7669 6365 5f72 6566 6572  on.service_refer
+00004e90: 6572 5f6e 616d 650d 0a20 2020 2020 2020  er_name..       
+00004ea0: 207d 0d0a 0d0a 2020 2020 2020 2020 2320   }....        # 
+00004eb0: 5072 6570 6172 6520 616e 6420 6578 6563  Prepare and exec
+00004ec0: 7574 6520 7265 7175 6573 740d 0a20 2020  ute request..   
+00004ed0: 2020 2020 205f 7265 7175 6573 7420 3d20       _request = 
+00004ee0: 7365 6c66 2e68 7474 705f 636c 6965 6e74  self.http_client
+00004ef0: 2e67 6574 285f 7175 6572 795f 7572 6c2c  .get(_query_url,
+00004f00: 2068 6561 6465 7273 3d5f 6865 6164 6572   headers=_header
+00004f10: 7329 0d0a 2020 2020 2020 2020 4261 7369  s)..        Basi
+00004f20: 6341 7574 682e 6170 706c 7928 5f72 6571  cAuth.apply(_req
+00004f30: 7565 7374 290d 0a20 2020 2020 2020 205f  uest)..        _
+00004f40: 636f 6e74 6578 7420 3d20 7365 6c66 2e65  context = self.e
+00004f50: 7865 6375 7465 5f72 6571 7565 7374 285f  xecute_request(_
+00004f60: 7265 7175 6573 7429 0d0a 0d0a 2020 2020  request)....    
+00004f70: 2020 2020 2320 456e 6470 6f69 6e74 2061      # Endpoint a
+00004f80: 6e64 2067 6c6f 6261 6c20 6572 726f 7220  nd global error 
+00004f90: 6861 6e64 6c69 6e67 2075 7369 6e67 2048  handling using H
+00004fa0: 5454 5020 7374 6174 7573 2063 6f64 6573  TTP status codes
+00004fb0: 2e0d 0a20 2020 2020 2020 2069 6620 5f63  ...        if _c
+00004fc0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00004fd0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00004fe0: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
+00004ff0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00005000: 7074 696f 6e28 2749 6e76 616c 6964 2072  ption('Invalid r
+00005010: 6571 7565 7374 272c 205f 636f 6e74 6578  equest', _contex
+00005020: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+00005030: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00005040: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00005050: 3d20 3430 313a 0d0a 2020 2020 2020 2020  = 401:..        
+00005060: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00005070: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
+00005080: 6420 4150 4920 6b65 7927 2c20 5f63 6f6e  d API key', _con
+00005090: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+000050a0: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+000050b0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+000050c0: 6520 3d3d 2034 3034 3a0d 0a20 2020 2020  e == 404:..     
+000050d0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+000050e0: 6f72 4578 6365 7074 696f 6e28 2741 6e20  orException('An 
+000050f0: 696e 666f 726d 6564 2072 6573 6f75 7263  informed resourc
+00005100: 6520 7761 7320 6e6f 7420 666f 756e 6427  e was not found'
+00005110: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00005120: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00005130: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00005140: 7573 5f63 6f64 6520 3d3d 2034 3132 3a0d  us_code == 412:.
+00005150: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00005160: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00005170: 6e28 2742 7573 696e 6573 7320 7661 6c69  n('Business vali
+00005180: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
+00005190: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+000051a0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+000051b0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+000051c0: 636f 6465 203d 3d20 3432 323a 0d0a 2020  code == 422:..  
+000051d0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+000051e0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+000051f0: 436f 6e74 7261 6374 2076 616c 6964 6174  Contract validat
+00005200: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
+00005210: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+00005220: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+00005230: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00005240: 6520 3d3d 2035 3030 3a0d 0a20 2020 2020  e == 500:..     
+00005250: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00005260: 6f72 4578 6365 7074 696f 6e28 2749 6e74  orException('Int
+00005270: 6572 6e61 6c20 7365 7276 6572 2065 7272  ernal server err
+00005280: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+00005290: 2020 2020 2020 2020 7365 6c66 2e76 616c          self.val
+000052a0: 6964 6174 655f 7265 7370 6f6e 7365 285f  idate_response(_
+000052b0: 636f 6e74 6578 7429 0d0a 0d0a 2020 2020  context)....    
+000052c0: 2020 2020 2320 5265 7475 726e 2061 7070      # Return app
+000052d0: 726f 7072 6961 7465 2074 7970 650d 0a20  ropriate type.. 
+000052e0: 2020 2020 2020 2072 6574 7572 6e20 4150         return AP
+000052f0: 4948 656c 7065 722e 6a73 6f6e 5f64 6573  IHelper.json_des
+00005300: 6572 6961 6c69 7a65 285f 636f 6e74 6578  erialize(_contex
+00005310: 742e 7265 7370 6f6e 7365 2e72 6177 5f62  t.response.raw_b
+00005320: 6f64 792c 204c 6973 7449 6e63 7265 6d65  ody, ListIncreme
+00005330: 6e74 7352 6573 706f 6e73 652e 6672 6f6d  ntsResponse.from
+00005340: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
+00005350: 2020 2020 6465 6620 7570 6461 7465 5f73      def update_s
+00005360: 7562 7363 7269 7074 696f 6e5f 6475 655f  ubscription_due_
+00005370: 6461 7973 2873 656c 662c 0d0a 2020 2020  days(self,..    
+00005380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053a0: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+000053b0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000053c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053d0: 2020 2020 2020 2020 626f 6479 2c0d 0a20          body,.. 
+000053e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005400: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
+00005410: 6b65 793d 4e6f 6e65 293a 0d0a 2020 2020  key=None):..    
+00005420: 2020 2020 2222 2244 6f65 7320 6120 5041      """Does a PA
+00005430: 5443 4820 7265 7175 6573 7420 746f 202f  TCH request to /
+00005440: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
+00005450: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
+00005460: 626f 6c65 746f 2d64 7565 2d64 6179 732e  boleto-due-days.
+00005470: 0d0a 0d0a 2020 2020 2020 2020 5570 6461  ....        Upda
+00005480: 7465 7320 7468 6520 626f 6c65 746f 2064  tes the boleto d
+00005490: 7565 2064 6179 7320 6672 6f6d 2061 2073  ue days from a s
+000054a0: 7562 7363 7269 7074 696f 6e0d 0a0d 0a20  ubscription.... 
+000054b0: 2020 2020 2020 2041 7267 733a 0d0a 2020         Args:..  
+000054c0: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
+000054d0: 6970 7469 6f6e 5f69 6420 2873 7472 696e  iption_id (strin
+000054e0: 6729 3a20 5375 6273 6372 6970 7469 6f6e  g): Subscription
+000054f0: 2049 640d 0a20 2020 2020 2020 2020 2020   Id..           
+00005500: 2062 6f64 7920 2855 7064 6174 6553 7562   body (UpdateSub
+00005510: 7363 7269 7074 696f 6e44 7565 4461 7973  scriptionDueDays
+00005520: 5265 7175 6573 7429 3a20 544f 444f 3a20  Request): TODO: 
+00005530: 7479 7065 2064 6573 6372 6970 7469 6f6e  type description
+00005540: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00005550: 2020 6865 7265 2e20 4578 616d 706c 653a    here. Example:
+00005560: 200d 0a20 2020 2020 2020 2020 2020 2069   ..            i
+00005570: 6465 6d70 6f74 656e 6379 5f6b 6579 2028  dempotency_key (
+00005580: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
+00005590: 293a 2054 4f44 4f3a 2074 7970 6520 6465  ): TODO: type de
+000055a0: 7363 7269 7074 696f 6e20 6865 7265 2e0d  scription here..
+000055b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000055c0: 2045 7861 6d70 6c65 3a20 0d0a 0d0a 2020   Example: ....  
+000055d0: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
+000055e0: 2020 2020 2020 2020 2020 2020 4765 7453              GetS
+000055f0: 7562 7363 7269 7074 696f 6e52 6573 706f  ubscriptionRespo
+00005600: 6e73 653a 2052 6573 706f 6e73 6520 6672  nse: Response fr
+00005610: 6f6d 2074 6865 2041 5049 2e20 0d0a 0d0a  om the API. ....
+00005620: 2020 2020 2020 2020 5261 6973 6573 3a0d          Raises:.
+00005630: 0a20 2020 2020 2020 2020 2020 2041 5049  .            API
+00005640: 4578 6365 7074 696f 6e3a 2057 6865 6e20  Exception: When 
+00005650: 616e 2065 7272 6f72 206f 6363 7572 7320  an error occurs 
+00005660: 7768 696c 6520 6665 7463 6869 6e67 2074  while fetching t
+00005670: 6865 2064 6174 6120 6672 6f6d 0d0a 2020  he data from..  
+00005680: 2020 2020 2020 2020 2020 2020 2020 7468                th
+00005690: 6520 7265 6d6f 7465 2041 5049 2e20 5468  e remote API. Th
+000056a0: 6973 2065 7863 6570 7469 6f6e 2069 6e63  is exception inc
+000056b0: 6c75 6465 7320 7468 6520 4854 5450 2052  ludes the HTTP R
+000056c0: 6573 706f 6e73 650d 0a20 2020 2020 2020  esponse..       
+000056d0: 2020 2020 2020 2020 2063 6f64 652c 2061           code, a
+000056e0: 6e20 6572 726f 7220 6d65 7373 6167 652c  n error message,
+000056f0: 2061 6e64 2074 6865 2048 5454 5020 626f   and the HTTP bo
+00005700: 6479 2074 6861 7420 7761 7320 7265 6365  dy that was rece
+00005710: 6976 6564 2069 6e0d 0a20 2020 2020 2020  ived in..       
+00005720: 2020 2020 2020 2020 2074 6865 2072 6571           the req
+00005730: 7565 7374 2e0d 0a0d 0a20 2020 2020 2020  uest.....       
+00005740: 2022 2222 0d0a 0d0a 2020 2020 2020 2020   """....        
+00005750: 2320 5072 6570 6172 6520 7175 6572 7920  # Prepare query 
+00005760: 5552 4c0d 0a20 2020 2020 2020 205f 7572  URL..        _ur
+00005770: 6c5f 7061 7468 203d 2027 2f73 7562 7363  l_path = '/subsc
+00005780: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
+00005790: 6970 7469 6f6e 5f69 647d 2f62 6f6c 6574  iption_id}/bolet
+000057a0: 6f2d 6475 652d 6461 7973 270d 0a20 2020  o-due-days'..   
+000057b0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+000057c0: 2041 5049 4865 6c70 6572 2e61 7070 656e   APIHelper.appen
+000057d0: 645f 7572 6c5f 7769 7468 5f74 656d 706c  d_url_with_templ
+000057e0: 6174 655f 7061 7261 6d65 7465 7273 285f  ate_parameters(_
+000057f0: 7572 6c5f 7061 7468 2c20 7b20 0d0a 2020  url_path, { ..  
+00005800: 2020 2020 2020 2020 2020 2773 7562 7363            'subsc
+00005810: 7269 7074 696f 6e5f 6964 273a 2073 7562  ription_id': sub
+00005820: 7363 7269 7074 696f 6e5f 6964 0d0a 2020  scription_id..  
+00005830: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
+00005840: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
+00005850: 203d 2043 6f6e 6669 6775 7261 7469 6f6e   = Configuration
+00005860: 2e62 6173 655f 7572 690d 0a20 2020 2020  .base_uri..     
+00005870: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
+00005880: 7220 2b3d 205f 7572 6c5f 7061 7468 0d0a  r += _url_path..
+00005890: 2020 2020 2020 2020 5f71 7565 7279 5f75          _query_u
+000058a0: 726c 203d 2041 5049 4865 6c70 6572 2e63  rl = APIHelper.c
+000058b0: 6c65 616e 5f75 726c 285f 7175 6572 795f  lean_url(_query_
+000058c0: 6275 696c 6465 7229 0d0a 0d0a 2020 2020  builder)....    
+000058d0: 2020 2020 2320 5072 6570 6172 6520 6865      # Prepare he
+000058e0: 6164 6572 730d 0a20 2020 2020 2020 205f  aders..        _
+000058f0: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
+00005900: 2020 2020 2020 2020 2027 6163 6365 7074           'accept
+00005910: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
+00005920: 6a73 6f6e 272c 0d0a 2020 2020 2020 2020  json',..        
+00005930: 2020 2020 2753 6572 7669 6365 5265 6665      'ServiceRefe
+00005940: 7265 724e 616d 6527 3a20 436f 6e66 6967  rerName': Config
+00005950: 7572 6174 696f 6e2e 7365 7276 6963 655f  uration.service_
+00005960: 7265 6665 7265 725f 6e61 6d65 2c0d 0a20  referer_name,.. 
+00005970: 2020 2020 2020 2020 2020 2027 436f 6e74             'Cont
+00005980: 656e 742d 5479 7065 273a 2027 6170 706c  ent-Type': 'appl
+00005990: 6963 6174 696f 6e2f 6a73 6f6e 272c 0d0a  ication/json',..
+000059a0: 2020 2020 2020 2020 2020 2020 2769 6465              'ide
+000059b0: 6d70 6f74 656e 6379 2d6b 6579 273a 2069  mpotency-key': i
+000059c0: 6465 6d70 6f74 656e 6379 5f6b 6579 0d0a  dempotency_key..
+000059d0: 2020 2020 2020 2020 7d0d 0a0d 0a20 2020          }....   
+000059e0: 2020 2020 2023 2050 7265 7061 7265 2061       # Prepare a
+000059f0: 6e64 2065 7865 6375 7465 2072 6571 7565  nd execute reque
+00005a00: 7374 0d0a 2020 2020 2020 2020 5f72 6571  st..        _req
+00005a10: 7565 7374 203d 2073 656c 662e 6874 7470  uest = self.http
+00005a20: 5f63 6c69 656e 742e 7061 7463 6828 5f71  _client.patch(_q
+00005a30: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
+00005a40: 733d 5f68 6561 6465 7273 2c20 7061 7261  s=_headers, para
+00005a50: 6d65 7465 7273 3d41 5049 4865 6c70 6572  meters=APIHelper
+00005a60: 2e6a 736f 6e5f 7365 7269 616c 697a 6528  .json_serialize(
+00005a70: 626f 6479 2929 0d0a 2020 2020 2020 2020  body))..        
+00005a80: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
+00005a90: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
+00005aa0: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
+00005ab0: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
+00005ac0: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
+00005ad0: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
+00005ae0: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
+00005af0: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
+00005b00: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
+00005b10: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
+00005b20: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00005b30: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00005b40: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
+00005b50: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00005b60: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+00005b70: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
+00005b80: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00005b90: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00005ba0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00005bb0: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
+00005bc0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00005bd0: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+00005be0: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
+00005bf0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00005c00: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00005c10: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00005c20: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
+00005c30: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00005c40: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00005c50: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
+00005c60: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
+00005c70: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
+00005c80: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00005c90: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00005ca0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00005cb0: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
+00005cc0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00005cd0: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
+00005ce0: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+00005cf0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00005d00: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+00005d10: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00005d20: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
+00005d30: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00005d40: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+00005d50: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
+00005d60: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+00005d70: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00005d80: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00005d90: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00005da0: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
+00005db0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00005dc0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00005dd0: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
+00005de0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+00005df0: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
+00005e00: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
+00005e10: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
+00005e20: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
+00005e30: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
+00005e40: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
+00005e50: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
+00005e60: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
+00005e70: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
+00005e80: 6177 5f62 6f64 792c 2047 6574 5375 6273  aw_body, GetSubs
+00005e90: 6372 6970 7469 6f6e 5265 7370 6f6e 7365  criptionResponse
+00005ea0: 2e66 726f 6d5f 6469 6374 696f 6e61 7279  .from_dictionary
+00005eb0: 290d 0a0d 0a20 2020 2064 6566 2075 7064  )....    def upd
+00005ec0: 6174 655f 7375 6273 6372 6970 7469 6f6e  ate_subscription
+00005ed0: 5f73 7461 7274 5f61 7428 7365 6c66 2c0d  _start_at(self,.
+00005ee0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005f00: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
+00005f10: 6f6e 5f69 642c 0d0a 2020 2020 2020 2020  on_id,..        
+00005f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005f30: 2020 2020 2020 2020 2020 2020 2062 6f64               bod
+00005f40: 792c 0d0a 2020 2020 2020 2020 2020 2020  y,..            
+00005f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005f60: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
+00005f70: 656e 6379 5f6b 6579 3d4e 6f6e 6529 3a0d  ency_key=None):.
+00005f80: 0a20 2020 2020 2020 2022 2222 446f 6573  .        """Does
+00005f90: 2061 2050 4154 4348 2072 6571 7565 7374   a PATCH request
+00005fa0: 2074 6f20 2f73 7562 7363 7269 7074 696f   to /subscriptio
+00005fb0: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
+00005fc0: 5f69 647d 2f73 7461 7274 2d61 742e 0d0a  _id}/start-at...
+00005fd0: 0d0a 2020 2020 2020 2020 5570 6461 7465  ..        Update
+00005fe0: 7320 7468 6520 7374 6172 7420 6174 2064  s the start at d
+00005ff0: 6174 6520 6672 6f6d 2061 2073 7562 7363  ate from a subsc
+00006000: 7269 7074 696f 6e0d 0a0d 0a20 2020 2020  ription....     
+00006010: 2020 2041 7267 733a 0d0a 2020 2020 2020     Args:..      
+00006020: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
+00006030: 6f6e 5f69 6420 2873 7472 696e 6729 3a20  on_id (string): 
+00006040: 5468 6520 7375 6273 6372 6970 7469 6f6e  The subscription
+00006050: 2069 640d 0a20 2020 2020 2020 2020 2020   id..           
+00006060: 2062 6f64 7920 2855 7064 6174 6553 7562   body (UpdateSub
+00006070: 7363 7269 7074 696f 6e53 7461 7274 4174  scriptionStartAt
+00006080: 5265 7175 6573 7429 3a20 5265 7175 6573  Request): Reques
+00006090: 7420 666f 7220 7570 6461 7469 6e67 2074  t for updating t
+000060a0: 6865 0d0a 2020 2020 2020 2020 2020 2020  he..            
+000060b0: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
+000060c0: 2073 7461 7274 2064 6174 650d 0a20 2020   start date..   
+000060d0: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
+000060e0: 656e 6379 5f6b 6579 2028 7374 7269 6e67  ency_key (string
+000060f0: 2c20 6f70 7469 6f6e 616c 293a 2054 4f44  , optional): TOD
+00006100: 4f3a 2074 7970 6520 6465 7363 7269 7074  O: type descript
+00006110: 696f 6e20 6865 7265 2e0d 0a20 2020 2020  ion here...     
+00006120: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
+00006130: 6c65 3a20 0d0a 0d0a 2020 2020 2020 2020  le: ....        
+00006140: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
+00006150: 2020 2020 2020 4765 7453 7562 7363 7269        GetSubscri
+00006160: 7074 696f 6e52 6573 706f 6e73 653a 2052  ptionResponse: R
+00006170: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
+00006180: 2041 5049 2e20 0d0a 0d0a 2020 2020 2020   API. ....      
+00006190: 2020 5261 6973 6573 3a0d 0a20 2020 2020    Raises:..     
+000061a0: 2020 2020 2020 2041 5049 4578 6365 7074         APIExcept
+000061b0: 696f 6e3a 2057 6865 6e20 616e 2065 7272  ion: When an err
+000061c0: 6f72 206f 6363 7572 7320 7768 696c 6520  or occurs while 
+000061d0: 6665 7463 6869 6e67 2074 6865 2064 6174  fetching the dat
+000061e0: 6120 6672 6f6d 0d0a 2020 2020 2020 2020  a from..        
+000061f0: 2020 2020 2020 2020 7468 6520 7265 6d6f          the remo
+00006200: 7465 2041 5049 2e20 5468 6973 2065 7863  te API. This exc
+00006210: 6570 7469 6f6e 2069 6e63 6c75 6465 7320  eption includes 
+00006220: 7468 6520 4854 5450 2052 6573 706f 6e73  the HTTP Respons
+00006230: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+00006240: 2020 2063 6f64 652c 2061 6e20 6572 726f     code, an erro
+00006250: 7220 6d65 7373 6167 652c 2061 6e64 2074  r message, and t
+00006260: 6865 2048 5454 5020 626f 6479 2074 6861  he HTTP body tha
+00006270: 7420 7761 7320 7265 6365 6976 6564 2069  t was received i
+00006280: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
+00006290: 2020 2074 6865 2072 6571 7565 7374 2e0d     the request..
+000062a0: 0a0d 0a20 2020 2020 2020 2022 2222 0d0a  ...        """..
+000062b0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+000062c0: 6172 6520 7175 6572 7920 5552 4c0d 0a20  are query URL.. 
+000062d0: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
+000062e0: 203d 2027 2f73 7562 7363 7269 7074 696f   = '/subscriptio
+000062f0: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
+00006300: 5f69 647d 2f73 7461 7274 2d61 7427 0d0a  _id}/start-at'..
+00006310: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
+00006320: 6820 3d20 4150 4948 656c 7065 722e 6170  h = APIHelper.ap
+00006330: 7065 6e64 5f75 726c 5f77 6974 685f 7465  pend_url_with_te
+00006340: 6d70 6c61 7465 5f70 6172 616d 6574 6572  mplate_parameter
+00006350: 7328 5f75 726c 5f70 6174 682c 207b 200d  s(_url_path, { .
+00006360: 0a20 2020 2020 2020 2020 2020 2027 7375  .            'su
+00006370: 6273 6372 6970 7469 6f6e 5f69 6427 3a20  bscription_id': 
+00006380: 7375 6273 6372 6970 7469 6f6e 5f69 640d  subscription_id.
+00006390: 0a20 2020 2020 2020 207d 290d 0a20 2020  .        })..   
+000063a0: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+000063b0: 6465 7220 3d20 436f 6e66 6967 7572 6174  der = Configurat
+000063c0: 696f 6e2e 6261 7365 5f75 7269 0d0a 2020  ion.base_uri..  
+000063d0: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
+000063e0: 6c64 6572 202b 3d20 5f75 726c 5f70 6174  lder += _url_pat
+000063f0: 680d 0a20 2020 2020 2020 205f 7175 6572  h..        _quer
+00006400: 795f 7572 6c20 3d20 4150 4948 656c 7065  y_url = APIHelpe
+00006410: 722e 636c 6561 6e5f 7572 6c28 5f71 7565  r.clean_url(_que
+00006420: 7279 5f62 7569 6c64 6572 290d 0a0d 0a20  ry_builder).... 
+00006430: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+00006440: 2068 6561 6465 7273 0d0a 2020 2020 2020   headers..      
+00006450: 2020 5f68 6561 6465 7273 203d 207b 0d0a    _headers = {..
+00006460: 2020 2020 2020 2020 2020 2020 2761 6363              'acc
+00006470: 6570 7427 3a20 2761 7070 6c69 6361 7469  ept': 'applicati
+00006480: 6f6e 2f6a 736f 6e27 2c0d 0a20 2020 2020  on/json',..     
+00006490: 2020 2020 2020 2027 5365 7276 6963 6552         'ServiceR
+000064a0: 6566 6572 6572 4e61 6d65 273a 2043 6f6e  efererName': Con
+000064b0: 6669 6775 7261 7469 6f6e 2e73 6572 7669  figuration.servi
+000064c0: 6365 5f72 6566 6572 6572 5f6e 616d 652c  ce_referer_name,
+000064d0: 0d0a 2020 2020 2020 2020 2020 2020 2743  ..            'C
+000064e0: 6f6e 7465 6e74 2d54 7970 6527 3a20 2761  ontent-Type': 'a
+000064f0: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
+00006500: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+00006510: 6964 656d 706f 7465 6e63 792d 6b65 7927  idempotency-key'
+00006520: 3a20 6964 656d 706f 7465 6e63 795f 6b65  : idempotency_ke
+00006530: 790d 0a20 2020 2020 2020 207d 0d0a 0d0a  y..        }....
+00006540: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+00006550: 6520 616e 6420 6578 6563 7574 6520 7265  e and execute re
+00006560: 7175 6573 740d 0a20 2020 2020 2020 205f  quest..        _
+00006570: 7265 7175 6573 7420 3d20 7365 6c66 2e68  request = self.h
+00006580: 7474 705f 636c 6965 6e74 2e70 6174 6368  ttp_client.patch
+00006590: 285f 7175 6572 795f 7572 6c2c 2068 6561  (_query_url, hea
+000065a0: 6465 7273 3d5f 6865 6164 6572 732c 2070  ders=_headers, p
+000065b0: 6172 616d 6574 6572 733d 4150 4948 656c  arameters=APIHel
+000065c0: 7065 722e 6a73 6f6e 5f73 6572 6961 6c69  per.json_seriali
+000065d0: 7a65 2862 6f64 7929 290d 0a20 2020 2020  ze(body))..     
+000065e0: 2020 2042 6173 6963 4175 7468 2e61 7070     BasicAuth.app
+000065f0: 6c79 285f 7265 7175 6573 7429 0d0a 2020  ly(_request)..  
+00006600: 2020 2020 2020 5f63 6f6e 7465 7874 203d        _context =
+00006610: 2073 656c 662e 6578 6563 7574 655f 7265   self.execute_re
+00006620: 7175 6573 7428 5f72 6571 7565 7374 290d  quest(_request).
+00006630: 0a0d 0a20 2020 2020 2020 2023 2045 6e64  ...        # End
+00006640: 706f 696e 7420 616e 6420 676c 6f62 616c  point and global
+00006650: 2065 7272 6f72 2068 616e 646c 696e 6720   error handling 
+00006660: 7573 696e 6720 4854 5450 2073 7461 7475  using HTTP statu
+00006670: 7320 636f 6465 732e 0d0a 2020 2020 2020  s codes...      
+00006680: 2020 6966 205f 636f 6e74 6578 742e 7265    if _context.re
+00006690: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+000066a0: 6465 203d 3d20 3430 303a 0d0a 2020 2020  de == 400:..    
+000066b0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+000066c0: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+000066d0: 7661 6c69 6420 7265 7175 6573 7427 2c20  valid request', 
+000066e0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+000066f0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00006700: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00006710: 5f63 6f64 6520 3d3d 2034 3031 3a0d 0a20  _code == 401:.. 
+00006720: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00006730: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00006740: 2749 6e76 616c 6964 2041 5049 206b 6579  'Invalid API key
+00006750: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00006760: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+00006770: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00006780: 7475 735f 636f 6465 203d 3d20 3430 343a  tus_code == 404:
+00006790: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+000067a0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+000067b0: 6f6e 2827 416e 2069 6e66 6f72 6d65 6420  on('An informed 
+000067c0: 7265 736f 7572 6365 2077 6173 206e 6f74  resource was not
+000067d0: 2066 6f75 6e64 272c 205f 636f 6e74 6578   found', _contex
+000067e0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+000067f0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00006800: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00006810: 3d20 3431 323a 0d0a 2020 2020 2020 2020  = 412:..        
+00006820: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00006830: 7863 6570 7469 6f6e 2827 4275 7369 6e65  xception('Busine
+00006840: 7373 2076 616c 6964 6174 696f 6e20 6572  ss validation er
+00006850: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
+00006860: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00006870: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00006880: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00006890: 3232 3a0d 0a20 2020 2020 2020 2020 2020  22:..           
+000068a0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+000068b0: 7074 696f 6e28 2743 6f6e 7472 6163 7420  ption('Contract 
+000068c0: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+000068d0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+000068e0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+000068f0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00006900: 7475 735f 636f 6465 203d 3d20 3530 303a  tus_code == 500:
+00006910: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00006920: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+00006930: 6f6e 2827 496e 7465 726e 616c 2073 6572  on('Internal ser
+00006940: 7665 7220 6572 726f 7227 2c20 5f63 6f6e  ver error', _con
+00006950: 7465 7874 290d 0a20 2020 2020 2020 2073  text)..        s
+00006960: 656c 662e 7661 6c69 6461 7465 5f72 6573  elf.validate_res
+00006970: 706f 6e73 6528 5f63 6f6e 7465 7874 290d  ponse(_context).
+00006980: 0a0d 0a20 2020 2020 2020 2023 2052 6574  ...        # Ret
+00006990: 7572 6e20 6170 7072 6f70 7269 6174 6520  urn appropriate 
+000069a0: 7479 7065 0d0a 2020 2020 2020 2020 7265  type..        re
+000069b0: 7475 726e 2041 5049 4865 6c70 6572 2e6a  turn APIHelper.j
+000069c0: 736f 6e5f 6465 7365 7269 616c 697a 6528  son_deserialize(
+000069d0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+000069e0: 652e 7261 775f 626f 6479 2c20 4765 7453  e.raw_body, GetS
+000069f0: 7562 7363 7269 7074 696f 6e52 6573 706f  ubscriptionRespo
+00006a00: 6e73 652e 6672 6f6d 5f64 6963 7469 6f6e  nse.from_diction
+00006a10: 6172 7929 0d0a 0d0a 2020 2020 6465 6620  ary)....    def 
+00006a20: 6765 745f 7375 6273 6372 6970 7469 6f6e  get_subscription
+00006a30: 5f63 7963 6c65 5f62 795f 6964 2873 656c  _cycle_by_id(sel
+00006a40: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
+00006a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006a60: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
+00006a70: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
+00006a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006aa0: 6379 636c 655f 6964 293a 0d0a 2020 2020  cycle_id):..    
+00006ab0: 2020 2020 2222 2244 6f65 7320 6120 4745      """Does a GE
+00006ac0: 5420 7265 7175 6573 7420 746f 202f 7375  T request to /su
+00006ad0: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
+00006ae0: 7363 7269 7074 696f 6e5f 6964 7d2f 6379  scription_id}/cy
+00006af0: 636c 6573 2f7b 6379 636c 6549 647d 2e0d  cles/{cycleId}..
+00006b00: 0a0d 0a20 2020 2020 2020 2047 6574 5375  ...        GetSu
+00006b10: 6273 6372 6970 7469 6f6e 4379 636c 6542  bscriptionCycleB
+00006b20: 7949 640d 0a0d 0a20 2020 2020 2020 2041  yId....        A
+00006b30: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
+00006b40: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
+00006b50: 6420 2873 7472 696e 6729 3a20 5468 6520  d (string): The 
+00006b60: 7375 6273 6372 6970 7469 6f6e 2069 640d  subscription id.
+00006b70: 0a20 2020 2020 2020 2020 2020 2063 7963  .            cyc
+00006b80: 6c65 5f69 6420 2873 7472 696e 6729 3a20  le_id (string): 
+00006b90: 544f 444f 3a20 7479 7065 2064 6573 6372  TODO: type descr
+00006ba0: 6970 7469 6f6e 2068 6572 652e 2045 7861  iption here. Exa
+00006bb0: 6d70 6c65 3a20 0d0a 0d0a 2020 2020 2020  mple: ....      
+00006bc0: 2020 5265 7475 726e 733a 0d0a 2020 2020    Returns:..    
+00006bd0: 2020 2020 2020 2020 4765 7450 6572 696f          GetPerio
+00006be0: 6452 6573 706f 6e73 653a 2052 6573 706f  dResponse: Respo
+00006bf0: 6e73 6520 6672 6f6d 2074 6865 2041 5049  nse from the API
+00006c00: 2e20 0d0a 0d0a 2020 2020 2020 2020 5261  . ....        Ra
+00006c10: 6973 6573 3a0d 0a20 2020 2020 2020 2020  ises:..         
+00006c20: 2020 2041 5049 4578 6365 7074 696f 6e3a     APIException:
+00006c30: 2057 6865 6e20 616e 2065 7272 6f72 206f   When an error o
+00006c40: 6363 7572 7320 7768 696c 6520 6665 7463  ccurs while fetc
+00006c50: 6869 6e67 2074 6865 2064 6174 6120 6672  hing the data fr
+00006c60: 6f6d 0d0a 2020 2020 2020 2020 2020 2020  om..            
+00006c70: 2020 2020 7468 6520 7265 6d6f 7465 2041      the remote A
+00006c80: 5049 2e20 5468 6973 2065 7863 6570 7469  PI. This excepti
+00006c90: 6f6e 2069 6e63 6c75 6465 7320 7468 6520  on includes the 
+00006ca0: 4854 5450 2052 6573 706f 6e73 650d 0a20  HTTP Response.. 
+00006cb0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00006cc0: 6f64 652c 2061 6e20 6572 726f 7220 6d65  ode, an error me
+00006cd0: 7373 6167 652c 2061 6e64 2074 6865 2048  ssage, and the H
+00006ce0: 5454 5020 626f 6479 2074 6861 7420 7761  TTP body that wa
+00006cf0: 7320 7265 6365 6976 6564 2069 6e0d 0a20  s received in.. 
+00006d00: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00006d10: 6865 2072 6571 7565 7374 2e0d 0a0d 0a20  he request..... 
+00006d20: 2020 2020 2020 2022 2222 0d0a 0d0a 2020         """....  
+00006d30: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+00006d40: 7175 6572 7920 5552 4c0d 0a20 2020 2020  query URL..     
+00006d50: 2020 205f 7572 6c5f 7061 7468 203d 2027     _url_path = '
+00006d60: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
+00006d70: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
+00006d80: 2f63 7963 6c65 732f 7b63 7963 6c65 4964  /cycles/{cycleId
+00006d90: 7d27 0d0a 2020 2020 2020 2020 5f75 726c  }'..        _url
+00006da0: 5f70 6174 6820 3d20 4150 4948 656c 7065  _path = APIHelpe
+00006db0: 722e 6170 7065 6e64 5f75 726c 5f77 6974  r.append_url_wit
+00006dc0: 685f 7465 6d70 6c61 7465 5f70 6172 616d  h_template_param
+00006dd0: 6574 6572 7328 5f75 726c 5f70 6174 682c  eters(_url_path,
+00006de0: 207b 200d 0a20 2020 2020 2020 2020 2020   { ..           
+00006df0: 2027 7375 6273 6372 6970 7469 6f6e 5f69   'subscription_i
+00006e00: 6427 3a20 7375 6273 6372 6970 7469 6f6e  d': subscription
+00006e10: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+00006e20: 2020 2763 7963 6c65 4964 273a 2063 7963    'cycleId': cyc
+00006e30: 6c65 5f69 640d 0a20 2020 2020 2020 207d  le_id..        }
+00006e40: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
+00006e50: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
+00006e60: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
+00006e70: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
+00006e80: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
+00006e90: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
+00006ea0: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
+00006eb0: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
+00006ec0: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
+00006ed0: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
+00006ee0: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
+00006ef0: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
+00006f00: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+00006f10: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
+00006f20: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+00006f30: 0a20 2020 2020 2020 2020 2020 2027 5365  .            'Se
+00006f40: 7276 6963 6552 6566 6572 6572 4e61 6d65  rviceRefererName
+00006f50: 273a 2043 6f6e 6669 6775 7261 7469 6f6e  ': Configuration
+00006f60: 2e73 6572 7669 6365 5f72 6566 6572 6572  .service_referer
+00006f70: 5f6e 616d 650d 0a20 2020 2020 2020 207d  _name..        }
+00006f80: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+00006f90: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
+00006fa0: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
+00006fb0: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
+00006fc0: 6c66 2e68 7474 705f 636c 6965 6e74 2e67  lf.http_client.g
+00006fd0: 6574 285f 7175 6572 795f 7572 6c2c 2068  et(_query_url, h
+00006fe0: 6561 6465 7273 3d5f 6865 6164 6572 7329  eaders=_headers)
+00006ff0: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
+00007000: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
+00007010: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
+00007020: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
+00007030: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
+00007040: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
+00007050: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
+00007060: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
+00007070: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
+00007080: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
+00007090: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
+000070a0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+000070b0: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
+000070c0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+000070d0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+000070e0: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
+000070f0: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
+00007100: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00007110: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00007120: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00007130: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
+00007140: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00007150: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
+00007160: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
+00007170: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00007180: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00007190: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+000071a0: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
+000071b0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+000071c0: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
+000071d0: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
+000071e0: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
+000071f0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00007200: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00007210: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00007220: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
+00007230: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00007240: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00007250: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
+00007260: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
+00007270: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00007280: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00007290: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+000072a0: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
+000072b0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+000072c0: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
+000072d0: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
+000072e0: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
+000072f0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00007300: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00007310: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00007320: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
+00007330: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00007340: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
+00007350: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
+00007360: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00007370: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
+00007380: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
+00007390: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
+000073a0: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
+000073b0: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
+000073c0: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
+000073d0: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
+000073e0: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
+000073f0: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
+00007400: 792c 2047 6574 5065 7269 6f64 5265 7370  y, GetPeriodResp
+00007410: 6f6e 7365 2e66 726f 6d5f 6469 6374 696f  onse.from_dictio
+00007420: 6e61 7279 290d 0a0d 0a20 2020 2064 6566  nary)....    def
+00007430: 2064 656c 6574 655f 6469 7363 6f75 6e74   delete_discount
+00007440: 2873 656c 662c 0d0a 2020 2020 2020 2020  (self,..        
+00007450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007460: 7375 6273 6372 6970 7469 6f6e 5f69 642c  subscription_id,
+00007470: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00007480: 2020 2020 2020 2020 2020 6469 7363 6f75            discou
+00007490: 6e74 5f69 642c 0d0a 2020 2020 2020 2020  nt_id,..        
+000074a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000074b0: 6964 656d 706f 7465 6e63 795f 6b65 793d  idempotency_key=
+000074c0: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
+000074d0: 2222 2244 6f65 7320 6120 4445 4c45 5445  """Does a DELETE
+000074e0: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
+000074f0: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
+00007500: 6372 6970 7469 6f6e 5f69 647d 2f64 6973  cription_id}/dis
+00007510: 636f 756e 7473 2f7b 6469 7363 6f75 6e74  counts/{discount
+00007520: 5f69 647d 2e0d 0a0d 0a20 2020 2020 2020  _id}.....       
+00007530: 2044 656c 6574 6573 2061 2064 6973 636f   Deletes a disco
+00007540: 756e 740d 0a0d 0a20 2020 2020 2020 2041  unt....        A
+00007550: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
+00007560: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
+00007570: 6420 2873 7472 696e 6729 3a20 5375 6273  d (string): Subs
+00007580: 6372 6970 7469 6f6e 2069 640d 0a20 2020  cription id..   
+00007590: 2020 2020 2020 2020 2064 6973 636f 756e           discoun
+000075a0: 745f 6964 2028 7374 7269 6e67 293a 2044  t_id (string): D
+000075b0: 6973 636f 756e 7420 4964 0d0a 2020 2020  iscount Id..    
+000075c0: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+000075d0: 6e63 795f 6b65 7920 2873 7472 696e 672c  ncy_key (string,
+000075e0: 206f 7074 696f 6e61 6c29 3a20 544f 444f   optional): TODO
+000075f0: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
+00007600: 6f6e 2068 6572 652e 0d0a 2020 2020 2020  on here...      
+00007610: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
+00007620: 653a 200d 0a0d 0a20 2020 2020 2020 2052  e: ....        R
+00007630: 6574 7572 6e73 3a0d 0a20 2020 2020 2020  eturns:..       
+00007640: 2020 2020 2047 6574 4469 7363 6f75 6e74       GetDiscount
+00007650: 5265 7370 6f6e 7365 3a20 5265 7370 6f6e  Response: Respon
+00007660: 7365 2066 726f 6d20 7468 6520 4150 492e  se from the API.
+00007670: 200d 0a0d 0a20 2020 2020 2020 2052 6169   ....        Rai
+00007680: 7365 733a 0d0a 2020 2020 2020 2020 2020  ses:..          
+00007690: 2020 4150 4945 7863 6570 7469 6f6e 3a20    APIException: 
+000076a0: 5768 656e 2061 6e20 6572 726f 7220 6f63  When an error oc
+000076b0: 6375 7273 2077 6869 6c65 2066 6574 6368  curs while fetch
+000076c0: 696e 6720 7468 6520 6461 7461 2066 726f  ing the data fro
+000076d0: 6d0d 0a20 2020 2020 2020 2020 2020 2020  m..             
+000076e0: 2020 2074 6865 2072 656d 6f74 6520 4150     the remote AP
+000076f0: 492e 2054 6869 7320 6578 6365 7074 696f  I. This exceptio
+00007700: 6e20 696e 636c 7564 6573 2074 6865 2048  n includes the H
+00007710: 5454 5020 5265 7370 6f6e 7365 0d0a 2020  TTP Response..  
+00007720: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00007730: 6465 2c20 616e 2065 7272 6f72 206d 6573  de, an error mes
+00007740: 7361 6765 2c20 616e 6420 7468 6520 4854  sage, and the HT
+00007750: 5450 2062 6f64 7920 7468 6174 2077 6173  TP body that was
+00007760: 2072 6563 6569 7665 6420 696e 0d0a 2020   received in..  
+00007770: 2020 2020 2020 2020 2020 2020 2020 7468                th
+00007780: 6520 7265 7175 6573 742e 0d0a 0d0a 2020  e request.....  
+00007790: 2020 2020 2020 2222 220d 0a0d 0a20 2020        """....   
+000077a0: 2020 2020 2023 2050 7265 7061 7265 2071       # Prepare q
+000077b0: 7565 7279 2055 524c 0d0a 2020 2020 2020  uery URL..      
+000077c0: 2020 5f75 726c 5f70 6174 6820 3d20 272f    _url_path = '/
+000077d0: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
+000077e0: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
+000077f0: 6469 7363 6f75 6e74 732f 7b64 6973 636f  discounts/{disco
+00007800: 756e 745f 6964 7d27 0d0a 2020 2020 2020  unt_id}'..      
+00007810: 2020 5f75 726c 5f70 6174 6820 3d20 4150    _url_path = AP
+00007820: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
+00007830: 726c 5f77 6974 685f 7465 6d70 6c61 7465  rl_with_template
+00007840: 5f70 6172 616d 6574 6572 7328 5f75 726c  _parameters(_url
+00007850: 5f70 6174 682c 207b 200d 0a20 2020 2020  _path, { ..     
+00007860: 2020 2020 2020 2027 7375 6273 6372 6970         'subscrip
+00007870: 7469 6f6e 5f69 6427 3a20 7375 6273 6372  tion_id': subscr
+00007880: 6970 7469 6f6e 5f69 642c 0d0a 2020 2020  iption_id,..    
+00007890: 2020 2020 2020 2020 2764 6973 636f 756e          'discoun
+000078a0: 745f 6964 273a 2064 6973 636f 756e 745f  t_id': discount_
+000078b0: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
+000078c0: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
+000078d0: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
+000078e0: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
+000078f0: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00007900: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
+00007910: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
+00007920: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
+00007930: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
+00007940: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
+00007950: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00007960: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
+00007970: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
+00007980: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
+00007990: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
+000079a0: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
+000079b0: 2020 2020 2020 2020 2020 2753 6572 7669            'Servi
+000079c0: 6365 5265 6665 7265 724e 616d 6527 3a20  ceRefererName': 
+000079d0: 436f 6e66 6967 7572 6174 696f 6e2e 7365  Configuration.se
+000079e0: 7276 6963 655f 7265 6665 7265 725f 6e61  rvice_referer_na
+000079f0: 6d65 2c0d 0a20 2020 2020 2020 2020 2020  me,..           
+00007a00: 2027 6964 656d 706f 7465 6e63 792d 6b65   'idempotency-ke
+00007a10: 7927 3a20 6964 656d 706f 7465 6e63 795f  y': idempotency_
+00007a20: 6b65 790d 0a20 2020 2020 2020 207d 0d0a  key..        }..
+00007a30: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00007a40: 6172 6520 616e 6420 6578 6563 7574 6520  are and execute 
+00007a50: 7265 7175 6573 740d 0a20 2020 2020 2020  request..       
+00007a60: 205f 7265 7175 6573 7420 3d20 7365 6c66   _request = self
+00007a70: 2e68 7474 705f 636c 6965 6e74 2e64 656c  .http_client.del
+00007a80: 6574 6528 5f71 7565 7279 5f75 726c 2c20  ete(_query_url, 
+00007a90: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
+00007aa0: 290d 0a20 2020 2020 2020 2042 6173 6963  )..        Basic
+00007ab0: 4175 7468 2e61 7070 6c79 285f 7265 7175  Auth.apply(_requ
+00007ac0: 6573 7429 0d0a 2020 2020 2020 2020 5f63  est)..        _c
+00007ad0: 6f6e 7465 7874 203d 2073 656c 662e 6578  ontext = self.ex
+00007ae0: 6563 7574 655f 7265 7175 6573 7428 5f72  ecute_request(_r
+00007af0: 6571 7565 7374 290d 0a0d 0a20 2020 2020  equest)....     
+00007b00: 2020 2023 2045 6e64 706f 696e 7420 616e     # Endpoint an
+00007b10: 6420 676c 6f62 616c 2065 7272 6f72 2068  d global error h
+00007b20: 616e 646c 696e 6720 7573 696e 6720 4854  andling using HT
+00007b30: 5450 2073 7461 7475 7320 636f 6465 732e  TP status codes.
+00007b40: 0d0a 2020 2020 2020 2020 6966 205f 636f  ..        if _co
+00007b50: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00007b60: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+00007b70: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+00007b80: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00007b90: 7469 6f6e 2827 496e 7661 6c69 6420 7265  tion('Invalid re
+00007ba0: 7175 6573 7427 2c20 5f63 6f6e 7465 7874  quest', _context
+00007bb0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00007bc0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00007bd0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00007be0: 2034 3031 3a0d 0a20 2020 2020 2020 2020   401:..         
+00007bf0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00007c00: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+00007c10: 2041 5049 206b 6579 272c 205f 636f 6e74   API key', _cont
+00007c20: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00007c30: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00007c40: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00007c50: 203d 3d20 3430 343a 0d0a 2020 2020 2020   == 404:..      
+00007c60: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00007c70: 7245 7863 6570 7469 6f6e 2827 416e 2069  rException('An i
+00007c80: 6e66 6f72 6d65 6420 7265 736f 7572 6365  nformed resource
+00007c90: 2077 6173 206e 6f74 2066 6f75 6e64 272c   was not found',
+00007ca0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00007cb0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00007cc0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00007cd0: 735f 636f 6465 203d 3d20 3431 323a 0d0a  s_code == 412:..
+00007ce0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00007cf0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00007d00: 2827 4275 7369 6e65 7373 2076 616c 6964  ('Business valid
+00007d10: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+00007d20: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00007d30: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00007d40: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00007d50: 6f64 6520 3d3d 2034 3232 3a0d 0a20 2020  ode == 422:..   
+00007d60: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00007d70: 7272 6f72 4578 6365 7074 696f 6e28 2743  rrorException('C
+00007d80: 6f6e 7472 6163 7420 7661 6c69 6461 7469  ontract validati
+00007d90: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
+00007da0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00007db0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00007dc0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00007dd0: 203d 3d20 3530 303a 0d0a 2020 2020 2020   == 500:..      
+00007de0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00007df0: 7245 7863 6570 7469 6f6e 2827 496e 7465  rException('Inte
+00007e00: 726e 616c 2073 6572 7665 7220 6572 726f  rnal server erro
+00007e10: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+00007e20: 2020 2020 2020 2073 656c 662e 7661 6c69         self.vali
+00007e30: 6461 7465 5f72 6573 706f 6e73 6528 5f63  date_response(_c
+00007e40: 6f6e 7465 7874 290d 0a0d 0a20 2020 2020  ontext)....     
+00007e50: 2020 2023 2052 6574 7572 6e20 6170 7072     # Return appr
+00007e60: 6f70 7269 6174 6520 7479 7065 0d0a 2020  opriate type..  
+00007e70: 2020 2020 2020 7265 7475 726e 2041 5049        return API
+00007e80: 4865 6c70 6572 2e6a 736f 6e5f 6465 7365  Helper.json_dese
+00007e90: 7269 616c 697a 6528 5f63 6f6e 7465 7874  rialize(_context
+00007ea0: 2e72 6573 706f 6e73 652e 7261 775f 626f  .response.raw_bo
+00007eb0: 6479 2c20 4765 7444 6973 636f 756e 7452  dy, GetDiscountR
+00007ec0: 6573 706f 6e73 652e 6672 6f6d 5f64 6963  esponse.from_dic
+00007ed0: 7469 6f6e 6172 7929 0d0a 0d0a 2020 2020  tionary)....    
+00007ee0: 6465 6620 6765 745f 7375 6273 6372 6970  def get_subscrip
+00007ef0: 7469 6f6e 5f69 7465 6d73 2873 656c 662c  tion_items(self,
+00007f00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00007f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f20: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+00007f30: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00007f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f50: 2020 7061 6765 3d4e 6f6e 652c 0d0a 2020    page=None,..  
+00007f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f70: 2020 2020 2020 2020 2020 2020 2073 697a               siz
+00007f80: 653d 4e6f 6e65 2c0d 0a20 2020 2020 2020  e=None,..       
+00007f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007fa0: 2020 2020 2020 2020 6e61 6d65 3d4e 6f6e          name=Non
+00007fb0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+00007fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007fd0: 2020 2063 6f64 653d 4e6f 6e65 2c0d 0a20     code=None,.. 
+00007fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007ff0: 2020 2020 2020 2020 2020 2020 2020 7374                st
+00008000: 6174 7573 3d4e 6f6e 652c 0d0a 2020 2020  atus=None,..    
+00008010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008020: 2020 2020 2020 2020 2020 2064 6573 6372             descr
+00008030: 6970 7469 6f6e 3d4e 6f6e 652c 0d0a 2020  iption=None,..  
+00008040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008050: 2020 2020 2020 2020 2020 2020 2063 7265               cre
+00008060: 6174 6564 5f73 696e 6365 3d4e 6f6e 652c  ated_since=None,
+00008070: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00008080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008090: 2063 7265 6174 6564 5f75 6e74 696c 3d4e   created_until=N
+000080a0: 6f6e 6529 3a0d 0a20 2020 2020 2020 2022  one):..        "
+000080b0: 2222 446f 6573 2061 2047 4554 2072 6571  ""Does a GET req
+000080c0: 7565 7374 2074 6f20 2f73 7562 7363 7269  uest to /subscri
+000080d0: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
+000080e0: 7469 6f6e 5f69 647d 2f69 7465 6d73 2e0d  tion_id}/items..
+000080f0: 0a0d 0a20 2020 2020 2020 2047 6574 2053  ...        Get S
+00008100: 7562 7363 7269 7074 696f 6e20 4974 656d  ubscription Item
+00008110: 730d 0a0d 0a20 2020 2020 2020 2041 7267  s....        Arg
+00008120: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00008130: 7375 6273 6372 6970 7469 6f6e 5f69 6420  subscription_id 
+00008140: 2873 7472 696e 6729 3a20 5468 6520 7375  (string): The su
+00008150: 6273 6372 6970 7469 6f6e 2069 640d 0a20  bscription id.. 
+00008160: 2020 2020 2020 2020 2020 2070 6167 6520             page 
+00008170: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+00008180: 2050 6167 6520 6e75 6d62 6572 0d0a 2020   Page number..  
+00008190: 2020 2020 2020 2020 2020 7369 7a65 2028            size (
+000081a0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+000081b0: 5061 6765 2073 697a 650d 0a20 2020 2020  Page size..     
+000081c0: 2020 2020 2020 206e 616d 6520 2873 7472         name (str
+000081d0: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
+000081e0: 5468 6520 6974 656d 206e 616d 650d 0a20  The item name.. 
+000081f0: 2020 2020 2020 2020 2020 2063 6f64 6520             code 
+00008200: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
+00008210: 6c29 3a20 4964 656e 7469 6669 6361 7469  l): Identificati
+00008220: 6f6e 2063 6f64 6520 696e 2074 6865 2063  on code in the c
+00008230: 6c69 656e 7420 7379 7374 656d 0d0a 2020  lient system..  
+00008240: 2020 2020 2020 2020 2020 7374 6174 7573            status
+00008250: 2028 7374 7269 6e67 2c20 6f70 7469 6f6e   (string, option
+00008260: 616c 293a 2054 6865 2069 7465 6d20 7374  al): The item st
+00008270: 6174 6973 0d0a 2020 2020 2020 2020 2020  atis..          
+00008280: 2020 6465 7363 7269 7074 696f 6e20 2873    description (s
+00008290: 7472 696e 672c 206f 7074 696f 6e61 6c29  tring, optional)
+000082a0: 3a20 5468 6520 6974 656d 2064 6573 6372  : The item descr
+000082b0: 6970 7469 6f6e 0d0a 2020 2020 2020 2020  iption..        
+000082c0: 2020 2020 6372 6561 7465 645f 7369 6e63      created_sinc
+000082d0: 6520 2873 7472 696e 672c 206f 7074 696f  e (string, optio
+000082e0: 6e61 6c29 3a20 4669 6c74 6572 2066 6f72  nal): Filter for
+000082f0: 2069 7465 6d27 7320 6372 6561 7469 6f6e   item's creation
+00008300: 2064 6174 650d 0a20 2020 2020 2020 2020   date..         
+00008310: 2020 2020 2020 2073 7461 7274 2072 616e         start ran
+00008320: 6765 0d0a 2020 2020 2020 2020 2020 2020  ge..            
+00008330: 6372 6561 7465 645f 756e 7469 6c20 2873  created_until (s
+00008340: 7472 696e 672c 206f 7074 696f 6e61 6c29  tring, optional)
+00008350: 3a20 4669 6c74 6572 2066 6f72 2069 7465  : Filter for ite
+00008360: 6d27 7320 6372 6561 7469 6f6e 2064 6174  m's creation dat
+00008370: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+00008380: 2020 2065 6e64 2072 616e 6765 0d0a 0d0a     end range....
+00008390: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+000083a0: 0d0a 2020 2020 2020 2020 2020 2020 4c69  ..            Li
+000083b0: 7374 5375 6273 6372 6970 7469 6f6e 4974  stSubscriptionIt
+000083c0: 656d 7352 6573 706f 6e73 653a 2052 6573  emsResponse: Res
+000083d0: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
+000083e0: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
+000083f0: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
+00008400: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
+00008410: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
+00008420: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
+00008430: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
+00008440: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
+00008450: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
+00008460: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
+00008470: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
+00008480: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
+00008490: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000084a0: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
+000084b0: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
+000084c0: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
+000084d0: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
+000084e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000084f0: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
+00008500: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
+00008510: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+00008520: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
+00008530: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+00008540: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
+00008550: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
+00008560: 647d 2f69 7465 6d73 270d 0a20 2020 2020  d}/items'..     
+00008570: 2020 205f 7572 6c5f 7061 7468 203d 2041     _url_path = A
+00008580: 5049 4865 6c70 6572 2e61 7070 656e 645f  PIHelper.append_
+00008590: 7572 6c5f 7769 7468 5f74 656d 706c 6174  url_with_templat
+000085a0: 655f 7061 7261 6d65 7465 7273 285f 7572  e_parameters(_ur
+000085b0: 6c5f 7061 7468 2c20 7b20 0d0a 2020 2020  l_path, { ..    
+000085c0: 2020 2020 2020 2020 2773 7562 7363 7269          'subscri
+000085d0: 7074 696f 6e5f 6964 273a 2073 7562 7363  ption_id': subsc
+000085e0: 7269 7074 696f 6e5f 6964 0d0a 2020 2020  ription_id..    
+000085f0: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
+00008600: 5f71 7565 7279 5f62 7569 6c64 6572 203d  _query_builder =
+00008610: 2043 6f6e 6669 6775 7261 7469 6f6e 2e62   Configuration.b
+00008620: 6173 655f 7572 690d 0a20 2020 2020 2020  ase_uri..       
+00008630: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+00008640: 2b3d 205f 7572 6c5f 7061 7468 0d0a 2020  += _url_path..  
+00008650: 2020 2020 2020 5f71 7565 7279 5f70 6172        _query_par
+00008660: 616d 6574 6572 7320 3d20 7b0d 0a20 2020  ameters = {..   
+00008670: 2020 2020 2020 2020 2027 7061 6765 273a           'page':
+00008680: 2070 6167 652c 0d0a 2020 2020 2020 2020   page,..        
+00008690: 2020 2020 2773 697a 6527 3a20 7369 7a65      'size': size
+000086a0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+000086b0: 6e61 6d65 273a 206e 616d 652c 0d0a 2020  name': name,..  
+000086c0: 2020 2020 2020 2020 2020 2763 6f64 6527            'code'
+000086d0: 3a20 636f 6465 2c0d 0a20 2020 2020 2020  : code,..       
+000086e0: 2020 2020 2027 7374 6174 7573 273a 2073       'status': s
+000086f0: 7461 7475 732c 0d0a 2020 2020 2020 2020  tatus,..        
+00008700: 2020 2020 2764 6573 6372 6970 7469 6f6e      'description
+00008710: 273a 2064 6573 6372 6970 7469 6f6e 2c0d  ': description,.
+00008720: 0a20 2020 2020 2020 2020 2020 2027 6372  .            'cr
+00008730: 6561 7465 645f 7369 6e63 6527 3a20 6372  eated_since': cr
+00008740: 6561 7465 645f 7369 6e63 652c 0d0a 2020  eated_since,..  
+00008750: 2020 2020 2020 2020 2020 2763 7265 6174            'creat
+00008760: 6564 5f75 6e74 696c 273a 2063 7265 6174  ed_until': creat
+00008770: 6564 5f75 6e74 696c 0d0a 2020 2020 2020  ed_until..      
+00008780: 2020 7d0d 0a20 2020 2020 2020 205f 7175    }..        _qu
+00008790: 6572 795f 6275 696c 6465 7220 3d20 4150  ery_builder = AP
+000087a0: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
+000087b0: 726c 5f77 6974 685f 7175 6572 795f 7061  rl_with_query_pa
+000087c0: 7261 6d65 7465 7273 285f 7175 6572 795f  rameters(_query_
+000087d0: 6275 696c 6465 722c 0d0a 2020 2020 2020  builder,..      
+000087e0: 2020 2020 2020 5f71 7565 7279 5f70 6172        _query_par
+000087f0: 616d 6574 6572 732c 2043 6f6e 6669 6775  ameters, Configu
+00008800: 7261 7469 6f6e 2e61 7272 6179 5f73 6572  ration.array_ser
+00008810: 6961 6c69 7a61 7469 6f6e 290d 0a20 2020  ialization)..   
+00008820: 2020 2020 205f 7175 6572 795f 7572 6c20       _query_url 
+00008830: 3d20 4150 4948 656c 7065 722e 636c 6561  = APIHelper.clea
+00008840: 6e5f 7572 6c28 5f71 7565 7279 5f62 7569  n_url(_query_bui
+00008850: 6c64 6572 290d 0a0d 0a20 2020 2020 2020  lder)....       
+00008860: 2023 2050 7265 7061 7265 2068 6561 6465   # Prepare heade
+00008870: 7273 0d0a 2020 2020 2020 2020 5f68 6561  rs..        _hea
+00008880: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
+00008890: 2020 2020 2020 2761 6363 6570 7427 3a20        'accept': 
+000088a0: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
+000088b0: 6e27 2c0d 0a20 2020 2020 2020 2020 2020  n',..           
+000088c0: 2027 5365 7276 6963 6552 6566 6572 6572   'ServiceReferer
+000088d0: 4e61 6d65 273a 2043 6f6e 6669 6775 7261  Name': Configura
+000088e0: 7469 6f6e 2e73 6572 7669 6365 5f72 6566  tion.service_ref
+000088f0: 6572 6572 5f6e 616d 650d 0a20 2020 2020  erer_name..     
+00008900: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
+00008910: 2320 5072 6570 6172 6520 616e 6420 6578  # Prepare and ex
+00008920: 6563 7574 6520 7265 7175 6573 740d 0a20  ecute request.. 
+00008930: 2020 2020 2020 205f 7265 7175 6573 7420         _request 
+00008940: 3d20 7365 6c66 2e68 7474 705f 636c 6965  = self.http_clie
+00008950: 6e74 2e67 6574 285f 7175 6572 795f 7572  nt.get(_query_ur
+00008960: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
+00008970: 6572 7329 0d0a 2020 2020 2020 2020 4261  ers)..        Ba
+00008980: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
+00008990: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
+000089a0: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
+000089b0: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
+000089c0: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
+000089d0: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
+000089e0: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
+000089f0: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
+00008a00: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
+00008a10: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
+00008a20: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00008a30: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00008a40: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
+00008a50: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00008a60: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+00008a70: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
+00008a80: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00008a90: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00008aa0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00008ab0: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
+00008ac0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00008ad0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+00008ae0: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
+00008af0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00008b00: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00008b10: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00008b20: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
+00008b30: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00008b40: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
+00008b50: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
+00008b60: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
+00008b70: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
+00008b80: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+00008b90: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00008ba0: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
+00008bb0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00008bc0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00008bd0: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
+00008be0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+00008bf0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00008c00: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00008c10: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00008c20: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
+00008c30: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00008c40: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00008c50: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
+00008c60: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+00008c70: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00008c80: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00008c90: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00008ca0: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
+00008cb0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00008cc0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+00008cd0: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
+00008ce0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+00008cf0: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
+00008d00: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
+00008d10: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
+00008d20: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
+00008d30: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
+00008d40: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00008d50: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
+00008d60: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
+00008d70: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
+00008d80: 5f62 6f64 792c 204c 6973 7453 7562 7363  _body, ListSubsc
+00008d90: 7269 7074 696f 6e49 7465 6d73 5265 7370  riptionItemsResp
+00008da0: 6f6e 7365 2e66 726f 6d5f 6469 6374 696f  onse.from_dictio
+00008db0: 6e61 7279 290d 0a0d 0a20 2020 2064 6566  nary)....    def
+00008dc0: 2075 7064 6174 655f 7375 6273 6372 6970   update_subscrip
+00008dd0: 7469 6f6e 5f69 7465 6d28 7365 6c66 2c0d  tion_item(self,.
+00008de0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008e00: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
+00008e10: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
 00008e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e30: 2020 2020 636f 6465 3d4e 6f6e 652c 0d0a      code=None,..
+00008e30: 2020 2020 2069 7465 6d5f 6964 2c0d 0a20       item_id,.. 
 00008e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e50: 2020 2020 2020 2020 2020 6269 6c6c 696e            billin
-00008e60: 675f 7479 7065 3d4e 6f6e 652c 0d0a 2020  g_type=None,..  
+00008e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008e60: 626f 6479 2c0d 0a20 2020 2020 2020 2020  body,..         
 00008e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e80: 2020 2020 2020 2020 6375 7374 6f6d 6572          customer
-00008e90: 5f69 643d 4e6f 6e65 2c0d 0a20 2020 2020  _id=None,..     
-00008ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008eb0: 2020 2020 2070 6c61 6e5f 6964 3d4e 6f6e       plan_id=Non
-00008ec0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00008ed0: 2020 2020 2020 2020 2020 2020 2020 6361                ca
-00008ee0: 7264 5f69 643d 4e6f 6e65 2c0d 0a20 2020  rd_id=None,..   
-00008ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f00: 2020 2020 2020 2073 7461 7475 733d 4e6f         status=No
-00008f10: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
-00008f20: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00008f30: 6578 745f 6269 6c6c 696e 675f 7369 6e63  ext_billing_sinc
-00008f40: 653d 4e6f 6e65 2c0d 0a20 2020 2020 2020  e=None,..       
-00008f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f60: 2020 206e 6578 745f 6269 6c6c 696e 675f     next_billing_
-00008f70: 756e 7469 6c3d 4e6f 6e65 2c0d 0a20 2020  until=None,..   
-00008f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f90: 2020 2020 2020 2063 7265 6174 6564 5f73         created_s
-00008fa0: 696e 6365 3d4e 6f6e 652c 0d0a 2020 2020  ince=None,..    
-00008fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008fc0: 2020 2020 2020 6372 6561 7465 645f 756e        created_un
-00008fd0: 7469 6c3d 4e6f 6e65 293a 0d0a 2020 2020  til=None):..    
-00008fe0: 2020 2020 2222 2244 6f65 7320 6120 4745      """Does a GE
-00008ff0: 5420 7265 7175 6573 7420 746f 202f 7375  T request to /su
-00009000: 6273 6372 6970 7469 6f6e 732e 0d0a 0d0a  bscriptions.....
-00009010: 2020 2020 2020 2020 4765 7473 2061 6c6c          Gets all
-00009020: 2073 7562 7363 7269 7074 696f 6e73 0d0a   subscriptions..
-00009030: 0d0a 2020 2020 2020 2020 4172 6773 3a0d  ..        Args:.
-00009040: 0a20 2020 2020 2020 2020 2020 2070 6167  .            pag
-00009050: 6520 2869 6e74 2c20 6f70 7469 6f6e 616c  e (int, optional
-00009060: 293a 2050 6167 6520 6e75 6d62 6572 0d0a  ): Page number..
-00009070: 2020 2020 2020 2020 2020 2020 7369 7a65              size
-00009080: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00009090: 3a20 5061 6765 2073 697a 650d 0a20 2020  : Page size..   
-000090a0: 2020 2020 2020 2020 2063 6f64 6520 2873           code (s
-000090b0: 7472 696e 672c 206f 7074 696f 6e61 6c29  tring, optional)
-000090c0: 3a20 4669 6c74 6572 2066 6f72 2073 7562  : Filter for sub
-000090d0: 7363 7269 7074 696f 6e27 7320 636f 6465  scription's code
-000090e0: 0d0a 2020 2020 2020 2020 2020 2020 6269  ..            bi
-000090f0: 6c6c 696e 675f 7479 7065 2028 7374 7269  lling_type (stri
-00009100: 6e67 2c20 6f70 7469 6f6e 616c 293a 2046  ng, optional): F
-00009110: 696c 7465 7220 666f 7220 7375 6273 6372  ilter for subscr
-00009120: 6970 7469 6f6e 2773 2062 696c 6c69 6e67  iption's billing
-00009130: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00009140: 2020 7479 7065 0d0a 2020 2020 2020 2020    type..        
-00009150: 2020 2020 6375 7374 6f6d 6572 5f69 6420      customer_id 
-00009160: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
-00009170: 6c29 3a20 4669 6c74 6572 2066 6f72 2073  l): Filter for s
-00009180: 7562 7363 7269 7074 696f 6e27 7320 6375  ubscription's cu
-00009190: 7374 6f6d 6572 0d0a 2020 2020 2020 2020  stomer..        
-000091a0: 2020 2020 2020 2020 6964 0d0a 2020 2020          id..    
-000091b0: 2020 2020 2020 2020 706c 616e 5f69 6420          plan_id 
-000091c0: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
-000091d0: 6c29 3a20 4669 6c74 6572 2066 6f72 2073  l): Filter for s
-000091e0: 7562 7363 7269 7074 696f 6e27 7320 706c  ubscription's pl
-000091f0: 616e 2069 640d 0a20 2020 2020 2020 2020  an id..         
-00009200: 2020 2063 6172 645f 6964 2028 7374 7269     card_id (stri
-00009210: 6e67 2c20 6f70 7469 6f6e 616c 293a 2046  ng, optional): F
-00009220: 696c 7465 7220 666f 7220 7375 6273 6372  ilter for subscr
-00009230: 6970 7469 6f6e 2773 2063 6172 6420 6964  iption's card id
-00009240: 0d0a 2020 2020 2020 2020 2020 2020 7374  ..            st
-00009250: 6174 7573 2028 7374 7269 6e67 2c20 6f70  atus (string, op
-00009260: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00009270: 666f 7220 7375 6273 6372 6970 7469 6f6e  for subscription
-00009280: 2773 2073 7461 7475 730d 0a20 2020 2020  's status..     
-00009290: 2020 2020 2020 206e 6578 745f 6269 6c6c         next_bill
-000092a0: 696e 675f 7369 6e63 6520 2864 6174 6574  ing_since (datet
-000092b0: 696d 652c 206f 7074 696f 6e61 6c29 3a20  ime, optional): 
-000092c0: 4669 6c74 6572 2066 6f72 2073 7562 7363  Filter for subsc
-000092d0: 7269 7074 696f 6e27 730d 0a20 2020 2020  ription's..     
-000092e0: 2020 2020 2020 2020 2020 206e 6578 7420             next 
-000092f0: 6269 6c6c 696e 6720 6461 7465 2073 7461  billing date sta
-00009300: 7274 2072 616e 6765 0d0a 2020 2020 2020  rt range..      
-00009310: 2020 2020 2020 6e65 7874 5f62 696c 6c69        next_billi
-00009320: 6e67 5f75 6e74 696c 2028 6461 7465 7469  ng_until (dateti
-00009330: 6d65 2c20 6f70 7469 6f6e 616c 293a 2046  me, optional): F
-00009340: 696c 7465 7220 666f 7220 7375 6273 6372  ilter for subscr
-00009350: 6970 7469 6f6e 2773 0d0a 2020 2020 2020  iption's..      
-00009360: 2020 2020 2020 2020 2020 6e65 7874 2062            next b
-00009370: 696c 6c69 6e67 2064 6174 6520 656e 6420  illing date end 
-00009380: 7261 6e67 650d 0a20 2020 2020 2020 2020  range..         
-00009390: 2020 2063 7265 6174 6564 5f73 696e 6365     created_since
-000093a0: 2028 6461 7465 7469 6d65 2c20 6f70 7469   (datetime, opti
-000093b0: 6f6e 616c 293a 2046 696c 7465 7220 666f  onal): Filter fo
-000093c0: 7220 7375 6273 6372 6970 7469 6f6e 2773  r subscription's
-000093d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000093e0: 2020 6372 6561 7469 6f6e 2064 6174 6520    creation date 
-000093f0: 7374 6172 7420 7261 6e67 650d 0a20 2020  start range..   
-00009400: 2020 2020 2020 2020 2063 7265 6174 6564           created
-00009410: 5f75 6e74 696c 2028 6461 7465 7469 6d65  _until (datetime
-00009420: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-00009430: 7465 7220 666f 7220 7375 6273 6372 6970  ter for subscrip
-00009440: 7469 6f6e 730d 0a20 2020 2020 2020 2020  tions..         
-00009450: 2020 2020 2020 2063 7265 6174 696f 6e20         creation 
-00009460: 6461 7465 2065 6e64 2072 616e 6765 0d0a  date end range..
-00009470: 0d0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00009480: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00009490: 4c69 7374 5375 6273 6372 6970 7469 6f6e  ListSubscription
-000094a0: 7352 6573 706f 6e73 653a 2052 6573 706f  sResponse: Respo
-000094b0: 6e73 6520 6672 6f6d 2074 6865 2041 5049  nse from the API
-000094c0: 2e20 0d0a 0d0a 2020 2020 2020 2020 5261  . ....        Ra
-000094d0: 6973 6573 3a0d 0a20 2020 2020 2020 2020  ises:..         
-000094e0: 2020 2041 5049 4578 6365 7074 696f 6e3a     APIException:
-000094f0: 2057 6865 6e20 616e 2065 7272 6f72 206f   When an error o
-00009500: 6363 7572 7320 7768 696c 6520 6665 7463  ccurs while fetc
-00009510: 6869 6e67 2074 6865 2064 6174 6120 6672  hing the data fr
-00009520: 6f6d 0d0a 2020 2020 2020 2020 2020 2020  om..            
-00009530: 2020 2020 7468 6520 7265 6d6f 7465 2041      the remote A
-00009540: 5049 2e20 5468 6973 2065 7863 6570 7469  PI. This excepti
-00009550: 6f6e 2069 6e63 6c75 6465 7320 7468 6520  on includes the 
-00009560: 4854 5450 2052 6573 706f 6e73 650d 0a20  HTTP Response.. 
-00009570: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00009580: 6f64 652c 2061 6e20 6572 726f 7220 6d65  ode, an error me
-00009590: 7373 6167 652c 2061 6e64 2074 6865 2048  ssage, and the H
-000095a0: 5454 5020 626f 6479 2074 6861 7420 7761  TTP body that wa
-000095b0: 7320 7265 6365 6976 6564 2069 6e0d 0a20  s received in.. 
-000095c0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-000095d0: 6865 2072 6571 7565 7374 2e0d 0a0d 0a20  he request..... 
-000095e0: 2020 2020 2020 2022 2222 0d0a 0d0a 2020         """....  
-000095f0: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00009600: 7175 6572 7920 5552 4c0d 0a20 2020 2020  query URL..     
-00009610: 2020 205f 7572 6c5f 7061 7468 203d 2027     _url_path = '
-00009620: 2f73 7562 7363 7269 7074 696f 6e73 270d  /subscriptions'.
-00009630: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00009640: 6275 696c 6465 7220 3d20 436f 6e66 6967  builder = Config
-00009650: 7572 6174 696f 6e2e 6261 7365 5f75 7269  uration.base_uri
-00009660: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
-00009670: 5f62 7569 6c64 6572 202b 3d20 5f75 726c  _builder += _url
-00009680: 5f70 6174 680d 0a20 2020 2020 2020 205f  _path..        _
-00009690: 7175 6572 795f 7061 7261 6d65 7465 7273  query_parameters
-000096a0: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-000096b0: 2020 2770 6167 6527 3a20 7061 6765 2c0d    'page': page,.
-000096c0: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
-000096d0: 7a65 273a 2073 697a 652c 0d0a 2020 2020  ze': size,..    
-000096e0: 2020 2020 2020 2020 2763 6f64 6527 3a20          'code': 
-000096f0: 636f 6465 2c0d 0a20 2020 2020 2020 2020  code,..         
-00009700: 2020 2027 6269 6c6c 696e 675f 7479 7065     'billing_type
-00009710: 273a 2062 696c 6c69 6e67 5f74 7970 652c  ': billing_type,
-00009720: 0d0a 2020 2020 2020 2020 2020 2020 2763  ..            'c
-00009730: 7573 746f 6d65 725f 6964 273a 2063 7573  ustomer_id': cus
-00009740: 746f 6d65 725f 6964 2c0d 0a20 2020 2020  tomer_id,..     
-00009750: 2020 2020 2020 2027 706c 616e 5f69 6427         'plan_id'
-00009760: 3a20 706c 616e 5f69 642c 0d0a 2020 2020  : plan_id,..    
-00009770: 2020 2020 2020 2020 2763 6172 645f 6964          'card_id
-00009780: 273a 2063 6172 645f 6964 2c0d 0a20 2020  ': card_id,..   
-00009790: 2020 2020 2020 2020 2027 7374 6174 7573           'status
-000097a0: 273a 2073 7461 7475 732c 0d0a 2020 2020  ': status,..    
-000097b0: 2020 2020 2020 2020 276e 6578 745f 6269          'next_bi
-000097c0: 6c6c 696e 675f 7369 6e63 6527 3a20 4150  lling_since': AP
-000097d0: 4948 656c 7065 722e 7768 656e 5f64 6566  IHelper.when_def
-000097e0: 696e 6564 2841 5049 4865 6c70 6572 2e52  ined(APIHelper.R
-000097f0: 4643 3333 3339 4461 7465 5469 6d65 2c20  FC3339DateTime, 
-00009800: 6e65 7874 5f62 696c 6c69 6e67 5f73 696e  next_billing_sin
-00009810: 6365 292c 0d0a 2020 2020 2020 2020 2020  ce),..          
-00009820: 2020 276e 6578 745f 6269 6c6c 696e 675f    'next_billing_
-00009830: 756e 7469 6c27 3a20 4150 4948 656c 7065  until': APIHelpe
-00009840: 722e 7768 656e 5f64 6566 696e 6564 2841  r.when_defined(A
-00009850: 5049 4865 6c70 6572 2e52 4643 3333 3339  PIHelper.RFC3339
-00009860: 4461 7465 5469 6d65 2c20 6e65 7874 5f62  DateTime, next_b
-00009870: 696c 6c69 6e67 5f75 6e74 696c 292c 0d0a  illing_until),..
-00009880: 2020 2020 2020 2020 2020 2020 2763 7265              'cre
-00009890: 6174 6564 5f73 696e 6365 273a 2041 5049  ated_since': API
-000098a0: 4865 6c70 6572 2e77 6865 6e5f 6465 6669  Helper.when_defi
-000098b0: 6e65 6428 4150 4948 656c 7065 722e 5246  ned(APIHelper.RF
-000098c0: 4333 3333 3944 6174 6554 696d 652c 2063  C3339DateTime, c
-000098d0: 7265 6174 6564 5f73 696e 6365 292c 0d0a  reated_since),..
-000098e0: 2020 2020 2020 2020 2020 2020 2763 7265              'cre
-000098f0: 6174 6564 5f75 6e74 696c 273a 2041 5049  ated_until': API
-00009900: 4865 6c70 6572 2e77 6865 6e5f 6465 6669  Helper.when_defi
-00009910: 6e65 6428 4150 4948 656c 7065 722e 5246  ned(APIHelper.RF
-00009920: 4333 3333 3944 6174 6554 696d 652c 2063  C3339DateTime, c
-00009930: 7265 6174 6564 5f75 6e74 696c 290d 0a20  reated_until).. 
-00009940: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
-00009950: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-00009960: 203d 2041 5049 4865 6c70 6572 2e61 7070   = APIHelper.app
-00009970: 656e 645f 7572 6c5f 7769 7468 5f71 7565  end_url_with_que
-00009980: 7279 5f70 6172 616d 6574 6572 7328 5f71  ry_parameters(_q
-00009990: 7565 7279 5f62 7569 6c64 6572 2c0d 0a20  uery_builder,.. 
-000099a0: 2020 2020 2020 2020 2020 205f 7175 6572             _quer
-000099b0: 795f 7061 7261 6d65 7465 7273 2c20 436f  y_parameters, Co
-000099c0: 6e66 6967 7572 6174 696f 6e2e 6172 7261  nfiguration.arra
-000099d0: 795f 7365 7269 616c 697a 6174 696f 6e29  y_serialization)
-000099e0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
-000099f0: 5f75 726c 203d 2041 5049 4865 6c70 6572  _url = APIHelper
-00009a00: 2e63 6c65 616e 5f75 726c 285f 7175 6572  .clean_url(_quer
-00009a10: 795f 6275 696c 6465 7229 0d0a 0d0a 2020  y_builder)....  
-00009a20: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00009a30: 6865 6164 6572 730d 0a20 2020 2020 2020  headers..       
-00009a40: 205f 6865 6164 6572 7320 3d20 7b0d 0a20   _headers = {.. 
-00009a50: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
-00009a60: 7074 273a 2027 6170 706c 6963 6174 696f  pt': 'applicatio
-00009a70: 6e2f 6a73 6f6e 270d 0a20 2020 2020 2020  n/json'..       
-00009a80: 207d 0d0a 0d0a 2020 2020 2020 2020 2320   }....        # 
-00009a90: 5072 6570 6172 6520 616e 6420 6578 6563  Prepare and exec
-00009aa0: 7574 6520 7265 7175 6573 740d 0a20 2020  ute request..   
-00009ab0: 2020 2020 205f 7265 7175 6573 7420 3d20       _request = 
-00009ac0: 7365 6c66 2e68 7474 705f 636c 6965 6e74  self.http_client
-00009ad0: 2e67 6574 285f 7175 6572 795f 7572 6c2c  .get(_query_url,
-00009ae0: 2068 6561 6465 7273 3d5f 6865 6164 6572   headers=_header
-00009af0: 7329 0d0a 2020 2020 2020 2020 4261 7369  s)..        Basi
-00009b00: 6341 7574 682e 6170 706c 7928 5f72 6571  cAuth.apply(_req
-00009b10: 7565 7374 290d 0a20 2020 2020 2020 205f  uest)..        _
-00009b20: 636f 6e74 6578 7420 3d20 7365 6c66 2e65  context = self.e
-00009b30: 7865 6375 7465 5f72 6571 7565 7374 285f  xecute_request(_
-00009b40: 7265 7175 6573 7429 0d0a 0d0a 2020 2020  request)....    
-00009b50: 2020 2020 2320 456e 6470 6f69 6e74 2061      # Endpoint a
-00009b60: 6e64 2067 6c6f 6261 6c20 6572 726f 7220  nd global error 
-00009b70: 6861 6e64 6c69 6e67 2075 7369 6e67 2048  handling using H
-00009b80: 5454 5020 7374 6174 7573 2063 6f64 6573  TTP status codes
-00009b90: 2e0d 0a20 2020 2020 2020 2069 6620 5f63  ...        if _c
-00009ba0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00009bb0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-00009bc0: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
-00009bd0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00009be0: 7074 696f 6e28 2749 6e76 616c 6964 2072  ption('Invalid r
-00009bf0: 6571 7565 7374 272c 205f 636f 6e74 6578  equest', _contex
-00009c00: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00009c10: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00009c20: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00009c30: 3d20 3430 313a 0d0a 2020 2020 2020 2020  = 401:..        
-00009c40: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00009c50: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
-00009c60: 6420 4150 4920 6b65 7927 2c20 5f63 6f6e  d API key', _con
-00009c70: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-00009c80: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00009c90: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00009ca0: 6520 3d3d 2034 3034 3a0d 0a20 2020 2020  e == 404:..     
-00009cb0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00009cc0: 6f72 4578 6365 7074 696f 6e28 2741 6e20  orException('An 
-00009cd0: 696e 666f 726d 6564 2072 6573 6f75 7263  informed resourc
-00009ce0: 6520 7761 7320 6e6f 7420 666f 756e 6427  e was not found'
-00009cf0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00009d00: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00009d10: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00009d20: 7573 5f63 6f64 6520 3d3d 2034 3132 3a0d  us_code == 412:.
-00009d30: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00009d40: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00009d50: 6e28 2742 7573 696e 6573 7320 7661 6c69  n('Business vali
-00009d60: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
-00009d70: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00009d80: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00009d90: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00009da0: 636f 6465 203d 3d20 3432 323a 0d0a 2020  code == 422:..  
-00009db0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00009dc0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00009dd0: 436f 6e74 7261 6374 2076 616c 6964 6174  Contract validat
-00009de0: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
-00009df0: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-00009e00: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00009e10: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00009e20: 6520 3d3d 2035 3030 3a0d 0a20 2020 2020  e == 500:..     
-00009e30: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00009e40: 6f72 4578 6365 7074 696f 6e28 2749 6e74  orException('Int
-00009e50: 6572 6e61 6c20 7365 7276 6572 2065 7272  ernal server err
-00009e60: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
-00009e70: 2020 2020 2020 2020 7365 6c66 2e76 616c          self.val
-00009e80: 6964 6174 655f 7265 7370 6f6e 7365 285f  idate_response(_
-00009e90: 636f 6e74 6578 7429 0d0a 0d0a 2020 2020  context)....    
-00009ea0: 2020 2020 2320 5265 7475 726e 2061 7070      # Return app
-00009eb0: 726f 7072 6961 7465 2074 7970 650d 0a20  ropriate type.. 
-00009ec0: 2020 2020 2020 2072 6574 7572 6e20 4150         return AP
-00009ed0: 4948 656c 7065 722e 6a73 6f6e 5f64 6573  IHelper.json_des
-00009ee0: 6572 6961 6c69 7a65 285f 636f 6e74 6578  erialize(_contex
-00009ef0: 742e 7265 7370 6f6e 7365 2e72 6177 5f62  t.response.raw_b
-00009f00: 6f64 792c 204c 6973 7453 7562 7363 7269  ody, ListSubscri
-00009f10: 7074 696f 6e73 5265 7370 6f6e 7365 2e66  ptionsResponse.f
-00009f20: 726f 6d5f 6469 6374 696f 6e61 7279 290d  rom_dictionary).
-00009f30: 0a0d 0a20 2020 2064 6566 2063 7265 6174  ...    def creat
-00009f40: 655f 7375 6273 6372 6970 7469 6f6e 2873  e_subscription(s
-00009f50: 656c 662c 0d0a 2020 2020 2020 2020 2020  elf,..          
-00009f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009f70: 2020 626f 6479 2c0d 0a20 2020 2020 2020    body,..       
-00009f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009f90: 2020 2020 2069 6465 6d70 6f74 656e 6379       idempotency
-00009fa0: 5f6b 6579 3d4e 6f6e 6529 3a0d 0a20 2020  _key=None):..   
-00009fb0: 2020 2020 2022 2222 446f 6573 2061 2050       """Does a P
-00009fc0: 4f53 5420 7265 7175 6573 7420 746f 202f  OST request to /
-00009fd0: 7375 6273 6372 6970 7469 6f6e 732e 0d0a  subscriptions...
-00009fe0: 0d0a 2020 2020 2020 2020 4372 6561 7465  ..        Create
-00009ff0: 7320 6120 6e65 7720 7375 6273 6372 6970  s a new subscrip
-0000a000: 7469 6f6e 0d0a 0d0a 2020 2020 2020 2020  tion....        
-0000a010: 4172 6773 3a0d 0a20 2020 2020 2020 2020  Args:..         
-0000a020: 2020 2062 6f64 7920 2843 7265 6174 6553     body (CreateS
-0000a030: 7562 7363 7269 7074 696f 6e52 6571 7565  ubscriptionReque
-0000a040: 7374 293a 2052 6571 7565 7374 2066 6f72  st): Request for
-0000a050: 2063 7265 6174 696e 6720 610d 0a20 2020   creating a..   
-0000a060: 2020 2020 2020 2020 2020 2020 2073 7562               sub
-0000a070: 7363 7269 7074 696f 6e0d 0a20 2020 2020  scription..     
-0000a080: 2020 2020 2020 2069 6465 6d70 6f74 656e         idempoten
-0000a090: 6379 5f6b 6579 2028 7374 7269 6e67 2c20  cy_key (string, 
-0000a0a0: 6f70 7469 6f6e 616c 293a 2054 4f44 4f3a  optional): TODO:
-0000a0b0: 2074 7970 6520 6465 7363 7269 7074 696f   type descriptio
-0000a0c0: 6e20 6865 7265 2e0d 0a20 2020 2020 2020  n here...       
-0000a0d0: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
-0000a0e0: 3a20 0d0a 0d0a 2020 2020 2020 2020 5265  : ....        Re
-0000a0f0: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
-0000a100: 2020 2020 4765 7453 7562 7363 7269 7074      GetSubscript
-0000a110: 696f 6e52 6573 706f 6e73 653a 2052 6573  ionResponse: Res
-0000a120: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
-0000a130: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
-0000a140: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
-0000a150: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
-0000a160: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
-0000a170: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
-0000a180: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
-0000a190: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
-0000a1a0: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
-0000a1b0: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
-0000a1c0: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
-0000a1d0: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
-0000a1e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a1f0: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
-0000a200: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
-0000a210: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
-0000a220: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
-0000a230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a240: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
-0000a250: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
-0000a260: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-0000a270: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
-0000a280: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
-0000a290: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
-0000a2a0: 270d 0a20 2020 2020 2020 205f 7175 6572  '..        _quer
-0000a2b0: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
-0000a2c0: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
-0000a2d0: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
-0000a2e0: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
-0000a2f0: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
-0000a300: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
-0000a310: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
-0000a320: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
-0000a330: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
-0000a340: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
-0000a350: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
-0000a360: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-0000a370: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
-0000a380: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
-0000a390: 0a20 2020 2020 2020 2020 2020 2027 436f  .            'Co
-0000a3a0: 6e74 656e 742d 5479 7065 273a 2027 6170  ntent-Type': 'ap
-0000a3b0: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
-0000a3c0: 0d0a 2020 2020 2020 2020 2020 2020 2769  ..            'i
-0000a3d0: 6465 6d70 6f74 656e 6379 2d6b 6579 273a  dempotency-key':
-0000a3e0: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
-0000a3f0: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
-0000a400: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-0000a410: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
-0000a420: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
-0000a430: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
-0000a440: 7470 5f63 6c69 656e 742e 706f 7374 285f  tp_client.post(_
-0000a450: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
-0000a460: 7273 3d5f 6865 6164 6572 732c 2070 6172  rs=_headers, par
-0000a470: 616d 6574 6572 733d 4150 4948 656c 7065  ameters=APIHelpe
-0000a480: 722e 6a73 6f6e 5f73 6572 6961 6c69 7a65  r.json_serialize
-0000a490: 2862 6f64 7929 290d 0a20 2020 2020 2020  (body))..       
-0000a4a0: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
-0000a4b0: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
-0000a4c0: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
-0000a4d0: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
-0000a4e0: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
-0000a4f0: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
-0000a500: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
-0000a510: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
-0000a520: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
-0000a530: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
-0000a540: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-0000a550: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000a560: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
-0000a570: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-0000a580: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-0000a590: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
-0000a5a0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-0000a5b0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-0000a5c0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-0000a5d0: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
-0000a5e0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-0000a5f0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-0000a600: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
-0000a610: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000a620: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-0000a630: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-0000a640: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
-0000a650: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000a660: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-0000a670: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
-0000a680: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
-0000a690: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
-0000a6a0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-0000a6b0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-0000a6c0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-0000a6d0: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
-0000a6e0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-0000a6f0: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
-0000a700: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-0000a710: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-0000a720: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-0000a730: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-0000a740: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
-0000a750: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-0000a760: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-0000a770: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
-0000a780: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-0000a790: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000a7a0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-0000a7b0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-0000a7c0: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
-0000a7d0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000a7e0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-0000a7f0: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
-0000a800: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
-0000a810: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
-0000a820: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
-0000a830: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
-0000a840: 0a20 2020 2020 2020 2023 2052 6574 7572  .        # Retur
-0000a850: 6e20 6170 7072 6f70 7269 6174 6520 7479  n appropriate ty
-0000a860: 7065 0d0a 2020 2020 2020 2020 7265 7475  pe..        retu
-0000a870: 726e 2041 5049 4865 6c70 6572 2e6a 736f  rn APIHelper.jso
-0000a880: 6e5f 6465 7365 7269 616c 697a 6528 5f63  n_deserialize(_c
-0000a890: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-0000a8a0: 7261 775f 626f 6479 2c20 4765 7453 7562  raw_body, GetSub
-0000a8b0: 7363 7269 7074 696f 6e52 6573 706f 6e73  scriptionRespons
-0000a8c0: 652e 6672 6f6d 5f64 6963 7469 6f6e 6172  e.from_dictionar
-0000a8d0: 7929 0d0a 0d0a 2020 2020 6465 6620 6361  y)....    def ca
-0000a8e0: 6e63 656c 5f73 7562 7363 7269 7074 696f  ncel_subscriptio
-0000a8f0: 6e28 7365 6c66 2c0d 0a20 2020 2020 2020  n(self,..       
-0000a900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a910: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
-0000a920: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
-0000a930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a940: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
-0000a950: 6579 3d4e 6f6e 652c 0d0a 2020 2020 2020  ey=None,..      
-0000a960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a970: 2020 2020 2020 626f 6479 3d4e 6f6e 6529        body=None)
-0000a980: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
-0000a990: 6573 2061 2044 454c 4554 4520 7265 7175  es a DELETE requ
-0000a9a0: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
-0000a9b0: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
-0000a9c0: 696f 6e5f 6964 7d2e 0d0a 0d0a 2020 2020  ion_id}.....    
-0000a9d0: 2020 2020 4361 6e63 656c 7320 6120 7375      Cancels a su
-0000a9e0: 6273 6372 6970 7469 6f6e 0d0a 0d0a 2020  bscription....  
-0000a9f0: 2020 2020 2020 4172 6773 3a0d 0a20 2020        Args:..   
-0000aa00: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-0000aa10: 7074 696f 6e5f 6964 2028 7374 7269 6e67  ption_id (string
-0000aa20: 293a 2053 7562 7363 7269 7074 696f 6e20  ): Subscription 
-0000aa30: 6964 0d0a 2020 2020 2020 2020 2020 2020  id..            
-0000aa40: 6964 656d 706f 7465 6e63 795f 6b65 7920  idempotency_key 
-0000aa50: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
-0000aa60: 6c29 3a20 544f 444f 3a20 7479 7065 2064  l): TODO: type d
-0000aa70: 6573 6372 6970 7469 6f6e 2068 6572 652e  escription here.
-0000aa80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000aa90: 2020 4578 616d 706c 653a 200d 0a20 2020    Example: ..   
-0000aaa0: 2020 2020 2020 2020 2062 6f64 7920 2843           body (C
-0000aab0: 7265 6174 6543 616e 6365 6c53 7562 7363  reateCancelSubsc
-0000aac0: 7269 7074 696f 6e52 6571 7565 7374 2c20  riptionRequest, 
-0000aad0: 6f70 7469 6f6e 616c 293a 2052 6571 7565  optional): Reque
-0000aae0: 7374 2066 6f72 0d0a 2020 2020 2020 2020  st for..        
-0000aaf0: 2020 2020 2020 2020 6361 6e63 656c 6c69          cancelli
-0000ab00: 6e67 2061 2073 7562 7363 7269 7074 696f  ng a subscriptio
-0000ab10: 6e0d 0a0d 0a20 2020 2020 2020 2052 6574  n....        Ret
-0000ab20: 7572 6e73 3a0d 0a20 2020 2020 2020 2020  urns:..         
-0000ab30: 2020 2047 6574 5375 6273 6372 6970 7469     GetSubscripti
-0000ab40: 6f6e 5265 7370 6f6e 7365 3a20 5265 7370  onResponse: Resp
-0000ab50: 6f6e 7365 2066 726f 6d20 7468 6520 4150  onse from the AP
-0000ab60: 492e 200d 0a0d 0a20 2020 2020 2020 2052  I. ....        R
-0000ab70: 6169 7365 733a 0d0a 2020 2020 2020 2020  aises:..        
-0000ab80: 2020 2020 4150 4945 7863 6570 7469 6f6e      APIException
-0000ab90: 3a20 5768 656e 2061 6e20 6572 726f 7220  : When an error 
-0000aba0: 6f63 6375 7273 2077 6869 6c65 2066 6574  occurs while fet
-0000abb0: 6368 696e 6720 7468 6520 6461 7461 2066  ching the data f
-0000abc0: 726f 6d0d 0a20 2020 2020 2020 2020 2020  rom..           
-0000abd0: 2020 2020 2074 6865 2072 656d 6f74 6520       the remote 
-0000abe0: 4150 492e 2054 6869 7320 6578 6365 7074  API. This except
-0000abf0: 696f 6e20 696e 636c 7564 6573 2074 6865  ion includes the
-0000ac00: 2048 5454 5020 5265 7370 6f6e 7365 0d0a   HTTP Response..
-0000ac10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac20: 636f 6465 2c20 616e 2065 7272 6f72 206d  code, an error m
-0000ac30: 6573 7361 6765 2c20 616e 6420 7468 6520  essage, and the 
-0000ac40: 4854 5450 2062 6f64 7920 7468 6174 2077  HTTP body that w
-0000ac50: 6173 2072 6563 6569 7665 6420 696e 0d0a  as received in..
-0000ac60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac70: 7468 6520 7265 7175 6573 742e 0d0a 0d0a  the request.....
-0000ac80: 2020 2020 2020 2020 2222 220d 0a0d 0a20          """.... 
-0000ac90: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-0000aca0: 2071 7565 7279 2055 524c 0d0a 2020 2020   query URL..    
-0000acb0: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
-0000acc0: 272f 7375 6273 6372 6970 7469 6f6e 732f  '/subscriptions/
-0000acd0: 7b73 7562 7363 7269 7074 696f 6e5f 6964  {subscription_id
-0000ace0: 7d27 0d0a 2020 2020 2020 2020 5f75 726c  }'..        _url
-0000acf0: 5f70 6174 6820 3d20 4150 4948 656c 7065  _path = APIHelpe
-0000ad00: 722e 6170 7065 6e64 5f75 726c 5f77 6974  r.append_url_wit
-0000ad10: 685f 7465 6d70 6c61 7465 5f70 6172 616d  h_template_param
-0000ad20: 6574 6572 7328 5f75 726c 5f70 6174 682c  eters(_url_path,
-0000ad30: 207b 200d 0a20 2020 2020 2020 2020 2020   { ..           
-0000ad40: 2027 7375 6273 6372 6970 7469 6f6e 5f69   'subscription_i
-0000ad50: 6427 3a20 7375 6273 6372 6970 7469 6f6e  d': subscription
-0000ad60: 5f69 640d 0a20 2020 2020 2020 207d 290d  _id..        }).
-0000ad70: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-0000ad80: 6275 696c 6465 7220 3d20 436f 6e66 6967  builder = Config
-0000ad90: 7572 6174 696f 6e2e 6261 7365 5f75 7269  uration.base_uri
-0000ada0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
-0000adb0: 5f62 7569 6c64 6572 202b 3d20 5f75 726c  _builder += _url
-0000adc0: 5f70 6174 680d 0a20 2020 2020 2020 205f  _path..        _
-0000add0: 7175 6572 795f 7572 6c20 3d20 4150 4948  query_url = APIH
-0000ade0: 656c 7065 722e 636c 6561 6e5f 7572 6c28  elper.clean_url(
-0000adf0: 5f71 7565 7279 5f62 7569 6c64 6572 290d  _query_builder).
-0000ae00: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
-0000ae10: 7061 7265 2068 6561 6465 7273 0d0a 2020  pare headers..  
-0000ae20: 2020 2020 2020 5f68 6561 6465 7273 203d        _headers =
-0000ae30: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-0000ae40: 2761 6363 6570 7427 3a20 2761 7070 6c69  'accept': 'appli
-0000ae50: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
-0000ae60: 2020 2020 2020 2020 2020 2027 436f 6e74             'Cont
-0000ae70: 656e 742d 5479 7065 273a 2027 6170 706c  ent-Type': 'appl
-0000ae80: 6963 6174 696f 6e2f 6a73 6f6e 272c 0d0a  ication/json',..
-0000ae90: 2020 2020 2020 2020 2020 2020 2769 6465              'ide
-0000aea0: 6d70 6f74 656e 6379 2d6b 6579 273a 2069  mpotency-key': i
-0000aeb0: 6465 6d70 6f74 656e 6379 5f6b 6579 0d0a  dempotency_key..
-0000aec0: 2020 2020 2020 2020 7d0d 0a0d 0a20 2020          }....   
-0000aed0: 2020 2020 2023 2050 7265 7061 7265 2061       # Prepare a
-0000aee0: 6e64 2065 7865 6375 7465 2072 6571 7565  nd execute reque
-0000aef0: 7374 0d0a 2020 2020 2020 2020 5f72 6571  st..        _req
-0000af00: 7565 7374 203d 2073 656c 662e 6874 7470  uest = self.http
-0000af10: 5f63 6c69 656e 742e 6465 6c65 7465 285f  _client.delete(_
-0000af20: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
-0000af30: 7273 3d5f 6865 6164 6572 732c 2070 6172  rs=_headers, par
-0000af40: 616d 6574 6572 733d 4150 4948 656c 7065  ameters=APIHelpe
-0000af50: 722e 6a73 6f6e 5f73 6572 6961 6c69 7a65  r.json_serialize
-0000af60: 2862 6f64 7929 290d 0a20 2020 2020 2020  (body))..       
-0000af70: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
-0000af80: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
-0000af90: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
-0000afa0: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
-0000afb0: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
-0000afc0: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
-0000afd0: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
-0000afe0: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
-0000aff0: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
-0000b000: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
-0000b010: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-0000b020: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000b030: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
-0000b040: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-0000b050: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-0000b060: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
-0000b070: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-0000b080: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-0000b090: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-0000b0a0: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
-0000b0b0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-0000b0c0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-0000b0d0: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
-0000b0e0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000b0f0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-0000b100: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-0000b110: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
-0000b120: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000b130: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-0000b140: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
-0000b150: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
-0000b160: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
-0000b170: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-0000b180: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-0000b190: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-0000b1a0: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
-0000b1b0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-0000b1c0: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
-0000b1d0: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-0000b1e0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-0000b1f0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-0000b200: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-0000b210: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
-0000b220: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-0000b230: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-0000b240: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
-0000b250: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-0000b260: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000b270: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-0000b280: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-0000b290: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
-0000b2a0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000b2b0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-0000b2c0: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
-0000b2d0: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
-0000b2e0: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
-0000b2f0: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
-0000b300: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
-0000b310: 0a20 2020 2020 2020 2023 2052 6574 7572  .        # Retur
-0000b320: 6e20 6170 7072 6f70 7269 6174 6520 7479  n appropriate ty
-0000b330: 7065 0d0a 2020 2020 2020 2020 7265 7475  pe..        retu
-0000b340: 726e 2041 5049 4865 6c70 6572 2e6a 736f  rn APIHelper.jso
-0000b350: 6e5f 6465 7365 7269 616c 697a 6528 5f63  n_deserialize(_c
-0000b360: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-0000b370: 7261 775f 626f 6479 2c20 4765 7453 7562  raw_body, GetSub
-0000b380: 7363 7269 7074 696f 6e52 6573 706f 6e73  scriptionRespons
-0000b390: 652e 6672 6f6d 5f64 6963 7469 6f6e 6172  e.from_dictionar
-0000b3a0: 7929 0d0a 0d0a 2020 2020 6465 6620 6765  y)....    def ge
-0000b3b0: 745f 7375 6273 6372 6970 7469 6f6e 2873  t_subscription(s
-0000b3c0: 656c 662c 0d0a 2020 2020 2020 2020 2020  elf,..          
-0000b3d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000b3e0: 7562 7363 7269 7074 696f 6e5f 6964 293a  ubscription_id):
-0000b3f0: 0d0a 2020 2020 2020 2020 2222 2244 6f65  ..        """Doe
-0000b400: 7320 6120 4745 5420 7265 7175 6573 7420  s a GET request 
-0000b410: 746f 202f 7375 6273 6372 6970 7469 6f6e  to /subscription
-0000b420: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
-0000b430: 6964 7d2e 0d0a 0d0a 2020 2020 2020 2020  id}.....        
-0000b440: 4765 7473 2061 2073 7562 7363 7269 7074  Gets a subscript
-0000b450: 696f 6e0d 0a0d 0a20 2020 2020 2020 2041  ion....        A
-0000b460: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
-0000b470: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-0000b480: 6420 2873 7472 696e 6729 3a20 5375 6273  d (string): Subs
-0000b490: 6372 6970 7469 6f6e 2069 640d 0a0d 0a20  cription id.... 
-0000b4a0: 2020 2020 2020 2052 6574 7572 6e73 3a0d         Returns:.
-0000b4b0: 0a20 2020 2020 2020 2020 2020 2047 6574  .            Get
-0000b4c0: 5375 6273 6372 6970 7469 6f6e 5265 7370  SubscriptionResp
-0000b4d0: 6f6e 7365 3a20 5265 7370 6f6e 7365 2066  onse: Response f
-0000b4e0: 726f 6d20 7468 6520 4150 492e 200d 0a0d  rom the API. ...
-0000b4f0: 0a20 2020 2020 2020 2052 6169 7365 733a  .        Raises:
-0000b500: 0d0a 2020 2020 2020 2020 2020 2020 4150  ..            AP
-0000b510: 4945 7863 6570 7469 6f6e 3a20 5768 656e  IException: When
-0000b520: 2061 6e20 6572 726f 7220 6f63 6375 7273   an error occurs
-0000b530: 2077 6869 6c65 2066 6574 6368 696e 6720   while fetching 
-0000b540: 7468 6520 6461 7461 2066 726f 6d0d 0a20  the data from.. 
-0000b550: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0000b560: 6865 2072 656d 6f74 6520 4150 492e 2054  he remote API. T
-0000b570: 6869 7320 6578 6365 7074 696f 6e20 696e  his exception in
-0000b580: 636c 7564 6573 2074 6865 2048 5454 5020  cludes the HTTP 
-0000b590: 5265 7370 6f6e 7365 0d0a 2020 2020 2020  Response..      
-0000b5a0: 2020 2020 2020 2020 2020 636f 6465 2c20            code, 
-0000b5b0: 616e 2065 7272 6f72 206d 6573 7361 6765  an error message
-0000b5c0: 2c20 616e 6420 7468 6520 4854 5450 2062  , and the HTTP b
-0000b5d0: 6f64 7920 7468 6174 2077 6173 2072 6563  ody that was rec
-0000b5e0: 6569 7665 6420 696e 0d0a 2020 2020 2020  eived in..      
-0000b5f0: 2020 2020 2020 2020 2020 7468 6520 7265            the re
-0000b600: 7175 6573 742e 0d0a 0d0a 2020 2020 2020  quest.....      
-0000b610: 2020 2222 220d 0a0d 0a20 2020 2020 2020    """....       
-0000b620: 2023 2050 7265 7061 7265 2071 7565 7279   # Prepare query
-0000b630: 2055 524c 0d0a 2020 2020 2020 2020 5f75   URL..        _u
-0000b640: 726c 5f70 6174 6820 3d20 272f 7375 6273  rl_path = '/subs
-0000b650: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
-0000b660: 7269 7074 696f 6e5f 6964 7d27 0d0a 2020  ription_id}'..  
-0000b670: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-0000b680: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
-0000b690: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
-0000b6a0: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
-0000b6b0: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
-0000b6c0: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
-0000b6d0: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
-0000b6e0: 6273 6372 6970 7469 6f6e 5f69 640d 0a20  bscription_id.. 
-0000b6f0: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
-0000b700: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-0000b710: 7220 3d20 436f 6e66 6967 7572 6174 696f  r = Configuratio
-0000b720: 6e2e 6261 7365 5f75 7269 0d0a 2020 2020  n.base_uri..    
-0000b730: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
-0000b740: 6572 202b 3d20 5f75 726c 5f70 6174 680d  er += _url_path.
-0000b750: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-0000b760: 7572 6c20 3d20 4150 4948 656c 7065 722e  url = APIHelper.
-0000b770: 636c 6561 6e5f 7572 6c28 5f71 7565 7279  clean_url(_query
-0000b780: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
-0000b790: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
-0000b7a0: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
-0000b7b0: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
-0000b7c0: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
-0000b7d0: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
-0000b7e0: 2f6a 736f 6e27 0d0a 2020 2020 2020 2020  /json'..        
-0000b7f0: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
-0000b800: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
-0000b810: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
-0000b820: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
-0000b830: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
-0000b840: 6765 7428 5f71 7565 7279 5f75 726c 2c20  get(_query_url, 
-0000b850: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
-0000b860: 290d 0a20 2020 2020 2020 2042 6173 6963  )..        Basic
-0000b870: 4175 7468 2e61 7070 6c79 285f 7265 7175  Auth.apply(_requ
-0000b880: 6573 7429 0d0a 2020 2020 2020 2020 5f63  est)..        _c
-0000b890: 6f6e 7465 7874 203d 2073 656c 662e 6578  ontext = self.ex
-0000b8a0: 6563 7574 655f 7265 7175 6573 7428 5f72  ecute_request(_r
-0000b8b0: 6571 7565 7374 290d 0a0d 0a20 2020 2020  equest)....     
-0000b8c0: 2020 2023 2045 6e64 706f 696e 7420 616e     # Endpoint an
-0000b8d0: 6420 676c 6f62 616c 2065 7272 6f72 2068  d global error h
-0000b8e0: 616e 646c 696e 6720 7573 696e 6720 4854  andling using HT
-0000b8f0: 5450 2073 7461 7475 7320 636f 6465 732e  TP status codes.
-0000b900: 0d0a 2020 2020 2020 2020 6966 205f 636f  ..        if _co
-0000b910: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-0000b920: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
-0000b930: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
-0000b940: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-0000b950: 7469 6f6e 2827 496e 7661 6c69 6420 7265  tion('Invalid re
-0000b960: 7175 6573 7427 2c20 5f63 6f6e 7465 7874  quest', _context
-0000b970: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-0000b980: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-0000b990: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-0000b9a0: 2034 3031 3a0d 0a20 2020 2020 2020 2020   401:..         
-0000b9b0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-0000b9c0: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-0000b9d0: 2041 5049 206b 6579 272c 205f 636f 6e74   API key', _cont
-0000b9e0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-0000b9f0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-0000ba00: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000ba10: 203d 3d20 3430 343a 0d0a 2020 2020 2020   == 404:..      
-0000ba20: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-0000ba30: 7245 7863 6570 7469 6f6e 2827 416e 2069  rException('An i
-0000ba40: 6e66 6f72 6d65 6420 7265 736f 7572 6365  nformed resource
-0000ba50: 2077 6173 206e 6f74 2066 6f75 6e64 272c   was not found',
-0000ba60: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000ba70: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-0000ba80: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-0000ba90: 735f 636f 6465 203d 3d20 3431 323a 0d0a  s_code == 412:..
-0000baa0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000bab0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-0000bac0: 2827 4275 7369 6e65 7373 2076 616c 6964  ('Business valid
-0000bad0: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-0000bae0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-0000baf0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-0000bb00: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-0000bb10: 6f64 6520 3d3d 2034 3232 3a0d 0a20 2020  ode == 422:..   
-0000bb20: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-0000bb30: 7272 6f72 4578 6365 7074 696f 6e28 2743  rrorException('C
-0000bb40: 6f6e 7472 6163 7420 7661 6c69 6461 7469  ontract validati
-0000bb50: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
-0000bb60: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-0000bb70: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-0000bb80: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000bb90: 203d 3d20 3530 303a 0d0a 2020 2020 2020   == 500:..      
-0000bba0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-0000bbb0: 7245 7863 6570 7469 6f6e 2827 496e 7465  rException('Inte
-0000bbc0: 726e 616c 2073 6572 7665 7220 6572 726f  rnal server erro
-0000bbd0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-0000bbe0: 2020 2020 2020 2073 656c 662e 7661 6c69         self.vali
-0000bbf0: 6461 7465 5f72 6573 706f 6e73 6528 5f63  date_response(_c
-0000bc00: 6f6e 7465 7874 290d 0a0d 0a20 2020 2020  ontext)....     
-0000bc10: 2020 2023 2052 6574 7572 6e20 6170 7072     # Return appr
-0000bc20: 6f70 7269 6174 6520 7479 7065 0d0a 2020  opriate type..  
-0000bc30: 2020 2020 2020 7265 7475 726e 2041 5049        return API
-0000bc40: 4865 6c70 6572 2e6a 736f 6e5f 6465 7365  Helper.json_dese
-0000bc50: 7269 616c 697a 6528 5f63 6f6e 7465 7874  rialize(_context
-0000bc60: 2e72 6573 706f 6e73 652e 7261 775f 626f  .response.raw_bo
-0000bc70: 6479 2c20 4765 7453 7562 7363 7269 7074  dy, GetSubscript
-0000bc80: 696f 6e52 6573 706f 6e73 652e 6672 6f6d  ionResponse.from
-0000bc90: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
-0000bca0: 2020 2020 6465 6620 6372 6561 7465 5f69      def create_i
-0000bcb0: 6e63 7265 6d65 6e74 2873 656c 662c 0d0a  ncrement(self,..
-0000bcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bcd0: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-0000bce0: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
-0000bcf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bd00: 2020 2020 626f 6479 2c0d 0a20 2020 2020      body,..     
-0000bd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bd20: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
-0000bd30: 6b65 793d 4e6f 6e65 293a 0d0a 2020 2020  key=None):..    
-0000bd40: 2020 2020 2222 2244 6f65 7320 6120 504f      """Does a PO
-0000bd50: 5354 2072 6571 7565 7374 2074 6f20 2f73  ST request to /s
-0000bd60: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-0000bd70: 6273 6372 6970 7469 6f6e 5f69 647d 2f69  bscription_id}/i
-0000bd80: 6e63 7265 6d65 6e74 732e 0d0a 0d0a 2020  ncrements.....  
-0000bd90: 2020 2020 2020 4372 6561 7465 7320 6120        Creates a 
-0000bda0: 696e 6372 656d 656e 740d 0a0d 0a20 2020  increment....   
-0000bdb0: 2020 2020 2041 7267 733a 0d0a 2020 2020       Args:..    
-0000bdc0: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-0000bdd0: 7469 6f6e 5f69 6420 2873 7472 696e 6729  tion_id (string)
-0000bde0: 3a20 5375 6273 6372 6970 7469 6f6e 2069  : Subscription i
-0000bdf0: 640d 0a20 2020 2020 2020 2020 2020 2062  d..            b
-0000be00: 6f64 7920 2843 7265 6174 6549 6e63 7265  ody (CreateIncre
-0000be10: 6d65 6e74 5265 7175 6573 7429 3a20 5265  mentRequest): Re
-0000be20: 7175 6573 7420 666f 7220 6372 6561 7469  quest for creati
-0000be30: 6e67 2061 2069 6e63 7265 6d65 6e74 0d0a  ng a increment..
-0000be40: 2020 2020 2020 2020 2020 2020 6964 656d              idem
-0000be50: 706f 7465 6e63 795f 6b65 7920 2873 7472  potency_key (str
-0000be60: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
-0000be70: 544f 444f 3a20 7479 7065 2064 6573 6372  TODO: type descr
-0000be80: 6970 7469 6f6e 2068 6572 652e 0d0a 2020  iption here...  
-0000be90: 2020 2020 2020 2020 2020 2020 2020 4578                Ex
-0000bea0: 616d 706c 653a 200d 0a0d 0a20 2020 2020  ample: ....     
-0000beb0: 2020 2052 6574 7572 6e73 3a0d 0a20 2020     Returns:..   
-0000bec0: 2020 2020 2020 2020 2047 6574 496e 6372           GetIncr
-0000bed0: 656d 656e 7452 6573 706f 6e73 653a 2052  ementResponse: R
-0000bee0: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
-0000bef0: 2041 5049 2e20 0d0a 0d0a 2020 2020 2020   API. ....      
-0000bf00: 2020 5261 6973 6573 3a0d 0a20 2020 2020    Raises:..     
-0000bf10: 2020 2020 2020 2041 5049 4578 6365 7074         APIExcept
-0000bf20: 696f 6e3a 2057 6865 6e20 616e 2065 7272  ion: When an err
-0000bf30: 6f72 206f 6363 7572 7320 7768 696c 6520  or occurs while 
-0000bf40: 6665 7463 6869 6e67 2074 6865 2064 6174  fetching the dat
-0000bf50: 6120 6672 6f6d 0d0a 2020 2020 2020 2020  a from..        
-0000bf60: 2020 2020 2020 2020 7468 6520 7265 6d6f          the remo
-0000bf70: 7465 2041 5049 2e20 5468 6973 2065 7863  te API. This exc
-0000bf80: 6570 7469 6f6e 2069 6e63 6c75 6465 7320  eption includes 
-0000bf90: 7468 6520 4854 5450 2052 6573 706f 6e73  the HTTP Respons
-0000bfa0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-0000bfb0: 2020 2063 6f64 652c 2061 6e20 6572 726f     code, an erro
-0000bfc0: 7220 6d65 7373 6167 652c 2061 6e64 2074  r message, and t
-0000bfd0: 6865 2048 5454 5020 626f 6479 2074 6861  he HTTP body tha
-0000bfe0: 7420 7761 7320 7265 6365 6976 6564 2069  t was received i
-0000bff0: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
-0000c000: 2020 2074 6865 2072 6571 7565 7374 2e0d     the request..
-0000c010: 0a0d 0a20 2020 2020 2020 2022 2222 0d0a  ...        """..
-0000c020: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-0000c030: 6172 6520 7175 6572 7920 5552 4c0d 0a20  are query URL.. 
-0000c040: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
-0000c050: 203d 2027 2f73 7562 7363 7269 7074 696f   = '/subscriptio
-0000c060: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
-0000c070: 5f69 647d 2f69 6e63 7265 6d65 6e74 7327  _id}/increments'
-0000c080: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
-0000c090: 6174 6820 3d20 4150 4948 656c 7065 722e  ath = APIHelper.
-0000c0a0: 6170 7065 6e64 5f75 726c 5f77 6974 685f  append_url_with_
-0000c0b0: 7465 6d70 6c61 7465 5f70 6172 616d 6574  template_paramet
-0000c0c0: 6572 7328 5f75 726c 5f70 6174 682c 207b  ers(_url_path, {
-0000c0d0: 200d 0a20 2020 2020 2020 2020 2020 2027   ..            '
-0000c0e0: 7375 6273 6372 6970 7469 6f6e 5f69 6427  subscription_id'
-0000c0f0: 3a20 7375 6273 6372 6970 7469 6f6e 5f69  : subscription_i
-0000c100: 640d 0a20 2020 2020 2020 207d 290d 0a20  d..        }).. 
-0000c110: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
-0000c120: 696c 6465 7220 3d20 436f 6e66 6967 7572  ilder = Configur
-0000c130: 6174 696f 6e2e 6261 7365 5f75 7269 0d0a  ation.base_uri..
-0000c140: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-0000c150: 7569 6c64 6572 202b 3d20 5f75 726c 5f70  uilder += _url_p
-0000c160: 6174 680d 0a20 2020 2020 2020 205f 7175  ath..        _qu
-0000c170: 6572 795f 7572 6c20 3d20 4150 4948 656c  ery_url = APIHel
-0000c180: 7065 722e 636c 6561 6e5f 7572 6c28 5f71  per.clean_url(_q
-0000c190: 7565 7279 5f62 7569 6c64 6572 290d 0a0d  uery_builder)...
-0000c1a0: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-0000c1b0: 7265 2068 6561 6465 7273 0d0a 2020 2020  re headers..    
-0000c1c0: 2020 2020 5f68 6561 6465 7273 203d 207b      _headers = {
-0000c1d0: 0d0a 2020 2020 2020 2020 2020 2020 2761  ..            'a
-0000c1e0: 6363 6570 7427 3a20 2761 7070 6c69 6361  ccept': 'applica
-0000c1f0: 7469 6f6e 2f6a 736f 6e27 2c0d 0a20 2020  tion/json',..   
-0000c200: 2020 2020 2020 2020 2027 436f 6e74 656e           'Conten
-0000c210: 742d 5479 7065 273a 2027 6170 706c 6963  t-Type': 'applic
-0000c220: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
-0000c230: 2020 2020 2020 2020 2020 2769 6465 6d70            'idemp
-0000c240: 6f74 656e 6379 2d6b 6579 273a 2069 6465  otency-key': ide
-0000c250: 6d70 6f74 656e 6379 5f6b 6579 0d0a 2020  mpotency_key..  
-0000c260: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
-0000c270: 2020 2023 2050 7265 7061 7265 2061 6e64     # Prepare and
-0000c280: 2065 7865 6375 7465 2072 6571 7565 7374   execute request
-0000c290: 0d0a 2020 2020 2020 2020 5f72 6571 7565  ..        _reque
-0000c2a0: 7374 203d 2073 656c 662e 6874 7470 5f63  st = self.http_c
-0000c2b0: 6c69 656e 742e 706f 7374 285f 7175 6572  lient.post(_quer
-0000c2c0: 795f 7572 6c2c 2068 6561 6465 7273 3d5f  y_url, headers=_
-0000c2d0: 6865 6164 6572 732c 2070 6172 616d 6574  headers, paramet
-0000c2e0: 6572 733d 4150 4948 656c 7065 722e 6a73  ers=APIHelper.js
-0000c2f0: 6f6e 5f73 6572 6961 6c69 7a65 2862 6f64  on_serialize(bod
-0000c300: 7929 290d 0a20 2020 2020 2020 2042 6173  y))..        Bas
-0000c310: 6963 4175 7468 2e61 7070 6c79 285f 7265  icAuth.apply(_re
-0000c320: 7175 6573 7429 0d0a 2020 2020 2020 2020  quest)..        
-0000c330: 5f63 6f6e 7465 7874 203d 2073 656c 662e  _context = self.
-0000c340: 6578 6563 7574 655f 7265 7175 6573 7428  execute_request(
-0000c350: 5f72 6571 7565 7374 290d 0a0d 0a20 2020  _request)....   
-0000c360: 2020 2020 2023 2045 6e64 706f 696e 7420       # Endpoint 
-0000c370: 616e 6420 676c 6f62 616c 2065 7272 6f72  and global error
-0000c380: 2068 616e 646c 696e 6720 7573 696e 6720   handling using 
-0000c390: 4854 5450 2073 7461 7475 7320 636f 6465  HTTP status code
-0000c3a0: 732e 0d0a 2020 2020 2020 2020 6966 205f  s...        if _
-0000c3b0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-0000c3c0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-0000c3d0: 3430 303a 0d0a 2020 2020 2020 2020 2020  400:..          
-0000c3e0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-0000c3f0: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-0000c400: 7265 7175 6573 7427 2c20 5f63 6f6e 7465  request', _conte
-0000c410: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-0000c420: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-0000c430: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-0000c440: 3d3d 2034 3031 3a0d 0a20 2020 2020 2020  == 401:..       
-0000c450: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-0000c460: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
-0000c470: 6964 2041 5049 206b 6579 272c 205f 636f  id API key', _co
-0000c480: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-0000c490: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-0000c4a0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-0000c4b0: 6465 203d 3d20 3430 343a 0d0a 2020 2020  de == 404:..    
-0000c4c0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-0000c4d0: 726f 7245 7863 6570 7469 6f6e 2827 416e  rorException('An
-0000c4e0: 2069 6e66 6f72 6d65 6420 7265 736f 7572   informed resour
-0000c4f0: 6365 2077 6173 206e 6f74 2066 6f75 6e64  ce was not found
-0000c500: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-0000c510: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-0000c520: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-0000c530: 7475 735f 636f 6465 203d 3d20 3431 323a  tus_code == 412:
-0000c540: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-0000c550: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-0000c560: 6f6e 2827 4275 7369 6e65 7373 2076 616c  on('Business val
-0000c570: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
-0000c580: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-0000c590: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-0000c5a0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-0000c5b0: 5f63 6f64 6520 3d3d 2034 3232 3a0d 0a20  _code == 422:.. 
-0000c5c0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000c5d0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-0000c5e0: 2743 6f6e 7472 6163 7420 7661 6c69 6461  'Contract valida
-0000c5f0: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-0000c600: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-0000c610: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-0000c620: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-0000c630: 6465 203d 3d20 3530 303a 0d0a 2020 2020  de == 500:..    
-0000c640: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-0000c650: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-0000c660: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
-0000c670: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-0000c680: 0a20 2020 2020 2020 2073 656c 662e 7661  .        self.va
-0000c690: 6c69 6461 7465 5f72 6573 706f 6e73 6528  lidate_response(
-0000c6a0: 5f63 6f6e 7465 7874 290d 0a0d 0a20 2020  _context)....   
-0000c6b0: 2020 2020 2023 2052 6574 7572 6e20 6170       # Return ap
-0000c6c0: 7072 6f70 7269 6174 6520 7479 7065 0d0a  propriate type..
-0000c6d0: 2020 2020 2020 2020 7265 7475 726e 2041          return A
-0000c6e0: 5049 4865 6c70 6572 2e6a 736f 6e5f 6465  PIHelper.json_de
-0000c6f0: 7365 7269 616c 697a 6528 5f63 6f6e 7465  serialize(_conte
-0000c700: 7874 2e72 6573 706f 6e73 652e 7261 775f  xt.response.raw_
-0000c710: 626f 6479 2c20 4765 7449 6e63 7265 6d65  body, GetIncreme
-0000c720: 6e74 5265 7370 6f6e 7365 2e66 726f 6d5f  ntResponse.from_
-0000c730: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
-0000c740: 2020 2064 6566 2067 6574 5f64 6973 636f     def get_disco
-0000c750: 756e 745f 6279 5f69 6428 7365 6c66 2c0d  unt_by_id(self,.
-0000c760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c770: 2020 2020 2020 2020 2020 2020 7375 6273              subs
-0000c780: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
-0000c790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c7a0: 2020 2020 2020 2020 2064 6973 636f 756e           discoun
-0000c7b0: 745f 6964 293a 0d0a 2020 2020 2020 2020  t_id):..        
-0000c7c0: 2222 2244 6f65 7320 6120 4745 5420 7265  """Does a GET re
-0000c7d0: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
-0000c7e0: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
-0000c7f0: 7074 696f 6e5f 6964 7d2f 6469 7363 6f75  ption_id}/discou
-0000c800: 6e74 732f 7b64 6973 636f 756e 7449 647d  nts/{discountId}
-0000c810: 2e0d 0a0d 0a20 2020 2020 2020 2047 6574  .....        Get
-0000c820: 4469 7363 6f75 6e74 4279 4964 0d0a 0d0a  DiscountById....
-0000c830: 2020 2020 2020 2020 4172 6773 3a0d 0a20          Args:.. 
-0000c840: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
-0000c850: 7269 7074 696f 6e5f 6964 2028 7374 7269  ription_id (stri
-0000c860: 6e67 293a 2054 6865 2073 7562 7363 7269  ng): The subscri
-0000c870: 7074 696f 6e20 6964 0d0a 2020 2020 2020  ption id..      
-0000c880: 2020 2020 2020 6469 7363 6f75 6e74 5f69        discount_i
-0000c890: 6420 2873 7472 696e 6729 3a20 544f 444f  d (string): TODO
-0000c8a0: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
-0000c8b0: 6f6e 2068 6572 652e 2045 7861 6d70 6c65  on here. Example
-0000c8c0: 3a20 0d0a 0d0a 2020 2020 2020 2020 5265  : ....        Re
-0000c8d0: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
-0000c8e0: 2020 2020 4765 7444 6973 636f 756e 7452      GetDiscountR
-0000c8f0: 6573 706f 6e73 653a 2052 6573 706f 6e73  esponse: Respons
-0000c900: 6520 6672 6f6d 2074 6865 2041 5049 2e20  e from the API. 
-0000c910: 0d0a 0d0a 2020 2020 2020 2020 5261 6973  ....        Rais
-0000c920: 6573 3a0d 0a20 2020 2020 2020 2020 2020  es:..           
-0000c930: 2041 5049 4578 6365 7074 696f 6e3a 2057   APIException: W
-0000c940: 6865 6e20 616e 2065 7272 6f72 206f 6363  hen an error occ
-0000c950: 7572 7320 7768 696c 6520 6665 7463 6869  urs while fetchi
-0000c960: 6e67 2074 6865 2064 6174 6120 6672 6f6d  ng the data from
-0000c970: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000c980: 2020 7468 6520 7265 6d6f 7465 2041 5049    the remote API
-0000c990: 2e20 5468 6973 2065 7863 6570 7469 6f6e  . This exception
-0000c9a0: 2069 6e63 6c75 6465 7320 7468 6520 4854   includes the HT
-0000c9b0: 5450 2052 6573 706f 6e73 650d 0a20 2020  TP Response..   
-0000c9c0: 2020 2020 2020 2020 2020 2020 2063 6f64               cod
-0000c9d0: 652c 2061 6e20 6572 726f 7220 6d65 7373  e, an error mess
-0000c9e0: 6167 652c 2061 6e64 2074 6865 2048 5454  age, and the HTT
-0000c9f0: 5020 626f 6479 2074 6861 7420 7761 7320  P body that was 
-0000ca00: 7265 6365 6976 6564 2069 6e0d 0a20 2020  received in..   
-0000ca10: 2020 2020 2020 2020 2020 2020 2074 6865               the
-0000ca20: 2072 6571 7565 7374 2e0d 0a0d 0a20 2020   request.....   
-0000ca30: 2020 2020 2022 2222 0d0a 0d0a 2020 2020       """....    
-0000ca40: 2020 2020 2320 5072 6570 6172 6520 7175      # Prepare qu
-0000ca50: 6572 7920 5552 4c0d 0a20 2020 2020 2020  ery URL..       
-0000ca60: 205f 7572 6c5f 7061 7468 203d 2027 2f73   _url_path = '/s
-0000ca70: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-0000ca80: 6273 6372 6970 7469 6f6e 5f69 647d 2f64  bscription_id}/d
-0000ca90: 6973 636f 756e 7473 2f7b 6469 7363 6f75  iscounts/{discou
-0000caa0: 6e74 4964 7d27 0d0a 2020 2020 2020 2020  ntId}'..        
-0000cab0: 5f75 726c 5f70 6174 6820 3d20 4150 4948  _url_path = APIH
-0000cac0: 656c 7065 722e 6170 7065 6e64 5f75 726c  elper.append_url
-0000cad0: 5f77 6974 685f 7465 6d70 6c61 7465 5f70  _with_template_p
-0000cae0: 6172 616d 6574 6572 7328 5f75 726c 5f70  arameters(_url_p
-0000caf0: 6174 682c 207b 200d 0a20 2020 2020 2020  ath, { ..       
-0000cb00: 2020 2020 2027 7375 6273 6372 6970 7469       'subscripti
-0000cb10: 6f6e 5f69 6427 3a20 7375 6273 6372 6970  on_id': subscrip
-0000cb20: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-0000cb30: 2020 2020 2020 2764 6973 636f 756e 7449        'discountI
-0000cb40: 6427 3a20 6469 7363 6f75 6e74 5f69 640d  d': discount_id.
-0000cb50: 0a20 2020 2020 2020 207d 290d 0a20 2020  .        })..   
-0000cb60: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
-0000cb70: 6465 7220 3d20 436f 6e66 6967 7572 6174  der = Configurat
-0000cb80: 696f 6e2e 6261 7365 5f75 7269 0d0a 2020  ion.base_uri..  
-0000cb90: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
-0000cba0: 6c64 6572 202b 3d20 5f75 726c 5f70 6174  lder += _url_pat
-0000cbb0: 680d 0a20 2020 2020 2020 205f 7175 6572  h..        _quer
-0000cbc0: 795f 7572 6c20 3d20 4150 4948 656c 7065  y_url = APIHelpe
-0000cbd0: 722e 636c 6561 6e5f 7572 6c28 5f71 7565  r.clean_url(_que
-0000cbe0: 7279 5f62 7569 6c64 6572 290d 0a0d 0a20  ry_builder).... 
-0000cbf0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-0000cc00: 2068 6561 6465 7273 0d0a 2020 2020 2020   headers..      
-0000cc10: 2020 5f68 6561 6465 7273 203d 207b 0d0a    _headers = {..
-0000cc20: 2020 2020 2020 2020 2020 2020 2761 6363              'acc
-0000cc30: 6570 7427 3a20 2761 7070 6c69 6361 7469  ept': 'applicati
-0000cc40: 6f6e 2f6a 736f 6e27 0d0a 2020 2020 2020  on/json'..      
-0000cc50: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
-0000cc60: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
-0000cc70: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
-0000cc80: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
-0000cc90: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
-0000cca0: 742e 6765 7428 5f71 7565 7279 5f75 726c  t.get(_query_url
-0000ccb0: 2c20 6865 6164 6572 733d 5f68 6561 6465  , headers=_heade
-0000ccc0: 7273 290d 0a20 2020 2020 2020 2042 6173  rs)..        Bas
-0000ccd0: 6963 4175 7468 2e61 7070 6c79 285f 7265  icAuth.apply(_re
-0000cce0: 7175 6573 7429 0d0a 2020 2020 2020 2020  quest)..        
-0000ccf0: 5f63 6f6e 7465 7874 203d 2073 656c 662e  _context = self.
-0000cd00: 6578 6563 7574 655f 7265 7175 6573 7428  execute_request(
-0000cd10: 5f72 6571 7565 7374 290d 0a0d 0a20 2020  _request)....   
-0000cd20: 2020 2020 2023 2045 6e64 706f 696e 7420       # Endpoint 
-0000cd30: 616e 6420 676c 6f62 616c 2065 7272 6f72  and global error
-0000cd40: 2068 616e 646c 696e 6720 7573 696e 6720   handling using 
-0000cd50: 4854 5450 2073 7461 7475 7320 636f 6465  HTTP status code
-0000cd60: 732e 0d0a 2020 2020 2020 2020 6966 205f  s...        if _
-0000cd70: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-0000cd80: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-0000cd90: 3430 303a 0d0a 2020 2020 2020 2020 2020  400:..          
-0000cda0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-0000cdb0: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-0000cdc0: 7265 7175 6573 7427 2c20 5f63 6f6e 7465  request', _conte
-0000cdd0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-0000cde0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-0000cdf0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-0000ce00: 3d3d 2034 3031 3a0d 0a20 2020 2020 2020  == 401:..       
-0000ce10: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-0000ce20: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
-0000ce30: 6964 2041 5049 206b 6579 272c 205f 636f  id API key', _co
-0000ce40: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-0000ce50: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-0000ce60: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-0000ce70: 6465 203d 3d20 3430 343a 0d0a 2020 2020  de == 404:..    
-0000ce80: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-0000ce90: 726f 7245 7863 6570 7469 6f6e 2827 416e  rorException('An
-0000cea0: 2069 6e66 6f72 6d65 6420 7265 736f 7572   informed resour
-0000ceb0: 6365 2077 6173 206e 6f74 2066 6f75 6e64  ce was not found
-0000cec0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-0000ced0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-0000cee0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-0000cef0: 7475 735f 636f 6465 203d 3d20 3431 323a  tus_code == 412:
-0000cf00: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-0000cf10: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-0000cf20: 6f6e 2827 4275 7369 6e65 7373 2076 616c  on('Business val
-0000cf30: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
-0000cf40: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-0000cf50: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-0000cf60: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-0000cf70: 5f63 6f64 6520 3d3d 2034 3232 3a0d 0a20  _code == 422:.. 
-0000cf80: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000cf90: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-0000cfa0: 2743 6f6e 7472 6163 7420 7661 6c69 6461  'Contract valida
-0000cfb0: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-0000cfc0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-0000cfd0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-0000cfe0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-0000cff0: 6465 203d 3d20 3530 303a 0d0a 2020 2020  de == 500:..    
-0000d000: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-0000d010: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-0000d020: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
-0000d030: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-0000d040: 0a20 2020 2020 2020 2073 656c 662e 7661  .        self.va
-0000d050: 6c69 6461 7465 5f72 6573 706f 6e73 6528  lidate_response(
-0000d060: 5f63 6f6e 7465 7874 290d 0a0d 0a20 2020  _context)....   
-0000d070: 2020 2020 2023 2052 6574 7572 6e20 6170       # Return ap
-0000d080: 7072 6f70 7269 6174 6520 7479 7065 0d0a  propriate type..
-0000d090: 2020 2020 2020 2020 7265 7475 726e 2041          return A
-0000d0a0: 5049 4865 6c70 6572 2e6a 736f 6e5f 6465  PIHelper.json_de
-0000d0b0: 7365 7269 616c 697a 6528 5f63 6f6e 7465  serialize(_conte
-0000d0c0: 7874 2e72 6573 706f 6e73 652e 7261 775f  xt.response.raw_
-0000d0d0: 626f 6479 2c20 4765 7444 6973 636f 756e  body, GetDiscoun
-0000d0e0: 7452 6573 706f 6e73 652e 6672 6f6d 5f64  tResponse.from_d
-0000d0f0: 6963 7469 6f6e 6172 7929 0d0a 0d0a 2020  ictionary)....  
-0000d100: 2020 6465 6620 7570 6461 7465 5f73 7562    def update_sub
-0000d110: 7363 7269 7074 696f 6e5f 6166 6669 6c69  scription_affili
-0000d120: 6174 696f 6e5f 6964 2873 656c 662c 0d0a  ation_id(self,..
-0000d130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d150: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
-0000d160: 7269 7074 696f 6e5f 6964 2c0d 0a20 2020  ription_id,..   
-0000d170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d190: 2020 2020 2020 2020 626f 6479 2c0d 0a20          body,.. 
-0000d1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d1c0: 2020 2020 2020 2020 2020 6964 656d 706f            idempo
-0000d1d0: 7465 6e63 795f 6b65 793d 4e6f 6e65 293a  tency_key=None):
-0000d1e0: 0d0a 2020 2020 2020 2020 2222 2244 6f65  ..        """Doe
-0000d1f0: 7320 6120 5041 5443 4820 7265 7175 6573  s a PATCH reques
-0000d200: 7420 746f 202f 7375 6273 6372 6970 7469  t to /subscripti
-0000d210: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
-0000d220: 6e5f 6964 7d2f 6761 7465 7761 792d 6166  n_id}/gateway-af
-0000d230: 6669 6c69 6174 696f 6e2d 6964 2e0d 0a0d  filiation-id....
-0000d240: 0a20 2020 2020 2020 2055 7064 6174 6553  .        UpdateS
-0000d250: 7562 7363 7269 7074 696f 6e41 6666 696c  ubscriptionAffil
-0000d260: 6961 7469 6f6e 4964 0d0a 0d0a 2020 2020  iationId....    
-0000d270: 2020 2020 4172 6773 3a0d 0a20 2020 2020      Args:..     
-0000d280: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
-0000d290: 696f 6e5f 6964 2028 7374 7269 6e67 293a  ion_id (string):
-0000d2a0: 2054 4f44 4f3a 2074 7970 6520 6465 7363   TODO: type desc
-0000d2b0: 7269 7074 696f 6e20 6865 7265 2e20 4578  ription here. Ex
-0000d2c0: 616d 706c 653a 200d 0a20 2020 2020 2020  ample: ..       
-0000d2d0: 2020 2020 2062 6f64 7920 2855 7064 6174       body (Updat
-0000d2e0: 6553 7562 7363 7269 7074 696f 6e41 6666  eSubscriptionAff
-0000d2f0: 696c 6961 7469 6f6e 4964 5265 7175 6573  iliationIdReques
-0000d300: 7429 3a20 5265 7175 6573 7420 666f 720d  t): Request for.
-0000d310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d320: 2075 7064 6174 696e 6720 6120 7375 6273   updating a subs
-0000d330: 6372 6970 7469 6f6e 2061 6666 696c 6961  cription affilia
-0000d340: 7469 6f6e 2069 640d 0a20 2020 2020 2020  tion id..       
-0000d350: 2020 2020 2069 6465 6d70 6f74 656e 6379       idempotency
-0000d360: 5f6b 6579 2028 7374 7269 6e67 2c20 6f70  _key (string, op
-0000d370: 7469 6f6e 616c 293a 2054 4f44 4f3a 2074  tional): TODO: t
-0000d380: 7970 6520 6465 7363 7269 7074 696f 6e20  ype description 
-0000d390: 6865 7265 2e0d 0a20 2020 2020 2020 2020  here...         
-0000d3a0: 2020 2020 2020 2045 7861 6d70 6c65 3a20         Example: 
-0000d3b0: 0d0a 0d0a 2020 2020 2020 2020 5265 7475  ....        Retu
-0000d3c0: 726e 733a 0d0a 2020 2020 2020 2020 2020  rns:..          
-0000d3d0: 2020 4765 7453 7562 7363 7269 7074 696f    GetSubscriptio
-0000d3e0: 6e52 6573 706f 6e73 653a 2052 6573 706f  nResponse: Respo
-0000d3f0: 6e73 6520 6672 6f6d 2074 6865 2041 5049  nse from the API
-0000d400: 2e20 0d0a 0d0a 2020 2020 2020 2020 5261  . ....        Ra
-0000d410: 6973 6573 3a0d 0a20 2020 2020 2020 2020  ises:..         
-0000d420: 2020 2041 5049 4578 6365 7074 696f 6e3a     APIException:
-0000d430: 2057 6865 6e20 616e 2065 7272 6f72 206f   When an error o
-0000d440: 6363 7572 7320 7768 696c 6520 6665 7463  ccurs while fetc
-0000d450: 6869 6e67 2074 6865 2064 6174 6120 6672  hing the data fr
-0000d460: 6f6d 0d0a 2020 2020 2020 2020 2020 2020  om..            
-0000d470: 2020 2020 7468 6520 7265 6d6f 7465 2041      the remote A
-0000d480: 5049 2e20 5468 6973 2065 7863 6570 7469  PI. This excepti
-0000d490: 6f6e 2069 6e63 6c75 6465 7320 7468 6520  on includes the 
-0000d4a0: 4854 5450 2052 6573 706f 6e73 650d 0a20  HTTP Response.. 
-0000d4b0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0000d4c0: 6f64 652c 2061 6e20 6572 726f 7220 6d65  ode, an error me
-0000d4d0: 7373 6167 652c 2061 6e64 2074 6865 2048  ssage, and the H
-0000d4e0: 5454 5020 626f 6479 2074 6861 7420 7761  TTP body that wa
-0000d4f0: 7320 7265 6365 6976 6564 2069 6e0d 0a20  s received in.. 
-0000d500: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0000d510: 6865 2072 6571 7565 7374 2e0d 0a0d 0a20  he request..... 
-0000d520: 2020 2020 2020 2022 2222 0d0a 0d0a 2020         """....  
-0000d530: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-0000d540: 7175 6572 7920 5552 4c0d 0a20 2020 2020  query URL..     
-0000d550: 2020 205f 7572 6c5f 7061 7468 203d 2027     _url_path = '
-0000d560: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
-0000d570: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
-0000d580: 2f67 6174 6577 6179 2d61 6666 696c 6961  /gateway-affilia
-0000d590: 7469 6f6e 2d69 6427 0d0a 2020 2020 2020  tion-id'..      
-0000d5a0: 2020 5f75 726c 5f70 6174 6820 3d20 4150    _url_path = AP
-0000d5b0: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
-0000d5c0: 726c 5f77 6974 685f 7465 6d70 6c61 7465  rl_with_template
-0000d5d0: 5f70 6172 616d 6574 6572 7328 5f75 726c  _parameters(_url
-0000d5e0: 5f70 6174 682c 207b 200d 0a20 2020 2020  _path, { ..     
-0000d5f0: 2020 2020 2020 2027 7375 6273 6372 6970         'subscrip
-0000d600: 7469 6f6e 5f69 6427 3a20 7375 6273 6372  tion_id': subscr
-0000d610: 6970 7469 6f6e 5f69 640d 0a20 2020 2020  iption_id..     
-0000d620: 2020 207d 290d 0a20 2020 2020 2020 205f     })..        _
-0000d630: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
-0000d640: 436f 6e66 6967 7572 6174 696f 6e2e 6261  Configuration.ba
-0000d650: 7365 5f75 7269 0d0a 2020 2020 2020 2020  se_uri..        
-0000d660: 5f71 7565 7279 5f62 7569 6c64 6572 202b  _query_builder +
-0000d670: 3d20 5f75 726c 5f70 6174 680d 0a20 2020  = _url_path..   
-0000d680: 2020 2020 205f 7175 6572 795f 7572 6c20       _query_url 
-0000d690: 3d20 4150 4948 656c 7065 722e 636c 6561  = APIHelper.clea
-0000d6a0: 6e5f 7572 6c28 5f71 7565 7279 5f62 7569  n_url(_query_bui
-0000d6b0: 6c64 6572 290d 0a0d 0a20 2020 2020 2020  lder)....       
-0000d6c0: 2023 2050 7265 7061 7265 2068 6561 6465   # Prepare heade
-0000d6d0: 7273 0d0a 2020 2020 2020 2020 5f68 6561  rs..        _hea
-0000d6e0: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
-0000d6f0: 2020 2020 2020 2761 6363 6570 7427 3a20        'accept': 
-0000d700: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
-0000d710: 6e27 2c0d 0a20 2020 2020 2020 2020 2020  n',..           
-0000d720: 2027 436f 6e74 656e 742d 5479 7065 273a   'Content-Type':
-0000d730: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
-0000d740: 6f6e 272c 0d0a 2020 2020 2020 2020 2020  on',..          
-0000d750: 2020 2769 6465 6d70 6f74 656e 6379 2d6b    'idempotency-k
-0000d760: 6579 273a 2069 6465 6d70 6f74 656e 6379  ey': idempotency
-0000d770: 5f6b 6579 0d0a 2020 2020 2020 2020 7d0d  _key..        }.
-0000d780: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
-0000d790: 7061 7265 2061 6e64 2065 7865 6375 7465  pare and execute
-0000d7a0: 2072 6571 7565 7374 0d0a 2020 2020 2020   request..      
-0000d7b0: 2020 5f72 6571 7565 7374 203d 2073 656c    _request = sel
-0000d7c0: 662e 6874 7470 5f63 6c69 656e 742e 7061  f.http_client.pa
-0000d7d0: 7463 6828 5f71 7565 7279 5f75 726c 2c20  tch(_query_url, 
-0000d7e0: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
-0000d7f0: 2c20 7061 7261 6d65 7465 7273 3d41 5049  , parameters=API
-0000d800: 4865 6c70 6572 2e6a 736f 6e5f 7365 7269  Helper.json_seri
-0000d810: 616c 697a 6528 626f 6479 2929 0d0a 2020  alize(body))..  
-0000d820: 2020 2020 2020 4261 7369 6341 7574 682e        BasicAuth.
-0000d830: 6170 706c 7928 5f72 6571 7565 7374 290d  apply(_request).
-0000d840: 0a20 2020 2020 2020 205f 636f 6e74 6578  .        _contex
-0000d850: 7420 3d20 7365 6c66 2e65 7865 6375 7465  t = self.execute
-0000d860: 5f72 6571 7565 7374 285f 7265 7175 6573  _request(_reques
-0000d870: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
-0000d880: 456e 6470 6f69 6e74 2061 6e64 2067 6c6f  Endpoint and glo
-0000d890: 6261 6c20 6572 726f 7220 6861 6e64 6c69  bal error handli
-0000d8a0: 6e67 2075 7369 6e67 2048 5454 5020 7374  ng using HTTP st
-0000d8b0: 6174 7573 2063 6f64 6573 2e0d 0a20 2020  atus codes...   
-0000d8c0: 2020 2020 2069 6620 5f63 6f6e 7465 7874       if _context
-0000d8d0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-0000d8e0: 5f63 6f64 6520 3d3d 2034 3030 3a0d 0a20  _code == 400:.. 
-0000d8f0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000d900: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-0000d910: 2749 6e76 616c 6964 2072 6571 7565 7374  'Invalid request
-0000d920: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-0000d930: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-0000d940: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-0000d950: 7475 735f 636f 6465 203d 3d20 3430 313a  tus_code == 401:
-0000d960: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-0000d970: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-0000d980: 6f6e 2827 496e 7661 6c69 6420 4150 4920  on('Invalid API 
-0000d990: 6b65 7927 2c20 5f63 6f6e 7465 7874 290d  key', _context).
-0000d9a0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-0000d9b0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-0000d9c0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-0000d9d0: 3034 3a0d 0a20 2020 2020 2020 2020 2020  04:..           
-0000d9e0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-0000d9f0: 7074 696f 6e28 2741 6e20 696e 666f 726d  ption('An inform
-0000da00: 6564 2072 6573 6f75 7263 6520 7761 7320  ed resource was 
-0000da10: 6e6f 7420 666f 756e 6427 2c20 5f63 6f6e  not found', _con
-0000da20: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-0000da30: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-0000da40: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-0000da50: 6520 3d3d 2034 3132 3a0d 0a20 2020 2020  e == 412:..     
-0000da60: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-0000da70: 6f72 4578 6365 7074 696f 6e28 2742 7573  orException('Bus
-0000da80: 696e 6573 7320 7661 6c69 6461 7469 6f6e  iness validation
-0000da90: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-0000daa0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-0000dab0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-0000dac0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-0000dad0: 3d20 3432 323a 0d0a 2020 2020 2020 2020  = 422:..        
-0000dae0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-0000daf0: 7863 6570 7469 6f6e 2827 436f 6e74 7261  xception('Contra
-0000db00: 6374 2076 616c 6964 6174 696f 6e20 6572  ct validation er
-0000db10: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-0000db20: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-0000db30: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-0000db40: 7374 6174 7573 5f63 6f64 6520 3d3d 2035  status_code == 5
-0000db50: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
-0000db60: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-0000db70: 7074 696f 6e28 2749 6e74 6572 6e61 6c20  ption('Internal 
-0000db80: 7365 7276 6572 2065 7272 6f72 272c 205f  server error', _
-0000db90: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-0000dba0: 2020 7365 6c66 2e76 616c 6964 6174 655f    self.validate_
-0000dbb0: 7265 7370 6f6e 7365 285f 636f 6e74 6578  response(_contex
-0000dbc0: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
-0000dbd0: 5265 7475 726e 2061 7070 726f 7072 6961  Return appropria
-0000dbe0: 7465 2074 7970 650d 0a20 2020 2020 2020  te type..       
-0000dbf0: 2072 6574 7572 6e20 4150 4948 656c 7065   return APIHelpe
-0000dc00: 722e 6a73 6f6e 5f64 6573 6572 6961 6c69  r.json_deseriali
-0000dc10: 7a65 285f 636f 6e74 6578 742e 7265 7370  ze(_context.resp
-0000dc20: 6f6e 7365 2e72 6177 5f62 6f64 792c 2047  onse.raw_body, G
-0000dc30: 6574 5375 6273 6372 6970 7469 6f6e 5265  etSubscriptionRe
-0000dc40: 7370 6f6e 7365 2e66 726f 6d5f 6469 6374  sponse.from_dict
-0000dc50: 696f 6e61 7279 290d 0a0d 0a20 2020 2064  ionary)....    d
-0000dc60: 6566 2075 7064 6174 655f 7375 6273 6372  ef update_subscr
-0000dc70: 6970 7469 6f6e 5f6d 6574 6164 6174 6128  iption_metadata(
-0000dc80: 7365 6c66 2c0d 0a20 2020 2020 2020 2020  self,..         
-0000dc90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dca0: 2020 2020 2020 2020 2020 2020 7375 6273              subs
-0000dcb0: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
-0000dcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dcd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dce0: 2020 2062 6f64 792c 0d0a 2020 2020 2020     body,..      
-0000dcf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dd00: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000dd10: 6465 6d70 6f74 656e 6379 5f6b 6579 3d4e  dempotency_key=N
-0000dd20: 6f6e 6529 3a0d 0a20 2020 2020 2020 2022  one):..        "
-0000dd30: 2222 446f 6573 2061 2050 4154 4348 2072  ""Does a PATCH r
-0000dd40: 6571 7565 7374 2074 6f20 2f53 7562 7363  equest to /Subsc
-0000dd50: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
-0000dd60: 6970 7469 6f6e 5f69 647d 2f6d 6574 6164  iption_id}/metad
-0000dd70: 6174 612e 0d0a 0d0a 2020 2020 2020 2020  ata.....        
-0000dd80: 5570 6461 7465 7320 7468 6520 6d65 7461  Updates the meta
-0000dd90: 6461 7461 2066 726f 6d20 6120 7375 6273  data from a subs
-0000dda0: 6372 6970 7469 6f6e 0d0a 0d0a 2020 2020  cription....    
-0000ddb0: 2020 2020 4172 6773 3a0d 0a20 2020 2020      Args:..     
-0000ddc0: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
-0000ddd0: 696f 6e5f 6964 2028 7374 7269 6e67 293a  ion_id (string):
-0000dde0: 2054 6865 2073 7562 7363 7269 7074 696f   The subscriptio
-0000ddf0: 6e20 6964 0d0a 2020 2020 2020 2020 2020  n id..          
-0000de00: 2020 626f 6479 2028 5570 6461 7465 4d65    body (UpdateMe
-0000de10: 7461 6461 7461 5265 7175 6573 7429 3a20  tadataRequest): 
-0000de20: 5265 7175 6573 7420 666f 7220 7570 6461  Request for upda
-0000de30: 7469 6e67 2074 6865 2073 7562 7363 7270  ting the subscrp
-0000de40: 7469 6f6e 0d0a 2020 2020 2020 2020 2020  tion..          
-0000de50: 2020 2020 2020 6d65 7461 6461 7461 0d0a        metadata..
-0000de60: 2020 2020 2020 2020 2020 2020 6964 656d              idem
-0000de70: 706f 7465 6e63 795f 6b65 7920 2873 7472  potency_key (str
-0000de80: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
-0000de90: 544f 444f 3a20 7479 7065 2064 6573 6372  TODO: type descr
-0000dea0: 6970 7469 6f6e 2068 6572 652e 0d0a 2020  iption here...  
-0000deb0: 2020 2020 2020 2020 2020 2020 2020 4578                Ex
-0000dec0: 616d 706c 653a 200d 0a0d 0a20 2020 2020  ample: ....     
-0000ded0: 2020 2052 6574 7572 6e73 3a0d 0a20 2020     Returns:..   
-0000dee0: 2020 2020 2020 2020 2047 6574 5375 6273           GetSubs
-0000def0: 6372 6970 7469 6f6e 5265 7370 6f6e 7365  criptionResponse
-0000df00: 3a20 5265 7370 6f6e 7365 2066 726f 6d20  : Response from 
-0000df10: 7468 6520 4150 492e 200d 0a0d 0a20 2020  the API. ....   
-0000df20: 2020 2020 2052 6169 7365 733a 0d0a 2020       Raises:..  
-0000df30: 2020 2020 2020 2020 2020 4150 4945 7863            APIExc
-0000df40: 6570 7469 6f6e 3a20 5768 656e 2061 6e20  eption: When an 
-0000df50: 6572 726f 7220 6f63 6375 7273 2077 6869  error occurs whi
-0000df60: 6c65 2066 6574 6368 696e 6720 7468 6520  le fetching the 
-0000df70: 6461 7461 2066 726f 6d0d 0a20 2020 2020  data from..     
-0000df80: 2020 2020 2020 2020 2020 2074 6865 2072             the r
-0000df90: 656d 6f74 6520 4150 492e 2054 6869 7320  emote API. This 
-0000dfa0: 6578 6365 7074 696f 6e20 696e 636c 7564  exception includ
-0000dfb0: 6573 2074 6865 2048 5454 5020 5265 7370  es the HTTP Resp
-0000dfc0: 6f6e 7365 0d0a 2020 2020 2020 2020 2020  onse..          
-0000dfd0: 2020 2020 2020 636f 6465 2c20 616e 2065        code, an e
-0000dfe0: 7272 6f72 206d 6573 7361 6765 2c20 616e  rror message, an
-0000dff0: 6420 7468 6520 4854 5450 2062 6f64 7920  d the HTTP body 
-0000e000: 7468 6174 2077 6173 2072 6563 6569 7665  that was receive
-0000e010: 6420 696e 0d0a 2020 2020 2020 2020 2020  d in..          
-0000e020: 2020 2020 2020 7468 6520 7265 7175 6573        the reques
-0000e030: 742e 0d0a 0d0a 2020 2020 2020 2020 2222  t.....        ""
-0000e040: 220d 0a0d 0a20 2020 2020 2020 2023 2050  "....        # P
-0000e050: 7265 7061 7265 2071 7565 7279 2055 524c  repare query URL
-0000e060: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
-0000e070: 6174 6820 3d20 272f 5375 6273 6372 6970  ath = '/Subscrip
-0000e080: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
-0000e090: 696f 6e5f 6964 7d2f 6d65 7461 6461 7461  ion_id}/metadata
-0000e0a0: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
-0000e0b0: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
-0000e0c0: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
-0000e0d0: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
-0000e0e0: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
-0000e0f0: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
-0000e100: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
-0000e110: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
-0000e120: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
-0000e130: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-0000e140: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
-0000e150: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
-0000e160: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-0000e170: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
-0000e180: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
-0000e190: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
-0000e1a0: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
-0000e1b0: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
-0000e1c0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-0000e1d0: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
-0000e1e0: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
-0000e1f0: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
-0000e200: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
-0000e210: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
-0000e220: 2020 2020 2020 2020 2020 2743 6f6e 7465            'Conte
-0000e230: 6e74 2d54 7970 6527 3a20 2761 7070 6c69  nt-Type': 'appli
-0000e240: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
-0000e250: 2020 2020 2020 2020 2020 2027 6964 656d             'idem
-0000e260: 706f 7465 6e63 792d 6b65 7927 3a20 6964  potency-key': id
-0000e270: 656d 706f 7465 6e63 795f 6b65 790d 0a20  empotency_key.. 
-0000e280: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
-0000e290: 2020 2020 2320 5072 6570 6172 6520 616e      # Prepare an
-0000e2a0: 6420 6578 6563 7574 6520 7265 7175 6573  d execute reques
-0000e2b0: 740d 0a20 2020 2020 2020 205f 7265 7175  t..        _requ
-0000e2c0: 6573 7420 3d20 7365 6c66 2e68 7474 705f  est = self.http_
-0000e2d0: 636c 6965 6e74 2e70 6174 6368 285f 7175  client.patch(_qu
-0000e2e0: 6572 795f 7572 6c2c 2068 6561 6465 7273  ery_url, headers
-0000e2f0: 3d5f 6865 6164 6572 732c 2070 6172 616d  =_headers, param
-0000e300: 6574 6572 733d 4150 4948 656c 7065 722e  eters=APIHelper.
-0000e310: 6a73 6f6e 5f73 6572 6961 6c69 7a65 2862  json_serialize(b
-0000e320: 6f64 7929 290d 0a20 2020 2020 2020 2042  ody))..        B
-0000e330: 6173 6963 4175 7468 2e61 7070 6c79 285f  asicAuth.apply(_
-0000e340: 7265 7175 6573 7429 0d0a 2020 2020 2020  request)..      
-0000e350: 2020 5f63 6f6e 7465 7874 203d 2073 656c    _context = sel
-0000e360: 662e 6578 6563 7574 655f 7265 7175 6573  f.execute_reques
-0000e370: 7428 5f72 6571 7565 7374 290d 0a0d 0a20  t(_request).... 
-0000e380: 2020 2020 2020 2023 2045 6e64 706f 696e         # Endpoin
-0000e390: 7420 616e 6420 676c 6f62 616c 2065 7272  t and global err
-0000e3a0: 6f72 2068 616e 646c 696e 6720 7573 696e  or handling usin
-0000e3b0: 6720 4854 5450 2073 7461 7475 7320 636f  g HTTP status co
-0000e3c0: 6465 732e 0d0a 2020 2020 2020 2020 6966  des...        if
-0000e3d0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-0000e3e0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-0000e3f0: 3d20 3430 303a 0d0a 2020 2020 2020 2020  = 400:..        
-0000e400: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-0000e410: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
-0000e420: 6420 7265 7175 6573 7427 2c20 5f63 6f6e  d request', _con
-0000e430: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-0000e440: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-0000e450: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-0000e460: 6520 3d3d 2034 3031 3a0d 0a20 2020 2020  e == 401:..     
-0000e470: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-0000e480: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-0000e490: 616c 6964 2041 5049 206b 6579 272c 205f  alid API key', _
-0000e4a0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-0000e4b0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-0000e4c0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-0000e4d0: 636f 6465 203d 3d20 3430 343a 0d0a 2020  code == 404:..  
-0000e4e0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0000e4f0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-0000e500: 416e 2069 6e66 6f72 6d65 6420 7265 736f  An informed reso
-0000e510: 7572 6365 2077 6173 206e 6f74 2066 6f75  urce was not fou
-0000e520: 6e64 272c 205f 636f 6e74 6578 7429 0d0a  nd', _context)..
-0000e530: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-0000e540: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-0000e550: 7461 7475 735f 636f 6465 203d 3d20 3431  tatus_code == 41
-0000e560: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-0000e570: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-0000e580: 7469 6f6e 2827 4275 7369 6e65 7373 2076  tion('Business v
-0000e590: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-0000e5a0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-0000e5b0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-0000e5c0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-0000e5d0: 7573 5f63 6f64 6520 3d3d 2034 3232 3a0d  us_code == 422:.
-0000e5e0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0000e5f0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-0000e600: 6e28 2743 6f6e 7472 6163 7420 7661 6c69  n('Contract vali
-0000e610: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
-0000e620: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-0000e630: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-0000e640: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-0000e650: 636f 6465 203d 3d20 3530 303a 0d0a 2020  code == 500:..  
-0000e660: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0000e670: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-0000e680: 496e 7465 726e 616c 2073 6572 7665 7220  Internal server 
-0000e690: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
-0000e6a0: 290d 0a20 2020 2020 2020 2073 656c 662e  )..        self.
-0000e6b0: 7661 6c69 6461 7465 5f72 6573 706f 6e73  validate_respons
-0000e6c0: 6528 5f63 6f6e 7465 7874 290d 0a0d 0a20  e(_context).... 
-0000e6d0: 2020 2020 2020 2023 2052 6574 7572 6e20         # Return 
-0000e6e0: 6170 7072 6f70 7269 6174 6520 7479 7065  appropriate type
-0000e6f0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0000e700: 2041 5049 4865 6c70 6572 2e6a 736f 6e5f   APIHelper.json_
-0000e710: 6465 7365 7269 616c 697a 6528 5f63 6f6e  deserialize(_con
-0000e720: 7465 7874 2e72 6573 706f 6e73 652e 7261  text.response.ra
-0000e730: 775f 626f 6479 2c20 4765 7453 7562 7363  w_body, GetSubsc
-0000e740: 7269 7074 696f 6e52 6573 706f 6e73 652e  riptionResponse.
-0000e750: 6672 6f6d 5f64 6963 7469 6f6e 6172 7929  from_dictionary)
-0000e760: 0d0a 0d0a 2020 2020 6465 6620 6465 6c65  ....    def dele
-0000e770: 7465 5f69 6e63 7265 6d65 6e74 2873 656c  te_increment(sel
-0000e780: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
-0000e790: 2020 2020 2020 2020 2020 2020 2073 7562               sub
-0000e7a0: 7363 7269 7074 696f 6e5f 6964 2c0d 0a20  scription_id,.. 
-0000e7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e7c0: 2020 2020 2020 2020 696e 6372 656d 656e          incremen
-0000e7d0: 745f 6964 2c0d 0a20 2020 2020 2020 2020  t_id,..         
-0000e7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e7f0: 6964 656d 706f 7465 6e63 795f 6b65 793d  idempotency_key=
-0000e800: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
-0000e810: 2222 2244 6f65 7320 6120 4445 4c45 5445  """Does a DELETE
-0000e820: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
-0000e830: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
-0000e840: 6372 6970 7469 6f6e 5f69 647d 2f69 6e63  cription_id}/inc
-0000e850: 7265 6d65 6e74 732f 7b69 6e63 7265 6d65  rements/{increme
-0000e860: 6e74 5f69 647d 2e0d 0a0d 0a20 2020 2020  nt_id}.....     
-0000e870: 2020 2044 656c 6574 6573 2061 2069 6e63     Deletes a inc
-0000e880: 7265 6d65 6e74 0d0a 0d0a 2020 2020 2020  rement....      
-0000e890: 2020 4172 6773 3a0d 0a20 2020 2020 2020    Args:..       
-0000e8a0: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
-0000e8b0: 6e5f 6964 2028 7374 7269 6e67 293a 2053  n_id (string): S
-0000e8c0: 7562 7363 7269 7074 696f 6e20 6964 0d0a  ubscription id..
-0000e8d0: 2020 2020 2020 2020 2020 2020 696e 6372              incr
-0000e8e0: 656d 656e 745f 6964 2028 7374 7269 6e67  ement_id (string
-0000e8f0: 293a 2049 6e63 7265 6d65 6e74 2069 640d  ): Increment id.
-0000e900: 0a20 2020 2020 2020 2020 2020 2069 6465  .            ide
-0000e910: 6d70 6f74 656e 6379 5f6b 6579 2028 7374  mpotency_key (st
-0000e920: 7269 6e67 2c20 6f70 7469 6f6e 616c 293a  ring, optional):
-0000e930: 2054 4f44 4f3a 2074 7970 6520 6465 7363   TODO: type desc
-0000e940: 7269 7074 696f 6e20 6865 7265 2e0d 0a20  ription here... 
-0000e950: 2020 2020 2020 2020 2020 2020 2020 2045                 E
-0000e960: 7861 6d70 6c65 3a20 0d0a 0d0a 2020 2020  xample: ....    
-0000e970: 2020 2020 5265 7475 726e 733a 0d0a 2020      Returns:..  
-0000e980: 2020 2020 2020 2020 2020 4765 7449 6e63            GetInc
-0000e990: 7265 6d65 6e74 5265 7370 6f6e 7365 3a20  rementResponse: 
-0000e9a0: 5265 7370 6f6e 7365 2066 726f 6d20 7468  Response from th
-0000e9b0: 6520 4150 492e 200d 0a0d 0a20 2020 2020  e API. ....     
-0000e9c0: 2020 2052 6169 7365 733a 0d0a 2020 2020     Raises:..    
-0000e9d0: 2020 2020 2020 2020 4150 4945 7863 6570          APIExcep
-0000e9e0: 7469 6f6e 3a20 5768 656e 2061 6e20 6572  tion: When an er
-0000e9f0: 726f 7220 6f63 6375 7273 2077 6869 6c65  ror occurs while
-0000ea00: 2066 6574 6368 696e 6720 7468 6520 6461   fetching the da
-0000ea10: 7461 2066 726f 6d0d 0a20 2020 2020 2020  ta from..       
-0000ea20: 2020 2020 2020 2020 2074 6865 2072 656d           the rem
-0000ea30: 6f74 6520 4150 492e 2054 6869 7320 6578  ote API. This ex
-0000ea40: 6365 7074 696f 6e20 696e 636c 7564 6573  ception includes
-0000ea50: 2074 6865 2048 5454 5020 5265 7370 6f6e   the HTTP Respon
-0000ea60: 7365 0d0a 2020 2020 2020 2020 2020 2020  se..            
-0000ea70: 2020 2020 636f 6465 2c20 616e 2065 7272      code, an err
-0000ea80: 6f72 206d 6573 7361 6765 2c20 616e 6420  or message, and 
-0000ea90: 7468 6520 4854 5450 2062 6f64 7920 7468  the HTTP body th
-0000eaa0: 6174 2077 6173 2072 6563 6569 7665 6420  at was received 
-0000eab0: 696e 0d0a 2020 2020 2020 2020 2020 2020  in..            
-0000eac0: 2020 2020 7468 6520 7265 7175 6573 742e      the request.
-0000ead0: 0d0a 0d0a 2020 2020 2020 2020 2222 220d  ....        """.
-0000eae0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
-0000eaf0: 7061 7265 2071 7565 7279 2055 524c 0d0a  pare query URL..
-0000eb00: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
-0000eb10: 6820 3d20 272f 7375 6273 6372 6970 7469  h = '/subscripti
-0000eb20: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
-0000eb30: 6e5f 6964 7d2f 696e 6372 656d 656e 7473  n_id}/increments
-0000eb40: 2f7b 696e 6372 656d 656e 745f 6964 7d27  /{increment_id}'
-0000eb50: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
-0000eb60: 6174 6820 3d20 4150 4948 656c 7065 722e  ath = APIHelper.
-0000eb70: 6170 7065 6e64 5f75 726c 5f77 6974 685f  append_url_with_
-0000eb80: 7465 6d70 6c61 7465 5f70 6172 616d 6574  template_paramet
-0000eb90: 6572 7328 5f75 726c 5f70 6174 682c 207b  ers(_url_path, {
-0000eba0: 200d 0a20 2020 2020 2020 2020 2020 2027   ..            '
-0000ebb0: 7375 6273 6372 6970 7469 6f6e 5f69 6427  subscription_id'
-0000ebc0: 3a20 7375 6273 6372 6970 7469 6f6e 5f69  : subscription_i
-0000ebd0: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
-0000ebe0: 2769 6e63 7265 6d65 6e74 5f69 6427 3a20  'increment_id': 
-0000ebf0: 696e 6372 656d 656e 745f 6964 0d0a 2020  increment_id..  
-0000ec00: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
-0000ec10: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-0000ec20: 203d 2043 6f6e 6669 6775 7261 7469 6f6e   = Configuration
-0000ec30: 2e62 6173 655f 7572 690d 0a20 2020 2020  .base_uri..     
-0000ec40: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-0000ec50: 7220 2b3d 205f 7572 6c5f 7061 7468 0d0a  r += _url_path..
-0000ec60: 2020 2020 2020 2020 5f71 7565 7279 5f75          _query_u
-0000ec70: 726c 203d 2041 5049 4865 6c70 6572 2e63  rl = APIHelper.c
-0000ec80: 6c65 616e 5f75 726c 285f 7175 6572 795f  lean_url(_query_
-0000ec90: 6275 696c 6465 7229 0d0a 0d0a 2020 2020  builder)....    
-0000eca0: 2020 2020 2320 5072 6570 6172 6520 6865      # Prepare he
-0000ecb0: 6164 6572 730d 0a20 2020 2020 2020 205f  aders..        _
-0000ecc0: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
-0000ecd0: 2020 2020 2020 2020 2027 6163 6365 7074           'accept
-0000ece0: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
-0000ecf0: 6a73 6f6e 272c 0d0a 2020 2020 2020 2020  json',..        
-0000ed00: 2020 2020 2769 6465 6d70 6f74 656e 6379      'idempotency
-0000ed10: 2d6b 6579 273a 2069 6465 6d70 6f74 656e  -key': idempoten
-0000ed20: 6379 5f6b 6579 0d0a 2020 2020 2020 2020  cy_key..        
-0000ed30: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
-0000ed40: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
-0000ed50: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
-0000ed60: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
-0000ed70: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
-0000ed80: 6465 6c65 7465 285f 7175 6572 795f 7572  delete(_query_ur
-0000ed90: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
-0000eda0: 6572 7329 0d0a 2020 2020 2020 2020 4261  ers)..        Ba
-0000edb0: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
-0000edc0: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
-0000edd0: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
-0000ede0: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
-0000edf0: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
-0000ee00: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
-0000ee10: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
-0000ee20: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
-0000ee30: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
-0000ee40: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
-0000ee50: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-0000ee60: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-0000ee70: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
-0000ee80: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-0000ee90: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-0000eea0: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
-0000eeb0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-0000eec0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-0000eed0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000eee0: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
-0000eef0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-0000ef00: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-0000ef10: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
-0000ef20: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-0000ef30: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-0000ef40: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-0000ef50: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
-0000ef60: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-0000ef70: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
-0000ef80: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
-0000ef90: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
-0000efa0: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
-0000efb0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-0000efc0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-0000efd0: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
-0000efe0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-0000eff0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-0000f000: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
-0000f010: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-0000f020: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000f030: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-0000f040: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-0000f050: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
-0000f060: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000f070: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-0000f080: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
-0000f090: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-0000f0a0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-0000f0b0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-0000f0c0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-0000f0d0: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
-0000f0e0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-0000f0f0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-0000f100: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
-0000f110: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-0000f120: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
-0000f130: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
-0000f140: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
-0000f150: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
-0000f160: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
-0000f170: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000f180: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
-0000f190: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
-0000f1a0: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
-0000f1b0: 5f62 6f64 792c 2047 6574 496e 6372 656d  _body, GetIncrem
-0000f1c0: 656e 7452 6573 706f 6e73 652e 6672 6f6d  entResponse.from
-0000f1d0: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
-0000f1e0: 2020 2020 6465 6620 6765 745f 696e 6372      def get_incr
-0000f1f0: 656d 656e 745f 6279 5f69 6428 7365 6c66  ement_by_id(self
-0000f200: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000f210: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000f220: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
-0000f230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f240: 2020 2020 2020 2020 2020 2020 2069 6e63               inc
-0000f250: 7265 6d65 6e74 5f69 6429 3a0d 0a20 2020  rement_id):..   
-0000f260: 2020 2020 2022 2222 446f 6573 2061 2047       """Does a G
-0000f270: 4554 2072 6571 7565 7374 2074 6f20 2f73  ET request to /s
-0000f280: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-0000f290: 6273 6372 6970 7469 6f6e 5f69 647d 2f69  bscription_id}/i
-0000f2a0: 6e63 7265 6d65 6e74 732f 7b69 6e63 7265  ncrements/{incre
-0000f2b0: 6d65 6e74 5f69 647d 2e0d 0a0d 0a20 2020  ment_id}.....   
-0000f2c0: 2020 2020 2047 6574 496e 6372 656d 656e       GetIncremen
-0000f2d0: 7442 7949 640d 0a0d 0a20 2020 2020 2020  tById....       
-0000f2e0: 2041 7267 733a 0d0a 2020 2020 2020 2020   Args:..        
-0000f2f0: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
-0000f300: 5f69 6420 2873 7472 696e 6729 3a20 5468  _id (string): Th
-0000f310: 6520 7375 6273 6372 6970 7469 6f6e 2049  e subscription I
-0000f320: 640d 0a20 2020 2020 2020 2020 2020 2069  d..            i
-0000f330: 6e63 7265 6d65 6e74 5f69 6420 2873 7472  ncrement_id (str
-0000f340: 696e 6729 3a20 5468 6520 696e 6372 656d  ing): The increm
-0000f350: 656e 7420 4964 0d0a 0d0a 2020 2020 2020  ent Id....      
-0000f360: 2020 5265 7475 726e 733a 0d0a 2020 2020    Returns:..    
-0000f370: 2020 2020 2020 2020 4765 7449 6e63 7265          GetIncre
-0000f380: 6d65 6e74 5265 7370 6f6e 7365 3a20 5265  mentResponse: Re
-0000f390: 7370 6f6e 7365 2066 726f 6d20 7468 6520  sponse from the 
-0000f3a0: 4150 492e 200d 0a0d 0a20 2020 2020 2020  API. ....       
-0000f3b0: 2052 6169 7365 733a 0d0a 2020 2020 2020   Raises:..      
-0000f3c0: 2020 2020 2020 4150 4945 7863 6570 7469        APIExcepti
-0000f3d0: 6f6e 3a20 5768 656e 2061 6e20 6572 726f  on: When an erro
-0000f3e0: 7220 6f63 6375 7273 2077 6869 6c65 2066  r occurs while f
-0000f3f0: 6574 6368 696e 6720 7468 6520 6461 7461  etching the data
-0000f400: 2066 726f 6d0d 0a20 2020 2020 2020 2020   from..         
-0000f410: 2020 2020 2020 2074 6865 2072 656d 6f74         the remot
-0000f420: 6520 4150 492e 2054 6869 7320 6578 6365  e API. This exce
-0000f430: 7074 696f 6e20 696e 636c 7564 6573 2074  ption includes t
-0000f440: 6865 2048 5454 5020 5265 7370 6f6e 7365  he HTTP Response
-0000f450: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000f460: 2020 636f 6465 2c20 616e 2065 7272 6f72    code, an error
-0000f470: 206d 6573 7361 6765 2c20 616e 6420 7468   message, and th
-0000f480: 6520 4854 5450 2062 6f64 7920 7468 6174  e HTTP body that
-0000f490: 2077 6173 2072 6563 6569 7665 6420 696e   was received in
-0000f4a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000f4b0: 2020 7468 6520 7265 7175 6573 742e 0d0a    the request...
-0000f4c0: 0d0a 2020 2020 2020 2020 2222 220d 0a0d  ..        """...
-0000f4d0: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-0000f4e0: 7265 2071 7565 7279 2055 524c 0d0a 2020  re query URL..  
-0000f4f0: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-0000f500: 3d20 272f 7375 6273 6372 6970 7469 6f6e  = '/subscription
-0000f510: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
-0000f520: 6964 7d2f 696e 6372 656d 656e 7473 2f7b  id}/increments/{
-0000f530: 696e 6372 656d 656e 745f 6964 7d27 0d0a  increment_id}'..
-0000f540: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
-0000f550: 6820 3d20 4150 4948 656c 7065 722e 6170  h = APIHelper.ap
-0000f560: 7065 6e64 5f75 726c 5f77 6974 685f 7465  pend_url_with_te
-0000f570: 6d70 6c61 7465 5f70 6172 616d 6574 6572  mplate_parameter
-0000f580: 7328 5f75 726c 5f70 6174 682c 207b 200d  s(_url_path, { .
-0000f590: 0a20 2020 2020 2020 2020 2020 2027 7375  .            'su
-0000f5a0: 6273 6372 6970 7469 6f6e 5f69 6427 3a20  bscription_id': 
-0000f5b0: 7375 6273 6372 6970 7469 6f6e 5f69 642c  subscription_id,
-0000f5c0: 0d0a 2020 2020 2020 2020 2020 2020 2769  ..            'i
-0000f5d0: 6e63 7265 6d65 6e74 5f69 6427 3a20 696e  ncrement_id': in
-0000f5e0: 6372 656d 656e 745f 6964 0d0a 2020 2020  crement_id..    
-0000f5f0: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
-0000f600: 5f71 7565 7279 5f62 7569 6c64 6572 203d  _query_builder =
-0000f610: 2043 6f6e 6669 6775 7261 7469 6f6e 2e62   Configuration.b
-0000f620: 6173 655f 7572 690d 0a20 2020 2020 2020  ase_uri..       
-0000f630: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-0000f640: 2b3d 205f 7572 6c5f 7061 7468 0d0a 2020  += _url_path..  
-0000f650: 2020 2020 2020 5f71 7565 7279 5f75 726c        _query_url
-0000f660: 203d 2041 5049 4865 6c70 6572 2e63 6c65   = APIHelper.cle
-0000f670: 616e 5f75 726c 285f 7175 6572 795f 6275  an_url(_query_bu
-0000f680: 696c 6465 7229 0d0a 0d0a 2020 2020 2020  ilder)....      
-0000f690: 2020 2320 5072 6570 6172 6520 6865 6164    # Prepare head
-0000f6a0: 6572 730d 0a20 2020 2020 2020 205f 6865  ers..        _he
-0000f6b0: 6164 6572 7320 3d20 7b0d 0a20 2020 2020  aders = {..     
-0000f6c0: 2020 2020 2020 2027 6163 6365 7074 273a         'accept':
-0000f6d0: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
-0000f6e0: 6f6e 270d 0a20 2020 2020 2020 207d 0d0a  on'..        }..
-0000f6f0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-0000f700: 6172 6520 616e 6420 6578 6563 7574 6520  are and execute 
-0000f710: 7265 7175 6573 740d 0a20 2020 2020 2020  request..       
-0000f720: 205f 7265 7175 6573 7420 3d20 7365 6c66   _request = self
-0000f730: 2e68 7474 705f 636c 6965 6e74 2e67 6574  .http_client.get
-0000f740: 285f 7175 6572 795f 7572 6c2c 2068 6561  (_query_url, hea
-0000f750: 6465 7273 3d5f 6865 6164 6572 7329 0d0a  ders=_headers)..
-0000f760: 2020 2020 2020 2020 4261 7369 6341 7574          BasicAut
-0000f770: 682e 6170 706c 7928 5f72 6571 7565 7374  h.apply(_request
-0000f780: 290d 0a20 2020 2020 2020 205f 636f 6e74  )..        _cont
-0000f790: 6578 7420 3d20 7365 6c66 2e65 7865 6375  ext = self.execu
-0000f7a0: 7465 5f72 6571 7565 7374 285f 7265 7175  te_request(_requ
-0000f7b0: 6573 7429 0d0a 0d0a 2020 2020 2020 2020  est)....        
-0000f7c0: 2320 456e 6470 6f69 6e74 2061 6e64 2067  # Endpoint and g
-0000f7d0: 6c6f 6261 6c20 6572 726f 7220 6861 6e64  lobal error hand
-0000f7e0: 6c69 6e67 2075 7369 6e67 2048 5454 5020  ling using HTTP 
-0000f7f0: 7374 6174 7573 2063 6f64 6573 2e0d 0a20  status codes... 
-0000f800: 2020 2020 2020 2069 6620 5f63 6f6e 7465         if _conte
-0000f810: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-0000f820: 7573 5f63 6f64 6520 3d3d 2034 3030 3a0d  us_code == 400:.
-0000f830: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0000f840: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-0000f850: 6e28 2749 6e76 616c 6964 2072 6571 7565  n('Invalid reque
-0000f860: 7374 272c 205f 636f 6e74 6578 7429 0d0a  st', _context)..
-0000f870: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-0000f880: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-0000f890: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
-0000f8a0: 313a 0d0a 2020 2020 2020 2020 2020 2020  1:..            
-0000f8b0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-0000f8c0: 7469 6f6e 2827 496e 7661 6c69 6420 4150  tion('Invalid AP
-0000f8d0: 4920 6b65 7927 2c20 5f63 6f6e 7465 7874  I key', _context
-0000f8e0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-0000f8f0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-0000f900: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-0000f910: 2034 3034 3a0d 0a20 2020 2020 2020 2020   404:..         
-0000f920: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-0000f930: 6365 7074 696f 6e28 2741 6e20 696e 666f  ception('An info
-0000f940: 726d 6564 2072 6573 6f75 7263 6520 7761  rmed resource wa
-0000f950: 7320 6e6f 7420 666f 756e 6427 2c20 5f63  s not found', _c
-0000f960: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-0000f970: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-0000f980: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-0000f990: 6f64 6520 3d3d 2034 3132 3a0d 0a20 2020  ode == 412:..   
-0000f9a0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-0000f9b0: 7272 6f72 4578 6365 7074 696f 6e28 2742  rrorException('B
-0000f9c0: 7573 696e 6573 7320 7661 6c69 6461 7469  usiness validati
-0000f9d0: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
-0000f9e0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-0000f9f0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-0000fa00: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000fa10: 203d 3d20 3432 323a 0d0a 2020 2020 2020   == 422:..      
-0000fa20: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-0000fa30: 7245 7863 6570 7469 6f6e 2827 436f 6e74  rException('Cont
-0000fa40: 7261 6374 2076 616c 6964 6174 696f 6e20  ract validation 
-0000fa50: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
-0000fa60: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-0000fa70: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-0000fa80: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-0000fa90: 2035 3030 3a0d 0a20 2020 2020 2020 2020   500:..         
-0000faa0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-0000fab0: 6365 7074 696f 6e28 2749 6e74 6572 6e61  ception('Interna
-0000fac0: 6c20 7365 7276 6572 2065 7272 6f72 272c  l server error',
-0000fad0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000fae0: 2020 2020 7365 6c66 2e76 616c 6964 6174      self.validat
-0000faf0: 655f 7265 7370 6f6e 7365 285f 636f 6e74  e_response(_cont
-0000fb00: 6578 7429 0d0a 0d0a 2020 2020 2020 2020  ext)....        
-0000fb10: 2320 5265 7475 726e 2061 7070 726f 7072  # Return appropr
-0000fb20: 6961 7465 2074 7970 650d 0a20 2020 2020  iate type..     
-0000fb30: 2020 2072 6574 7572 6e20 4150 4948 656c     return APIHel
-0000fb40: 7065 722e 6a73 6f6e 5f64 6573 6572 6961  per.json_deseria
-0000fb50: 6c69 7a65 285f 636f 6e74 6578 742e 7265  lize(_context.re
-0000fb60: 7370 6f6e 7365 2e72 6177 5f62 6f64 792c  sponse.raw_body,
-0000fb70: 2047 6574 496e 6372 656d 656e 7452 6573   GetIncrementRes
-0000fb80: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
-0000fb90: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
-0000fba0: 6620 6765 745f 7375 6273 6372 6970 7469  f get_subscripti
-0000fbb0: 6f6e 5f63 7963 6c65 7328 7365 6c66 2c0d  on_cycles(self,.
-0000fbc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000fbd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fbe0: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
-0000fbf0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000fc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fc10: 2020 2070 6167 652c 0d0a 2020 2020 2020     page,..      
-0000fc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fc30: 2020 2020 2020 2020 2020 7369 7a65 293a            size):
-0000fc40: 0d0a 2020 2020 2020 2020 2222 2244 6f65  ..        """Doe
-0000fc50: 7320 6120 4745 5420 7265 7175 6573 7420  s a GET request 
-0000fc60: 746f 202f 7375 6273 6372 6970 7469 6f6e  to /subscription
-0000fc70: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
-0000fc80: 6964 7d2f 6379 636c 6573 2e0d 0a0d 0a20  id}/cycles..... 
-0000fc90: 2020 2020 2020 2047 6574 5375 6273 6372         GetSubscr
-0000fca0: 6970 7469 6f6e 4379 636c 6573 0d0a 0d0a  iptionCycles....
-0000fcb0: 2020 2020 2020 2020 4172 6773 3a0d 0a20          Args:.. 
-0000fcc0: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
-0000fcd0: 7269 7074 696f 6e5f 6964 2028 7374 7269  ription_id (stri
-0000fce0: 6e67 293a 2053 7562 7363 7269 7074 696f  ng): Subscriptio
-0000fcf0: 6e20 4964 0d0a 2020 2020 2020 2020 2020  n Id..          
-0000fd00: 2020 7061 6765 2028 7374 7269 6e67 293a    page (string):
-0000fd10: 2050 6167 6520 6e75 6d62 6572 0d0a 2020   Page number..  
-0000fd20: 2020 2020 2020 2020 2020 7369 7a65 2028            size (
-0000fd30: 7374 7269 6e67 293a 2050 6167 6520 7369  string): Page si
-0000fd40: 7a65 0d0a 0d0a 2020 2020 2020 2020 5265  ze....        Re
-0000fd50: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
-0000fd60: 2020 2020 4c69 7374 4379 636c 6573 5265      ListCyclesRe
-0000fd70: 7370 6f6e 7365 3a20 5265 7370 6f6e 7365  sponse: Response
-0000fd80: 2066 726f 6d20 7468 6520 4150 492e 200d   from the API. .
-0000fd90: 0a0d 0a20 2020 2020 2020 2052 6169 7365  ...        Raise
-0000fda0: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-0000fdb0: 4150 4945 7863 6570 7469 6f6e 3a20 5768  APIException: Wh
-0000fdc0: 656e 2061 6e20 6572 726f 7220 6f63 6375  en an error occu
-0000fdd0: 7273 2077 6869 6c65 2066 6574 6368 696e  rs while fetchin
-0000fde0: 6720 7468 6520 6461 7461 2066 726f 6d0d  g the data from.
-0000fdf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000fe00: 2074 6865 2072 656d 6f74 6520 4150 492e   the remote API.
-0000fe10: 2054 6869 7320 6578 6365 7074 696f 6e20   This exception 
-0000fe20: 696e 636c 7564 6573 2074 6865 2048 5454  includes the HTT
-0000fe30: 5020 5265 7370 6f6e 7365 0d0a 2020 2020  P Response..    
-0000fe40: 2020 2020 2020 2020 2020 2020 636f 6465              code
-0000fe50: 2c20 616e 2065 7272 6f72 206d 6573 7361  , an error messa
-0000fe60: 6765 2c20 616e 6420 7468 6520 4854 5450  ge, and the HTTP
-0000fe70: 2062 6f64 7920 7468 6174 2077 6173 2072   body that was r
-0000fe80: 6563 6569 7665 6420 696e 0d0a 2020 2020  eceived in..    
-0000fe90: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-0000fea0: 7265 7175 6573 742e 0d0a 0d0a 2020 2020  request.....    
-0000feb0: 2020 2020 2222 220d 0a0d 0a20 2020 2020      """....     
-0000fec0: 2020 2023 2050 7265 7061 7265 2071 7565     # Prepare que
-0000fed0: 7279 2055 524c 0d0a 2020 2020 2020 2020  ry URL..        
-0000fee0: 5f75 726c 5f70 6174 6820 3d20 272f 7375  _url_path = '/su
-0000fef0: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
-0000ff00: 7363 7269 7074 696f 6e5f 6964 7d2f 6379  scription_id}/cy
-0000ff10: 636c 6573 270d 0a20 2020 2020 2020 205f  cles'..        _
-0000ff20: 7572 6c5f 7061 7468 203d 2041 5049 4865  url_path = APIHe
-0000ff30: 6c70 6572 2e61 7070 656e 645f 7572 6c5f  lper.append_url_
-0000ff40: 7769 7468 5f74 656d 706c 6174 655f 7061  with_template_pa
-0000ff50: 7261 6d65 7465 7273 285f 7572 6c5f 7061  rameters(_url_pa
-0000ff60: 7468 2c20 7b20 0d0a 2020 2020 2020 2020  th, { ..        
-0000ff70: 2020 2020 2773 7562 7363 7269 7074 696f      'subscriptio
-0000ff80: 6e5f 6964 273a 2073 7562 7363 7269 7074  n_id': subscript
-0000ff90: 696f 6e5f 6964 0d0a 2020 2020 2020 2020  ion_id..        
-0000ffa0: 7d29 0d0a 2020 2020 2020 2020 5f71 7565  })..        _que
-0000ffb0: 7279 5f62 7569 6c64 6572 203d 2043 6f6e  ry_builder = Con
-0000ffc0: 6669 6775 7261 7469 6f6e 2e62 6173 655f  figuration.base_
-0000ffd0: 7572 690d 0a20 2020 2020 2020 205f 7175  uri..        _qu
-0000ffe0: 6572 795f 6275 696c 6465 7220 2b3d 205f  ery_builder += _
-0000fff0: 7572 6c5f 7061 7468 0d0a 2020 2020 2020  url_path..      
-00010000: 2020 5f71 7565 7279 5f70 6172 616d 6574    _query_paramet
-00010010: 6572 7320 3d20 7b0d 0a20 2020 2020 2020  ers = {..       
-00010020: 2020 2020 2027 7061 6765 273a 2070 6167       'page': pag
-00010030: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00010040: 2773 697a 6527 3a20 7369 7a65 0d0a 2020  'size': size..  
-00010050: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
-00010060: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-00010070: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
-00010080: 6e64 5f75 726c 5f77 6974 685f 7175 6572  nd_url_with_quer
-00010090: 795f 7061 7261 6d65 7465 7273 285f 7175  y_parameters(_qu
-000100a0: 6572 795f 6275 696c 6465 722c 0d0a 2020  ery_builder,..  
-000100b0: 2020 2020 2020 2020 2020 5f71 7565 7279            _query
-000100c0: 5f70 6172 616d 6574 6572 732c 2043 6f6e  _parameters, Con
-000100d0: 6669 6775 7261 7469 6f6e 2e61 7272 6179  figuration.array
-000100e0: 5f73 6572 6961 6c69 7a61 7469 6f6e 290d  _serialization).
-000100f0: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00010100: 7572 6c20 3d20 4150 4948 656c 7065 722e  url = APIHelper.
-00010110: 636c 6561 6e5f 7572 6c28 5f71 7565 7279  clean_url(_query
-00010120: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
-00010130: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
-00010140: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
-00010150: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
-00010160: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
-00010170: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
-00010180: 2f6a 736f 6e27 0d0a 2020 2020 2020 2020  /json'..        
-00010190: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
-000101a0: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
-000101b0: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
-000101c0: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
-000101d0: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
-000101e0: 6765 7428 5f71 7565 7279 5f75 726c 2c20  get(_query_url, 
-000101f0: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
-00010200: 290d 0a20 2020 2020 2020 2042 6173 6963  )..        Basic
-00010210: 4175 7468 2e61 7070 6c79 285f 7265 7175  Auth.apply(_requ
-00010220: 6573 7429 0d0a 2020 2020 2020 2020 5f63  est)..        _c
-00010230: 6f6e 7465 7874 203d 2073 656c 662e 6578  ontext = self.ex
-00010240: 6563 7574 655f 7265 7175 6573 7428 5f72  ecute_request(_r
-00010250: 6571 7565 7374 290d 0a0d 0a20 2020 2020  equest)....     
-00010260: 2020 2023 2045 6e64 706f 696e 7420 616e     # Endpoint an
-00010270: 6420 676c 6f62 616c 2065 7272 6f72 2068  d global error h
-00010280: 616e 646c 696e 6720 7573 696e 6720 4854  andling using HT
-00010290: 5450 2073 7461 7475 7320 636f 6465 732e  TP status codes.
-000102a0: 0d0a 2020 2020 2020 2020 6966 205f 636f  ..        if _co
-000102b0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-000102c0: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
-000102d0: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
-000102e0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-000102f0: 7469 6f6e 2827 496e 7661 6c69 6420 7265  tion('Invalid re
-00010300: 7175 6573 7427 2c20 5f63 6f6e 7465 7874  quest', _context
-00010310: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-00010320: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00010330: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00010340: 2034 3031 3a0d 0a20 2020 2020 2020 2020   401:..         
-00010350: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00010360: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-00010370: 2041 5049 206b 6579 272c 205f 636f 6e74   API key', _cont
-00010380: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00010390: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-000103a0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-000103b0: 203d 3d20 3430 343a 0d0a 2020 2020 2020   == 404:..      
-000103c0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-000103d0: 7245 7863 6570 7469 6f6e 2827 416e 2069  rException('An i
-000103e0: 6e66 6f72 6d65 6420 7265 736f 7572 6365  nformed resource
-000103f0: 2077 6173 206e 6f74 2066 6f75 6e64 272c   was not found',
-00010400: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00010410: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00010420: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00010430: 735f 636f 6465 203d 3d20 3431 323a 0d0a  s_code == 412:..
-00010440: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00010450: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00010460: 2827 4275 7369 6e65 7373 2076 616c 6964  ('Business valid
-00010470: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-00010480: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00010490: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-000104a0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-000104b0: 6f64 6520 3d3d 2034 3232 3a0d 0a20 2020  ode == 422:..   
-000104c0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-000104d0: 7272 6f72 4578 6365 7074 696f 6e28 2743  rrorException('C
-000104e0: 6f6e 7472 6163 7420 7661 6c69 6461 7469  ontract validati
-000104f0: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
-00010500: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00010510: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00010520: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00010530: 203d 3d20 3530 303a 0d0a 2020 2020 2020   == 500:..      
-00010540: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-00010550: 7245 7863 6570 7469 6f6e 2827 496e 7465  rException('Inte
-00010560: 726e 616c 2073 6572 7665 7220 6572 726f  rnal server erro
-00010570: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-00010580: 2020 2020 2020 2073 656c 662e 7661 6c69         self.vali
-00010590: 6461 7465 5f72 6573 706f 6e73 6528 5f63  date_response(_c
-000105a0: 6f6e 7465 7874 290d 0a0d 0a20 2020 2020  ontext)....     
-000105b0: 2020 2023 2052 6574 7572 6e20 6170 7072     # Return appr
-000105c0: 6f70 7269 6174 6520 7479 7065 0d0a 2020  opriate type..  
-000105d0: 2020 2020 2020 7265 7475 726e 2041 5049        return API
-000105e0: 4865 6c70 6572 2e6a 736f 6e5f 6465 7365  Helper.json_dese
-000105f0: 7269 616c 697a 6528 5f63 6f6e 7465 7874  rialize(_context
-00010600: 2e72 6573 706f 6e73 652e 7261 775f 626f  .response.raw_bo
-00010610: 6479 2c20 4c69 7374 4379 636c 6573 5265  dy, ListCyclesRe
-00010620: 7370 6f6e 7365 2e66 726f 6d5f 6469 6374  sponse.from_dict
-00010630: 696f 6e61 7279 290d 0a0d 0a20 2020 2064  ionary)....    d
-00010640: 6566 2072 656e 6577 5f73 7562 7363 7269  ef renew_subscri
-00010650: 7074 696f 6e28 7365 6c66 2c0d 0a20 2020  ption(self,..   
-00010660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010670: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-00010680: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-00010690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000106a0: 2020 2020 2069 6465 6d70 6f74 656e 6379       idempotency
-000106b0: 5f6b 6579 3d4e 6f6e 6529 3a0d 0a20 2020  _key=None):..   
-000106c0: 2020 2020 2022 2222 446f 6573 2061 2050       """Does a P
-000106d0: 4f53 5420 7265 7175 6573 7420 746f 202f  OST request to /
-000106e0: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
-000106f0: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
-00010700: 6379 636c 6573 2e0d 0a0d 0a20 2020 2020  cycles.....     
-00010710: 2020 2052 656e 6577 5375 6273 6372 6970     RenewSubscrip
-00010720: 7469 6f6e 0d0a 0d0a 2020 2020 2020 2020  tion....        
-00010730: 4172 6773 3a0d 0a20 2020 2020 2020 2020  Args:..         
-00010740: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
-00010750: 6964 2028 7374 7269 6e67 293a 2054 4f44  id (string): TOD
-00010760: 4f3a 2074 7970 6520 6465 7363 7269 7074  O: type descript
-00010770: 696f 6e20 6865 7265 2e20 4578 616d 706c  ion here. Exampl
-00010780: 653a 200d 0a20 2020 2020 2020 2020 2020  e: ..           
-00010790: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
-000107a0: 2028 7374 7269 6e67 2c20 6f70 7469 6f6e   (string, option
-000107b0: 616c 293a 2054 4f44 4f3a 2074 7970 6520  al): TODO: type 
-000107c0: 6465 7363 7269 7074 696f 6e20 6865 7265  description here
-000107d0: 2e0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-000107e0: 2020 2045 7861 6d70 6c65 3a20 0d0a 0d0a     Example: ....
-000107f0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00010800: 0d0a 2020 2020 2020 2020 2020 2020 4765  ..            Ge
-00010810: 7450 6572 696f 6452 6573 706f 6e73 653a  tPeriodResponse:
-00010820: 2052 6573 706f 6e73 6520 6672 6f6d 2074   Response from t
-00010830: 6865 2041 5049 2e20 0d0a 0d0a 2020 2020  he API. ....    
-00010840: 2020 2020 5261 6973 6573 3a0d 0a20 2020      Raises:..   
-00010850: 2020 2020 2020 2020 2041 5049 4578 6365           APIExce
-00010860: 7074 696f 6e3a 2057 6865 6e20 616e 2065  ption: When an e
-00010870: 7272 6f72 206f 6363 7572 7320 7768 696c  rror occurs whil
-00010880: 6520 6665 7463 6869 6e67 2074 6865 2064  e fetching the d
-00010890: 6174 6120 6672 6f6d 0d0a 2020 2020 2020  ata from..      
-000108a0: 2020 2020 2020 2020 2020 7468 6520 7265            the re
-000108b0: 6d6f 7465 2041 5049 2e20 5468 6973 2065  mote API. This e
-000108c0: 7863 6570 7469 6f6e 2069 6e63 6c75 6465  xception include
-000108d0: 7320 7468 6520 4854 5450 2052 6573 706f  s the HTTP Respo
-000108e0: 6e73 650d 0a20 2020 2020 2020 2020 2020  nse..           
-000108f0: 2020 2020 2063 6f64 652c 2061 6e20 6572       code, an er
-00010900: 726f 7220 6d65 7373 6167 652c 2061 6e64  ror message, and
-00010910: 2074 6865 2048 5454 5020 626f 6479 2074   the HTTP body t
-00010920: 6861 7420 7761 7320 7265 6365 6976 6564  hat was received
-00010930: 2069 6e0d 0a20 2020 2020 2020 2020 2020   in..           
-00010940: 2020 2020 2074 6865 2072 6571 7565 7374       the request
-00010950: 2e0d 0a0d 0a20 2020 2020 2020 2022 2222  .....        """
-00010960: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-00010970: 6570 6172 6520 7175 6572 7920 5552 4c0d  epare query URL.
-00010980: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
-00010990: 7468 203d 2027 2f73 7562 7363 7269 7074  th = '/subscript
-000109a0: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
-000109b0: 6f6e 5f69 647d 2f63 7963 6c65 7327 0d0a  on_id}/cycles'..
-000109c0: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
-000109d0: 6820 3d20 4150 4948 656c 7065 722e 6170  h = APIHelper.ap
-000109e0: 7065 6e64 5f75 726c 5f77 6974 685f 7465  pend_url_with_te
-000109f0: 6d70 6c61 7465 5f70 6172 616d 6574 6572  mplate_parameter
-00010a00: 7328 5f75 726c 5f70 6174 682c 207b 200d  s(_url_path, { .
-00010a10: 0a20 2020 2020 2020 2020 2020 2027 7375  .            'su
-00010a20: 6273 6372 6970 7469 6f6e 5f69 6427 3a20  bscription_id': 
-00010a30: 7375 6273 6372 6970 7469 6f6e 5f69 640d  subscription_id.
-00010a40: 0a20 2020 2020 2020 207d 290d 0a20 2020  .        })..   
-00010a50: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
-00010a60: 6465 7220 3d20 436f 6e66 6967 7572 6174  der = Configurat
-00010a70: 696f 6e2e 6261 7365 5f75 7269 0d0a 2020  ion.base_uri..  
-00010a80: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
-00010a90: 6c64 6572 202b 3d20 5f75 726c 5f70 6174  lder += _url_pat
-00010aa0: 680d 0a20 2020 2020 2020 205f 7175 6572  h..        _quer
-00010ab0: 795f 7572 6c20 3d20 4150 4948 656c 7065  y_url = APIHelpe
-00010ac0: 722e 636c 6561 6e5f 7572 6c28 5f71 7565  r.clean_url(_que
-00010ad0: 7279 5f62 7569 6c64 6572 290d 0a0d 0a20  ry_builder).... 
-00010ae0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-00010af0: 2068 6561 6465 7273 0d0a 2020 2020 2020   headers..      
-00010b00: 2020 5f68 6561 6465 7273 203d 207b 0d0a    _headers = {..
-00010b10: 2020 2020 2020 2020 2020 2020 2761 6363              'acc
-00010b20: 6570 7427 3a20 2761 7070 6c69 6361 7469  ept': 'applicati
-00010b30: 6f6e 2f6a 736f 6e27 2c0d 0a20 2020 2020  on/json',..     
-00010b40: 2020 2020 2020 2027 6964 656d 706f 7465         'idempote
-00010b50: 6e63 792d 6b65 7927 3a20 6964 656d 706f  ncy-key': idempo
-00010b60: 7465 6e63 795f 6b65 790d 0a20 2020 2020  tency_key..     
-00010b70: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
-00010b80: 2320 5072 6570 6172 6520 616e 6420 6578  # Prepare and ex
-00010b90: 6563 7574 6520 7265 7175 6573 740d 0a20  ecute request.. 
-00010ba0: 2020 2020 2020 205f 7265 7175 6573 7420         _request 
-00010bb0: 3d20 7365 6c66 2e68 7474 705f 636c 6965  = self.http_clie
-00010bc0: 6e74 2e70 6f73 7428 5f71 7565 7279 5f75  nt.post(_query_u
-00010bd0: 726c 2c20 6865 6164 6572 733d 5f68 6561  rl, headers=_hea
-00010be0: 6465 7273 290d 0a20 2020 2020 2020 2042  ders)..        B
-00010bf0: 6173 6963 4175 7468 2e61 7070 6c79 285f  asicAuth.apply(_
-00010c00: 7265 7175 6573 7429 0d0a 2020 2020 2020  request)..      
-00010c10: 2020 5f63 6f6e 7465 7874 203d 2073 656c    _context = sel
-00010c20: 662e 6578 6563 7574 655f 7265 7175 6573  f.execute_reques
-00010c30: 7428 5f72 6571 7565 7374 290d 0a0d 0a20  t(_request).... 
-00010c40: 2020 2020 2020 2023 2045 6e64 706f 696e         # Endpoin
-00010c50: 7420 616e 6420 676c 6f62 616c 2065 7272  t and global err
-00010c60: 6f72 2068 616e 646c 696e 6720 7573 696e  or handling usin
-00010c70: 6720 4854 5450 2073 7461 7475 7320 636f  g HTTP status co
-00010c80: 6465 732e 0d0a 2020 2020 2020 2020 6966  des...        if
-00010c90: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00010ca0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00010cb0: 3d20 3430 303a 0d0a 2020 2020 2020 2020  = 400:..        
-00010cc0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00010cd0: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
-00010ce0: 6420 7265 7175 6573 7427 2c20 5f63 6f6e  d request', _con
-00010cf0: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-00010d00: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00010d10: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00010d20: 6520 3d3d 2034 3031 3a0d 0a20 2020 2020  e == 401:..     
-00010d30: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00010d40: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-00010d50: 616c 6964 2041 5049 206b 6579 272c 205f  alid API key', _
-00010d60: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00010d70: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00010d80: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00010d90: 636f 6465 203d 3d20 3430 343a 0d0a 2020  code == 404:..  
-00010da0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00010db0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00010dc0: 416e 2069 6e66 6f72 6d65 6420 7265 736f  An informed reso
-00010dd0: 7572 6365 2077 6173 206e 6f74 2066 6f75  urce was not fou
-00010de0: 6e64 272c 205f 636f 6e74 6578 7429 0d0a  nd', _context)..
-00010df0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-00010e00: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00010e10: 7461 7475 735f 636f 6465 203d 3d20 3431  tatus_code == 41
-00010e20: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-00010e30: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00010e40: 7469 6f6e 2827 4275 7369 6e65 7373 2076  tion('Business v
-00010e50: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-00010e60: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00010e70: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00010e80: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00010e90: 7573 5f63 6f64 6520 3d3d 2034 3232 3a0d  us_code == 422:.
-00010ea0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00010eb0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00010ec0: 6e28 2743 6f6e 7472 6163 7420 7661 6c69  n('Contract vali
-00010ed0: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
-00010ee0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00010ef0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00010f00: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00010f10: 636f 6465 203d 3d20 3530 303a 0d0a 2020  code == 500:..  
-00010f20: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00010f30: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00010f40: 496e 7465 726e 616c 2073 6572 7665 7220  Internal server 
-00010f50: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
-00010f60: 290d 0a20 2020 2020 2020 2073 656c 662e  )..        self.
-00010f70: 7661 6c69 6461 7465 5f72 6573 706f 6e73  validate_respons
-00010f80: 6528 5f63 6f6e 7465 7874 290d 0a0d 0a20  e(_context).... 
-00010f90: 2020 2020 2020 2023 2052 6574 7572 6e20         # Return 
-00010fa0: 6170 7072 6f70 7269 6174 6520 7479 7065  appropriate type
-00010fb0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00010fc0: 2041 5049 4865 6c70 6572 2e6a 736f 6e5f   APIHelper.json_
-00010fd0: 6465 7365 7269 616c 697a 6528 5f63 6f6e  deserialize(_con
-00010fe0: 7465 7874 2e72 6573 706f 6e73 652e 7261  text.response.ra
-00010ff0: 775f 626f 6479 2c20 4765 7450 6572 696f  w_body, GetPerio
-00011000: 6452 6573 706f 6e73 652e 6672 6f6d 5f64  dResponse.from_d
-00011010: 6963 7469 6f6e 6172 7929 0d0a 0d0a 2020  ictionary)....  
-00011020: 2020 6465 6620 6765 745f 6469 7363 6f75    def get_discou
-00011030: 6e74 7328 7365 6c66 2c0d 0a20 2020 2020  nts(self,..     
-00011040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011050: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
-00011060: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00011070: 2020 2020 2020 2020 2070 6167 652c 0d0a           page,..
-00011080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011090: 2020 2020 2020 7369 7a65 293a 0d0a 2020        size):..  
-000110a0: 2020 2020 2020 2222 2244 6f65 7320 6120        """Does a 
-000110b0: 4745 5420 7265 7175 6573 7420 746f 202f  GET request to /
-000110c0: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
-000110d0: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
-000110e0: 6469 7363 6f75 6e74 732f 2e0d 0a0d 0a20  discounts/..... 
-000110f0: 2020 2020 2020 2047 6574 4469 7363 6f75         GetDiscou
-00011100: 6e74 730d 0a0d 0a20 2020 2020 2020 2041  nts....        A
-00011110: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
-00011120: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-00011130: 6420 2873 7472 696e 6729 3a20 5468 6520  d (string): The 
-00011140: 7375 6273 6372 6970 7469 6f6e 2069 640d  subscription id.
-00011150: 0a20 2020 2020 2020 2020 2020 2070 6167  .            pag
-00011160: 6520 2869 6e74 293a 2050 6167 6520 6e75  e (int): Page nu
-00011170: 6d62 6572 0d0a 2020 2020 2020 2020 2020  mber..          
-00011180: 2020 7369 7a65 2028 696e 7429 3a20 5061    size (int): Pa
-00011190: 6765 2073 697a 650d 0a0d 0a20 2020 2020  ge size....     
-000111a0: 2020 2052 6574 7572 6e73 3a0d 0a20 2020     Returns:..   
-000111b0: 2020 2020 2020 2020 204c 6973 7444 6973           ListDis
-000111c0: 636f 756e 7473 5265 7370 6f6e 7365 3a20  countsResponse: 
-000111d0: 5265 7370 6f6e 7365 2066 726f 6d20 7468  Response from th
-000111e0: 6520 4150 492e 200d 0a0d 0a20 2020 2020  e API. ....     
-000111f0: 2020 2052 6169 7365 733a 0d0a 2020 2020     Raises:..    
-00011200: 2020 2020 2020 2020 4150 4945 7863 6570          APIExcep
-00011210: 7469 6f6e 3a20 5768 656e 2061 6e20 6572  tion: When an er
-00011220: 726f 7220 6f63 6375 7273 2077 6869 6c65  ror occurs while
-00011230: 2066 6574 6368 696e 6720 7468 6520 6461   fetching the da
-00011240: 7461 2066 726f 6d0d 0a20 2020 2020 2020  ta from..       
-00011250: 2020 2020 2020 2020 2074 6865 2072 656d           the rem
-00011260: 6f74 6520 4150 492e 2054 6869 7320 6578  ote API. This ex
-00011270: 6365 7074 696f 6e20 696e 636c 7564 6573  ception includes
-00011280: 2074 6865 2048 5454 5020 5265 7370 6f6e   the HTTP Respon
-00011290: 7365 0d0a 2020 2020 2020 2020 2020 2020  se..            
-000112a0: 2020 2020 636f 6465 2c20 616e 2065 7272      code, an err
-000112b0: 6f72 206d 6573 7361 6765 2c20 616e 6420  or message, and 
-000112c0: 7468 6520 4854 5450 2062 6f64 7920 7468  the HTTP body th
-000112d0: 6174 2077 6173 2072 6563 6569 7665 6420  at was received 
-000112e0: 696e 0d0a 2020 2020 2020 2020 2020 2020  in..            
-000112f0: 2020 2020 7468 6520 7265 7175 6573 742e      the request.
-00011300: 0d0a 0d0a 2020 2020 2020 2020 2222 220d  ....        """.
-00011310: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
-00011320: 7061 7265 2071 7565 7279 2055 524c 0d0a  pare query URL..
-00011330: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
-00011340: 6820 3d20 272f 7375 6273 6372 6970 7469  h = '/subscripti
-00011350: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
-00011360: 6e5f 6964 7d2f 6469 7363 6f75 6e74 732f  n_id}/discounts/
-00011370: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
-00011380: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
-00011390: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
-000113a0: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
-000113b0: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
-000113c0: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
-000113d0: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
-000113e0: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
-000113f0: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
-00011400: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-00011410: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
-00011420: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
-00011430: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00011440: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
-00011450: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
-00011460: 7565 7279 5f70 6172 616d 6574 6572 7320  uery_parameters 
-00011470: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00011480: 2027 7061 6765 273a 2070 6167 652c 0d0a   'page': page,..
-00011490: 2020 2020 2020 2020 2020 2020 2773 697a              'siz
-000114a0: 6527 3a20 7369 7a65 0d0a 2020 2020 2020  e': size..      
-000114b0: 2020 7d0d 0a20 2020 2020 2020 205f 7175    }..        _qu
-000114c0: 6572 795f 6275 696c 6465 7220 3d20 4150  ery_builder = AP
-000114d0: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
-000114e0: 726c 5f77 6974 685f 7175 6572 795f 7061  rl_with_query_pa
-000114f0: 7261 6d65 7465 7273 285f 7175 6572 795f  rameters(_query_
-00011500: 6275 696c 6465 722c 0d0a 2020 2020 2020  builder,..      
-00011510: 2020 2020 2020 5f71 7565 7279 5f70 6172        _query_par
-00011520: 616d 6574 6572 732c 2043 6f6e 6669 6775  ameters, Configu
-00011530: 7261 7469 6f6e 2e61 7272 6179 5f73 6572  ration.array_ser
-00011540: 6961 6c69 7a61 7469 6f6e 290d 0a20 2020  ialization)..   
-00011550: 2020 2020 205f 7175 6572 795f 7572 6c20       _query_url 
-00011560: 3d20 4150 4948 656c 7065 722e 636c 6561  = APIHelper.clea
-00011570: 6e5f 7572 6c28 5f71 7565 7279 5f62 7569  n_url(_query_bui
-00011580: 6c64 6572 290d 0a0d 0a20 2020 2020 2020  lder)....       
-00011590: 2023 2050 7265 7061 7265 2068 6561 6465   # Prepare heade
-000115a0: 7273 0d0a 2020 2020 2020 2020 5f68 6561  rs..        _hea
-000115b0: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
-000115c0: 2020 2020 2020 2761 6363 6570 7427 3a20        'accept': 
-000115d0: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
-000115e0: 6e27 0d0a 2020 2020 2020 2020 7d0d 0a0d  n'..        }...
-000115f0: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-00011600: 7265 2061 6e64 2065 7865 6375 7465 2072  re and execute r
-00011610: 6571 7565 7374 0d0a 2020 2020 2020 2020  equest..        
-00011620: 5f72 6571 7565 7374 203d 2073 656c 662e  _request = self.
-00011630: 6874 7470 5f63 6c69 656e 742e 6765 7428  http_client.get(
-00011640: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
-00011650: 6572 733d 5f68 6561 6465 7273 290d 0a20  ers=_headers).. 
-00011660: 2020 2020 2020 2042 6173 6963 4175 7468         BasicAuth
-00011670: 2e61 7070 6c79 285f 7265 7175 6573 7429  .apply(_request)
-00011680: 0d0a 2020 2020 2020 2020 5f63 6f6e 7465  ..        _conte
-00011690: 7874 203d 2073 656c 662e 6578 6563 7574  xt = self.execut
-000116a0: 655f 7265 7175 6573 7428 5f72 6571 7565  e_request(_reque
-000116b0: 7374 290d 0a0d 0a20 2020 2020 2020 2023  st)....        #
-000116c0: 2045 6e64 706f 696e 7420 616e 6420 676c   Endpoint and gl
-000116d0: 6f62 616c 2065 7272 6f72 2068 616e 646c  obal error handl
-000116e0: 696e 6720 7573 696e 6720 4854 5450 2073  ing using HTTP s
-000116f0: 7461 7475 7320 636f 6465 732e 0d0a 2020  tatus codes...  
-00011700: 2020 2020 2020 6966 205f 636f 6e74 6578        if _contex
-00011710: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00011720: 735f 636f 6465 203d 3d20 3430 303a 0d0a  s_code == 400:..
-00011730: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00011740: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00011750: 2827 496e 7661 6c69 6420 7265 7175 6573  ('Invalid reques
-00011760: 7427 2c20 5f63 6f6e 7465 7874 290d 0a20  t', _context).. 
-00011770: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00011780: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00011790: 6174 7573 5f63 6f64 6520 3d3d 2034 3031  atus_code == 401
-000117a0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-000117b0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-000117c0: 696f 6e28 2749 6e76 616c 6964 2041 5049  ion('Invalid API
-000117d0: 206b 6579 272c 205f 636f 6e74 6578 7429   key', _context)
-000117e0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-000117f0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00011800: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00011810: 3430 343a 0d0a 2020 2020 2020 2020 2020  404:..          
-00011820: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00011830: 6570 7469 6f6e 2827 416e 2069 6e66 6f72  eption('An infor
-00011840: 6d65 6420 7265 736f 7572 6365 2077 6173  med resource was
-00011850: 206e 6f74 2066 6f75 6e64 272c 205f 636f   not found', _co
-00011860: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00011870: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00011880: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00011890: 6465 203d 3d20 3431 323a 0d0a 2020 2020  de == 412:..    
-000118a0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-000118b0: 726f 7245 7863 6570 7469 6f6e 2827 4275  rorException('Bu
-000118c0: 7369 6e65 7373 2076 616c 6964 6174 696f  siness validatio
-000118d0: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
-000118e0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-000118f0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00011900: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00011910: 3d3d 2034 3232 3a0d 0a20 2020 2020 2020  == 422:..       
-00011920: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00011930: 4578 6365 7074 696f 6e28 2743 6f6e 7472  Exception('Contr
-00011940: 6163 7420 7661 6c69 6461 7469 6f6e 2065  act validation e
-00011950: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-00011960: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00011970: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00011980: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00011990: 3530 303a 0d0a 2020 2020 2020 2020 2020  500:..          
-000119a0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-000119b0: 6570 7469 6f6e 2827 496e 7465 726e 616c  eption('Internal
-000119c0: 2073 6572 7665 7220 6572 726f 7227 2c20   server error', 
-000119d0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-000119e0: 2020 2073 656c 662e 7661 6c69 6461 7465     self.validate
-000119f0: 5f72 6573 706f 6e73 6528 5f63 6f6e 7465  _response(_conte
-00011a00: 7874 290d 0a0d 0a20 2020 2020 2020 2023  xt)....        #
-00011a10: 2052 6574 7572 6e20 6170 7072 6f70 7269   Return appropri
-00011a20: 6174 6520 7479 7065 0d0a 2020 2020 2020  ate type..      
-00011a30: 2020 7265 7475 726e 2041 5049 4865 6c70    return APIHelp
-00011a40: 6572 2e6a 736f 6e5f 6465 7365 7269 616c  er.json_deserial
-00011a50: 697a 6528 5f63 6f6e 7465 7874 2e72 6573  ize(_context.res
-00011a60: 706f 6e73 652e 7261 775f 626f 6479 2c20  ponse.raw_body, 
-00011a70: 4c69 7374 4469 7363 6f75 6e74 7352 6573  ListDiscountsRes
-00011a80: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
-00011a90: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
-00011aa0: 6620 7570 6461 7465 5f73 7562 7363 7269  f update_subscri
-00011ab0: 7074 696f 6e5f 6269 6c6c 696e 675f 6461  ption_billing_da
-00011ac0: 7465 2873 656c 662c 0d0a 2020 2020 2020  te(self,..      
-00011ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011af0: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
-00011b00: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
-00011b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011b20: 2020 2020 2020 2020 2020 2020 2020 626f                bo
-00011b30: 6479 2c0d 0a20 2020 2020 2020 2020 2020  dy,..           
-00011b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011b50: 2020 2020 2020 2020 2020 2020 2020 6964                id
-00011b60: 656d 706f 7465 6e63 795f 6b65 793d 4e6f  empotency_key=No
-00011b70: 6e65 293a 0d0a 2020 2020 2020 2020 2222  ne):..        ""
-00011b80: 2244 6f65 7320 6120 5041 5443 4820 7265  "Does a PATCH re
-00011b90: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
-00011ba0: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
-00011bb0: 7074 696f 6e5f 6964 7d2f 6269 6c6c 696e  ption_id}/billin
-00011bc0: 672d 6461 7465 2e0d 0a0d 0a20 2020 2020  g-date.....     
-00011bd0: 2020 2055 7064 6174 6573 2074 6865 2062     Updates the b
-00011be0: 696c 6c69 6e67 2064 6174 6520 6672 6f6d  illing date from
-00011bf0: 2061 2073 7562 7363 7269 7074 696f 6e0d   a subscription.
-00011c00: 0a0d 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-00011c10: 0d0a 2020 2020 2020 2020 2020 2020 7375  ..            su
-00011c20: 6273 6372 6970 7469 6f6e 5f69 6420 2873  bscription_id (s
-00011c30: 7472 696e 6729 3a20 5468 6520 7375 6273  tring): The subs
-00011c40: 6372 6970 7469 6f6e 2069 640d 0a20 2020  cription id..   
-00011c50: 2020 2020 2020 2020 2062 6f64 7920 2855           body (U
-00011c60: 7064 6174 6553 7562 7363 7269 7074 696f  pdateSubscriptio
-00011c70: 6e42 696c 6c69 6e67 4461 7465 5265 7175  nBillingDateRequ
-00011c80: 6573 7429 3a20 5265 7175 6573 7420 666f  est): Request fo
-00011c90: 7220 7570 6461 7469 6e67 0d0a 2020 2020  r updating..    
-00011ca0: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-00011cb0: 7375 6273 6372 6970 7469 6f6e 2062 696c  subscription bil
-00011cc0: 6c69 6e67 2064 6174 650d 0a20 2020 2020  ling date..     
-00011cd0: 2020 2020 2020 2069 6465 6d70 6f74 656e         idempoten
-00011ce0: 6379 5f6b 6579 2028 7374 7269 6e67 2c20  cy_key (string, 
-00011cf0: 6f70 7469 6f6e 616c 293a 2054 4f44 4f3a  optional): TODO:
-00011d00: 2074 7970 6520 6465 7363 7269 7074 696f   type descriptio
-00011d10: 6e20 6865 7265 2e0d 0a20 2020 2020 2020  n here...       
-00011d20: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
-00011d30: 3a20 0d0a 0d0a 2020 2020 2020 2020 5265  : ....        Re
-00011d40: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
-00011d50: 2020 2020 4765 7453 7562 7363 7269 7074      GetSubscript
-00011d60: 696f 6e52 6573 706f 6e73 653a 2052 6573  ionResponse: Res
-00011d70: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
-00011d80: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
-00011d90: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
-00011da0: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
-00011db0: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
-00011dc0: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
-00011dd0: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
-00011de0: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
-00011df0: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
-00011e00: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
-00011e10: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
-00011e20: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
-00011e30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011e40: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
-00011e50: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
-00011e60: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
-00011e70: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
-00011e80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011e90: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
-00011ea0: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
-00011eb0: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-00011ec0: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
-00011ed0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
-00011ee0: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
-00011ef0: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-00011f00: 647d 2f62 696c 6c69 6e67 2d64 6174 6527  d}/billing-date'
-00011f10: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
-00011f20: 6174 6820 3d20 4150 4948 656c 7065 722e  ath = APIHelper.
-00011f30: 6170 7065 6e64 5f75 726c 5f77 6974 685f  append_url_with_
-00011f40: 7465 6d70 6c61 7465 5f70 6172 616d 6574  template_paramet
-00011f50: 6572 7328 5f75 726c 5f70 6174 682c 207b  ers(_url_path, {
-00011f60: 200d 0a20 2020 2020 2020 2020 2020 2027   ..            '
-00011f70: 7375 6273 6372 6970 7469 6f6e 5f69 6427  subscription_id'
-00011f80: 3a20 7375 6273 6372 6970 7469 6f6e 5f69  : subscription_i
-00011f90: 640d 0a20 2020 2020 2020 207d 290d 0a20  d..        }).. 
-00011fa0: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
-00011fb0: 696c 6465 7220 3d20 436f 6e66 6967 7572  ilder = Configur
-00011fc0: 6174 696f 6e2e 6261 7365 5f75 7269 0d0a  ation.base_uri..
-00011fd0: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-00011fe0: 7569 6c64 6572 202b 3d20 5f75 726c 5f70  uilder += _url_p
-00011ff0: 6174 680d 0a20 2020 2020 2020 205f 7175  ath..        _qu
-00012000: 6572 795f 7572 6c20 3d20 4150 4948 656c  ery_url = APIHel
-00012010: 7065 722e 636c 6561 6e5f 7572 6c28 5f71  per.clean_url(_q
-00012020: 7565 7279 5f62 7569 6c64 6572 290d 0a0d  uery_builder)...
-00012030: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-00012040: 7265 2068 6561 6465 7273 0d0a 2020 2020  re headers..    
-00012050: 2020 2020 5f68 6561 6465 7273 203d 207b      _headers = {
-00012060: 0d0a 2020 2020 2020 2020 2020 2020 2761  ..            'a
-00012070: 6363 6570 7427 3a20 2761 7070 6c69 6361  ccept': 'applica
-00012080: 7469 6f6e 2f6a 736f 6e27 2c0d 0a20 2020  tion/json',..   
-00012090: 2020 2020 2020 2020 2027 436f 6e74 656e           'Conten
-000120a0: 742d 5479 7065 273a 2027 6170 706c 6963  t-Type': 'applic
-000120b0: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
-000120c0: 2020 2020 2020 2020 2020 2769 6465 6d70            'idemp
-000120d0: 6f74 656e 6379 2d6b 6579 273a 2069 6465  otency-key': ide
-000120e0: 6d70 6f74 656e 6379 5f6b 6579 0d0a 2020  mpotency_key..  
-000120f0: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
-00012100: 2020 2023 2050 7265 7061 7265 2061 6e64     # Prepare and
-00012110: 2065 7865 6375 7465 2072 6571 7565 7374   execute request
-00012120: 0d0a 2020 2020 2020 2020 5f72 6571 7565  ..        _reque
-00012130: 7374 203d 2073 656c 662e 6874 7470 5f63  st = self.http_c
-00012140: 6c69 656e 742e 7061 7463 6828 5f71 7565  lient.patch(_que
-00012150: 7279 5f75 726c 2c20 6865 6164 6572 733d  ry_url, headers=
-00012160: 5f68 6561 6465 7273 2c20 7061 7261 6d65  _headers, parame
-00012170: 7465 7273 3d41 5049 4865 6c70 6572 2e6a  ters=APIHelper.j
-00012180: 736f 6e5f 7365 7269 616c 697a 6528 626f  son_serialize(bo
-00012190: 6479 2929 0d0a 2020 2020 2020 2020 4261  dy))..        Ba
-000121a0: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
-000121b0: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
-000121c0: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
-000121d0: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
-000121e0: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
-000121f0: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
-00012200: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
-00012210: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
-00012220: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
-00012230: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
-00012240: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00012250: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00012260: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
-00012270: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00012280: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-00012290: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
-000122a0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-000122b0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-000122c0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-000122d0: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
-000122e0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-000122f0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-00012300: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
-00012310: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00012320: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00012330: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00012340: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
-00012350: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00012360: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
-00012370: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
-00012380: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
-00012390: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
-000123a0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-000123b0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-000123c0: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
-000123d0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-000123e0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-000123f0: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
-00012400: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-00012410: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00012420: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00012430: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00012440: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
-00012450: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00012460: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00012470: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
-00012480: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-00012490: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-000124a0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-000124b0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-000124c0: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
-000124d0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-000124e0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-000124f0: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
-00012500: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-00012510: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
-00012520: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
-00012530: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
-00012540: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
-00012550: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
-00012560: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00012570: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
-00012580: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
-00012590: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
-000125a0: 5f62 6f64 792c 2047 6574 5375 6273 6372  _body, GetSubscr
-000125b0: 6970 7469 6f6e 5265 7370 6f6e 7365 2e66  iptionResponse.f
-000125c0: 726f 6d5f 6469 6374 696f 6e61 7279 290d  rom_dictionary).
-000125d0: 0a0d 0a20 2020 2064 6566 2064 656c 6574  ...    def delet
-000125e0: 655f 7375 6273 6372 6970 7469 6f6e 5f69  e_subscription_i
-000125f0: 7465 6d28 7365 6c66 2c0d 0a20 2020 2020  tem(self,..     
-00012600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012610: 2020 2020 2020 2020 2020 2020 7375 6273              subs
-00012620: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
-00012630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012640: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00012650: 7562 7363 7269 7074 696f 6e5f 6974 656d  ubscription_item
-00012660: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
-00012670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012680: 2020 2020 2020 2069 6465 6d70 6f74 656e         idempoten
-00012690: 6379 5f6b 6579 3d4e 6f6e 6529 3a0d 0a20  cy_key=None):.. 
-000126a0: 2020 2020 2020 2022 2222 446f 6573 2061         """Does a
-000126b0: 2044 454c 4554 4520 7265 7175 6573 7420   DELETE request 
-000126c0: 746f 202f 7375 6273 6372 6970 7469 6f6e  to /subscription
-000126d0: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
-000126e0: 6964 7d2f 6974 656d 732f 7b73 7562 7363  id}/items/{subsc
-000126f0: 7269 7074 696f 6e5f 6974 656d 5f69 647d  ription_item_id}
-00012700: 2e0d 0a0d 0a20 2020 2020 2020 2044 656c  .....        Del
-00012710: 6574 6573 2061 2073 7562 7363 7269 7074  etes a subscript
-00012720: 696f 6e20 6974 656d 0d0a 0d0a 2020 2020  ion item....    
-00012730: 2020 2020 4172 6773 3a0d 0a20 2020 2020      Args:..     
-00012740: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
-00012750: 696f 6e5f 6964 2028 7374 7269 6e67 293a  ion_id (string):
-00012760: 2053 7562 7363 7269 7074 696f 6e20 6964   Subscription id
-00012770: 0d0a 2020 2020 2020 2020 2020 2020 7375  ..            su
-00012780: 6273 6372 6970 7469 6f6e 5f69 7465 6d5f  bscription_item_
-00012790: 6964 2028 7374 7269 6e67 293a 2053 7562  id (string): Sub
-000127a0: 7363 7269 7074 696f 6e20 6974 656d 2069  scription item i
-000127b0: 640d 0a20 2020 2020 2020 2020 2020 2069  d..            i
-000127c0: 6465 6d70 6f74 656e 6379 5f6b 6579 2028  dempotency_key (
-000127d0: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
-000127e0: 293a 2054 4f44 4f3a 2074 7970 6520 6465  ): TODO: type de
-000127f0: 7363 7269 7074 696f 6e20 6865 7265 2e0d  scription here..
-00012800: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012810: 2045 7861 6d70 6c65 3a20 0d0a 0d0a 2020   Example: ....  
-00012820: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
-00012830: 2020 2020 2020 2020 2020 2020 4765 7453              GetS
-00012840: 7562 7363 7269 7074 696f 6e49 7465 6d52  ubscriptionItemR
-00012850: 6573 706f 6e73 653a 2052 6573 706f 6e73  esponse: Respons
-00012860: 6520 6672 6f6d 2074 6865 2041 5049 2e20  e from the API. 
-00012870: 0d0a 0d0a 2020 2020 2020 2020 5261 6973  ....        Rais
-00012880: 6573 3a0d 0a20 2020 2020 2020 2020 2020  es:..           
-00012890: 2041 5049 4578 6365 7074 696f 6e3a 2057   APIException: W
-000128a0: 6865 6e20 616e 2065 7272 6f72 206f 6363  hen an error occ
-000128b0: 7572 7320 7768 696c 6520 6665 7463 6869  urs while fetchi
-000128c0: 6e67 2074 6865 2064 6174 6120 6672 6f6d  ng the data from
-000128d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000128e0: 2020 7468 6520 7265 6d6f 7465 2041 5049    the remote API
-000128f0: 2e20 5468 6973 2065 7863 6570 7469 6f6e  . This exception
-00012900: 2069 6e63 6c75 6465 7320 7468 6520 4854   includes the HT
-00012910: 5450 2052 6573 706f 6e73 650d 0a20 2020  TP Response..   
-00012920: 2020 2020 2020 2020 2020 2020 2063 6f64               cod
-00012930: 652c 2061 6e20 6572 726f 7220 6d65 7373  e, an error mess
-00012940: 6167 652c 2061 6e64 2074 6865 2048 5454  age, and the HTT
-00012950: 5020 626f 6479 2074 6861 7420 7761 7320  P body that was 
-00012960: 7265 6365 6976 6564 2069 6e0d 0a20 2020  received in..   
-00012970: 2020 2020 2020 2020 2020 2020 2074 6865               the
-00012980: 2072 6571 7565 7374 2e0d 0a0d 0a20 2020   request.....   
-00012990: 2020 2020 2022 2222 0d0a 0d0a 2020 2020       """....    
-000129a0: 2020 2020 2320 5072 6570 6172 6520 7175      # Prepare qu
-000129b0: 6572 7920 5552 4c0d 0a20 2020 2020 2020  ery URL..       
-000129c0: 205f 7572 6c5f 7061 7468 203d 2027 2f73   _url_path = '/s
-000129d0: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-000129e0: 6273 6372 6970 7469 6f6e 5f69 647d 2f69  bscription_id}/i
-000129f0: 7465 6d73 2f7b 7375 6273 6372 6970 7469  tems/{subscripti
-00012a00: 6f6e 5f69 7465 6d5f 6964 7d27 0d0a 2020  on_item_id}'..  
-00012a10: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-00012a20: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
-00012a30: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
-00012a40: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
-00012a50: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
-00012a60: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
-00012a70: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
-00012a80: 6273 6372 6970 7469 6f6e 5f69 642c 0d0a  bscription_id,..
-00012a90: 2020 2020 2020 2020 2020 2020 2773 7562              'sub
-00012aa0: 7363 7269 7074 696f 6e5f 6974 656d 5f69  scription_item_i
-00012ab0: 6427 3a20 7375 6273 6372 6970 7469 6f6e  d': subscription
-00012ac0: 5f69 7465 6d5f 6964 0d0a 2020 2020 2020  _item_id..      
-00012ad0: 2020 7d29 0d0a 2020 2020 2020 2020 5f71    })..        _q
-00012ae0: 7565 7279 5f62 7569 6c64 6572 203d 2043  uery_builder = C
-00012af0: 6f6e 6669 6775 7261 7469 6f6e 2e62 6173  onfiguration.bas
-00012b00: 655f 7572 690d 0a20 2020 2020 2020 205f  e_uri..        _
-00012b10: 7175 6572 795f 6275 696c 6465 7220 2b3d  query_builder +=
-00012b20: 205f 7572 6c5f 7061 7468 0d0a 2020 2020   _url_path..    
-00012b30: 2020 2020 5f71 7565 7279 5f75 726c 203d      _query_url =
-00012b40: 2041 5049 4865 6c70 6572 2e63 6c65 616e   APIHelper.clean
-00012b50: 5f75 726c 285f 7175 6572 795f 6275 696c  _url(_query_buil
-00012b60: 6465 7229 0d0a 0d0a 2020 2020 2020 2020  der)....        
-00012b70: 2320 5072 6570 6172 6520 6865 6164 6572  # Prepare header
-00012b80: 730d 0a20 2020 2020 2020 205f 6865 6164  s..        _head
-00012b90: 6572 7320 3d20 7b0d 0a20 2020 2020 2020  ers = {..       
-00012ba0: 2020 2020 2027 6163 6365 7074 273a 2027       'accept': '
-00012bb0: 6170 706c 6963 6174 696f 6e2f 6a73 6f6e  application/json
-00012bc0: 272c 0d0a 2020 2020 2020 2020 2020 2020  ',..            
-00012bd0: 2769 6465 6d70 6f74 656e 6379 2d6b 6579  'idempotency-key
-00012be0: 273a 2069 6465 6d70 6f74 656e 6379 5f6b  ': idempotency_k
-00012bf0: 6579 0d0a 2020 2020 2020 2020 7d0d 0a0d  ey..        }...
-00012c00: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-00012c10: 7265 2061 6e64 2065 7865 6375 7465 2072  re and execute r
-00012c20: 6571 7565 7374 0d0a 2020 2020 2020 2020  equest..        
-00012c30: 5f72 6571 7565 7374 203d 2073 656c 662e  _request = self.
-00012c40: 6874 7470 5f63 6c69 656e 742e 6465 6c65  http_client.dele
-00012c50: 7465 285f 7175 6572 795f 7572 6c2c 2068  te(_query_url, h
-00012c60: 6561 6465 7273 3d5f 6865 6164 6572 7329  eaders=_headers)
-00012c70: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
-00012c80: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
-00012c90: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
-00012ca0: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
-00012cb0: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
-00012cc0: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
-00012cd0: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
-00012ce0: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
-00012cf0: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
-00012d00: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
-00012d10: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
-00012d20: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00012d30: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
-00012d40: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00012d50: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00012d60: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
-00012d70: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
-00012d80: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00012d90: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00012da0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00012db0: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
-00012dc0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00012dd0: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-00012de0: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
-00012df0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00012e00: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00012e10: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00012e20: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
-00012e30: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00012e40: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
-00012e50: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
-00012e60: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
-00012e70: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00012e80: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00012e90: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00012ea0: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
-00012eb0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00012ec0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00012ed0: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
-00012ee0: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-00012ef0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00012f00: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00012f10: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00012f20: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
-00012f30: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00012f40: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
-00012f50: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
-00012f60: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
-00012f70: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00012f80: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00012f90: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00012fa0: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
-00012fb0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00012fc0: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
-00012fd0: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
-00012fe0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00012ff0: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
-00013000: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
-00013010: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
-00013020: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
-00013030: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
-00013040: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
-00013050: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
-00013060: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
-00013070: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
-00013080: 792c 2047 6574 5375 6273 6372 6970 7469  y, GetSubscripti
-00013090: 6f6e 4974 656d 5265 7370 6f6e 7365 2e66  onItemResponse.f
-000130a0: 726f 6d5f 6469 6374 696f 6e61 7279 290d  rom_dictionary).
-000130b0: 0a0d 0a20 2020 2064 6566 2067 6574 5f69  ...    def get_i
-000130c0: 6e63 7265 6d65 6e74 7328 7365 6c66 2c0d  ncrements(self,.
-000130d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000130e0: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-000130f0: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-00013100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013110: 2070 6167 653d 4e6f 6e65 2c0d 0a20 2020   page=None,..   
-00013120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013130: 2020 2020 7369 7a65 3d4e 6f6e 6529 3a0d      size=None):.
-00013140: 0a20 2020 2020 2020 2022 2222 446f 6573  .        """Does
-00013150: 2061 2047 4554 2072 6571 7565 7374 2074   a GET request t
-00013160: 6f20 2f73 7562 7363 7269 7074 696f 6e73  o /subscriptions
-00013170: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-00013180: 647d 2f69 6e63 7265 6d65 6e74 732f 2e0d  d}/increments/..
-00013190: 0a0d 0a20 2020 2020 2020 2047 6574 496e  ...        GetIn
-000131a0: 6372 656d 656e 7473 0d0a 0d0a 2020 2020  crements....    
-000131b0: 2020 2020 4172 6773 3a0d 0a20 2020 2020      Args:..     
-000131c0: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
-000131d0: 696f 6e5f 6964 2028 7374 7269 6e67 293a  ion_id (string):
-000131e0: 2054 6865 2073 7562 7363 7269 7074 696f   The subscriptio
-000131f0: 6e20 6964 0d0a 2020 2020 2020 2020 2020  n id..          
-00013200: 2020 7061 6765 2028 696e 742c 206f 7074    page (int, opt
-00013210: 696f 6e61 6c29 3a20 5061 6765 206e 756d  ional): Page num
-00013220: 6265 720d 0a20 2020 2020 2020 2020 2020  ber..           
-00013230: 2073 697a 6520 2869 6e74 2c20 6f70 7469   size (int, opti
-00013240: 6f6e 616c 293a 2050 6167 6520 7369 7a65  onal): Page size
-00013250: 0d0a 0d0a 2020 2020 2020 2020 5265 7475  ....        Retu
-00013260: 726e 733a 0d0a 2020 2020 2020 2020 2020  rns:..          
-00013270: 2020 4c69 7374 496e 6372 656d 656e 7473    ListIncrements
-00013280: 5265 7370 6f6e 7365 3a20 5265 7370 6f6e  Response: Respon
-00013290: 7365 2066 726f 6d20 7468 6520 4150 492e  se from the API.
-000132a0: 200d 0a0d 0a20 2020 2020 2020 2052 6169   ....        Rai
-000132b0: 7365 733a 0d0a 2020 2020 2020 2020 2020  ses:..          
-000132c0: 2020 4150 4945 7863 6570 7469 6f6e 3a20    APIException: 
-000132d0: 5768 656e 2061 6e20 6572 726f 7220 6f63  When an error oc
-000132e0: 6375 7273 2077 6869 6c65 2066 6574 6368  curs while fetch
-000132f0: 696e 6720 7468 6520 6461 7461 2066 726f  ing the data fro
-00013300: 6d0d 0a20 2020 2020 2020 2020 2020 2020  m..             
-00013310: 2020 2074 6865 2072 656d 6f74 6520 4150     the remote AP
-00013320: 492e 2054 6869 7320 6578 6365 7074 696f  I. This exceptio
-00013330: 6e20 696e 636c 7564 6573 2074 6865 2048  n includes the H
-00013340: 5454 5020 5265 7370 6f6e 7365 0d0a 2020  TTP Response..  
-00013350: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00013360: 6465 2c20 616e 2065 7272 6f72 206d 6573  de, an error mes
-00013370: 7361 6765 2c20 616e 6420 7468 6520 4854  sage, and the HT
-00013380: 5450 2062 6f64 7920 7468 6174 2077 6173  TP body that was
-00013390: 2072 6563 6569 7665 6420 696e 0d0a 2020   received in..  
-000133a0: 2020 2020 2020 2020 2020 2020 2020 7468                th
-000133b0: 6520 7265 7175 6573 742e 0d0a 0d0a 2020  e request.....  
-000133c0: 2020 2020 2020 2222 220d 0a0d 0a20 2020        """....   
-000133d0: 2020 2020 2023 2050 7265 7061 7265 2071       # Prepare q
-000133e0: 7565 7279 2055 524c 0d0a 2020 2020 2020  uery URL..      
-000133f0: 2020 5f75 726c 5f70 6174 6820 3d20 272f    _url_path = '/
-00013400: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
-00013410: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
-00013420: 696e 6372 656d 656e 7473 2f27 0d0a 2020  increments/'..  
-00013430: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-00013440: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
-00013450: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
-00013460: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
-00013470: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
-00013480: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
-00013490: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
-000134a0: 6273 6372 6970 7469 6f6e 5f69 640d 0a20  bscription_id.. 
-000134b0: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
-000134c0: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-000134d0: 7220 3d20 436f 6e66 6967 7572 6174 696f  r = Configuratio
-000134e0: 6e2e 6261 7365 5f75 7269 0d0a 2020 2020  n.base_uri..    
-000134f0: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
-00013500: 6572 202b 3d20 5f75 726c 5f70 6174 680d  er += _url_path.
-00013510: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00013520: 7061 7261 6d65 7465 7273 203d 207b 0d0a  parameters = {..
-00013530: 2020 2020 2020 2020 2020 2020 2770 6167              'pag
-00013540: 6527 3a20 7061 6765 2c0d 0a20 2020 2020  e': page,..     
-00013550: 2020 2020 2020 2027 7369 7a65 273a 2073         'size': s
-00013560: 697a 650d 0a20 2020 2020 2020 207d 0d0a  ize..        }..
-00013570: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-00013580: 7569 6c64 6572 203d 2041 5049 4865 6c70  uilder = APIHelp
-00013590: 6572 2e61 7070 656e 645f 7572 6c5f 7769  er.append_url_wi
-000135a0: 7468 5f71 7565 7279 5f70 6172 616d 6574  th_query_paramet
-000135b0: 6572 7328 5f71 7565 7279 5f62 7569 6c64  ers(_query_build
-000135c0: 6572 2c0d 0a20 2020 2020 2020 2020 2020  er,..           
-000135d0: 205f 7175 6572 795f 7061 7261 6d65 7465   _query_paramete
-000135e0: 7273 2c20 436f 6e66 6967 7572 6174 696f  rs, Configuratio
-000135f0: 6e2e 6172 7261 795f 7365 7269 616c 697a  n.array_serializ
-00013600: 6174 696f 6e29 0d0a 2020 2020 2020 2020  ation)..        
-00013610: 5f71 7565 7279 5f75 726c 203d 2041 5049  _query_url = API
-00013620: 4865 6c70 6572 2e63 6c65 616e 5f75 726c  Helper.clean_url
-00013630: 285f 7175 6572 795f 6275 696c 6465 7229  (_query_builder)
-00013640: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-00013650: 6570 6172 6520 6865 6164 6572 730d 0a20  epare headers.. 
-00013660: 2020 2020 2020 205f 6865 6164 6572 7320         _headers 
-00013670: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00013680: 2027 6163 6365 7074 273a 2027 6170 706c   'accept': 'appl
-00013690: 6963 6174 696f 6e2f 6a73 6f6e 270d 0a20  ication/json'.. 
-000136a0: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
-000136b0: 2020 2020 2320 5072 6570 6172 6520 616e      # Prepare an
-000136c0: 6420 6578 6563 7574 6520 7265 7175 6573  d execute reques
-000136d0: 740d 0a20 2020 2020 2020 205f 7265 7175  t..        _requ
-000136e0: 6573 7420 3d20 7365 6c66 2e68 7474 705f  est = self.http_
-000136f0: 636c 6965 6e74 2e67 6574 285f 7175 6572  client.get(_quer
-00013700: 795f 7572 6c2c 2068 6561 6465 7273 3d5f  y_url, headers=_
-00013710: 6865 6164 6572 7329 0d0a 2020 2020 2020  headers)..      
-00013720: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
-00013730: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
-00013740: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
-00013750: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
-00013760: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
-00013770: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
-00013780: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
-00013790: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
-000137a0: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
-000137b0: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
-000137c0: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
-000137d0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-000137e0: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
-000137f0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00013800: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-00013810: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
-00013820: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00013830: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00013840: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00013850: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
-00013860: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00013870: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00013880: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
-00013890: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-000138a0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-000138b0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-000138c0: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
-000138d0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-000138e0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-000138f0: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
-00013900: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
-00013910: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
-00013920: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-00013930: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00013940: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00013950: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
-00013960: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00013970: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
-00013980: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
-00013990: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
-000139a0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-000139b0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-000139c0: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
-000139d0: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-000139e0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-000139f0: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
-00013a00: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-00013a10: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00013a20: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00013a30: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00013a40: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
-00013a50: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00013a60: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00013a70: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
-00013a80: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
-00013a90: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
-00013aa0: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
-00013ab0: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
-00013ac0: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
-00013ad0: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
-00013ae0: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
-00013af0: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
-00013b00: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
-00013b10: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00013b20: 2e72 6177 5f62 6f64 792c 204c 6973 7449  .raw_body, ListI
-00013b30: 6e63 7265 6d65 6e74 7352 6573 706f 6e73  ncrementsRespons
-00013b40: 652e 6672 6f6d 5f64 6963 7469 6f6e 6172  e.from_dictionar
-00013b50: 7929 0d0a 0d0a 2020 2020 6465 6620 7570  y)....    def up
-00013b60: 6461 7465 5f73 7562 7363 7269 7074 696f  date_subscriptio
-00013b70: 6e5f 6475 655f 6461 7973 2873 656c 662c  n_due_days(self,
-00013b80: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00013b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013ba0: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
-00013bb0: 696f 6e5f 6964 2c0d 0a20 2020 2020 2020  ion_id,..       
-00013bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013bd0: 2020 2020 2020 2020 2020 2020 2020 626f                bo
-00013be0: 6479 2c0d 0a20 2020 2020 2020 2020 2020  dy,..           
-00013bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013c00: 2020 2020 2020 2020 2020 6964 656d 706f            idempo
-00013c10: 7465 6e63 795f 6b65 793d 4e6f 6e65 293a  tency_key=None):
-00013c20: 0d0a 2020 2020 2020 2020 2222 2244 6f65  ..        """Doe
-00013c30: 7320 6120 5041 5443 4820 7265 7175 6573  s a PATCH reques
-00013c40: 7420 746f 202f 7375 6273 6372 6970 7469  t to /subscripti
-00013c50: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
-00013c60: 6e5f 6964 7d2f 626f 6c65 746f 2d64 7565  n_id}/boleto-due
-00013c70: 2d64 6179 732e 0d0a 0d0a 2020 2020 2020  -days.....      
-00013c80: 2020 5570 6461 7465 7320 7468 6520 626f    Updates the bo
-00013c90: 6c65 746f 2064 7565 2064 6179 7320 6672  leto due days fr
-00013ca0: 6f6d 2061 2073 7562 7363 7269 7074 696f  om a subscriptio
-00013cb0: 6e0d 0a0d 0a20 2020 2020 2020 2041 7267  n....        Arg
-00013cc0: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00013cd0: 7375 6273 6372 6970 7469 6f6e 5f69 6420  subscription_id 
-00013ce0: 2873 7472 696e 6729 3a20 5375 6273 6372  (string): Subscr
-00013cf0: 6970 7469 6f6e 2049 640d 0a20 2020 2020  iption Id..     
-00013d00: 2020 2020 2020 2062 6f64 7920 2855 7064         body (Upd
-00013d10: 6174 6553 7562 7363 7269 7074 696f 6e44  ateSubscriptionD
-00013d20: 7565 4461 7973 5265 7175 6573 7429 3a20  ueDaysRequest): 
-00013d30: 544f 444f 3a20 7479 7065 2064 6573 6372  TODO: type descr
-00013d40: 6970 7469 6f6e 0d0a 2020 2020 2020 2020  iption..        
-00013d50: 2020 2020 2020 2020 6865 7265 2e20 4578          here. Ex
-00013d60: 616d 706c 653a 200d 0a20 2020 2020 2020  ample: ..       
-00013d70: 2020 2020 2069 6465 6d70 6f74 656e 6379       idempotency
-00013d80: 5f6b 6579 2028 7374 7269 6e67 2c20 6f70  _key (string, op
-00013d90: 7469 6f6e 616c 293a 2054 4f44 4f3a 2074  tional): TODO: t
-00013da0: 7970 6520 6465 7363 7269 7074 696f 6e20  ype description 
-00013db0: 6865 7265 2e0d 0a20 2020 2020 2020 2020  here...         
-00013dc0: 2020 2020 2020 2045 7861 6d70 6c65 3a20         Example: 
-00013dd0: 0d0a 0d0a 2020 2020 2020 2020 5265 7475  ....        Retu
-00013de0: 726e 733a 0d0a 2020 2020 2020 2020 2020  rns:..          
-00013df0: 2020 4765 7453 7562 7363 7269 7074 696f    GetSubscriptio
-00013e00: 6e52 6573 706f 6e73 653a 2052 6573 706f  nResponse: Respo
-00013e10: 6e73 6520 6672 6f6d 2074 6865 2041 5049  nse from the API
-00013e20: 2e20 0d0a 0d0a 2020 2020 2020 2020 5261  . ....        Ra
-00013e30: 6973 6573 3a0d 0a20 2020 2020 2020 2020  ises:..         
-00013e40: 2020 2041 5049 4578 6365 7074 696f 6e3a     APIException:
-00013e50: 2057 6865 6e20 616e 2065 7272 6f72 206f   When an error o
-00013e60: 6363 7572 7320 7768 696c 6520 6665 7463  ccurs while fetc
-00013e70: 6869 6e67 2074 6865 2064 6174 6120 6672  hing the data fr
-00013e80: 6f6d 0d0a 2020 2020 2020 2020 2020 2020  om..            
-00013e90: 2020 2020 7468 6520 7265 6d6f 7465 2041      the remote A
-00013ea0: 5049 2e20 5468 6973 2065 7863 6570 7469  PI. This excepti
-00013eb0: 6f6e 2069 6e63 6c75 6465 7320 7468 6520  on includes the 
-00013ec0: 4854 5450 2052 6573 706f 6e73 650d 0a20  HTTP Response.. 
-00013ed0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00013ee0: 6f64 652c 2061 6e20 6572 726f 7220 6d65  ode, an error me
-00013ef0: 7373 6167 652c 2061 6e64 2074 6865 2048  ssage, and the H
-00013f00: 5454 5020 626f 6479 2074 6861 7420 7761  TTP body that wa
-00013f10: 7320 7265 6365 6976 6564 2069 6e0d 0a20  s received in.. 
-00013f20: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00013f30: 6865 2072 6571 7565 7374 2e0d 0a0d 0a20  he request..... 
-00013f40: 2020 2020 2020 2022 2222 0d0a 0d0a 2020         """....  
-00013f50: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00013f60: 7175 6572 7920 5552 4c0d 0a20 2020 2020  query URL..     
-00013f70: 2020 205f 7572 6c5f 7061 7468 203d 2027     _url_path = '
-00013f80: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
-00013f90: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
-00013fa0: 2f62 6f6c 6574 6f2d 6475 652d 6461 7973  /boleto-due-days
-00013fb0: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
-00013fc0: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
-00013fd0: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
-00013fe0: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
-00013ff0: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
-00014000: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
-00014010: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
-00014020: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
-00014030: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
-00014040: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-00014050: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
-00014060: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
-00014070: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00014080: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
-00014090: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
-000140a0: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
-000140b0: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
-000140c0: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
-000140d0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-000140e0: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
-000140f0: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
-00014100: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
-00014110: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
-00014120: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
-00014130: 2020 2020 2020 2020 2020 2743 6f6e 7465            'Conte
-00014140: 6e74 2d54 7970 6527 3a20 2761 7070 6c69  nt-Type': 'appli
-00014150: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
-00014160: 2020 2020 2020 2020 2020 2027 6964 656d             'idem
-00014170: 706f 7465 6e63 792d 6b65 7927 3a20 6964  potency-key': id
-00014180: 656d 706f 7465 6e63 795f 6b65 790d 0a20  empotency_key.. 
-00014190: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
-000141a0: 2020 2020 2320 5072 6570 6172 6520 616e      # Prepare an
-000141b0: 6420 6578 6563 7574 6520 7265 7175 6573  d execute reques
-000141c0: 740d 0a20 2020 2020 2020 205f 7265 7175  t..        _requ
-000141d0: 6573 7420 3d20 7365 6c66 2e68 7474 705f  est = self.http_
-000141e0: 636c 6965 6e74 2e70 6174 6368 285f 7175  client.patch(_qu
-000141f0: 6572 795f 7572 6c2c 2068 6561 6465 7273  ery_url, headers
-00014200: 3d5f 6865 6164 6572 732c 2070 6172 616d  =_headers, param
-00014210: 6574 6572 733d 4150 4948 656c 7065 722e  eters=APIHelper.
-00014220: 6a73 6f6e 5f73 6572 6961 6c69 7a65 2862  json_serialize(b
-00014230: 6f64 7929 290d 0a20 2020 2020 2020 2042  ody))..        B
-00014240: 6173 6963 4175 7468 2e61 7070 6c79 285f  asicAuth.apply(_
-00014250: 7265 7175 6573 7429 0d0a 2020 2020 2020  request)..      
-00014260: 2020 5f63 6f6e 7465 7874 203d 2073 656c    _context = sel
-00014270: 662e 6578 6563 7574 655f 7265 7175 6573  f.execute_reques
-00014280: 7428 5f72 6571 7565 7374 290d 0a0d 0a20  t(_request).... 
-00014290: 2020 2020 2020 2023 2045 6e64 706f 696e         # Endpoin
-000142a0: 7420 616e 6420 676c 6f62 616c 2065 7272  t and global err
-000142b0: 6f72 2068 616e 646c 696e 6720 7573 696e  or handling usin
-000142c0: 6720 4854 5450 2073 7461 7475 7320 636f  g HTTP status co
-000142d0: 6465 732e 0d0a 2020 2020 2020 2020 6966  des...        if
-000142e0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-000142f0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00014300: 3d20 3430 303a 0d0a 2020 2020 2020 2020  = 400:..        
-00014310: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00014320: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
-00014330: 6420 7265 7175 6573 7427 2c20 5f63 6f6e  d request', _con
-00014340: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-00014350: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00014360: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00014370: 6520 3d3d 2034 3031 3a0d 0a20 2020 2020  e == 401:..     
-00014380: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00014390: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-000143a0: 616c 6964 2041 5049 206b 6579 272c 205f  alid API key', _
-000143b0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-000143c0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-000143d0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-000143e0: 636f 6465 203d 3d20 3430 343a 0d0a 2020  code == 404:..  
-000143f0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00014400: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00014410: 416e 2069 6e66 6f72 6d65 6420 7265 736f  An informed reso
-00014420: 7572 6365 2077 6173 206e 6f74 2066 6f75  urce was not fou
-00014430: 6e64 272c 205f 636f 6e74 6578 7429 0d0a  nd', _context)..
-00014440: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-00014450: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00014460: 7461 7475 735f 636f 6465 203d 3d20 3431  tatus_code == 41
-00014470: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-00014480: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00014490: 7469 6f6e 2827 4275 7369 6e65 7373 2076  tion('Business v
-000144a0: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-000144b0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-000144c0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-000144d0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-000144e0: 7573 5f63 6f64 6520 3d3d 2034 3232 3a0d  us_code == 422:.
-000144f0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00014500: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00014510: 6e28 2743 6f6e 7472 6163 7420 7661 6c69  n('Contract vali
-00014520: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
-00014530: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00014540: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00014550: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00014560: 636f 6465 203d 3d20 3530 303a 0d0a 2020  code == 500:..  
-00014570: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00014580: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00014590: 496e 7465 726e 616c 2073 6572 7665 7220  Internal server 
-000145a0: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
-000145b0: 290d 0a20 2020 2020 2020 2073 656c 662e  )..        self.
-000145c0: 7661 6c69 6461 7465 5f72 6573 706f 6e73  validate_respons
-000145d0: 6528 5f63 6f6e 7465 7874 290d 0a0d 0a20  e(_context).... 
-000145e0: 2020 2020 2020 2023 2052 6574 7572 6e20         # Return 
-000145f0: 6170 7072 6f70 7269 6174 6520 7479 7065  appropriate type
-00014600: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00014610: 2041 5049 4865 6c70 6572 2e6a 736f 6e5f   APIHelper.json_
-00014620: 6465 7365 7269 616c 697a 6528 5f63 6f6e  deserialize(_con
-00014630: 7465 7874 2e72 6573 706f 6e73 652e 7261  text.response.ra
-00014640: 775f 626f 6479 2c20 4765 7453 7562 7363  w_body, GetSubsc
-00014650: 7269 7074 696f 6e52 6573 706f 6e73 652e  riptionResponse.
-00014660: 6672 6f6d 5f64 6963 7469 6f6e 6172 7929  from_dictionary)
-00014670: 0d0a 0d0a 2020 2020 6465 6620 7570 6461  ....    def upda
-00014680: 7465 5f73 7562 7363 7269 7074 696f 6e5f  te_subscription_
-00014690: 7374 6172 745f 6174 2873 656c 662c 0d0a  start_at(self,..
-000146a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000146b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000146c0: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
-000146d0: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
-000146e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000146f0: 2020 2020 2020 2020 2020 2020 626f 6479              body
-00014700: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00014710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014720: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
-00014730: 6e63 795f 6b65 793d 4e6f 6e65 293a 0d0a  ncy_key=None):..
-00014740: 2020 2020 2020 2020 2222 2244 6f65 7320          """Does 
-00014750: 6120 5041 5443 4820 7265 7175 6573 7420  a PATCH request 
-00014760: 746f 202f 7375 6273 6372 6970 7469 6f6e  to /subscription
-00014770: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
-00014780: 6964 7d2f 7374 6172 742d 6174 2e0d 0a0d  id}/start-at....
-00014790: 0a20 2020 2020 2020 2055 7064 6174 6573  .        Updates
-000147a0: 2074 6865 2073 7461 7274 2061 7420 6461   the start at da
-000147b0: 7465 2066 726f 6d20 6120 7375 6273 6372  te from a subscr
-000147c0: 6970 7469 6f6e 0d0a 0d0a 2020 2020 2020  iption....      
-000147d0: 2020 4172 6773 3a0d 0a20 2020 2020 2020    Args:..       
-000147e0: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
-000147f0: 6e5f 6964 2028 7374 7269 6e67 293a 2054  n_id (string): T
-00014800: 6865 2073 7562 7363 7269 7074 696f 6e20  he subscription 
-00014810: 6964 0d0a 2020 2020 2020 2020 2020 2020  id..            
-00014820: 626f 6479 2028 5570 6461 7465 5375 6273  body (UpdateSubs
-00014830: 6372 6970 7469 6f6e 5374 6172 7441 7452  criptionStartAtR
-00014840: 6571 7565 7374 293a 2052 6571 7565 7374  equest): Request
-00014850: 2066 6f72 2075 7064 6174 696e 6720 7468   for updating th
-00014860: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-00014870: 2020 2073 7562 7363 7269 7074 696f 6e20     subscription 
-00014880: 7374 6172 7420 6461 7465 0d0a 2020 2020  start date..    
-00014890: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
-000148a0: 6e63 795f 6b65 7920 2873 7472 696e 672c  ncy_key (string,
-000148b0: 206f 7074 696f 6e61 6c29 3a20 544f 444f   optional): TODO
-000148c0: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
-000148d0: 6f6e 2068 6572 652e 0d0a 2020 2020 2020  on here...      
-000148e0: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
-000148f0: 653a 200d 0a0d 0a20 2020 2020 2020 2052  e: ....        R
-00014900: 6574 7572 6e73 3a0d 0a20 2020 2020 2020  eturns:..       
-00014910: 2020 2020 2047 6574 5375 6273 6372 6970       GetSubscrip
-00014920: 7469 6f6e 5265 7370 6f6e 7365 3a20 5265  tionResponse: Re
-00014930: 7370 6f6e 7365 2066 726f 6d20 7468 6520  sponse from the 
-00014940: 4150 492e 200d 0a0d 0a20 2020 2020 2020  API. ....       
-00014950: 2052 6169 7365 733a 0d0a 2020 2020 2020   Raises:..      
-00014960: 2020 2020 2020 4150 4945 7863 6570 7469        APIExcepti
-00014970: 6f6e 3a20 5768 656e 2061 6e20 6572 726f  on: When an erro
-00014980: 7220 6f63 6375 7273 2077 6869 6c65 2066  r occurs while f
-00014990: 6574 6368 696e 6720 7468 6520 6461 7461  etching the data
-000149a0: 2066 726f 6d0d 0a20 2020 2020 2020 2020   from..         
-000149b0: 2020 2020 2020 2074 6865 2072 656d 6f74         the remot
-000149c0: 6520 4150 492e 2054 6869 7320 6578 6365  e API. This exce
-000149d0: 7074 696f 6e20 696e 636c 7564 6573 2074  ption includes t
-000149e0: 6865 2048 5454 5020 5265 7370 6f6e 7365  he HTTP Response
-000149f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00014a00: 2020 636f 6465 2c20 616e 2065 7272 6f72    code, an error
-00014a10: 206d 6573 7361 6765 2c20 616e 6420 7468   message, and th
-00014a20: 6520 4854 5450 2062 6f64 7920 7468 6174  e HTTP body that
-00014a30: 2077 6173 2072 6563 6569 7665 6420 696e   was received in
-00014a40: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00014a50: 2020 7468 6520 7265 7175 6573 742e 0d0a    the request...
-00014a60: 0d0a 2020 2020 2020 2020 2222 220d 0a0d  ..        """...
-00014a70: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-00014a80: 7265 2071 7565 7279 2055 524c 0d0a 2020  re query URL..  
-00014a90: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-00014aa0: 3d20 272f 7375 6273 6372 6970 7469 6f6e  = '/subscription
-00014ab0: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
-00014ac0: 6964 7d2f 7374 6172 742d 6174 270d 0a20  id}/start-at'.. 
-00014ad0: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
-00014ae0: 203d 2041 5049 4865 6c70 6572 2e61 7070   = APIHelper.app
-00014af0: 656e 645f 7572 6c5f 7769 7468 5f74 656d  end_url_with_tem
-00014b00: 706c 6174 655f 7061 7261 6d65 7465 7273  plate_parameters
-00014b10: 285f 7572 6c5f 7061 7468 2c20 7b20 0d0a  (_url_path, { ..
-00014b20: 2020 2020 2020 2020 2020 2020 2773 7562              'sub
-00014b30: 7363 7269 7074 696f 6e5f 6964 273a 2073  scription_id': s
-00014b40: 7562 7363 7269 7074 696f 6e5f 6964 0d0a  ubscription_id..
-00014b50: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
-00014b60: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
-00014b70: 6572 203d 2043 6f6e 6669 6775 7261 7469  er = Configurati
-00014b80: 6f6e 2e62 6173 655f 7572 690d 0a20 2020  on.base_uri..   
-00014b90: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
-00014ba0: 6465 7220 2b3d 205f 7572 6c5f 7061 7468  der += _url_path
-00014bb0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
-00014bc0: 5f75 726c 203d 2041 5049 4865 6c70 6572  _url = APIHelper
-00014bd0: 2e63 6c65 616e 5f75 726c 285f 7175 6572  .clean_url(_quer
-00014be0: 795f 6275 696c 6465 7229 0d0a 0d0a 2020  y_builder)....  
-00014bf0: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00014c00: 6865 6164 6572 730d 0a20 2020 2020 2020  headers..       
-00014c10: 205f 6865 6164 6572 7320 3d20 7b0d 0a20   _headers = {.. 
-00014c20: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
-00014c30: 7074 273a 2027 6170 706c 6963 6174 696f  pt': 'applicatio
-00014c40: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
-00014c50: 2020 2020 2020 2743 6f6e 7465 6e74 2d54        'Content-T
-00014c60: 7970 6527 3a20 2761 7070 6c69 6361 7469  ype': 'applicati
-00014c70: 6f6e 2f6a 736f 6e27 2c0d 0a20 2020 2020  on/json',..     
-00014c80: 2020 2020 2020 2027 6964 656d 706f 7465         'idempote
-00014c90: 6e63 792d 6b65 7927 3a20 6964 656d 706f  ncy-key': idempo
-00014ca0: 7465 6e63 795f 6b65 790d 0a20 2020 2020  tency_key..     
-00014cb0: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
-00014cc0: 2320 5072 6570 6172 6520 616e 6420 6578  # Prepare and ex
-00014cd0: 6563 7574 6520 7265 7175 6573 740d 0a20  ecute request.. 
-00014ce0: 2020 2020 2020 205f 7265 7175 6573 7420         _request 
-00014cf0: 3d20 7365 6c66 2e68 7474 705f 636c 6965  = self.http_clie
-00014d00: 6e74 2e70 6174 6368 285f 7175 6572 795f  nt.patch(_query_
-00014d10: 7572 6c2c 2068 6561 6465 7273 3d5f 6865  url, headers=_he
-00014d20: 6164 6572 732c 2070 6172 616d 6574 6572  aders, parameter
-00014d30: 733d 4150 4948 656c 7065 722e 6a73 6f6e  s=APIHelper.json
-00014d40: 5f73 6572 6961 6c69 7a65 2862 6f64 7929  _serialize(body)
-00014d50: 290d 0a20 2020 2020 2020 2042 6173 6963  )..        Basic
-00014d60: 4175 7468 2e61 7070 6c79 285f 7265 7175  Auth.apply(_requ
-00014d70: 6573 7429 0d0a 2020 2020 2020 2020 5f63  est)..        _c
-00014d80: 6f6e 7465 7874 203d 2073 656c 662e 6578  ontext = self.ex
-00014d90: 6563 7574 655f 7265 7175 6573 7428 5f72  ecute_request(_r
-00014da0: 6571 7565 7374 290d 0a0d 0a20 2020 2020  equest)....     
-00014db0: 2020 2023 2045 6e64 706f 696e 7420 616e     # Endpoint an
-00014dc0: 6420 676c 6f62 616c 2065 7272 6f72 2068  d global error h
-00014dd0: 616e 646c 696e 6720 7573 696e 6720 4854  andling using HT
-00014de0: 5450 2073 7461 7475 7320 636f 6465 732e  TP status codes.
-00014df0: 0d0a 2020 2020 2020 2020 6966 205f 636f  ..        if _co
-00014e00: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00014e10: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
-00014e20: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
-00014e30: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00014e40: 7469 6f6e 2827 496e 7661 6c69 6420 7265  tion('Invalid re
-00014e50: 7175 6573 7427 2c20 5f63 6f6e 7465 7874  quest', _context
-00014e60: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-00014e70: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00014e80: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00014e90: 2034 3031 3a0d 0a20 2020 2020 2020 2020   401:..         
-00014ea0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00014eb0: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-00014ec0: 2041 5049 206b 6579 272c 205f 636f 6e74   API key', _cont
-00014ed0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00014ee0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00014ef0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00014f00: 203d 3d20 3430 343a 0d0a 2020 2020 2020   == 404:..      
-00014f10: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-00014f20: 7245 7863 6570 7469 6f6e 2827 416e 2069  rException('An i
-00014f30: 6e66 6f72 6d65 6420 7265 736f 7572 6365  nformed resource
-00014f40: 2077 6173 206e 6f74 2066 6f75 6e64 272c   was not found',
-00014f50: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00014f60: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00014f70: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00014f80: 735f 636f 6465 203d 3d20 3431 323a 0d0a  s_code == 412:..
-00014f90: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00014fa0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00014fb0: 2827 4275 7369 6e65 7373 2076 616c 6964  ('Business valid
-00014fc0: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-00014fd0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00014fe0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00014ff0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00015000: 6f64 6520 3d3d 2034 3232 3a0d 0a20 2020  ode == 422:..   
-00015010: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00015020: 7272 6f72 4578 6365 7074 696f 6e28 2743  rrorException('C
-00015030: 6f6e 7472 6163 7420 7661 6c69 6461 7469  ontract validati
-00015040: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
-00015050: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00015060: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00015070: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00015080: 203d 3d20 3530 303a 0d0a 2020 2020 2020   == 500:..      
-00015090: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-000150a0: 7245 7863 6570 7469 6f6e 2827 496e 7465  rException('Inte
-000150b0: 726e 616c 2073 6572 7665 7220 6572 726f  rnal server erro
-000150c0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-000150d0: 2020 2020 2020 2073 656c 662e 7661 6c69         self.vali
-000150e0: 6461 7465 5f72 6573 706f 6e73 6528 5f63  date_response(_c
-000150f0: 6f6e 7465 7874 290d 0a0d 0a20 2020 2020  ontext)....     
-00015100: 2020 2023 2052 6574 7572 6e20 6170 7072     # Return appr
-00015110: 6f70 7269 6174 6520 7479 7065 0d0a 2020  opriate type..  
-00015120: 2020 2020 2020 7265 7475 726e 2041 5049        return API
-00015130: 4865 6c70 6572 2e6a 736f 6e5f 6465 7365  Helper.json_dese
-00015140: 7269 616c 697a 6528 5f63 6f6e 7465 7874  rialize(_context
-00015150: 2e72 6573 706f 6e73 652e 7261 775f 626f  .response.raw_bo
-00015160: 6479 2c20 4765 7453 7562 7363 7269 7074  dy, GetSubscript
-00015170: 696f 6e52 6573 706f 6e73 652e 6672 6f6d  ionResponse.from
-00015180: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
-00015190: 2020 2020 6465 6620 7570 6461 7465 5f6c      def update_l
-000151a0: 6174 6573 745f 7065 7269 6f64 5f65 6e64  atest_period_end
-000151b0: 5f61 7428 7365 6c66 2c0d 0a20 2020 2020  _at(self,..     
-000151c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000151d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000151e0: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
-000151f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015210: 2020 2020 2062 6f64 792c 0d0a 2020 2020       body,..    
-00015220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015240: 6964 656d 706f 7465 6e63 795f 6b65 793d  idempotency_key=
-00015250: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
-00015260: 2222 2244 6f65 7320 6120 5041 5443 4820  """Does a PATCH 
-00015270: 7265 7175 6573 7420 746f 202f 7375 6273  request to /subs
-00015280: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
-00015290: 7269 7074 696f 6e5f 6964 7d2f 7065 7269  ription_id}/peri
-000152a0: 6f64 732f 6c61 7465 7374 2f65 6e64 2d61  ods/latest/end-a
-000152b0: 742e 0d0a 0d0a 2020 2020 2020 2020 5570  t.....        Up
-000152c0: 6461 7465 4c61 7465 7374 5065 7269 6f64  dateLatestPeriod
-000152d0: 456e 6441 740d 0a0d 0a20 2020 2020 2020  EndAt....       
-000152e0: 2041 7267 733a 0d0a 2020 2020 2020 2020   Args:..        
-000152f0: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
-00015300: 5f69 6420 2873 7472 696e 6729 3a20 544f  _id (string): TO
-00015310: 444f 3a20 7479 7065 2064 6573 6372 6970  DO: type descrip
-00015320: 7469 6f6e 2068 6572 652e 2045 7861 6d70  tion here. Examp
-00015330: 6c65 3a20 0d0a 2020 2020 2020 2020 2020  le: ..          
-00015340: 2020 626f 6479 2028 5570 6461 7465 4375    body (UpdateCu
-00015350: 7272 656e 7443 7963 6c65 456e 6444 6174  rrentCycleEndDat
-00015360: 6552 6571 7565 7374 293a 2052 6571 7565  eRequest): Reque
-00015370: 7374 2066 6f72 2075 7064 6174 696e 6720  st for updating 
-00015380: 7468 650d 0a20 2020 2020 2020 2020 2020  the..           
-00015390: 2020 2020 2065 6e64 2064 6174 6520 6f66       end date of
-000153a0: 2074 6865 2063 7572 7265 6e74 2073 6967   the current sig
-000153b0: 6e61 7475 7265 2063 7963 6c65 0d0a 2020  nature cycle..  
-000153c0: 2020 2020 2020 2020 2020 6964 656d 706f            idempo
-000153d0: 7465 6e63 795f 6b65 7920 2873 7472 696e  tency_key (strin
-000153e0: 672c 206f 7074 696f 6e61 6c29 3a20 544f  g, optional): TO
-000153f0: 444f 3a20 7479 7065 2064 6573 6372 6970  DO: type descrip
-00015400: 7469 6f6e 2068 6572 652e 0d0a 2020 2020  tion here...    
-00015410: 2020 2020 2020 2020 2020 2020 4578 616d              Exam
-00015420: 706c 653a 200d 0a0d 0a20 2020 2020 2020  ple: ....       
-00015430: 2052 6574 7572 6e73 3a0d 0a20 2020 2020   Returns:..     
-00015440: 2020 2020 2020 2047 6574 5375 6273 6372         GetSubscr
-00015450: 6970 7469 6f6e 5265 7370 6f6e 7365 3a20  iptionResponse: 
-00015460: 5265 7370 6f6e 7365 2066 726f 6d20 7468  Response from th
-00015470: 6520 4150 492e 200d 0a0d 0a20 2020 2020  e API. ....     
-00015480: 2020 2052 6169 7365 733a 0d0a 2020 2020     Raises:..    
-00015490: 2020 2020 2020 2020 4150 4945 7863 6570          APIExcep
-000154a0: 7469 6f6e 3a20 5768 656e 2061 6e20 6572  tion: When an er
-000154b0: 726f 7220 6f63 6375 7273 2077 6869 6c65  ror occurs while
-000154c0: 2066 6574 6368 696e 6720 7468 6520 6461   fetching the da
-000154d0: 7461 2066 726f 6d0d 0a20 2020 2020 2020  ta from..       
-000154e0: 2020 2020 2020 2020 2074 6865 2072 656d           the rem
-000154f0: 6f74 6520 4150 492e 2054 6869 7320 6578  ote API. This ex
-00015500: 6365 7074 696f 6e20 696e 636c 7564 6573  ception includes
-00015510: 2074 6865 2048 5454 5020 5265 7370 6f6e   the HTTP Respon
-00015520: 7365 0d0a 2020 2020 2020 2020 2020 2020  se..            
-00015530: 2020 2020 636f 6465 2c20 616e 2065 7272      code, an err
-00015540: 6f72 206d 6573 7361 6765 2c20 616e 6420  or message, and 
-00015550: 7468 6520 4854 5450 2062 6f64 7920 7468  the HTTP body th
-00015560: 6174 2077 6173 2072 6563 6569 7665 6420  at was received 
-00015570: 696e 0d0a 2020 2020 2020 2020 2020 2020  in..            
-00015580: 2020 2020 7468 6520 7265 7175 6573 742e      the request.
-00015590: 0d0a 0d0a 2020 2020 2020 2020 2222 220d  ....        """.
-000155a0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
-000155b0: 7061 7265 2071 7565 7279 2055 524c 0d0a  pare query URL..
-000155c0: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
-000155d0: 6820 3d20 272f 7375 6273 6372 6970 7469  h = '/subscripti
-000155e0: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
-000155f0: 6e5f 6964 7d2f 7065 7269 6f64 732f 6c61  n_id}/periods/la
-00015600: 7465 7374 2f65 6e64 2d61 7427 0d0a 2020  test/end-at'..  
-00015610: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-00015620: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
-00015630: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
-00015640: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
-00015650: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
-00015660: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
-00015670: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
-00015680: 6273 6372 6970 7469 6f6e 5f69 640d 0a20  bscription_id.. 
-00015690: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
-000156a0: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-000156b0: 7220 3d20 436f 6e66 6967 7572 6174 696f  r = Configuratio
-000156c0: 6e2e 6261 7365 5f75 7269 0d0a 2020 2020  n.base_uri..    
-000156d0: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
-000156e0: 6572 202b 3d20 5f75 726c 5f70 6174 680d  er += _url_path.
-000156f0: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00015700: 7572 6c20 3d20 4150 4948 656c 7065 722e  url = APIHelper.
-00015710: 636c 6561 6e5f 7572 6c28 5f71 7565 7279  clean_url(_query
-00015720: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
-00015730: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
-00015740: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
-00015750: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
-00015760: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
-00015770: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
-00015780: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
-00015790: 2020 2020 2027 436f 6e74 656e 742d 5479       'Content-Ty
-000157a0: 7065 273a 2027 6170 706c 6963 6174 696f  pe': 'applicatio
-000157b0: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
-000157c0: 2020 2020 2020 2769 6465 6d70 6f74 656e        'idempoten
-000157d0: 6379 2d6b 6579 273a 2069 6465 6d70 6f74  cy-key': idempot
-000157e0: 656e 6379 5f6b 6579 0d0a 2020 2020 2020  ency_key..      
-000157f0: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
-00015800: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
-00015810: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
-00015820: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
-00015830: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
-00015840: 742e 7061 7463 6828 5f71 7565 7279 5f75  t.patch(_query_u
-00015850: 726c 2c20 6865 6164 6572 733d 5f68 6561  rl, headers=_hea
-00015860: 6465 7273 2c20 7061 7261 6d65 7465 7273  ders, parameters
-00015870: 3d41 5049 4865 6c70 6572 2e6a 736f 6e5f  =APIHelper.json_
-00015880: 7365 7269 616c 697a 6528 626f 6479 2929  serialize(body))
-00015890: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
-000158a0: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
-000158b0: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
-000158c0: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
-000158d0: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
-000158e0: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
-000158f0: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
-00015900: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
-00015910: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
-00015920: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
-00015930: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
-00015940: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00015950: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
-00015960: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00015970: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00015980: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
-00015990: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
+00008e80: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+00008e90: 6e63 795f 6b65 793d 4e6f 6e65 293a 0d0a  ncy_key=None):..
+00008ea0: 2020 2020 2020 2020 2222 2244 6f65 7320          """Does 
+00008eb0: 6120 5055 5420 7265 7175 6573 7420 746f  a PUT request to
+00008ec0: 202f 7375 6273 6372 6970 7469 6f6e 732f   /subscriptions/
+00008ed0: 7b73 7562 7363 7269 7074 696f 6e5f 6964  {subscription_id
+00008ee0: 7d2f 6974 656d 732f 7b69 7465 6d5f 6964  }/items/{item_id
+00008ef0: 7d2e 0d0a 0d0a 2020 2020 2020 2020 5570  }.....        Up
+00008f00: 6461 7465 7320 6120 7375 6273 6372 6970  dates a subscrip
+00008f10: 7469 6f6e 2069 7465 6d0d 0a0d 0a20 2020  tion item....   
+00008f20: 2020 2020 2041 7267 733a 0d0a 2020 2020       Args:..    
+00008f30: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+00008f40: 7469 6f6e 5f69 6420 2873 7472 696e 6729  tion_id (string)
+00008f50: 3a20 5375 6273 6372 6970 7469 6f6e 2049  : Subscription I
+00008f60: 640d 0a20 2020 2020 2020 2020 2020 2069  d..            i
+00008f70: 7465 6d5f 6964 2028 7374 7269 6e67 293a  tem_id (string):
+00008f80: 2049 7465 6d20 6964 0d0a 2020 2020 2020   Item id..      
+00008f90: 2020 2020 2020 626f 6479 2028 5570 6461        body (Upda
+00008fa0: 7465 5375 6273 6372 6970 7469 6f6e 4974  teSubscriptionIt
+00008fb0: 656d 5265 7175 6573 7429 3a20 5265 7175  emRequest): Requ
+00008fc0: 6573 7420 666f 7220 7570 6461 7469 6e67  est for updating
+00008fd0: 2061 0d0a 2020 2020 2020 2020 2020 2020   a..            
+00008fe0: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
+00008ff0: 2069 7465 6d0d 0a20 2020 2020 2020 2020   item..         
+00009000: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
+00009010: 6579 2028 7374 7269 6e67 2c20 6f70 7469  ey (string, opti
+00009020: 6f6e 616c 293a 2054 4f44 4f3a 2074 7970  onal): TODO: typ
+00009030: 6520 6465 7363 7269 7074 696f 6e20 6865  e description he
+00009040: 7265 2e0d 0a20 2020 2020 2020 2020 2020  re...           
+00009050: 2020 2020 2045 7861 6d70 6c65 3a20 0d0a       Example: ..
+00009060: 0d0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00009070: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00009080: 4765 7453 7562 7363 7269 7074 696f 6e49  GetSubscriptionI
+00009090: 7465 6d52 6573 706f 6e73 653a 2052 6573  temResponse: Res
+000090a0: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
+000090b0: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
+000090c0: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
+000090d0: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
+000090e0: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
+000090f0: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
+00009100: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
+00009110: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
+00009120: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
+00009130: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
+00009140: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
+00009150: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
+00009160: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009170: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
+00009180: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
+00009190: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
+000091a0: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
+000091b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000091c0: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
+000091d0: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
+000091e0: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+000091f0: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
+00009200: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+00009210: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
+00009220: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
+00009230: 647d 2f69 7465 6d73 2f7b 6974 656d 5f69  d}/items/{item_i
+00009240: 647d 270d 0a20 2020 2020 2020 205f 7572  d}'..        _ur
+00009250: 6c5f 7061 7468 203d 2041 5049 4865 6c70  l_path = APIHelp
+00009260: 6572 2e61 7070 656e 645f 7572 6c5f 7769  er.append_url_wi
+00009270: 7468 5f74 656d 706c 6174 655f 7061 7261  th_template_para
+00009280: 6d65 7465 7273 285f 7572 6c5f 7061 7468  meters(_url_path
+00009290: 2c20 7b20 0d0a 2020 2020 2020 2020 2020  , { ..          
+000092a0: 2020 2773 7562 7363 7269 7074 696f 6e5f    'subscription_
+000092b0: 6964 273a 2073 7562 7363 7269 7074 696f  id': subscriptio
+000092c0: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
+000092d0: 2020 2027 6974 656d 5f69 6427 3a20 6974     'item_id': it
+000092e0: 656d 5f69 640d 0a20 2020 2020 2020 207d  em_id..        }
+000092f0: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
+00009300: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
+00009310: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
+00009320: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
+00009330: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
+00009340: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
+00009350: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
+00009360: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
+00009370: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
+00009380: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
+00009390: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
+000093a0: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
+000093b0: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+000093c0: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
+000093d0: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+000093e0: 0a20 2020 2020 2020 2020 2020 2027 5365  .            'Se
+000093f0: 7276 6963 6552 6566 6572 6572 4e61 6d65  rviceRefererName
+00009400: 273a 2043 6f6e 6669 6775 7261 7469 6f6e  ': Configuration
+00009410: 2e73 6572 7669 6365 5f72 6566 6572 6572  .service_referer
+00009420: 5f6e 616d 652c 0d0a 2020 2020 2020 2020  _name,..        
+00009430: 2020 2020 2743 6f6e 7465 6e74 2d54 7970      'Content-Typ
+00009440: 6527 3a20 2761 7070 6c69 6361 7469 6f6e  e': 'application
+00009450: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
+00009460: 2020 2020 2027 6964 656d 706f 7465 6e63       'idempotenc
+00009470: 792d 6b65 7927 3a20 6964 656d 706f 7465  y-key': idempote
+00009480: 6e63 795f 6b65 790d 0a20 2020 2020 2020  ncy_key..       
+00009490: 207d 0d0a 0d0a 2020 2020 2020 2020 2320   }....        # 
+000094a0: 5072 6570 6172 6520 616e 6420 6578 6563  Prepare and exec
+000094b0: 7574 6520 7265 7175 6573 740d 0a20 2020  ute request..   
+000094c0: 2020 2020 205f 7265 7175 6573 7420 3d20       _request = 
+000094d0: 7365 6c66 2e68 7474 705f 636c 6965 6e74  self.http_client
+000094e0: 2e70 7574 285f 7175 6572 795f 7572 6c2c  .put(_query_url,
+000094f0: 2068 6561 6465 7273 3d5f 6865 6164 6572   headers=_header
+00009500: 732c 2070 6172 616d 6574 6572 733d 4150  s, parameters=AP
+00009510: 4948 656c 7065 722e 6a73 6f6e 5f73 6572  IHelper.json_ser
+00009520: 6961 6c69 7a65 2862 6f64 7929 290d 0a20  ialize(body)).. 
+00009530: 2020 2020 2020 2042 6173 6963 4175 7468         BasicAuth
+00009540: 2e61 7070 6c79 285f 7265 7175 6573 7429  .apply(_request)
+00009550: 0d0a 2020 2020 2020 2020 5f63 6f6e 7465  ..        _conte
+00009560: 7874 203d 2073 656c 662e 6578 6563 7574  xt = self.execut
+00009570: 655f 7265 7175 6573 7428 5f72 6571 7565  e_request(_reque
+00009580: 7374 290d 0a0d 0a20 2020 2020 2020 2023  st)....        #
+00009590: 2045 6e64 706f 696e 7420 616e 6420 676c   Endpoint and gl
+000095a0: 6f62 616c 2065 7272 6f72 2068 616e 646c  obal error handl
+000095b0: 696e 6720 7573 696e 6720 4854 5450 2073  ing using HTTP s
+000095c0: 7461 7475 7320 636f 6465 732e 0d0a 2020  tatus codes...  
+000095d0: 2020 2020 2020 6966 205f 636f 6e74 6578        if _contex
+000095e0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+000095f0: 735f 636f 6465 203d 3d20 3430 303a 0d0a  s_code == 400:..
+00009600: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00009610: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00009620: 2827 496e 7661 6c69 6420 7265 7175 6573  ('Invalid reques
+00009630: 7427 2c20 5f63 6f6e 7465 7874 290d 0a20  t', _context).. 
+00009640: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+00009650: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00009660: 6174 7573 5f63 6f64 6520 3d3d 2034 3031  atus_code == 401
+00009670: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00009680: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00009690: 696f 6e28 2749 6e76 616c 6964 2041 5049  ion('Invalid API
+000096a0: 206b 6579 272c 205f 636f 6e74 6578 7429   key', _context)
+000096b0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+000096c0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+000096d0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+000096e0: 3430 343a 0d0a 2020 2020 2020 2020 2020  404:..          
+000096f0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00009700: 6570 7469 6f6e 2827 416e 2069 6e66 6f72  eption('An infor
+00009710: 6d65 6420 7265 736f 7572 6365 2077 6173  med resource was
+00009720: 206e 6f74 2066 6f75 6e64 272c 205f 636f   not found', _co
+00009730: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00009740: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00009750: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00009760: 6465 203d 3d20 3431 323a 0d0a 2020 2020  de == 412:..    
+00009770: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00009780: 726f 7245 7863 6570 7469 6f6e 2827 4275  rorException('Bu
+00009790: 7369 6e65 7373 2076 616c 6964 6174 696f  siness validatio
+000097a0: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
+000097b0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+000097c0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+000097d0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+000097e0: 3d3d 2034 3232 3a0d 0a20 2020 2020 2020  == 422:..       
+000097f0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00009800: 4578 6365 7074 696f 6e28 2743 6f6e 7472  Exception('Contr
+00009810: 6163 7420 7661 6c69 6461 7469 6f6e 2065  act validation e
+00009820: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+00009830: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00009840: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00009850: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00009860: 3530 303a 0d0a 2020 2020 2020 2020 2020  500:..          
+00009870: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00009880: 6570 7469 6f6e 2827 496e 7465 726e 616c  eption('Internal
+00009890: 2073 6572 7665 7220 6572 726f 7227 2c20   server error', 
+000098a0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+000098b0: 2020 2073 656c 662e 7661 6c69 6461 7465     self.validate
+000098c0: 5f72 6573 706f 6e73 6528 5f63 6f6e 7465  _response(_conte
+000098d0: 7874 290d 0a0d 0a20 2020 2020 2020 2023  xt)....        #
+000098e0: 2052 6574 7572 6e20 6170 7072 6f70 7269   Return appropri
+000098f0: 6174 6520 7479 7065 0d0a 2020 2020 2020  ate type..      
+00009900: 2020 7265 7475 726e 2041 5049 4865 6c70    return APIHelp
+00009910: 6572 2e6a 736f 6e5f 6465 7365 7269 616c  er.json_deserial
+00009920: 697a 6528 5f63 6f6e 7465 7874 2e72 6573  ize(_context.res
+00009930: 706f 6e73 652e 7261 775f 626f 6479 2c20  ponse.raw_body, 
+00009940: 4765 7453 7562 7363 7269 7074 696f 6e49  GetSubscriptionI
+00009950: 7465 6d52 6573 706f 6e73 652e 6672 6f6d  temResponse.from
+00009960: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
+00009970: 2020 2020 6465 6620 6372 6561 7465 5f73      def create_s
+00009980: 7562 7363 7269 7074 696f 6e28 7365 6c66  ubscription(self
+00009990: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000099a0: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+000099b0: 6f64 792c 0d0a 2020 2020 2020 2020 2020  ody,..          
+000099c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000099d0: 2020 6964 656d 706f 7465 6e63 795f 6b65    idempotency_ke
+000099e0: 793d 4e6f 6e65 293a 0d0a 2020 2020 2020  y=None):..      
+000099f0: 2020 2222 2244 6f65 7320 6120 504f 5354    """Does a POST
+00009a00: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
+00009a10: 7363 7269 7074 696f 6e73 2e0d 0a0d 0a20  scriptions..... 
+00009a20: 2020 2020 2020 2043 7265 6174 6573 2061         Creates a
+00009a30: 206e 6577 2073 7562 7363 7269 7074 696f   new subscriptio
+00009a40: 6e0d 0a0d 0a20 2020 2020 2020 2041 7267  n....        Arg
+00009a50: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00009a60: 626f 6479 2028 4372 6561 7465 5375 6273  body (CreateSubs
+00009a70: 6372 6970 7469 6f6e 5265 7175 6573 7429  criptionRequest)
+00009a80: 3a20 5265 7175 6573 7420 666f 7220 6372  : Request for cr
+00009a90: 6561 7469 6e67 2061 0d0a 2020 2020 2020  eating a..      
+00009aa0: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
+00009ab0: 6970 7469 6f6e 0d0a 2020 2020 2020 2020  iption..        
+00009ac0: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
+00009ad0: 6b65 7920 2873 7472 696e 672c 206f 7074  key (string, opt
+00009ae0: 696f 6e61 6c29 3a20 544f 444f 3a20 7479  ional): TODO: ty
+00009af0: 7065 2064 6573 6372 6970 7469 6f6e 2068  pe description h
+00009b00: 6572 652e 0d0a 2020 2020 2020 2020 2020  ere...          
+00009b10: 2020 2020 2020 4578 616d 706c 653a 200d        Example: .
+00009b20: 0a0d 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00009b30: 6e73 3a0d 0a20 2020 2020 2020 2020 2020  ns:..           
+00009b40: 2047 6574 5375 6273 6372 6970 7469 6f6e   GetSubscription
+00009b50: 5265 7370 6f6e 7365 3a20 5265 7370 6f6e  Response: Respon
+00009b60: 7365 2066 726f 6d20 7468 6520 4150 492e  se from the API.
+00009b70: 200d 0a0d 0a20 2020 2020 2020 2052 6169   ....        Rai
+00009b80: 7365 733a 0d0a 2020 2020 2020 2020 2020  ses:..          
+00009b90: 2020 4150 4945 7863 6570 7469 6f6e 3a20    APIException: 
+00009ba0: 5768 656e 2061 6e20 6572 726f 7220 6f63  When an error oc
+00009bb0: 6375 7273 2077 6869 6c65 2066 6574 6368  curs while fetch
+00009bc0: 696e 6720 7468 6520 6461 7461 2066 726f  ing the data fro
+00009bd0: 6d0d 0a20 2020 2020 2020 2020 2020 2020  m..             
+00009be0: 2020 2074 6865 2072 656d 6f74 6520 4150     the remote AP
+00009bf0: 492e 2054 6869 7320 6578 6365 7074 696f  I. This exceptio
+00009c00: 6e20 696e 636c 7564 6573 2074 6865 2048  n includes the H
+00009c10: 5454 5020 5265 7370 6f6e 7365 0d0a 2020  TTP Response..  
+00009c20: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00009c30: 6465 2c20 616e 2065 7272 6f72 206d 6573  de, an error mes
+00009c40: 7361 6765 2c20 616e 6420 7468 6520 4854  sage, and the HT
+00009c50: 5450 2062 6f64 7920 7468 6174 2077 6173  TP body that was
+00009c60: 2072 6563 6569 7665 6420 696e 0d0a 2020   received in..  
+00009c70: 2020 2020 2020 2020 2020 2020 2020 7468                th
+00009c80: 6520 7265 7175 6573 742e 0d0a 0d0a 2020  e request.....  
+00009c90: 2020 2020 2020 2222 220d 0a0d 0a20 2020        """....   
+00009ca0: 2020 2020 2023 2050 7265 7061 7265 2071       # Prepare q
+00009cb0: 7565 7279 2055 524c 0d0a 2020 2020 2020  uery URL..      
+00009cc0: 2020 5f75 726c 5f70 6174 6820 3d20 272f    _url_path = '/
+00009cd0: 7375 6273 6372 6970 7469 6f6e 7327 0d0a  subscriptions'..
+00009ce0: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
+00009cf0: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
+00009d00: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
+00009d10: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00009d20: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
+00009d30: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
+00009d40: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
+00009d50: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
+00009d60: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
+00009d70: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00009d80: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
+00009d90: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
+00009da0: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
+00009db0: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
+00009dc0: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
+00009dd0: 2020 2020 2020 2020 2020 2753 6572 7669            'Servi
+00009de0: 6365 5265 6665 7265 724e 616d 6527 3a20  ceRefererName': 
+00009df0: 436f 6e66 6967 7572 6174 696f 6e2e 7365  Configuration.se
+00009e00: 7276 6963 655f 7265 6665 7265 725f 6e61  rvice_referer_na
+00009e10: 6d65 2c0d 0a20 2020 2020 2020 2020 2020  me,..           
+00009e20: 2027 436f 6e74 656e 742d 5479 7065 273a   'Content-Type':
+00009e30: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
+00009e40: 6f6e 272c 0d0a 2020 2020 2020 2020 2020  on',..          
+00009e50: 2020 2769 6465 6d70 6f74 656e 6379 2d6b    'idempotency-k
+00009e60: 6579 273a 2069 6465 6d70 6f74 656e 6379  ey': idempotency
+00009e70: 5f6b 6579 0d0a 2020 2020 2020 2020 7d0d  _key..        }.
+00009e80: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+00009e90: 7061 7265 2061 6e64 2065 7865 6375 7465  pare and execute
+00009ea0: 2072 6571 7565 7374 0d0a 2020 2020 2020   request..      
+00009eb0: 2020 5f72 6571 7565 7374 203d 2073 656c    _request = sel
+00009ec0: 662e 6874 7470 5f63 6c69 656e 742e 706f  f.http_client.po
+00009ed0: 7374 285f 7175 6572 795f 7572 6c2c 2068  st(_query_url, h
+00009ee0: 6561 6465 7273 3d5f 6865 6164 6572 732c  eaders=_headers,
+00009ef0: 2070 6172 616d 6574 6572 733d 4150 4948   parameters=APIH
+00009f00: 656c 7065 722e 6a73 6f6e 5f73 6572 6961  elper.json_seria
+00009f10: 6c69 7a65 2862 6f64 7929 290d 0a20 2020  lize(body))..   
+00009f20: 2020 2020 2042 6173 6963 4175 7468 2e61       BasicAuth.a
+00009f30: 7070 6c79 285f 7265 7175 6573 7429 0d0a  pply(_request)..
+00009f40: 2020 2020 2020 2020 5f63 6f6e 7465 7874          _context
+00009f50: 203d 2073 656c 662e 6578 6563 7574 655f   = self.execute_
+00009f60: 7265 7175 6573 7428 5f72 6571 7565 7374  request(_request
+00009f70: 290d 0a0d 0a20 2020 2020 2020 2023 2045  )....        # E
+00009f80: 6e64 706f 696e 7420 616e 6420 676c 6f62  ndpoint and glob
+00009f90: 616c 2065 7272 6f72 2068 616e 646c 696e  al error handlin
+00009fa0: 6720 7573 696e 6720 4854 5450 2073 7461  g using HTTP sta
+00009fb0: 7475 7320 636f 6465 732e 0d0a 2020 2020  tus codes...    
+00009fc0: 2020 2020 6966 205f 636f 6e74 6578 742e      if _context.
+00009fd0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00009fe0: 636f 6465 203d 3d20 3430 303a 0d0a 2020  code == 400:..  
+00009ff0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0000a000: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+0000a010: 496e 7661 6c69 6420 7265 7175 6573 7427  Invalid request'
+0000a020: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+0000a030: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+0000a040: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+0000a050: 7573 5f63 6f64 6520 3d3d 2034 3031 3a0d  us_code == 401:.
+0000a060: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0000a070: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+0000a080: 6e28 2749 6e76 616c 6964 2041 5049 206b  n('Invalid API k
+0000a090: 6579 272c 205f 636f 6e74 6578 7429 0d0a  ey', _context)..
+0000a0a0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+0000a0b0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+0000a0c0: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+0000a0d0: 343a 0d0a 2020 2020 2020 2020 2020 2020  4:..            
+0000a0e0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+0000a0f0: 7469 6f6e 2827 416e 2069 6e66 6f72 6d65  tion('An informe
+0000a100: 6420 7265 736f 7572 6365 2077 6173 206e  d resource was n
+0000a110: 6f74 2066 6f75 6e64 272c 205f 636f 6e74  ot found', _cont
+0000a120: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+0000a130: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+0000a140: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+0000a150: 203d 3d20 3431 323a 0d0a 2020 2020 2020   == 412:..      
+0000a160: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+0000a170: 7245 7863 6570 7469 6f6e 2827 4275 7369  rException('Busi
+0000a180: 6e65 7373 2076 616c 6964 6174 696f 6e20  ness validation 
+0000a190: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+0000a1a0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+0000a1b0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+0000a1c0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+0000a1d0: 2034 3232 3a0d 0a20 2020 2020 2020 2020   422:..         
+0000a1e0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+0000a1f0: 6365 7074 696f 6e28 2743 6f6e 7472 6163  ception('Contrac
+0000a200: 7420 7661 6c69 6461 7469 6f6e 2065 7272  t validation err
+0000a210: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+0000a220: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+0000a230: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+0000a240: 7461 7475 735f 636f 6465 203d 3d20 3530  tatus_code == 50
+0000a250: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+0000a260: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+0000a270: 7469 6f6e 2827 496e 7465 726e 616c 2073  tion('Internal s
+0000a280: 6572 7665 7220 6572 726f 7227 2c20 5f63  erver error', _c
+0000a290: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+0000a2a0: 2073 656c 662e 7661 6c69 6461 7465 5f72   self.validate_r
+0000a2b0: 6573 706f 6e73 6528 5f63 6f6e 7465 7874  esponse(_context
+0000a2c0: 290d 0a0d 0a20 2020 2020 2020 2023 2052  )....        # R
+0000a2d0: 6574 7572 6e20 6170 7072 6f70 7269 6174  eturn appropriat
+0000a2e0: 6520 7479 7065 0d0a 2020 2020 2020 2020  e type..        
+0000a2f0: 7265 7475 726e 2041 5049 4865 6c70 6572  return APIHelper
+0000a300: 2e6a 736f 6e5f 6465 7365 7269 616c 697a  .json_deserializ
+0000a310: 6528 5f63 6f6e 7465 7874 2e72 6573 706f  e(_context.respo
+0000a320: 6e73 652e 7261 775f 626f 6479 2c20 4765  nse.raw_body, Ge
+0000a330: 7453 7562 7363 7269 7074 696f 6e52 6573  tSubscriptionRes
+0000a340: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
+0000a350: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
+0000a360: 6620 6765 745f 6469 7363 6f75 6e74 5f62  f get_discount_b
+0000a370: 795f 6964 2873 656c 662c 0d0a 2020 2020  y_id(self,..    
+0000a380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a390: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
+0000a3a0: 696f 6e5f 6964 2c0d 0a20 2020 2020 2020  ion_id,..       
+0000a3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a3c0: 2020 2020 6469 7363 6f75 6e74 5f69 6429      discount_id)
+0000a3d0: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
+0000a3e0: 6573 2061 2047 4554 2072 6571 7565 7374  es a GET request
+0000a3f0: 2074 6f20 2f73 7562 7363 7269 7074 696f   to /subscriptio
+0000a400: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
+0000a410: 5f69 647d 2f64 6973 636f 756e 7473 2f7b  _id}/discounts/{
+0000a420: 6469 7363 6f75 6e74 4964 7d2e 0d0a 0d0a  discountId}.....
+0000a430: 2020 2020 2020 2020 4765 7444 6973 636f          GetDisco
+0000a440: 756e 7442 7949 640d 0a0d 0a20 2020 2020  untById....     
+0000a450: 2020 2041 7267 733a 0d0a 2020 2020 2020     Args:..      
+0000a460: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
+0000a470: 6f6e 5f69 6420 2873 7472 696e 6729 3a20  on_id (string): 
+0000a480: 5468 6520 7375 6273 6372 6970 7469 6f6e  The subscription
+0000a490: 2069 640d 0a20 2020 2020 2020 2020 2020   id..           
+0000a4a0: 2064 6973 636f 756e 745f 6964 2028 7374   discount_id (st
+0000a4b0: 7269 6e67 293a 2054 4f44 4f3a 2074 7970  ring): TODO: typ
+0000a4c0: 6520 6465 7363 7269 7074 696f 6e20 6865  e description he
+0000a4d0: 7265 2e20 4578 616d 706c 653a 200d 0a0d  re. Example: ...
+0000a4e0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+0000a4f0: 3a0d 0a20 2020 2020 2020 2020 2020 2047  :..            G
+0000a500: 6574 4469 7363 6f75 6e74 5265 7370 6f6e  etDiscountRespon
+0000a510: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
+0000a520: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
+0000a530: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
+0000a540: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
+0000a550: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
+0000a560: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
+0000a570: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
+0000a580: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
+0000a590: 2020 2020 2020 2020 2020 2020 2074 6865               the
+0000a5a0: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
+0000a5b0: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
+0000a5c0: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
+0000a5d0: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
+0000a5e0: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
+0000a5f0: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
+0000a600: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
+0000a610: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
+0000a620: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
+0000a630: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
+0000a640: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
+0000a650: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
+0000a660: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
+0000a670: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
+0000a680: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
+0000a690: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+0000a6a0: 7074 696f 6e5f 6964 7d2f 6469 7363 6f75  ption_id}/discou
+0000a6b0: 6e74 732f 7b64 6973 636f 756e 7449 647d  nts/{discountId}
+0000a6c0: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
+0000a6d0: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
+0000a6e0: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
+0000a6f0: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
+0000a700: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
+0000a710: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
+0000a720: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
+0000a730: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
+0000a740: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
+0000a750: 2027 6469 7363 6f75 6e74 4964 273a 2064   'discountId': d
+0000a760: 6973 636f 756e 745f 6964 0d0a 2020 2020  iscount_id..    
+0000a770: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
+0000a780: 5f71 7565 7279 5f62 7569 6c64 6572 203d  _query_builder =
+0000a790: 2043 6f6e 6669 6775 7261 7469 6f6e 2e62   Configuration.b
+0000a7a0: 6173 655f 7572 690d 0a20 2020 2020 2020  ase_uri..       
+0000a7b0: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+0000a7c0: 2b3d 205f 7572 6c5f 7061 7468 0d0a 2020  += _url_path..  
+0000a7d0: 2020 2020 2020 5f71 7565 7279 5f75 726c        _query_url
+0000a7e0: 203d 2041 5049 4865 6c70 6572 2e63 6c65   = APIHelper.cle
+0000a7f0: 616e 5f75 726c 285f 7175 6572 795f 6275  an_url(_query_bu
+0000a800: 696c 6465 7229 0d0a 0d0a 2020 2020 2020  ilder)....      
+0000a810: 2020 2320 5072 6570 6172 6520 6865 6164    # Prepare head
+0000a820: 6572 730d 0a20 2020 2020 2020 205f 6865  ers..        _he
+0000a830: 6164 6572 7320 3d20 7b0d 0a20 2020 2020  aders = {..     
+0000a840: 2020 2020 2020 2027 6163 6365 7074 273a         'accept':
+0000a850: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
+0000a860: 6f6e 272c 0d0a 2020 2020 2020 2020 2020  on',..          
+0000a870: 2020 2753 6572 7669 6365 5265 6665 7265    'ServiceRefere
+0000a880: 724e 616d 6527 3a20 436f 6e66 6967 7572  rName': Configur
+0000a890: 6174 696f 6e2e 7365 7276 6963 655f 7265  ation.service_re
+0000a8a0: 6665 7265 725f 6e61 6d65 0d0a 2020 2020  ferer_name..    
+0000a8b0: 2020 2020 7d0d 0a0d 0a20 2020 2020 2020      }....       
+0000a8c0: 2023 2050 7265 7061 7265 2061 6e64 2065   # Prepare and e
+0000a8d0: 7865 6375 7465 2072 6571 7565 7374 0d0a  xecute request..
+0000a8e0: 2020 2020 2020 2020 5f72 6571 7565 7374          _request
+0000a8f0: 203d 2073 656c 662e 6874 7470 5f63 6c69   = self.http_cli
+0000a900: 656e 742e 6765 7428 5f71 7565 7279 5f75  ent.get(_query_u
+0000a910: 726c 2c20 6865 6164 6572 733d 5f68 6561  rl, headers=_hea
+0000a920: 6465 7273 290d 0a20 2020 2020 2020 2042  ders)..        B
+0000a930: 6173 6963 4175 7468 2e61 7070 6c79 285f  asicAuth.apply(_
+0000a940: 7265 7175 6573 7429 0d0a 2020 2020 2020  request)..      
+0000a950: 2020 5f63 6f6e 7465 7874 203d 2073 656c    _context = sel
+0000a960: 662e 6578 6563 7574 655f 7265 7175 6573  f.execute_reques
+0000a970: 7428 5f72 6571 7565 7374 290d 0a0d 0a20  t(_request).... 
+0000a980: 2020 2020 2020 2023 2045 6e64 706f 696e         # Endpoin
+0000a990: 7420 616e 6420 676c 6f62 616c 2065 7272  t and global err
+0000a9a0: 6f72 2068 616e 646c 696e 6720 7573 696e  or handling usin
+0000a9b0: 6720 4854 5450 2073 7461 7475 7320 636f  g HTTP status co
+0000a9c0: 6465 732e 0d0a 2020 2020 2020 2020 6966  des...        if
+0000a9d0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+0000a9e0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+0000a9f0: 3d20 3430 303a 0d0a 2020 2020 2020 2020  = 400:..        
+0000aa00: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+0000aa10: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
+0000aa20: 6420 7265 7175 6573 7427 2c20 5f63 6f6e  d request', _con
+0000aa30: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+0000aa40: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+0000aa50: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+0000aa60: 6520 3d3d 2034 3031 3a0d 0a20 2020 2020  e == 401:..     
+0000aa70: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+0000aa80: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+0000aa90: 616c 6964 2041 5049 206b 6579 272c 205f  alid API key', _
+0000aaa0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+0000aab0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+0000aac0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+0000aad0: 636f 6465 203d 3d20 3430 343a 0d0a 2020  code == 404:..  
+0000aae0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0000aaf0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+0000ab00: 416e 2069 6e66 6f72 6d65 6420 7265 736f  An informed reso
+0000ab10: 7572 6365 2077 6173 206e 6f74 2066 6f75  urce was not fou
+0000ab20: 6e64 272c 205f 636f 6e74 6578 7429 0d0a  nd', _context)..
+0000ab30: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+0000ab40: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+0000ab50: 7461 7475 735f 636f 6465 203d 3d20 3431  tatus_code == 41
+0000ab60: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+0000ab70: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+0000ab80: 7469 6f6e 2827 4275 7369 6e65 7373 2076  tion('Business v
+0000ab90: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+0000aba0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+0000abb0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+0000abc0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+0000abd0: 7573 5f63 6f64 6520 3d3d 2034 3232 3a0d  us_code == 422:.
+0000abe0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0000abf0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+0000ac00: 6e28 2743 6f6e 7472 6163 7420 7661 6c69  n('Contract vali
+0000ac10: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
+0000ac20: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+0000ac30: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+0000ac40: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+0000ac50: 636f 6465 203d 3d20 3530 303a 0d0a 2020  code == 500:..  
+0000ac60: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0000ac70: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+0000ac80: 496e 7465 726e 616c 2073 6572 7665 7220  Internal server 
+0000ac90: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+0000aca0: 290d 0a20 2020 2020 2020 2073 656c 662e  )..        self.
+0000acb0: 7661 6c69 6461 7465 5f72 6573 706f 6e73  validate_respons
+0000acc0: 6528 5f63 6f6e 7465 7874 290d 0a0d 0a20  e(_context).... 
+0000acd0: 2020 2020 2020 2023 2052 6574 7572 6e20         # Return 
+0000ace0: 6170 7072 6f70 7269 6174 6520 7479 7065  appropriate type
+0000acf0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0000ad00: 2041 5049 4865 6c70 6572 2e6a 736f 6e5f   APIHelper.json_
+0000ad10: 6465 7365 7269 616c 697a 6528 5f63 6f6e  deserialize(_con
+0000ad20: 7465 7874 2e72 6573 706f 6e73 652e 7261  text.response.ra
+0000ad30: 775f 626f 6479 2c20 4765 7444 6973 636f  w_body, GetDisco
+0000ad40: 756e 7452 6573 706f 6e73 652e 6672 6f6d  untResponse.from
+0000ad50: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
+0000ad60: 2020 2020 6465 6620 7570 6461 7465 5f73      def update_s
+0000ad70: 7562 7363 7269 7074 696f 6e5f 6269 6c6c  ubscription_bill
+0000ad80: 696e 675f 6461 7465 2873 656c 662c 0d0a  ing_date(self,..
+0000ad90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ada0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000adb0: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
+0000adc0: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
+0000add0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ade0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000adf0: 2020 2020 626f 6479 2c0d 0a20 2020 2020      body,..     
+0000ae00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae20: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
+0000ae30: 6b65 793d 4e6f 6e65 293a 0d0a 2020 2020  key=None):..    
+0000ae40: 2020 2020 2222 2244 6f65 7320 6120 5041      """Does a PA
+0000ae50: 5443 4820 7265 7175 6573 7420 746f 202f  TCH request to /
+0000ae60: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
+0000ae70: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
+0000ae80: 6269 6c6c 696e 672d 6461 7465 2e0d 0a0d  billing-date....
+0000ae90: 0a20 2020 2020 2020 2055 7064 6174 6573  .        Updates
+0000aea0: 2074 6865 2062 696c 6c69 6e67 2064 6174   the billing dat
+0000aeb0: 6520 6672 6f6d 2061 2073 7562 7363 7269  e from a subscri
+0000aec0: 7074 696f 6e0d 0a0d 0a20 2020 2020 2020  ption....       
+0000aed0: 2041 7267 733a 0d0a 2020 2020 2020 2020   Args:..        
+0000aee0: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
+0000aef0: 5f69 6420 2873 7472 696e 6729 3a20 5468  _id (string): Th
+0000af00: 6520 7375 6273 6372 6970 7469 6f6e 2069  e subscription i
+0000af10: 640d 0a20 2020 2020 2020 2020 2020 2062  d..            b
+0000af20: 6f64 7920 2855 7064 6174 6553 7562 7363  ody (UpdateSubsc
+0000af30: 7269 7074 696f 6e42 696c 6c69 6e67 4461  riptionBillingDa
+0000af40: 7465 5265 7175 6573 7429 3a20 5265 7175  teRequest): Requ
+0000af50: 6573 7420 666f 7220 7570 6461 7469 6e67  est for updating
+0000af60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000af70: 2020 7468 6520 7375 6273 6372 6970 7469    the subscripti
+0000af80: 6f6e 2062 696c 6c69 6e67 2064 6174 650d  on billing date.
+0000af90: 0a20 2020 2020 2020 2020 2020 2069 6465  .            ide
+0000afa0: 6d70 6f74 656e 6379 5f6b 6579 2028 7374  mpotency_key (st
+0000afb0: 7269 6e67 2c20 6f70 7469 6f6e 616c 293a  ring, optional):
+0000afc0: 2054 4f44 4f3a 2074 7970 6520 6465 7363   TODO: type desc
+0000afd0: 7269 7074 696f 6e20 6865 7265 2e0d 0a20  ription here... 
+0000afe0: 2020 2020 2020 2020 2020 2020 2020 2045                 E
+0000aff0: 7861 6d70 6c65 3a20 0d0a 0d0a 2020 2020  xample: ....    
+0000b000: 2020 2020 5265 7475 726e 733a 0d0a 2020      Returns:..  
+0000b010: 2020 2020 2020 2020 2020 4765 7453 7562            GetSub
+0000b020: 7363 7269 7074 696f 6e52 6573 706f 6e73  scriptionRespons
+0000b030: 653a 2052 6573 706f 6e73 6520 6672 6f6d  e: Response from
+0000b040: 2074 6865 2041 5049 2e20 0d0a 0d0a 2020   the API. ....  
+0000b050: 2020 2020 2020 5261 6973 6573 3a0d 0a20        Raises:.. 
+0000b060: 2020 2020 2020 2020 2020 2041 5049 4578             APIEx
+0000b070: 6365 7074 696f 6e3a 2057 6865 6e20 616e  ception: When an
+0000b080: 2065 7272 6f72 206f 6363 7572 7320 7768   error occurs wh
+0000b090: 696c 6520 6665 7463 6869 6e67 2074 6865  ile fetching the
+0000b0a0: 2064 6174 6120 6672 6f6d 0d0a 2020 2020   data from..    
+0000b0b0: 2020 2020 2020 2020 2020 2020 7468 6520              the 
+0000b0c0: 7265 6d6f 7465 2041 5049 2e20 5468 6973  remote API. This
+0000b0d0: 2065 7863 6570 7469 6f6e 2069 6e63 6c75   exception inclu
+0000b0e0: 6465 7320 7468 6520 4854 5450 2052 6573  des the HTTP Res
+0000b0f0: 706f 6e73 650d 0a20 2020 2020 2020 2020  ponse..         
+0000b100: 2020 2020 2020 2063 6f64 652c 2061 6e20         code, an 
+0000b110: 6572 726f 7220 6d65 7373 6167 652c 2061  error message, a
+0000b120: 6e64 2074 6865 2048 5454 5020 626f 6479  nd the HTTP body
+0000b130: 2074 6861 7420 7761 7320 7265 6365 6976   that was receiv
+0000b140: 6564 2069 6e0d 0a20 2020 2020 2020 2020  ed in..         
+0000b150: 2020 2020 2020 2074 6865 2072 6571 7565         the reque
+0000b160: 7374 2e0d 0a0d 0a20 2020 2020 2020 2022  st.....        "
+0000b170: 2222 0d0a 0d0a 2020 2020 2020 2020 2320  ""....        # 
+0000b180: 5072 6570 6172 6520 7175 6572 7920 5552  Prepare query UR
+0000b190: 4c0d 0a20 2020 2020 2020 205f 7572 6c5f  L..        _url_
+0000b1a0: 7061 7468 203d 2027 2f73 7562 7363 7269  path = '/subscri
+0000b1b0: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
+0000b1c0: 7469 6f6e 5f69 647d 2f62 696c 6c69 6e67  tion_id}/billing
+0000b1d0: 2d64 6174 6527 0d0a 2020 2020 2020 2020  -date'..        
+0000b1e0: 5f75 726c 5f70 6174 6820 3d20 4150 4948  _url_path = APIH
+0000b1f0: 656c 7065 722e 6170 7065 6e64 5f75 726c  elper.append_url
+0000b200: 5f77 6974 685f 7465 6d70 6c61 7465 5f70  _with_template_p
+0000b210: 6172 616d 6574 6572 7328 5f75 726c 5f70  arameters(_url_p
+0000b220: 6174 682c 207b 200d 0a20 2020 2020 2020  ath, { ..       
+0000b230: 2020 2020 2027 7375 6273 6372 6970 7469       'subscripti
+0000b240: 6f6e 5f69 6427 3a20 7375 6273 6372 6970  on_id': subscrip
+0000b250: 7469 6f6e 5f69 640d 0a20 2020 2020 2020  tion_id..       
+0000b260: 207d 290d 0a20 2020 2020 2020 205f 7175   })..        _qu
+0000b270: 6572 795f 6275 696c 6465 7220 3d20 436f  ery_builder = Co
+0000b280: 6e66 6967 7572 6174 696f 6e2e 6261 7365  nfiguration.base
+0000b290: 5f75 7269 0d0a 2020 2020 2020 2020 5f71  _uri..        _q
+0000b2a0: 7565 7279 5f62 7569 6c64 6572 202b 3d20  uery_builder += 
+0000b2b0: 5f75 726c 5f70 6174 680d 0a20 2020 2020  _url_path..     
+0000b2c0: 2020 205f 7175 6572 795f 7572 6c20 3d20     _query_url = 
+0000b2d0: 4150 4948 656c 7065 722e 636c 6561 6e5f  APIHelper.clean_
+0000b2e0: 7572 6c28 5f71 7565 7279 5f62 7569 6c64  url(_query_build
+0000b2f0: 6572 290d 0a0d 0a20 2020 2020 2020 2023  er)....        #
+0000b300: 2050 7265 7061 7265 2068 6561 6465 7273   Prepare headers
+0000b310: 0d0a 2020 2020 2020 2020 5f68 6561 6465  ..        _heade
+0000b320: 7273 203d 207b 0d0a 2020 2020 2020 2020  rs = {..        
+0000b330: 2020 2020 2761 6363 6570 7427 3a20 2761      'accept': 'a
+0000b340: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
+0000b350: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+0000b360: 5365 7276 6963 6552 6566 6572 6572 4e61  ServiceRefererNa
+0000b370: 6d65 273a 2043 6f6e 6669 6775 7261 7469  me': Configurati
+0000b380: 6f6e 2e73 6572 7669 6365 5f72 6566 6572  on.service_refer
+0000b390: 6572 5f6e 616d 652c 0d0a 2020 2020 2020  er_name,..      
+0000b3a0: 2020 2020 2020 2743 6f6e 7465 6e74 2d54        'Content-T
+0000b3b0: 7970 6527 3a20 2761 7070 6c69 6361 7469  ype': 'applicati
+0000b3c0: 6f6e 2f6a 736f 6e27 2c0d 0a20 2020 2020  on/json',..     
+0000b3d0: 2020 2020 2020 2027 6964 656d 706f 7465         'idempote
+0000b3e0: 6e63 792d 6b65 7927 3a20 6964 656d 706f  ncy-key': idempo
+0000b3f0: 7465 6e63 795f 6b65 790d 0a20 2020 2020  tency_key..     
+0000b400: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
+0000b410: 2320 5072 6570 6172 6520 616e 6420 6578  # Prepare and ex
+0000b420: 6563 7574 6520 7265 7175 6573 740d 0a20  ecute request.. 
+0000b430: 2020 2020 2020 205f 7265 7175 6573 7420         _request 
+0000b440: 3d20 7365 6c66 2e68 7474 705f 636c 6965  = self.http_clie
+0000b450: 6e74 2e70 6174 6368 285f 7175 6572 795f  nt.patch(_query_
+0000b460: 7572 6c2c 2068 6561 6465 7273 3d5f 6865  url, headers=_he
+0000b470: 6164 6572 732c 2070 6172 616d 6574 6572  aders, parameter
+0000b480: 733d 4150 4948 656c 7065 722e 6a73 6f6e  s=APIHelper.json
+0000b490: 5f73 6572 6961 6c69 7a65 2862 6f64 7929  _serialize(body)
+0000b4a0: 290d 0a20 2020 2020 2020 2042 6173 6963  )..        Basic
+0000b4b0: 4175 7468 2e61 7070 6c79 285f 7265 7175  Auth.apply(_requ
+0000b4c0: 6573 7429 0d0a 2020 2020 2020 2020 5f63  est)..        _c
+0000b4d0: 6f6e 7465 7874 203d 2073 656c 662e 6578  ontext = self.ex
+0000b4e0: 6563 7574 655f 7265 7175 6573 7428 5f72  ecute_request(_r
+0000b4f0: 6571 7565 7374 290d 0a0d 0a20 2020 2020  equest)....     
+0000b500: 2020 2023 2045 6e64 706f 696e 7420 616e     # Endpoint an
+0000b510: 6420 676c 6f62 616c 2065 7272 6f72 2068  d global error h
+0000b520: 616e 646c 696e 6720 7573 696e 6720 4854  andling using HT
+0000b530: 5450 2073 7461 7475 7320 636f 6465 732e  TP status codes.
+0000b540: 0d0a 2020 2020 2020 2020 6966 205f 636f  ..        if _co
+0000b550: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+0000b560: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+0000b570: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+0000b580: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+0000b590: 7469 6f6e 2827 496e 7661 6c69 6420 7265  tion('Invalid re
+0000b5a0: 7175 6573 7427 2c20 5f63 6f6e 7465 7874  quest', _context
+0000b5b0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+0000b5c0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+0000b5d0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+0000b5e0: 2034 3031 3a0d 0a20 2020 2020 2020 2020   401:..         
+0000b5f0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+0000b600: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+0000b610: 2041 5049 206b 6579 272c 205f 636f 6e74   API key', _cont
+0000b620: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+0000b630: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+0000b640: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+0000b650: 203d 3d20 3430 343a 0d0a 2020 2020 2020   == 404:..      
+0000b660: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+0000b670: 7245 7863 6570 7469 6f6e 2827 416e 2069  rException('An i
+0000b680: 6e66 6f72 6d65 6420 7265 736f 7572 6365  nformed resource
+0000b690: 2077 6173 206e 6f74 2066 6f75 6e64 272c   was not found',
+0000b6a0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+0000b6b0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+0000b6c0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+0000b6d0: 735f 636f 6465 203d 3d20 3431 323a 0d0a  s_code == 412:..
+0000b6e0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000b6f0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+0000b700: 2827 4275 7369 6e65 7373 2076 616c 6964  ('Business valid
+0000b710: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+0000b720: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+0000b730: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+0000b740: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+0000b750: 6f64 6520 3d3d 2034 3232 3a0d 0a20 2020  ode == 422:..   
+0000b760: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+0000b770: 7272 6f72 4578 6365 7074 696f 6e28 2743  rrorException('C
+0000b780: 6f6e 7472 6163 7420 7661 6c69 6461 7469  ontract validati
+0000b790: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
+0000b7a0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+0000b7b0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+0000b7c0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+0000b7d0: 203d 3d20 3530 303a 0d0a 2020 2020 2020   == 500:..      
+0000b7e0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+0000b7f0: 7245 7863 6570 7469 6f6e 2827 496e 7465  rException('Inte
+0000b800: 726e 616c 2073 6572 7665 7220 6572 726f  rnal server erro
+0000b810: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+0000b820: 2020 2020 2020 2073 656c 662e 7661 6c69         self.vali
+0000b830: 6461 7465 5f72 6573 706f 6e73 6528 5f63  date_response(_c
+0000b840: 6f6e 7465 7874 290d 0a0d 0a20 2020 2020  ontext)....     
+0000b850: 2020 2023 2052 6574 7572 6e20 6170 7072     # Return appr
+0000b860: 6f70 7269 6174 6520 7479 7065 0d0a 2020  opriate type..  
+0000b870: 2020 2020 2020 7265 7475 726e 2041 5049        return API
+0000b880: 4865 6c70 6572 2e6a 736f 6e5f 6465 7365  Helper.json_dese
+0000b890: 7269 616c 697a 6528 5f63 6f6e 7465 7874  rialize(_context
+0000b8a0: 2e72 6573 706f 6e73 652e 7261 775f 626f  .response.raw_bo
+0000b8b0: 6479 2c20 4765 7453 7562 7363 7269 7074  dy, GetSubscript
+0000b8c0: 696f 6e52 6573 706f 6e73 652e 6672 6f6d  ionResponse.from
+0000b8d0: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
+0000b8e0: 2020 2020 6465 6620 7570 6461 7465 5f6c      def update_l
+0000b8f0: 6174 6573 745f 7065 7269 6f64 5f65 6e64  atest_period_end
+0000b900: 5f61 7428 7365 6c66 2c0d 0a20 2020 2020  _at(self,..     
+0000b910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b920: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000b930: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
+0000b940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b960: 2020 2020 2062 6f64 792c 0d0a 2020 2020       body,..    
+0000b970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b990: 6964 656d 706f 7465 6e63 795f 6b65 793d  idempotency_key=
+0000b9a0: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
+0000b9b0: 2222 2244 6f65 7320 6120 5041 5443 4820  """Does a PATCH 
+0000b9c0: 7265 7175 6573 7420 746f 202f 7375 6273  request to /subs
+0000b9d0: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
+0000b9e0: 7269 7074 696f 6e5f 6964 7d2f 7065 7269  ription_id}/peri
+0000b9f0: 6f64 732f 6c61 7465 7374 2f65 6e64 2d61  ods/latest/end-a
+0000ba00: 742e 0d0a 0d0a 2020 2020 2020 2020 5570  t.....        Up
+0000ba10: 6461 7465 4c61 7465 7374 5065 7269 6f64  dateLatestPeriod
+0000ba20: 456e 6441 740d 0a0d 0a20 2020 2020 2020  EndAt....       
+0000ba30: 2041 7267 733a 0d0a 2020 2020 2020 2020   Args:..        
+0000ba40: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
+0000ba50: 5f69 6420 2873 7472 696e 6729 3a20 544f  _id (string): TO
+0000ba60: 444f 3a20 7479 7065 2064 6573 6372 6970  DO: type descrip
+0000ba70: 7469 6f6e 2068 6572 652e 2045 7861 6d70  tion here. Examp
+0000ba80: 6c65 3a20 0d0a 2020 2020 2020 2020 2020  le: ..          
+0000ba90: 2020 626f 6479 2028 5570 6461 7465 4375    body (UpdateCu
+0000baa0: 7272 656e 7443 7963 6c65 456e 6444 6174  rrentCycleEndDat
+0000bab0: 6552 6571 7565 7374 293a 2052 6571 7565  eRequest): Reque
+0000bac0: 7374 2066 6f72 2075 7064 6174 696e 6720  st for updating 
+0000bad0: 7468 650d 0a20 2020 2020 2020 2020 2020  the..           
+0000bae0: 2020 2020 2065 6e64 2064 6174 6520 6f66       end date of
+0000baf0: 2074 6865 2063 7572 7265 6e74 2073 6967   the current sig
+0000bb00: 6e61 7475 7265 2063 7963 6c65 0d0a 2020  nature cycle..  
+0000bb10: 2020 2020 2020 2020 2020 6964 656d 706f            idempo
+0000bb20: 7465 6e63 795f 6b65 7920 2873 7472 696e  tency_key (strin
+0000bb30: 672c 206f 7074 696f 6e61 6c29 3a20 544f  g, optional): TO
+0000bb40: 444f 3a20 7479 7065 2064 6573 6372 6970  DO: type descrip
+0000bb50: 7469 6f6e 2068 6572 652e 0d0a 2020 2020  tion here...    
+0000bb60: 2020 2020 2020 2020 2020 2020 4578 616d              Exam
+0000bb70: 706c 653a 200d 0a0d 0a20 2020 2020 2020  ple: ....       
+0000bb80: 2052 6574 7572 6e73 3a0d 0a20 2020 2020   Returns:..     
+0000bb90: 2020 2020 2020 2047 6574 5375 6273 6372         GetSubscr
+0000bba0: 6970 7469 6f6e 5265 7370 6f6e 7365 3a20  iptionResponse: 
+0000bbb0: 5265 7370 6f6e 7365 2066 726f 6d20 7468  Response from th
+0000bbc0: 6520 4150 492e 200d 0a0d 0a20 2020 2020  e API. ....     
+0000bbd0: 2020 2052 6169 7365 733a 0d0a 2020 2020     Raises:..    
+0000bbe0: 2020 2020 2020 2020 4150 4945 7863 6570          APIExcep
+0000bbf0: 7469 6f6e 3a20 5768 656e 2061 6e20 6572  tion: When an er
+0000bc00: 726f 7220 6f63 6375 7273 2077 6869 6c65  ror occurs while
+0000bc10: 2066 6574 6368 696e 6720 7468 6520 6461   fetching the da
+0000bc20: 7461 2066 726f 6d0d 0a20 2020 2020 2020  ta from..       
+0000bc30: 2020 2020 2020 2020 2074 6865 2072 656d           the rem
+0000bc40: 6f74 6520 4150 492e 2054 6869 7320 6578  ote API. This ex
+0000bc50: 6365 7074 696f 6e20 696e 636c 7564 6573  ception includes
+0000bc60: 2074 6865 2048 5454 5020 5265 7370 6f6e   the HTTP Respon
+0000bc70: 7365 0d0a 2020 2020 2020 2020 2020 2020  se..            
+0000bc80: 2020 2020 636f 6465 2c20 616e 2065 7272      code, an err
+0000bc90: 6f72 206d 6573 7361 6765 2c20 616e 6420  or message, and 
+0000bca0: 7468 6520 4854 5450 2062 6f64 7920 7468  the HTTP body th
+0000bcb0: 6174 2077 6173 2072 6563 6569 7665 6420  at was received 
+0000bcc0: 696e 0d0a 2020 2020 2020 2020 2020 2020  in..            
+0000bcd0: 2020 2020 7468 6520 7265 7175 6573 742e      the request.
+0000bce0: 0d0a 0d0a 2020 2020 2020 2020 2222 220d  ....        """.
+0000bcf0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+0000bd00: 7061 7265 2071 7565 7279 2055 524c 0d0a  pare query URL..
+0000bd10: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
+0000bd20: 6820 3d20 272f 7375 6273 6372 6970 7469  h = '/subscripti
+0000bd30: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
+0000bd40: 6e5f 6964 7d2f 7065 7269 6f64 732f 6c61  n_id}/periods/la
+0000bd50: 7465 7374 2f65 6e64 2d61 7427 0d0a 2020  test/end-at'..  
+0000bd60: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
+0000bd70: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
+0000bd80: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
+0000bd90: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
+0000bda0: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
+0000bdb0: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
+0000bdc0: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
+0000bdd0: 6273 6372 6970 7469 6f6e 5f69 640d 0a20  bscription_id.. 
+0000bde0: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
+0000bdf0: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
+0000be00: 7220 3d20 436f 6e66 6967 7572 6174 696f  r = Configuratio
+0000be10: 6e2e 6261 7365 5f75 7269 0d0a 2020 2020  n.base_uri..    
+0000be20: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+0000be30: 6572 202b 3d20 5f75 726c 5f70 6174 680d  er += _url_path.
+0000be40: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+0000be50: 7572 6c20 3d20 4150 4948 656c 7065 722e  url = APIHelper.
+0000be60: 636c 6561 6e5f 7572 6c28 5f71 7565 7279  clean_url(_query
+0000be70: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
+0000be80: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
+0000be90: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
+0000bea0: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
+0000beb0: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
+0000bec0: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
+0000bed0: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
+0000bee0: 2020 2020 2027 5365 7276 6963 6552 6566       'ServiceRef
+0000bef0: 6572 6572 4e61 6d65 273a 2043 6f6e 6669  ererName': Confi
+0000bf00: 6775 7261 7469 6f6e 2e73 6572 7669 6365  guration.service
+0000bf10: 5f72 6566 6572 6572 5f6e 616d 652c 0d0a  _referer_name,..
+0000bf20: 2020 2020 2020 2020 2020 2020 2743 6f6e              'Con
+0000bf30: 7465 6e74 2d54 7970 6527 3a20 2761 7070  tent-Type': 'app
+0000bf40: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+0000bf50: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
+0000bf60: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
+0000bf70: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
+0000bf80: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
+0000bf90: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+0000bfa0: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
+0000bfb0: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
+0000bfc0: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
+0000bfd0: 705f 636c 6965 6e74 2e70 6174 6368 285f  p_client.patch(_
+0000bfe0: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
+0000bff0: 7273 3d5f 6865 6164 6572 732c 2070 6172  rs=_headers, par
+0000c000: 616d 6574 6572 733d 4150 4948 656c 7065  ameters=APIHelpe
+0000c010: 722e 6a73 6f6e 5f73 6572 6961 6c69 7a65  r.json_serialize
+0000c020: 2862 6f64 7929 290d 0a20 2020 2020 2020  (body))..       
+0000c030: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
+0000c040: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
+0000c050: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
+0000c060: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
+0000c070: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
+0000c080: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
+0000c090: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
+0000c0a0: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
+0000c0b0: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
+0000c0c0: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
+0000c0d0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+0000c0e0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+0000c0f0: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
+0000c100: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+0000c110: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+0000c120: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
+0000c130: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+0000c140: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+0000c150: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+0000c160: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
+0000c170: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+0000c180: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+0000c190: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
+0000c1a0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+0000c1b0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+0000c1c0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+0000c1d0: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
+0000c1e0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000c1f0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+0000c200: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
+0000c210: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
+0000c220: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
+0000c230: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+0000c240: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+0000c250: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+0000c260: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
+0000c270: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+0000c280: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
+0000c290: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
+0000c2a0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+0000c2b0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+0000c2c0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+0000c2d0: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
+0000c2e0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+0000c2f0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+0000c300: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
+0000c310: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+0000c320: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+0000c330: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+0000c340: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+0000c350: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
+0000c360: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000c370: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+0000c380: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
+0000c390: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
+0000c3a0: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
+0000c3b0: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
+0000c3c0: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
+0000c3d0: 0a20 2020 2020 2020 2023 2052 6574 7572  .        # Retur
+0000c3e0: 6e20 6170 7072 6f70 7269 6174 6520 7479  n appropriate ty
+0000c3f0: 7065 0d0a 2020 2020 2020 2020 7265 7475  pe..        retu
+0000c400: 726e 2041 5049 4865 6c70 6572 2e6a 736f  rn APIHelper.jso
+0000c410: 6e5f 6465 7365 7269 616c 697a 6528 5f63  n_deserialize(_c
+0000c420: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+0000c430: 7261 775f 626f 6479 2c20 4765 7453 7562  raw_body, GetSub
+0000c440: 7363 7269 7074 696f 6e52 6573 706f 6e73  scriptionRespons
+0000c450: 652e 6672 6f6d 5f64 6963 7469 6f6e 6172  e.from_dictionar
+0000c460: 7929 0d0a 0d0a 2020 2020 6465 6620 6372  y)....    def cr
+0000c470: 6561 7465 5f64 6973 636f 756e 7428 7365  eate_discount(se
+0000c480: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
+0000c490: 2020 2020 2020 2020 2020 2020 2073 7562               sub
+0000c4a0: 7363 7269 7074 696f 6e5f 6964 2c0d 0a20  scription_id,.. 
+0000c4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c4c0: 2020 2020 2020 2062 6f64 792c 0d0a 2020         body,..  
+0000c4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c4e0: 2020 2020 2020 6964 656d 706f 7465 6e63        idempotenc
+0000c4f0: 795f 6b65 793d 4e6f 6e65 293a 0d0a 2020  y_key=None):..  
+0000c500: 2020 2020 2020 2222 2244 6f65 7320 6120        """Does a 
+0000c510: 504f 5354 2072 6571 7565 7374 2074 6f20  POST request to 
+0000c520: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
+0000c530: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
+0000c540: 2f64 6973 636f 756e 7473 2e0d 0a0d 0a20  /discounts..... 
+0000c550: 2020 2020 2020 2043 7265 6174 6573 2061         Creates a
+0000c560: 2064 6973 636f 756e 740d 0a0d 0a20 2020   discount....   
+0000c570: 2020 2020 2041 7267 733a 0d0a 2020 2020       Args:..    
+0000c580: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+0000c590: 7469 6f6e 5f69 6420 2873 7472 696e 6729  tion_id (string)
+0000c5a0: 3a20 5375 6273 6372 6970 7469 6f6e 2069  : Subscription i
+0000c5b0: 640d 0a20 2020 2020 2020 2020 2020 2062  d..            b
+0000c5c0: 6f64 7920 2843 7265 6174 6544 6973 636f  ody (CreateDisco
+0000c5d0: 756e 7452 6571 7565 7374 293a 2052 6571  untRequest): Req
+0000c5e0: 7565 7374 2066 6f72 2063 7265 6174 696e  uest for creatin
+0000c5f0: 6720 6120 6469 7363 6f75 6e74 0d0a 2020  g a discount..  
+0000c600: 2020 2020 2020 2020 2020 6964 656d 706f            idempo
+0000c610: 7465 6e63 795f 6b65 7920 2873 7472 696e  tency_key (strin
+0000c620: 672c 206f 7074 696f 6e61 6c29 3a20 544f  g, optional): TO
+0000c630: 444f 3a20 7479 7065 2064 6573 6372 6970  DO: type descrip
+0000c640: 7469 6f6e 2068 6572 652e 0d0a 2020 2020  tion here...    
+0000c650: 2020 2020 2020 2020 2020 2020 4578 616d              Exam
+0000c660: 706c 653a 200d 0a0d 0a20 2020 2020 2020  ple: ....       
+0000c670: 2052 6574 7572 6e73 3a0d 0a20 2020 2020   Returns:..     
+0000c680: 2020 2020 2020 2047 6574 4469 7363 6f75         GetDiscou
+0000c690: 6e74 5265 7370 6f6e 7365 3a20 5265 7370  ntResponse: Resp
+0000c6a0: 6f6e 7365 2066 726f 6d20 7468 6520 4150  onse from the AP
+0000c6b0: 492e 200d 0a0d 0a20 2020 2020 2020 2052  I. ....        R
+0000c6c0: 6169 7365 733a 0d0a 2020 2020 2020 2020  aises:..        
+0000c6d0: 2020 2020 4150 4945 7863 6570 7469 6f6e      APIException
+0000c6e0: 3a20 5768 656e 2061 6e20 6572 726f 7220  : When an error 
+0000c6f0: 6f63 6375 7273 2077 6869 6c65 2066 6574  occurs while fet
+0000c700: 6368 696e 6720 7468 6520 6461 7461 2066  ching the data f
+0000c710: 726f 6d0d 0a20 2020 2020 2020 2020 2020  rom..           
+0000c720: 2020 2020 2074 6865 2072 656d 6f74 6520       the remote 
+0000c730: 4150 492e 2054 6869 7320 6578 6365 7074  API. This except
+0000c740: 696f 6e20 696e 636c 7564 6573 2074 6865  ion includes the
+0000c750: 2048 5454 5020 5265 7370 6f6e 7365 0d0a   HTTP Response..
+0000c760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c770: 636f 6465 2c20 616e 2065 7272 6f72 206d  code, an error m
+0000c780: 6573 7361 6765 2c20 616e 6420 7468 6520  essage, and the 
+0000c790: 4854 5450 2062 6f64 7920 7468 6174 2077  HTTP body that w
+0000c7a0: 6173 2072 6563 6569 7665 6420 696e 0d0a  as received in..
+0000c7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c7c0: 7468 6520 7265 7175 6573 742e 0d0a 0d0a  the request.....
+0000c7d0: 2020 2020 2020 2020 2222 220d 0a0d 0a20          """.... 
+0000c7e0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+0000c7f0: 2071 7565 7279 2055 524c 0d0a 2020 2020   query URL..    
+0000c800: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
+0000c810: 272f 7375 6273 6372 6970 7469 6f6e 732f  '/subscriptions/
+0000c820: 7b73 7562 7363 7269 7074 696f 6e5f 6964  {subscription_id
+0000c830: 7d2f 6469 7363 6f75 6e74 7327 0d0a 2020  }/discounts'..  
+0000c840: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
+0000c850: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
+0000c860: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
+0000c870: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
+0000c880: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
+0000c890: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
+0000c8a0: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
+0000c8b0: 6273 6372 6970 7469 6f6e 5f69 640d 0a20  bscription_id.. 
+0000c8c0: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
+0000c8d0: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
+0000c8e0: 7220 3d20 436f 6e66 6967 7572 6174 696f  r = Configuratio
+0000c8f0: 6e2e 6261 7365 5f75 7269 0d0a 2020 2020  n.base_uri..    
+0000c900: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+0000c910: 6572 202b 3d20 5f75 726c 5f70 6174 680d  er += _url_path.
+0000c920: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+0000c930: 7572 6c20 3d20 4150 4948 656c 7065 722e  url = APIHelper.
+0000c940: 636c 6561 6e5f 7572 6c28 5f71 7565 7279  clean_url(_query
+0000c950: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
+0000c960: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
+0000c970: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
+0000c980: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
+0000c990: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
+0000c9a0: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
+0000c9b0: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
+0000c9c0: 2020 2020 2027 5365 7276 6963 6552 6566       'ServiceRef
+0000c9d0: 6572 6572 4e61 6d65 273a 2043 6f6e 6669  ererName': Confi
+0000c9e0: 6775 7261 7469 6f6e 2e73 6572 7669 6365  guration.service
+0000c9f0: 5f72 6566 6572 6572 5f6e 616d 652c 0d0a  _referer_name,..
+0000ca00: 2020 2020 2020 2020 2020 2020 2743 6f6e              'Con
+0000ca10: 7465 6e74 2d54 7970 6527 3a20 2761 7070  tent-Type': 'app
+0000ca20: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+0000ca30: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
+0000ca40: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
+0000ca50: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
+0000ca60: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
+0000ca70: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+0000ca80: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
+0000ca90: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
+0000caa0: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
+0000cab0: 705f 636c 6965 6e74 2e70 6f73 7428 5f71  p_client.post(_q
+0000cac0: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
+0000cad0: 733d 5f68 6561 6465 7273 2c20 7061 7261  s=_headers, para
+0000cae0: 6d65 7465 7273 3d41 5049 4865 6c70 6572  meters=APIHelper
+0000caf0: 2e6a 736f 6e5f 7365 7269 616c 697a 6528  .json_serialize(
+0000cb00: 626f 6479 2929 0d0a 2020 2020 2020 2020  body))..        
+0000cb10: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
+0000cb20: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
+0000cb30: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
+0000cb40: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
+0000cb50: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
+0000cb60: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
+0000cb70: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
+0000cb80: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
+0000cb90: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
+0000cba0: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
+0000cbb0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+0000cbc0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+0000cbd0: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
+0000cbe0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+0000cbf0: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+0000cc00: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
+0000cc10: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+0000cc20: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+0000cc30: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+0000cc40: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
+0000cc50: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+0000cc60: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+0000cc70: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
+0000cc80: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000cc90: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000cca0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000ccb0: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
+0000ccc0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000ccd0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000cce0: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
+0000ccf0: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
+0000cd00: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
+0000cd10: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+0000cd20: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+0000cd30: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+0000cd40: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
+0000cd50: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+0000cd60: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
+0000cd70: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+0000cd80: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+0000cd90: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+0000cda0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+0000cdb0: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
+0000cdc0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+0000cdd0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+0000cde0: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
+0000cdf0: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+0000ce00: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000ce10: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000ce20: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000ce30: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
+0000ce40: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000ce50: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000ce60: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
+0000ce70: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+0000ce80: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
+0000ce90: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
+0000cea0: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
+0000ceb0: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
+0000cec0: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
+0000ced0: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
+0000cee0: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
+0000cef0: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
+0000cf00: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
+0000cf10: 6177 5f62 6f64 792c 2047 6574 4469 7363  aw_body, GetDisc
+0000cf20: 6f75 6e74 5265 7370 6f6e 7365 2e66 726f  ountResponse.fro
+0000cf30: 6d5f 6469 6374 696f 6e61 7279 290d 0a0d  m_dictionary)...
+0000cf40: 0a20 2020 2064 6566 2064 656c 6574 655f  .    def delete_
+0000cf50: 7573 6167 6528 7365 6c66 2c0d 0a20 2020  usage(self,..   
+0000cf60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cf70: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
+0000cf80: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
+0000cf90: 2020 2020 2020 2020 2069 7465 6d5f 6964           item_id
+0000cfa0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000cfb0: 2020 2020 2020 2020 7573 6167 655f 6964          usage_id
+0000cfc0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000cfd0: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+0000cfe0: 6e63 795f 6b65 793d 4e6f 6e65 293a 0d0a  ncy_key=None):..
+0000cff0: 2020 2020 2020 2020 2222 2244 6f65 7320          """Does 
+0000d000: 6120 4445 4c45 5445 2072 6571 7565 7374  a DELETE request
+0000d010: 2074 6f20 2f73 7562 7363 7269 7074 696f   to /subscriptio
+0000d020: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
+0000d030: 5f69 647d 2f69 7465 6d73 2f7b 6974 656d  _id}/items/{item
+0000d040: 5f69 647d 2f75 7361 6765 732f 7b75 7361  _id}/usages/{usa
+0000d050: 6765 5f69 647d 2e0d 0a0d 0a20 2020 2020  ge_id}.....     
+0000d060: 2020 2044 656c 6574 6573 2061 2075 7361     Deletes a usa
+0000d070: 6765 0d0a 0d0a 2020 2020 2020 2020 4172  ge....        Ar
+0000d080: 6773 3a0d 0a20 2020 2020 2020 2020 2020  gs:..           
+0000d090: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+0000d0a0: 2028 7374 7269 6e67 293a 2054 6865 2073   (string): The s
+0000d0b0: 7562 7363 7269 7074 696f 6e20 6964 0d0a  ubscription id..
+0000d0c0: 2020 2020 2020 2020 2020 2020 6974 656d              item
+0000d0d0: 5f69 6420 2873 7472 696e 6729 3a20 5468  _id (string): Th
+0000d0e0: 6520 7375 6273 6372 6970 7469 6f6e 2069  e subscription i
+0000d0f0: 7465 6d20 6964 0d0a 2020 2020 2020 2020  tem id..        
+0000d100: 2020 2020 7573 6167 655f 6964 2028 7374      usage_id (st
+0000d110: 7269 6e67 293a 2054 6865 2075 7361 6765  ring): The usage
+0000d120: 2069 640d 0a20 2020 2020 2020 2020 2020   id..           
+0000d130: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
+0000d140: 2028 7374 7269 6e67 2c20 6f70 7469 6f6e   (string, option
+0000d150: 616c 293a 2054 4f44 4f3a 2074 7970 6520  al): TODO: type 
+0000d160: 6465 7363 7269 7074 696f 6e20 6865 7265  description here
+0000d170: 2e0d 0a20 2020 2020 2020 2020 2020 2020  ...             
+0000d180: 2020 2045 7861 6d70 6c65 3a20 0d0a 0d0a     Example: ....
+0000d190: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+0000d1a0: 0d0a 2020 2020 2020 2020 2020 2020 4765  ..            Ge
+0000d1b0: 7455 7361 6765 5265 7370 6f6e 7365 3a20  tUsageResponse: 
+0000d1c0: 5265 7370 6f6e 7365 2066 726f 6d20 7468  Response from th
+0000d1d0: 6520 4150 492e 200d 0a0d 0a20 2020 2020  e API. ....     
+0000d1e0: 2020 2052 6169 7365 733a 0d0a 2020 2020     Raises:..    
+0000d1f0: 2020 2020 2020 2020 4150 4945 7863 6570          APIExcep
+0000d200: 7469 6f6e 3a20 5768 656e 2061 6e20 6572  tion: When an er
+0000d210: 726f 7220 6f63 6375 7273 2077 6869 6c65  ror occurs while
+0000d220: 2066 6574 6368 696e 6720 7468 6520 6461   fetching the da
+0000d230: 7461 2066 726f 6d0d 0a20 2020 2020 2020  ta from..       
+0000d240: 2020 2020 2020 2020 2074 6865 2072 656d           the rem
+0000d250: 6f74 6520 4150 492e 2054 6869 7320 6578  ote API. This ex
+0000d260: 6365 7074 696f 6e20 696e 636c 7564 6573  ception includes
+0000d270: 2074 6865 2048 5454 5020 5265 7370 6f6e   the HTTP Respon
+0000d280: 7365 0d0a 2020 2020 2020 2020 2020 2020  se..            
+0000d290: 2020 2020 636f 6465 2c20 616e 2065 7272      code, an err
+0000d2a0: 6f72 206d 6573 7361 6765 2c20 616e 6420  or message, and 
+0000d2b0: 7468 6520 4854 5450 2062 6f64 7920 7468  the HTTP body th
+0000d2c0: 6174 2077 6173 2072 6563 6569 7665 6420  at was received 
+0000d2d0: 696e 0d0a 2020 2020 2020 2020 2020 2020  in..            
+0000d2e0: 2020 2020 7468 6520 7265 7175 6573 742e      the request.
+0000d2f0: 0d0a 0d0a 2020 2020 2020 2020 2222 220d  ....        """.
+0000d300: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+0000d310: 7061 7265 2071 7565 7279 2055 524c 0d0a  pare query URL..
+0000d320: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
+0000d330: 6820 3d20 272f 7375 6273 6372 6970 7469  h = '/subscripti
+0000d340: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
+0000d350: 6e5f 6964 7d2f 6974 656d 732f 7b69 7465  n_id}/items/{ite
+0000d360: 6d5f 6964 7d2f 7573 6167 6573 2f7b 7573  m_id}/usages/{us
+0000d370: 6167 655f 6964 7d27 0d0a 2020 2020 2020  age_id}'..      
+0000d380: 2020 5f75 726c 5f70 6174 6820 3d20 4150    _url_path = AP
+0000d390: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
+0000d3a0: 726c 5f77 6974 685f 7465 6d70 6c61 7465  rl_with_template
+0000d3b0: 5f70 6172 616d 6574 6572 7328 5f75 726c  _parameters(_url
+0000d3c0: 5f70 6174 682c 207b 200d 0a20 2020 2020  _path, { ..     
+0000d3d0: 2020 2020 2020 2027 7375 6273 6372 6970         'subscrip
+0000d3e0: 7469 6f6e 5f69 6427 3a20 7375 6273 6372  tion_id': subscr
+0000d3f0: 6970 7469 6f6e 5f69 642c 0d0a 2020 2020  iption_id,..    
+0000d400: 2020 2020 2020 2020 2769 7465 6d5f 6964          'item_id
+0000d410: 273a 2069 7465 6d5f 6964 2c0d 0a20 2020  ': item_id,..   
+0000d420: 2020 2020 2020 2020 2027 7573 6167 655f           'usage_
+0000d430: 6964 273a 2075 7361 6765 5f69 640d 0a20  id': usage_id.. 
+0000d440: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
+0000d450: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
+0000d460: 7220 3d20 436f 6e66 6967 7572 6174 696f  r = Configuratio
+0000d470: 6e2e 6261 7365 5f75 7269 0d0a 2020 2020  n.base_uri..    
+0000d480: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+0000d490: 6572 202b 3d20 5f75 726c 5f70 6174 680d  er += _url_path.
+0000d4a0: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+0000d4b0: 7572 6c20 3d20 4150 4948 656c 7065 722e  url = APIHelper.
+0000d4c0: 636c 6561 6e5f 7572 6c28 5f71 7565 7279  clean_url(_query
+0000d4d0: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
+0000d4e0: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
+0000d4f0: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
+0000d500: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
+0000d510: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
+0000d520: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
+0000d530: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
+0000d540: 2020 2020 2027 5365 7276 6963 6552 6566       'ServiceRef
+0000d550: 6572 6572 4e61 6d65 273a 2043 6f6e 6669  ererName': Confi
+0000d560: 6775 7261 7469 6f6e 2e73 6572 7669 6365  guration.service
+0000d570: 5f72 6566 6572 6572 5f6e 616d 652c 0d0a  _referer_name,..
+0000d580: 2020 2020 2020 2020 2020 2020 2769 6465              'ide
+0000d590: 6d70 6f74 656e 6379 2d6b 6579 273a 2069  mpotency-key': i
+0000d5a0: 6465 6d70 6f74 656e 6379 5f6b 6579 0d0a  dempotency_key..
+0000d5b0: 2020 2020 2020 2020 7d0d 0a0d 0a20 2020          }....   
+0000d5c0: 2020 2020 2023 2050 7265 7061 7265 2061       # Prepare a
+0000d5d0: 6e64 2065 7865 6375 7465 2072 6571 7565  nd execute reque
+0000d5e0: 7374 0d0a 2020 2020 2020 2020 5f72 6571  st..        _req
+0000d5f0: 7565 7374 203d 2073 656c 662e 6874 7470  uest = self.http
+0000d600: 5f63 6c69 656e 742e 6465 6c65 7465 285f  _client.delete(_
+0000d610: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
+0000d620: 7273 3d5f 6865 6164 6572 7329 0d0a 2020  rs=_headers)..  
+0000d630: 2020 2020 2020 4261 7369 6341 7574 682e        BasicAuth.
+0000d640: 6170 706c 7928 5f72 6571 7565 7374 290d  apply(_request).
+0000d650: 0a20 2020 2020 2020 205f 636f 6e74 6578  .        _contex
+0000d660: 7420 3d20 7365 6c66 2e65 7865 6375 7465  t = self.execute
+0000d670: 5f72 6571 7565 7374 285f 7265 7175 6573  _request(_reques
+0000d680: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
+0000d690: 456e 6470 6f69 6e74 2061 6e64 2067 6c6f  Endpoint and glo
+0000d6a0: 6261 6c20 6572 726f 7220 6861 6e64 6c69  bal error handli
+0000d6b0: 6e67 2075 7369 6e67 2048 5454 5020 7374  ng using HTTP st
+0000d6c0: 6174 7573 2063 6f64 6573 2e0d 0a20 2020  atus codes...   
+0000d6d0: 2020 2020 2069 6620 5f63 6f6e 7465 7874       if _context
+0000d6e0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000d6f0: 5f63 6f64 6520 3d3d 2034 3030 3a0d 0a20  _code == 400:.. 
+0000d700: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000d710: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000d720: 2749 6e76 616c 6964 2072 6571 7565 7374  'Invalid request
+0000d730: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+0000d740: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+0000d750: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+0000d760: 7475 735f 636f 6465 203d 3d20 3430 313a  tus_code == 401:
+0000d770: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+0000d780: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+0000d790: 6f6e 2827 496e 7661 6c69 6420 4150 4920  on('Invalid API 
+0000d7a0: 6b65 7927 2c20 5f63 6f6e 7465 7874 290d  key', _context).
+0000d7b0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+0000d7c0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+0000d7d0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+0000d7e0: 3034 3a0d 0a20 2020 2020 2020 2020 2020  04:..           
+0000d7f0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+0000d800: 7074 696f 6e28 2741 6e20 696e 666f 726d  ption('An inform
+0000d810: 6564 2072 6573 6f75 7263 6520 7761 7320  ed resource was 
+0000d820: 6e6f 7420 666f 756e 6427 2c20 5f63 6f6e  not found', _con
+0000d830: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+0000d840: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+0000d850: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+0000d860: 6520 3d3d 2034 3132 3a0d 0a20 2020 2020  e == 412:..     
+0000d870: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+0000d880: 6f72 4578 6365 7074 696f 6e28 2742 7573  orException('Bus
+0000d890: 696e 6573 7320 7661 6c69 6461 7469 6f6e  iness validation
+0000d8a0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+0000d8b0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+0000d8c0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+0000d8d0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+0000d8e0: 3d20 3432 323a 0d0a 2020 2020 2020 2020  = 422:..        
+0000d8f0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+0000d900: 7863 6570 7469 6f6e 2827 436f 6e74 7261  xception('Contra
+0000d910: 6374 2076 616c 6964 6174 696f 6e20 6572  ct validation er
+0000d920: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
+0000d930: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+0000d940: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+0000d950: 7374 6174 7573 5f63 6f64 6520 3d3d 2035  status_code == 5
+0000d960: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
+0000d970: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+0000d980: 7074 696f 6e28 2749 6e74 6572 6e61 6c20  ption('Internal 
+0000d990: 7365 7276 6572 2065 7272 6f72 272c 205f  server error', _
+0000d9a0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+0000d9b0: 2020 7365 6c66 2e76 616c 6964 6174 655f    self.validate_
+0000d9c0: 7265 7370 6f6e 7365 285f 636f 6e74 6578  response(_contex
+0000d9d0: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
+0000d9e0: 5265 7475 726e 2061 7070 726f 7072 6961  Return appropria
+0000d9f0: 7465 2074 7970 650d 0a20 2020 2020 2020  te type..       
+0000da00: 2072 6574 7572 6e20 4150 4948 656c 7065   return APIHelpe
+0000da10: 722e 6a73 6f6e 5f64 6573 6572 6961 6c69  r.json_deseriali
+0000da20: 7a65 285f 636f 6e74 6578 742e 7265 7370  ze(_context.resp
+0000da30: 6f6e 7365 2e72 6177 5f62 6f64 792c 2047  onse.raw_body, G
+0000da40: 6574 5573 6167 6552 6573 706f 6e73 652e  etUsageResponse.
+0000da50: 6672 6f6d 5f64 6963 7469 6f6e 6172 7929  from_dictionary)
+0000da60: 0d0a 0d0a 2020 2020 6465 6620 6765 745f  ....    def get_
+0000da70: 7573 6167 6573 2873 656c 662c 0d0a 2020  usages(self,..  
+0000da80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000da90: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+0000daa0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000dab0: 2020 2020 2020 6974 656d 5f69 642c 0d0a        item_id,..
+0000dac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dad0: 2020 2070 6167 653d 4e6f 6e65 2c0d 0a20     page=None,.. 
+0000dae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000daf0: 2020 7369 7a65 3d4e 6f6e 652c 0d0a 2020    size=None,..  
+0000db00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000db10: 2063 6f64 653d 4e6f 6e65 2c0d 0a20 2020   code=None,..   
+0000db20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000db30: 6772 6f75 703d 4e6f 6e65 2c0d 0a20 2020  group=None,..   
+0000db40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000db50: 7573 6564 5f73 696e 6365 3d4e 6f6e 652c  used_since=None,
+0000db60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000db70: 2020 2020 2075 7365 645f 756e 7469 6c3d       used_until=
+0000db80: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
+0000db90: 2222 2244 6f65 7320 6120 4745 5420 7265  """Does a GET re
+0000dba0: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
+0000dbb0: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+0000dbc0: 7074 696f 6e5f 6964 7d2f 6974 656d 732f  ption_id}/items/
+0000dbd0: 7b69 7465 6d5f 6964 7d2f 7573 6167 6573  {item_id}/usages
+0000dbe0: 2e0d 0a0d 0a20 2020 2020 2020 204c 6973  .....        Lis
+0000dbf0: 7473 2061 6c6c 2075 7361 6765 7320 6672  ts all usages fr
+0000dc00: 6f6d 2061 2073 7562 7363 7269 7074 696f  om a subscriptio
+0000dc10: 6e20 6974 656d 0d0a 0d0a 2020 2020 2020  n item....      
+0000dc20: 2020 4172 6773 3a0d 0a20 2020 2020 2020    Args:..       
+0000dc30: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
+0000dc40: 6e5f 6964 2028 7374 7269 6e67 293a 2054  n_id (string): T
+0000dc50: 6865 2073 7562 7363 7269 7074 696f 6e20  he subscription 
+0000dc60: 6964 0d0a 2020 2020 2020 2020 2020 2020  id..            
+0000dc70: 6974 656d 5f69 6420 2873 7472 696e 6729  item_id (string)
+0000dc80: 3a20 5468 6520 7375 6273 6372 6970 7469  : The subscripti
+0000dc90: 6f6e 2069 7465 6d20 6964 0d0a 2020 2020  on item id..    
+0000dca0: 2020 2020 2020 2020 7061 6765 2028 696e          page (in
+0000dcb0: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
+0000dcc0: 6765 206e 756d 6265 720d 0a20 2020 2020  ge number..     
+0000dcd0: 2020 2020 2020 2073 697a 6520 2869 6e74         size (int
+0000dce0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+0000dcf0: 6520 7369 7a65 0d0a 2020 2020 2020 2020  e size..        
+0000dd00: 2020 2020 636f 6465 2028 7374 7269 6e67      code (string
+0000dd10: 2c20 6f70 7469 6f6e 616c 293a 2049 6465  , optional): Ide
+0000dd20: 6e74 6966 6963 6174 696f 6e20 636f 6465  ntification code
+0000dd30: 2069 6e20 7468 6520 636c 6965 6e74 2073   in the client s
+0000dd40: 7973 7465 6d0d 0a20 2020 2020 2020 2020  ystem..         
+0000dd50: 2020 2067 726f 7570 2028 7374 7269 6e67     group (string
+0000dd60: 2c20 6f70 7469 6f6e 616c 293a 2049 6465  , optional): Ide
+0000dd70: 6e74 6966 6963 6174 696f 6e20 6772 6f75  ntification grou
+0000dd80: 7020 696e 2074 6865 2063 6c69 656e 740d  p in the client.
+0000dd90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000dda0: 2073 7973 7465 6d0d 0a20 2020 2020 2020   system..       
+0000ddb0: 2020 2020 2075 7365 645f 7369 6e63 6520       used_since 
+0000ddc0: 2864 6174 6574 696d 652c 206f 7074 696f  (datetime, optio
+0000ddd0: 6e61 6c29 3a20 544f 444f 3a20 7479 7065  nal): TODO: type
+0000dde0: 2064 6573 6372 6970 7469 6f6e 2068 6572   description her
+0000ddf0: 652e 0d0a 2020 2020 2020 2020 2020 2020  e...            
+0000de00: 2020 2020 4578 616d 706c 653a 200d 0a20      Example: .. 
+0000de10: 2020 2020 2020 2020 2020 2075 7365 645f             used_
+0000de20: 756e 7469 6c20 2864 6174 6574 696d 652c  until (datetime,
+0000de30: 206f 7074 696f 6e61 6c29 3a20 544f 444f   optional): TODO
+0000de40: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
+0000de50: 6f6e 2068 6572 652e 0d0a 2020 2020 2020  on here...      
+0000de60: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
+0000de70: 653a 200d 0a0d 0a20 2020 2020 2020 2052  e: ....        R
+0000de80: 6574 7572 6e73 3a0d 0a20 2020 2020 2020  eturns:..       
+0000de90: 2020 2020 204c 6973 7455 7361 6765 7352       ListUsagesR
+0000dea0: 6573 706f 6e73 653a 2052 6573 706f 6e73  esponse: Respons
+0000deb0: 6520 6672 6f6d 2074 6865 2041 5049 2e20  e from the API. 
+0000dec0: 0d0a 0d0a 2020 2020 2020 2020 5261 6973  ....        Rais
+0000ded0: 6573 3a0d 0a20 2020 2020 2020 2020 2020  es:..           
+0000dee0: 2041 5049 4578 6365 7074 696f 6e3a 2057   APIException: W
+0000def0: 6865 6e20 616e 2065 7272 6f72 206f 6363  hen an error occ
+0000df00: 7572 7320 7768 696c 6520 6665 7463 6869  urs while fetchi
+0000df10: 6e67 2074 6865 2064 6174 6120 6672 6f6d  ng the data from
+0000df20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000df30: 2020 7468 6520 7265 6d6f 7465 2041 5049    the remote API
+0000df40: 2e20 5468 6973 2065 7863 6570 7469 6f6e  . This exception
+0000df50: 2069 6e63 6c75 6465 7320 7468 6520 4854   includes the HT
+0000df60: 5450 2052 6573 706f 6e73 650d 0a20 2020  TP Response..   
+0000df70: 2020 2020 2020 2020 2020 2020 2063 6f64               cod
+0000df80: 652c 2061 6e20 6572 726f 7220 6d65 7373  e, an error mess
+0000df90: 6167 652c 2061 6e64 2074 6865 2048 5454  age, and the HTT
+0000dfa0: 5020 626f 6479 2074 6861 7420 7761 7320  P body that was 
+0000dfb0: 7265 6365 6976 6564 2069 6e0d 0a20 2020  received in..   
+0000dfc0: 2020 2020 2020 2020 2020 2020 2074 6865               the
+0000dfd0: 2072 6571 7565 7374 2e0d 0a0d 0a20 2020   request.....   
+0000dfe0: 2020 2020 2022 2222 0d0a 0d0a 2020 2020       """....    
+0000dff0: 2020 2020 2320 5072 6570 6172 6520 7175      # Prepare qu
+0000e000: 6572 7920 5552 4c0d 0a20 2020 2020 2020  ery URL..       
+0000e010: 205f 7572 6c5f 7061 7468 203d 2027 2f73   _url_path = '/s
+0000e020: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
+0000e030: 6273 6372 6970 7469 6f6e 5f69 647d 2f69  bscription_id}/i
+0000e040: 7465 6d73 2f7b 6974 656d 5f69 647d 2f75  tems/{item_id}/u
+0000e050: 7361 6765 7327 0d0a 2020 2020 2020 2020  sages'..        
+0000e060: 5f75 726c 5f70 6174 6820 3d20 4150 4948  _url_path = APIH
+0000e070: 656c 7065 722e 6170 7065 6e64 5f75 726c  elper.append_url
+0000e080: 5f77 6974 685f 7465 6d70 6c61 7465 5f70  _with_template_p
+0000e090: 6172 616d 6574 6572 7328 5f75 726c 5f70  arameters(_url_p
+0000e0a0: 6174 682c 207b 200d 0a20 2020 2020 2020  ath, { ..       
+0000e0b0: 2020 2020 2027 7375 6273 6372 6970 7469       'subscripti
+0000e0c0: 6f6e 5f69 6427 3a20 7375 6273 6372 6970  on_id': subscrip
+0000e0d0: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
+0000e0e0: 2020 2020 2020 2769 7465 6d5f 6964 273a        'item_id':
+0000e0f0: 2069 7465 6d5f 6964 0d0a 2020 2020 2020   item_id..      
+0000e100: 2020 7d29 0d0a 2020 2020 2020 2020 5f71    })..        _q
+0000e110: 7565 7279 5f62 7569 6c64 6572 203d 2043  uery_builder = C
+0000e120: 6f6e 6669 6775 7261 7469 6f6e 2e62 6173  onfiguration.bas
+0000e130: 655f 7572 690d 0a20 2020 2020 2020 205f  e_uri..        _
+0000e140: 7175 6572 795f 6275 696c 6465 7220 2b3d  query_builder +=
+0000e150: 205f 7572 6c5f 7061 7468 0d0a 2020 2020   _url_path..    
+0000e160: 2020 2020 5f71 7565 7279 5f70 6172 616d      _query_param
+0000e170: 6574 6572 7320 3d20 7b0d 0a20 2020 2020  eters = {..     
+0000e180: 2020 2020 2020 2027 7061 6765 273a 2070         'page': p
+0000e190: 6167 652c 0d0a 2020 2020 2020 2020 2020  age,..          
+0000e1a0: 2020 2773 697a 6527 3a20 7369 7a65 2c0d    'size': size,.
+0000e1b0: 0a20 2020 2020 2020 2020 2020 2027 636f  .            'co
+0000e1c0: 6465 273a 2063 6f64 652c 0d0a 2020 2020  de': code,..    
+0000e1d0: 2020 2020 2020 2020 2767 726f 7570 273a          'group':
+0000e1e0: 2067 726f 7570 2c0d 0a20 2020 2020 2020   group,..       
+0000e1f0: 2020 2020 2027 7573 6564 5f73 696e 6365       'used_since
+0000e200: 273a 2041 5049 4865 6c70 6572 2e77 6865  ': APIHelper.whe
+0000e210: 6e5f 6465 6669 6e65 6428 4150 4948 656c  n_defined(APIHel
+0000e220: 7065 722e 5246 4333 3333 3944 6174 6554  per.RFC3339DateT
+0000e230: 696d 652c 2075 7365 645f 7369 6e63 6529  ime, used_since)
+0000e240: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+0000e250: 7573 6564 5f75 6e74 696c 273a 2041 5049  used_until': API
+0000e260: 4865 6c70 6572 2e77 6865 6e5f 6465 6669  Helper.when_defi
+0000e270: 6e65 6428 4150 4948 656c 7065 722e 5246  ned(APIHelper.RF
+0000e280: 4333 3333 3944 6174 6554 696d 652c 2075  C3339DateTime, u
+0000e290: 7365 645f 756e 7469 6c29 0d0a 2020 2020  sed_until)..    
+0000e2a0: 2020 2020 7d0d 0a20 2020 2020 2020 205f      }..        _
+0000e2b0: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
+0000e2c0: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
+0000e2d0: 5f75 726c 5f77 6974 685f 7175 6572 795f  _url_with_query_
+0000e2e0: 7061 7261 6d65 7465 7273 285f 7175 6572  parameters(_quer
+0000e2f0: 795f 6275 696c 6465 722c 0d0a 2020 2020  y_builder,..    
+0000e300: 2020 2020 2020 2020 5f71 7565 7279 5f70          _query_p
+0000e310: 6172 616d 6574 6572 732c 2043 6f6e 6669  arameters, Confi
+0000e320: 6775 7261 7469 6f6e 2e61 7272 6179 5f73  guration.array_s
+0000e330: 6572 6961 6c69 7a61 7469 6f6e 290d 0a20  erialization).. 
+0000e340: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
+0000e350: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
+0000e360: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
+0000e370: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
+0000e380: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
+0000e390: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
+0000e3a0: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
+0000e3b0: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
+0000e3c0: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
+0000e3d0: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
+0000e3e0: 2020 2027 5365 7276 6963 6552 6566 6572     'ServiceRefer
+0000e3f0: 6572 4e61 6d65 273a 2043 6f6e 6669 6775  erName': Configu
+0000e400: 7261 7469 6f6e 2e73 6572 7669 6365 5f72  ration.service_r
+0000e410: 6566 6572 6572 5f6e 616d 650d 0a20 2020  eferer_name..   
+0000e420: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
+0000e430: 2020 2320 5072 6570 6172 6520 616e 6420    # Prepare and 
+0000e440: 6578 6563 7574 6520 7265 7175 6573 740d  execute request.
+0000e450: 0a20 2020 2020 2020 205f 7265 7175 6573  .        _reques
+0000e460: 7420 3d20 7365 6c66 2e68 7474 705f 636c  t = self.http_cl
+0000e470: 6965 6e74 2e67 6574 285f 7175 6572 795f  ient.get(_query_
+0000e480: 7572 6c2c 2068 6561 6465 7273 3d5f 6865  url, headers=_he
+0000e490: 6164 6572 7329 0d0a 2020 2020 2020 2020  aders)..        
+0000e4a0: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
+0000e4b0: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
+0000e4c0: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
+0000e4d0: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
+0000e4e0: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
+0000e4f0: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
+0000e500: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
+0000e510: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
+0000e520: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
+0000e530: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
+0000e540: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+0000e550: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+0000e560: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
+0000e570: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+0000e580: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+0000e590: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
+0000e5a0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+0000e5b0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+0000e5c0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+0000e5d0: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
+0000e5e0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+0000e5f0: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+0000e600: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
+0000e610: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000e620: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000e630: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000e640: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
+0000e650: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000e660: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000e670: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
+0000e680: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
+0000e690: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
+0000e6a0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+0000e6b0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+0000e6c0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+0000e6d0: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
+0000e6e0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+0000e6f0: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
+0000e700: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+0000e710: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+0000e720: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+0000e730: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+0000e740: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
+0000e750: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+0000e760: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+0000e770: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
+0000e780: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+0000e790: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000e7a0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000e7b0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000e7c0: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
+0000e7d0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000e7e0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000e7f0: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
+0000e800: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+0000e810: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
+0000e820: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
+0000e830: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
+0000e840: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
+0000e850: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
+0000e860: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
+0000e870: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
+0000e880: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
+0000e890: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
+0000e8a0: 6177 5f62 6f64 792c 204c 6973 7455 7361  aw_body, ListUsa
+0000e8b0: 6765 7352 6573 706f 6e73 652e 6672 6f6d  gesResponse.from
+0000e8c0: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
+0000e8d0: 2020 2020 6465 6620 7570 6461 7465 5f63      def update_c
+0000e8e0: 7572 7265 6e74 5f63 7963 6c65 5f73 7461  urrent_cycle_sta
+0000e8f0: 7475 7328 7365 6c66 2c0d 0a20 2020 2020  tus(self,..     
+0000e900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e910: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000e920: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
+0000e930: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e950: 2020 2020 2062 6f64 792c 0d0a 2020 2020       body,..    
+0000e960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e980: 6964 656d 706f 7465 6e63 795f 6b65 793d  idempotency_key=
+0000e990: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
+0000e9a0: 2222 2244 6f65 7320 6120 5041 5443 4820  """Does a PATCH 
+0000e9b0: 7265 7175 6573 7420 746f 202f 7375 6273  request to /subs
+0000e9c0: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
+0000e9d0: 7269 7074 696f 6e5f 6964 7d2f 6379 636c  ription_id}/cycl
+0000e9e0: 652d 7374 6174 7573 2e0d 0a0d 0a20 2020  e-status.....   
+0000e9f0: 2020 2020 2055 7064 6174 6543 7572 7265       UpdateCurre
+0000ea00: 6e74 4379 636c 6553 7461 7475 730d 0a0d  ntCycleStatus...
+0000ea10: 0a20 2020 2020 2020 2041 7267 733a 0d0a  .        Args:..
+0000ea20: 2020 2020 2020 2020 2020 2020 7375 6273              subs
+0000ea30: 6372 6970 7469 6f6e 5f69 6420 2873 7472  cription_id (str
+0000ea40: 696e 6729 3a20 5375 6273 6372 6970 7469  ing): Subscripti
+0000ea50: 6f6e 2049 640d 0a20 2020 2020 2020 2020  on Id..         
+0000ea60: 2020 2062 6f64 7920 2855 7064 6174 6543     body (UpdateC
+0000ea70: 7572 7265 6e74 4379 636c 6553 7461 7475  urrentCycleStatu
+0000ea80: 7352 6571 7565 7374 293a 2052 6571 7565  sRequest): Reque
+0000ea90: 7374 2066 6f72 2075 7064 6174 696e 6720  st for updating 
+0000eaa0: 7468 650d 0a20 2020 2020 2020 2020 2020  the..           
+0000eab0: 2020 2020 2065 6e64 2064 6174 6520 6f66       end date of
+0000eac0: 2074 6865 2073 7562 7363 7269 7074 696f   the subscriptio
+0000ead0: 6e20 6375 7272 656e 7420 7374 6174 7573  n current status
+0000eae0: 0d0a 2020 2020 2020 2020 2020 2020 6964  ..            id
+0000eaf0: 656d 706f 7465 6e63 795f 6b65 7920 2873  empotency_key (s
+0000eb00: 7472 696e 672c 206f 7074 696f 6e61 6c29  tring, optional)
+0000eb10: 3a20 544f 444f 3a20 7479 7065 2064 6573  : TODO: type des
+0000eb20: 6372 6970 7469 6f6e 2068 6572 652e 0d0a  cription here...
+0000eb30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eb40: 4578 616d 706c 653a 200d 0a0d 0a20 2020  Example: ....   
+0000eb50: 2020 2020 2052 6574 7572 6e73 3a0d 0a20       Returns:.. 
+0000eb60: 2020 2020 2020 2020 2020 2076 6f69 643a             void:
+0000eb70: 2052 6573 706f 6e73 6520 6672 6f6d 2074   Response from t
+0000eb80: 6865 2041 5049 2e20 0d0a 0d0a 2020 2020  he API. ....    
+0000eb90: 2020 2020 5261 6973 6573 3a0d 0a20 2020      Raises:..   
+0000eba0: 2020 2020 2020 2020 2041 5049 4578 6365           APIExce
+0000ebb0: 7074 696f 6e3a 2057 6865 6e20 616e 2065  ption: When an e
+0000ebc0: 7272 6f72 206f 6363 7572 7320 7768 696c  rror occurs whil
+0000ebd0: 6520 6665 7463 6869 6e67 2074 6865 2064  e fetching the d
+0000ebe0: 6174 6120 6672 6f6d 0d0a 2020 2020 2020  ata from..      
+0000ebf0: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+0000ec00: 6d6f 7465 2041 5049 2e20 5468 6973 2065  mote API. This e
+0000ec10: 7863 6570 7469 6f6e 2069 6e63 6c75 6465  xception include
+0000ec20: 7320 7468 6520 4854 5450 2052 6573 706f  s the HTTP Respo
+0000ec30: 6e73 650d 0a20 2020 2020 2020 2020 2020  nse..           
+0000ec40: 2020 2020 2063 6f64 652c 2061 6e20 6572       code, an er
+0000ec50: 726f 7220 6d65 7373 6167 652c 2061 6e64  ror message, and
+0000ec60: 2074 6865 2048 5454 5020 626f 6479 2074   the HTTP body t
+0000ec70: 6861 7420 7761 7320 7265 6365 6976 6564  hat was received
+0000ec80: 2069 6e0d 0a20 2020 2020 2020 2020 2020   in..           
+0000ec90: 2020 2020 2074 6865 2072 6571 7565 7374       the request
+0000eca0: 2e0d 0a0d 0a20 2020 2020 2020 2022 2222  .....        """
+0000ecb0: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+0000ecc0: 6570 6172 6520 7175 6572 7920 5552 4c0d  epare query URL.
+0000ecd0: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
+0000ece0: 7468 203d 2027 2f73 7562 7363 7269 7074  th = '/subscript
+0000ecf0: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
+0000ed00: 6f6e 5f69 647d 2f63 7963 6c65 2d73 7461  on_id}/cycle-sta
+0000ed10: 7475 7327 0d0a 2020 2020 2020 2020 5f75  tus'..        _u
+0000ed20: 726c 5f70 6174 6820 3d20 4150 4948 656c  rl_path = APIHel
+0000ed30: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
+0000ed40: 6974 685f 7465 6d70 6c61 7465 5f70 6172  ith_template_par
+0000ed50: 616d 6574 6572 7328 5f75 726c 5f70 6174  ameters(_url_pat
+0000ed60: 682c 207b 200d 0a20 2020 2020 2020 2020  h, { ..         
+0000ed70: 2020 2027 7375 6273 6372 6970 7469 6f6e     'subscription
+0000ed80: 5f69 6427 3a20 7375 6273 6372 6970 7469  _id': subscripti
+0000ed90: 6f6e 5f69 640d 0a20 2020 2020 2020 207d  on_id..        }
+0000eda0: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
+0000edb0: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
+0000edc0: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
+0000edd0: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
+0000ede0: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
+0000edf0: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
+0000ee00: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
+0000ee10: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
+0000ee20: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
+0000ee30: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
+0000ee40: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
+0000ee50: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
+0000ee60: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+0000ee70: 2020 2753 6572 7669 6365 5265 6665 7265    'ServiceRefere
+0000ee80: 724e 616d 6527 3a20 436f 6e66 6967 7572  rName': Configur
+0000ee90: 6174 696f 6e2e 7365 7276 6963 655f 7265  ation.service_re
+0000eea0: 6665 7265 725f 6e61 6d65 2c0d 0a20 2020  ferer_name,..   
+0000eeb0: 2020 2020 2020 2020 2027 436f 6e74 656e           'Conten
+0000eec0: 742d 5479 7065 273a 2027 6170 706c 6963  t-Type': 'applic
+0000eed0: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
+0000eee0: 2020 2020 2020 2020 2020 2769 6465 6d70            'idemp
+0000eef0: 6f74 656e 6379 2d6b 6579 273a 2069 6465  otency-key': ide
+0000ef00: 6d70 6f74 656e 6379 5f6b 6579 0d0a 2020  mpotency_key..  
+0000ef10: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
+0000ef20: 2020 2023 2050 7265 7061 7265 2061 6e64     # Prepare and
+0000ef30: 2065 7865 6375 7465 2072 6571 7565 7374   execute request
+0000ef40: 0d0a 2020 2020 2020 2020 5f72 6571 7565  ..        _reque
+0000ef50: 7374 203d 2073 656c 662e 6874 7470 5f63  st = self.http_c
+0000ef60: 6c69 656e 742e 7061 7463 6828 5f71 7565  lient.patch(_que
+0000ef70: 7279 5f75 726c 2c20 6865 6164 6572 733d  ry_url, headers=
+0000ef80: 5f68 6561 6465 7273 2c20 7061 7261 6d65  _headers, parame
+0000ef90: 7465 7273 3d41 5049 4865 6c70 6572 2e6a  ters=APIHelper.j
+0000efa0: 736f 6e5f 7365 7269 616c 697a 6528 626f  son_serialize(bo
+0000efb0: 6479 2929 0d0a 2020 2020 2020 2020 4261  dy))..        Ba
+0000efc0: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
+0000efd0: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
+0000efe0: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
+0000eff0: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
+0000f000: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
+0000f010: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
+0000f020: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
+0000f030: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
+0000f040: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
+0000f050: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
+0000f060: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+0000f070: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+0000f080: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
+0000f090: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+0000f0a0: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+0000f0b0: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
+0000f0c0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+0000f0d0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+0000f0e0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+0000f0f0: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
+0000f100: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+0000f110: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+0000f120: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
+0000f130: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+0000f140: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+0000f150: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+0000f160: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
+0000f170: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+0000f180: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
+0000f190: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
+0000f1a0: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
+0000f1b0: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
+0000f1c0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+0000f1d0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+0000f1e0: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
+0000f1f0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+0000f200: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+0000f210: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
+0000f220: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+0000f230: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+0000f240: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+0000f250: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+0000f260: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
+0000f270: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000f280: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+0000f290: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
+0000f2a0: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+0000f2b0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+0000f2c0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+0000f2d0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+0000f2e0: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
+0000f2f0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+0000f300: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+0000f310: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
+0000f320: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+0000f330: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
+0000f340: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
+0000f350: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
+0000f360: 2020 6465 6620 6361 6e63 656c 5f73 7562    def cancel_sub
+0000f370: 7363 7269 7074 696f 6e28 7365 6c66 2c0d  scription(self,.
+0000f380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000f390: 2020 2020 2020 2020 2020 2020 2073 7562               sub
+0000f3a0: 7363 7269 7074 696f 6e5f 6964 2c0d 0a20  scription_id,.. 
+0000f3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f3c0: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
+0000f3d0: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 652c  otency_key=None,
+0000f3e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000f3f0: 2020 2020 2020 2020 2020 2020 2020 626f                bo
+0000f400: 6479 3d4e 6f6e 6529 3a0d 0a20 2020 2020  dy=None):..     
+0000f410: 2020 2022 2222 446f 6573 2061 2044 454c     """Does a DEL
+0000f420: 4554 4520 7265 7175 6573 7420 746f 202f  ETE request to /
+0000f430: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
+0000f440: 7562 7363 7269 7074 696f 6e5f 6964 7d2e  ubscription_id}.
+0000f450: 0d0a 0d0a 2020 2020 2020 2020 4361 6e63  ....        Canc
+0000f460: 656c 7320 6120 7375 6273 6372 6970 7469  els a subscripti
+0000f470: 6f6e 0d0a 0d0a 2020 2020 2020 2020 4172  on....        Ar
+0000f480: 6773 3a0d 0a20 2020 2020 2020 2020 2020  gs:..           
+0000f490: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+0000f4a0: 2028 7374 7269 6e67 293a 2053 7562 7363   (string): Subsc
+0000f4b0: 7269 7074 696f 6e20 6964 0d0a 2020 2020  ription id..    
+0000f4c0: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+0000f4d0: 6e63 795f 6b65 7920 2873 7472 696e 672c  ncy_key (string,
+0000f4e0: 206f 7074 696f 6e61 6c29 3a20 544f 444f   optional): TODO
+0000f4f0: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
+0000f500: 6f6e 2068 6572 652e 0d0a 2020 2020 2020  on here...      
+0000f510: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
+0000f520: 653a 200d 0a20 2020 2020 2020 2020 2020  e: ..           
+0000f530: 2062 6f64 7920 2843 7265 6174 6543 616e   body (CreateCan
+0000f540: 6365 6c53 7562 7363 7269 7074 696f 6e52  celSubscriptionR
+0000f550: 6571 7565 7374 2c20 6f70 7469 6f6e 616c  equest, optional
+0000f560: 293a 2052 6571 7565 7374 2066 6f72 0d0a  ): Request for..
+0000f570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f580: 6361 6e63 656c 6c69 6e67 2061 2073 7562  cancelling a sub
+0000f590: 7363 7269 7074 696f 6e0d 0a0d 0a20 2020  scription....   
+0000f5a0: 2020 2020 2052 6574 7572 6e73 3a0d 0a20       Returns:.. 
+0000f5b0: 2020 2020 2020 2020 2020 2047 6574 5375             GetSu
+0000f5c0: 6273 6372 6970 7469 6f6e 5265 7370 6f6e  bscriptionRespon
+0000f5d0: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
+0000f5e0: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
+0000f5f0: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
+0000f600: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
+0000f610: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
+0000f620: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
+0000f630: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
+0000f640: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
+0000f650: 2020 2020 2020 2020 2020 2020 2074 6865               the
+0000f660: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
+0000f670: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
+0000f680: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
+0000f690: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
+0000f6a0: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
+0000f6b0: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
+0000f6c0: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
+0000f6d0: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
+0000f6e0: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
+0000f6f0: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
+0000f700: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
+0000f710: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
+0000f720: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
+0000f730: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
+0000f740: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
+0000f750: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+0000f760: 7074 696f 6e5f 6964 7d27 0d0a 2020 2020  ption_id}'..    
+0000f770: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
+0000f780: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
+0000f790: 5f75 726c 5f77 6974 685f 7465 6d70 6c61  _url_with_templa
+0000f7a0: 7465 5f70 6172 616d 6574 6572 7328 5f75  te_parameters(_u
+0000f7b0: 726c 5f70 6174 682c 207b 200d 0a20 2020  rl_path, { ..   
+0000f7c0: 2020 2020 2020 2020 2027 7375 6273 6372           'subscr
+0000f7d0: 6970 7469 6f6e 5f69 6427 3a20 7375 6273  iption_id': subs
+0000f7e0: 6372 6970 7469 6f6e 5f69 640d 0a20 2020  cription_id..   
+0000f7f0: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
+0000f800: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+0000f810: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
+0000f820: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
+0000f830: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
+0000f840: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
+0000f850: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
+0000f860: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
+0000f870: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
+0000f880: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
+0000f890: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
+0000f8a0: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
+0000f8b0: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
+0000f8c0: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
+0000f8d0: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
+0000f8e0: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
+0000f8f0: 2020 2027 5365 7276 6963 6552 6566 6572     'ServiceRefer
+0000f900: 6572 4e61 6d65 273a 2043 6f6e 6669 6775  erName': Configu
+0000f910: 7261 7469 6f6e 2e73 6572 7669 6365 5f72  ration.service_r
+0000f920: 6566 6572 6572 5f6e 616d 652c 0d0a 2020  eferer_name,..  
+0000f930: 2020 2020 2020 2020 2020 2743 6f6e 7465            'Conte
+0000f940: 6e74 2d54 7970 6527 3a20 2761 7070 6c69  nt-Type': 'appli
+0000f950: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
+0000f960: 2020 2020 2020 2020 2020 2027 6964 656d             'idem
+0000f970: 706f 7465 6e63 792d 6b65 7927 3a20 6964  potency-key': id
+0000f980: 656d 706f 7465 6e63 795f 6b65 790d 0a20  empotency_key.. 
+0000f990: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
+0000f9a0: 2020 2020 2320 5072 6570 6172 6520 616e      # Prepare an
+0000f9b0: 6420 6578 6563 7574 6520 7265 7175 6573  d execute reques
+0000f9c0: 740d 0a20 2020 2020 2020 205f 7265 7175  t..        _requ
+0000f9d0: 6573 7420 3d20 7365 6c66 2e68 7474 705f  est = self.http_
+0000f9e0: 636c 6965 6e74 2e64 656c 6574 6528 5f71  client.delete(_q
+0000f9f0: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
+0000fa00: 733d 5f68 6561 6465 7273 2c20 7061 7261  s=_headers, para
+0000fa10: 6d65 7465 7273 3d41 5049 4865 6c70 6572  meters=APIHelper
+0000fa20: 2e6a 736f 6e5f 7365 7269 616c 697a 6528  .json_serialize(
+0000fa30: 626f 6479 2929 0d0a 2020 2020 2020 2020  body))..        
+0000fa40: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
+0000fa50: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
+0000fa60: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
+0000fa70: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
+0000fa80: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
+0000fa90: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
+0000faa0: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
+0000fab0: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
+0000fac0: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
+0000fad0: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
+0000fae0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+0000faf0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+0000fb00: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
+0000fb10: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+0000fb20: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+0000fb30: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
+0000fb40: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+0000fb50: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+0000fb60: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+0000fb70: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
+0000fb80: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+0000fb90: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+0000fba0: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
+0000fbb0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000fbc0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000fbd0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000fbe0: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
+0000fbf0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000fc00: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000fc10: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
+0000fc20: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
+0000fc30: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
+0000fc40: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+0000fc50: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+0000fc60: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+0000fc70: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
+0000fc80: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+0000fc90: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
+0000fca0: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+0000fcb0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+0000fcc0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+0000fcd0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+0000fce0: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
+0000fcf0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+0000fd00: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+0000fd10: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
+0000fd20: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+0000fd30: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000fd40: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000fd50: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000fd60: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
+0000fd70: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000fd80: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000fd90: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
+0000fda0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+0000fdb0: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
+0000fdc0: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
+0000fdd0: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
+0000fde0: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
+0000fdf0: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
+0000fe00: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
+0000fe10: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
+0000fe20: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
+0000fe30: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
+0000fe40: 6177 5f62 6f64 792c 2047 6574 5375 6273  aw_body, GetSubs
+0000fe50: 6372 6970 7469 6f6e 5265 7370 6f6e 7365  criptionResponse
+0000fe60: 2e66 726f 6d5f 6469 6374 696f 6e61 7279  .from_dictionary
+0000fe70: 290d 0a0d 0a20 2020 2064 6566 2063 7265  )....    def cre
+0000fe80: 6174 655f 696e 6372 656d 656e 7428 7365  ate_increment(se
+0000fe90: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
+0000fea0: 2020 2020 2020 2020 2020 2020 2020 7375                su
+0000feb0: 6273 6372 6970 7469 6f6e 5f69 642c 0d0a  bscription_id,..
+0000fec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fed0: 2020 2020 2020 2020 2062 6f64 792c 0d0a           body,..
+0000fee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fef0: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
+0000ff00: 656e 6379 5f6b 6579 3d4e 6f6e 6529 3a0d  ency_key=None):.
+0000ff10: 0a20 2020 2020 2020 2022 2222 446f 6573  .        """Does
+0000ff20: 2061 2050 4f53 5420 7265 7175 6573 7420   a POST request 
+0000ff30: 746f 202f 7375 6273 6372 6970 7469 6f6e  to /subscription
+0000ff40: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
+0000ff50: 6964 7d2f 696e 6372 656d 656e 7473 2e0d  id}/increments..
+0000ff60: 0a0d 0a20 2020 2020 2020 2043 7265 6174  ...        Creat
+0000ff70: 6573 2061 2069 6e63 7265 6d65 6e74 0d0a  es a increment..
+0000ff80: 0d0a 2020 2020 2020 2020 4172 6773 3a0d  ..        Args:.
+0000ff90: 0a20 2020 2020 2020 2020 2020 2073 7562  .            sub
+0000ffa0: 7363 7269 7074 696f 6e5f 6964 2028 7374  scription_id (st
+0000ffb0: 7269 6e67 293a 2053 7562 7363 7269 7074  ring): Subscript
+0000ffc0: 696f 6e20 6964 0d0a 2020 2020 2020 2020  ion id..        
+0000ffd0: 2020 2020 626f 6479 2028 4372 6561 7465      body (Create
+0000ffe0: 496e 6372 656d 656e 7452 6571 7565 7374  IncrementRequest
+0000fff0: 293a 2052 6571 7565 7374 2066 6f72 2063  ): Request for c
+00010000: 7265 6174 696e 6720 6120 696e 6372 656d  reating a increm
+00010010: 656e 740d 0a20 2020 2020 2020 2020 2020  ent..           
+00010020: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
+00010030: 2028 7374 7269 6e67 2c20 6f70 7469 6f6e   (string, option
+00010040: 616c 293a 2054 4f44 4f3a 2074 7970 6520  al): TODO: type 
+00010050: 6465 7363 7269 7074 696f 6e20 6865 7265  description here
+00010060: 2e0d 0a20 2020 2020 2020 2020 2020 2020  ...             
+00010070: 2020 2045 7861 6d70 6c65 3a20 0d0a 0d0a     Example: ....
+00010080: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00010090: 0d0a 2020 2020 2020 2020 2020 2020 4765  ..            Ge
+000100a0: 7449 6e63 7265 6d65 6e74 5265 7370 6f6e  tIncrementRespon
+000100b0: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
+000100c0: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
+000100d0: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
+000100e0: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
+000100f0: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
+00010100: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
+00010110: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
+00010120: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
+00010130: 2020 2020 2020 2020 2020 2020 2074 6865               the
+00010140: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
+00010150: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
+00010160: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
+00010170: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
+00010180: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
+00010190: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
+000101a0: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
+000101b0: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
+000101c0: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
+000101d0: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
+000101e0: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
+000101f0: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
+00010200: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
+00010210: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
+00010220: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
+00010230: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+00010240: 7074 696f 6e5f 6964 7d2f 696e 6372 656d  ption_id}/increm
+00010250: 656e 7473 270d 0a20 2020 2020 2020 205f  ents'..        _
+00010260: 7572 6c5f 7061 7468 203d 2041 5049 4865  url_path = APIHe
+00010270: 6c70 6572 2e61 7070 656e 645f 7572 6c5f  lper.append_url_
+00010280: 7769 7468 5f74 656d 706c 6174 655f 7061  with_template_pa
+00010290: 7261 6d65 7465 7273 285f 7572 6c5f 7061  rameters(_url_pa
+000102a0: 7468 2c20 7b20 0d0a 2020 2020 2020 2020  th, { ..        
+000102b0: 2020 2020 2773 7562 7363 7269 7074 696f      'subscriptio
+000102c0: 6e5f 6964 273a 2073 7562 7363 7269 7074  n_id': subscript
+000102d0: 696f 6e5f 6964 0d0a 2020 2020 2020 2020  ion_id..        
+000102e0: 7d29 0d0a 2020 2020 2020 2020 5f71 7565  })..        _que
+000102f0: 7279 5f62 7569 6c64 6572 203d 2043 6f6e  ry_builder = Con
+00010300: 6669 6775 7261 7469 6f6e 2e62 6173 655f  figuration.base_
+00010310: 7572 690d 0a20 2020 2020 2020 205f 7175  uri..        _qu
+00010320: 6572 795f 6275 696c 6465 7220 2b3d 205f  ery_builder += _
+00010330: 7572 6c5f 7061 7468 0d0a 2020 2020 2020  url_path..      
+00010340: 2020 5f71 7565 7279 5f75 726c 203d 2041    _query_url = A
+00010350: 5049 4865 6c70 6572 2e63 6c65 616e 5f75  PIHelper.clean_u
+00010360: 726c 285f 7175 6572 795f 6275 696c 6465  rl(_query_builde
+00010370: 7229 0d0a 0d0a 2020 2020 2020 2020 2320  r)....        # 
+00010380: 5072 6570 6172 6520 6865 6164 6572 730d  Prepare headers.
+00010390: 0a20 2020 2020 2020 205f 6865 6164 6572  .        _header
+000103a0: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
+000103b0: 2020 2027 6163 6365 7074 273a 2027 6170     'accept': 'ap
+000103c0: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
+000103d0: 0d0a 2020 2020 2020 2020 2020 2020 2753  ..            'S
+000103e0: 6572 7669 6365 5265 6665 7265 724e 616d  erviceRefererNam
+000103f0: 6527 3a20 436f 6e66 6967 7572 6174 696f  e': Configuratio
+00010400: 6e2e 7365 7276 6963 655f 7265 6665 7265  n.service_refere
+00010410: 725f 6e61 6d65 2c0d 0a20 2020 2020 2020  r_name,..       
+00010420: 2020 2020 2027 436f 6e74 656e 742d 5479       'Content-Ty
+00010430: 7065 273a 2027 6170 706c 6963 6174 696f  pe': 'applicatio
+00010440: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
+00010450: 2020 2020 2020 2769 6465 6d70 6f74 656e        'idempoten
+00010460: 6379 2d6b 6579 273a 2069 6465 6d70 6f74  cy-key': idempot
+00010470: 656e 6379 5f6b 6579 0d0a 2020 2020 2020  ency_key..      
+00010480: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
+00010490: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
+000104a0: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
+000104b0: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
+000104c0: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
+000104d0: 742e 706f 7374 285f 7175 6572 795f 7572  t.post(_query_ur
+000104e0: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
+000104f0: 6572 732c 2070 6172 616d 6574 6572 733d  ers, parameters=
+00010500: 4150 4948 656c 7065 722e 6a73 6f6e 5f73  APIHelper.json_s
+00010510: 6572 6961 6c69 7a65 2862 6f64 7929 290d  erialize(body)).
+00010520: 0a20 2020 2020 2020 2042 6173 6963 4175  .        BasicAu
+00010530: 7468 2e61 7070 6c79 285f 7265 7175 6573  th.apply(_reques
+00010540: 7429 0d0a 2020 2020 2020 2020 5f63 6f6e  t)..        _con
+00010550: 7465 7874 203d 2073 656c 662e 6578 6563  text = self.exec
+00010560: 7574 655f 7265 7175 6573 7428 5f72 6571  ute_request(_req
+00010570: 7565 7374 290d 0a0d 0a20 2020 2020 2020  uest)....       
+00010580: 2023 2045 6e64 706f 696e 7420 616e 6420   # Endpoint and 
+00010590: 676c 6f62 616c 2065 7272 6f72 2068 616e  global error han
+000105a0: 646c 696e 6720 7573 696e 6720 4854 5450  dling using HTTP
+000105b0: 2073 7461 7475 7320 636f 6465 732e 0d0a   status codes...
+000105c0: 2020 2020 2020 2020 6966 205f 636f 6e74          if _cont
+000105d0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+000105e0: 7475 735f 636f 6465 203d 3d20 3430 303a  tus_code == 400:
+000105f0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00010600: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+00010610: 6f6e 2827 496e 7661 6c69 6420 7265 7175  on('Invalid requ
+00010620: 6573 7427 2c20 5f63 6f6e 7465 7874 290d  est', _context).
+00010630: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00010640: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00010650: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00010660: 3031 3a0d 0a20 2020 2020 2020 2020 2020  01:..           
+00010670: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00010680: 7074 696f 6e28 2749 6e76 616c 6964 2041  ption('Invalid A
+00010690: 5049 206b 6579 272c 205f 636f 6e74 6578  PI key', _contex
+000106a0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+000106b0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+000106c0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+000106d0: 3d20 3430 343a 0d0a 2020 2020 2020 2020  = 404:..        
+000106e0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+000106f0: 7863 6570 7469 6f6e 2827 416e 2069 6e66  xception('An inf
+00010700: 6f72 6d65 6420 7265 736f 7572 6365 2077  ormed resource w
+00010710: 6173 206e 6f74 2066 6f75 6e64 272c 205f  as not found', _
+00010720: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00010730: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00010740: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00010750: 636f 6465 203d 3d20 3431 323a 0d0a 2020  code == 412:..  
+00010760: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00010770: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00010780: 4275 7369 6e65 7373 2076 616c 6964 6174  Business validat
+00010790: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
+000107a0: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+000107b0: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+000107c0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+000107d0: 6520 3d3d 2034 3232 3a0d 0a20 2020 2020  e == 422:..     
+000107e0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+000107f0: 6f72 4578 6365 7074 696f 6e28 2743 6f6e  orException('Con
+00010800: 7472 6163 7420 7661 6c69 6461 7469 6f6e  tract validation
+00010810: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+00010820: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+00010830: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00010840: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00010850: 3d20 3530 303a 0d0a 2020 2020 2020 2020  = 500:..        
+00010860: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00010870: 7863 6570 7469 6f6e 2827 496e 7465 726e  xception('Intern
+00010880: 616c 2073 6572 7665 7220 6572 726f 7227  al server error'
+00010890: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+000108a0: 2020 2020 2073 656c 662e 7661 6c69 6461       self.valida
+000108b0: 7465 5f72 6573 706f 6e73 6528 5f63 6f6e  te_response(_con
+000108c0: 7465 7874 290d 0a0d 0a20 2020 2020 2020  text)....       
+000108d0: 2023 2052 6574 7572 6e20 6170 7072 6f70   # Return approp
+000108e0: 7269 6174 6520 7479 7065 0d0a 2020 2020  riate type..    
+000108f0: 2020 2020 7265 7475 726e 2041 5049 4865      return APIHe
+00010900: 6c70 6572 2e6a 736f 6e5f 6465 7365 7269  lper.json_deseri
+00010910: 616c 697a 6528 5f63 6f6e 7465 7874 2e72  alize(_context.r
+00010920: 6573 706f 6e73 652e 7261 775f 626f 6479  esponse.raw_body
+00010930: 2c20 4765 7449 6e63 7265 6d65 6e74 5265  , GetIncrementRe
+00010940: 7370 6f6e 7365 2e66 726f 6d5f 6469 6374  sponse.from_dict
+00010950: 696f 6e61 7279 290d 0a0d 0a20 2020 2064  ionary)....    d
+00010960: 6566 2075 7064 6174 655f 7375 6273 6372  ef update_subscr
+00010970: 6970 7469 6f6e 5f6d 6574 6164 6174 6128  iption_metadata(
+00010980: 7365 6c66 2c0d 0a20 2020 2020 2020 2020  self,..         
+00010990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000109a0: 2020 2020 2020 2020 2020 2020 7375 6273              subs
+000109b0: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
+000109c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000109d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000109e0: 2020 2062 6f64 792c 0d0a 2020 2020 2020     body,..      
+000109f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a00: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00010a10: 6465 6d70 6f74 656e 6379 5f6b 6579 3d4e  dempotency_key=N
+00010a20: 6f6e 6529 3a0d 0a20 2020 2020 2020 2022  one):..        "
+00010a30: 2222 446f 6573 2061 2050 4154 4348 2072  ""Does a PATCH r
+00010a40: 6571 7565 7374 2074 6f20 2f53 7562 7363  equest to /Subsc
+00010a50: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
+00010a60: 6970 7469 6f6e 5f69 647d 2f6d 6574 6164  iption_id}/metad
+00010a70: 6174 612e 0d0a 0d0a 2020 2020 2020 2020  ata.....        
+00010a80: 5570 6461 7465 7320 7468 6520 6d65 7461  Updates the meta
+00010a90: 6461 7461 2066 726f 6d20 6120 7375 6273  data from a subs
+00010aa0: 6372 6970 7469 6f6e 0d0a 0d0a 2020 2020  cription....    
+00010ab0: 2020 2020 4172 6773 3a0d 0a20 2020 2020      Args:..     
+00010ac0: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
+00010ad0: 696f 6e5f 6964 2028 7374 7269 6e67 293a  ion_id (string):
+00010ae0: 2054 6865 2073 7562 7363 7269 7074 696f   The subscriptio
+00010af0: 6e20 6964 0d0a 2020 2020 2020 2020 2020  n id..          
+00010b00: 2020 626f 6479 2028 5570 6461 7465 4d65    body (UpdateMe
+00010b10: 7461 6461 7461 5265 7175 6573 7429 3a20  tadataRequest): 
+00010b20: 5265 7175 6573 7420 666f 7220 7570 6461  Request for upda
+00010b30: 7469 6e67 2074 6865 2073 7562 7363 7270  ting the subscrp
+00010b40: 7469 6f6e 0d0a 2020 2020 2020 2020 2020  tion..          
+00010b50: 2020 2020 2020 6d65 7461 6461 7461 0d0a        metadata..
+00010b60: 2020 2020 2020 2020 2020 2020 6964 656d              idem
+00010b70: 706f 7465 6e63 795f 6b65 7920 2873 7472  potency_key (str
+00010b80: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
+00010b90: 544f 444f 3a20 7479 7065 2064 6573 6372  TODO: type descr
+00010ba0: 6970 7469 6f6e 2068 6572 652e 0d0a 2020  iption here...  
+00010bb0: 2020 2020 2020 2020 2020 2020 2020 4578                Ex
+00010bc0: 616d 706c 653a 200d 0a0d 0a20 2020 2020  ample: ....     
+00010bd0: 2020 2052 6574 7572 6e73 3a0d 0a20 2020     Returns:..   
+00010be0: 2020 2020 2020 2020 2047 6574 5375 6273           GetSubs
+00010bf0: 6372 6970 7469 6f6e 5265 7370 6f6e 7365  criptionResponse
+00010c00: 3a20 5265 7370 6f6e 7365 2066 726f 6d20  : Response from 
+00010c10: 7468 6520 4150 492e 200d 0a0d 0a20 2020  the API. ....   
+00010c20: 2020 2020 2052 6169 7365 733a 0d0a 2020       Raises:..  
+00010c30: 2020 2020 2020 2020 2020 4150 4945 7863            APIExc
+00010c40: 6570 7469 6f6e 3a20 5768 656e 2061 6e20  eption: When an 
+00010c50: 6572 726f 7220 6f63 6375 7273 2077 6869  error occurs whi
+00010c60: 6c65 2066 6574 6368 696e 6720 7468 6520  le fetching the 
+00010c70: 6461 7461 2066 726f 6d0d 0a20 2020 2020  data from..     
+00010c80: 2020 2020 2020 2020 2020 2074 6865 2072             the r
+00010c90: 656d 6f74 6520 4150 492e 2054 6869 7320  emote API. This 
+00010ca0: 6578 6365 7074 696f 6e20 696e 636c 7564  exception includ
+00010cb0: 6573 2074 6865 2048 5454 5020 5265 7370  es the HTTP Resp
+00010cc0: 6f6e 7365 0d0a 2020 2020 2020 2020 2020  onse..          
+00010cd0: 2020 2020 2020 636f 6465 2c20 616e 2065        code, an e
+00010ce0: 7272 6f72 206d 6573 7361 6765 2c20 616e  rror message, an
+00010cf0: 6420 7468 6520 4854 5450 2062 6f64 7920  d the HTTP body 
+00010d00: 7468 6174 2077 6173 2072 6563 6569 7665  that was receive
+00010d10: 6420 696e 0d0a 2020 2020 2020 2020 2020  d in..          
+00010d20: 2020 2020 2020 7468 6520 7265 7175 6573        the reques
+00010d30: 742e 0d0a 0d0a 2020 2020 2020 2020 2222  t.....        ""
+00010d40: 220d 0a0d 0a20 2020 2020 2020 2023 2050  "....        # P
+00010d50: 7265 7061 7265 2071 7565 7279 2055 524c  repare query URL
+00010d60: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
+00010d70: 6174 6820 3d20 272f 5375 6273 6372 6970  ath = '/Subscrip
+00010d80: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
+00010d90: 696f 6e5f 6964 7d2f 6d65 7461 6461 7461  ion_id}/metadata
+00010da0: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
+00010db0: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
+00010dc0: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
+00010dd0: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
+00010de0: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
+00010df0: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
+00010e00: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
+00010e10: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
+00010e20: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
+00010e30: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
+00010e40: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
+00010e50: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
+00010e60: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00010e70: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
+00010e80: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
+00010e90: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
+00010ea0: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
+00010eb0: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
+00010ec0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00010ed0: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
+00010ee0: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
+00010ef0: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
+00010f00: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
+00010f10: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
+00010f20: 2020 2020 2020 2020 2020 2753 6572 7669            'Servi
+00010f30: 6365 5265 6665 7265 724e 616d 6527 3a20  ceRefererName': 
+00010f40: 436f 6e66 6967 7572 6174 696f 6e2e 7365  Configuration.se
+00010f50: 7276 6963 655f 7265 6665 7265 725f 6e61  rvice_referer_na
+00010f60: 6d65 2c0d 0a20 2020 2020 2020 2020 2020  me,..           
+00010f70: 2027 436f 6e74 656e 742d 5479 7065 273a   'Content-Type':
+00010f80: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
+00010f90: 6f6e 272c 0d0a 2020 2020 2020 2020 2020  on',..          
+00010fa0: 2020 2769 6465 6d70 6f74 656e 6379 2d6b    'idempotency-k
+00010fb0: 6579 273a 2069 6465 6d70 6f74 656e 6379  ey': idempotency
+00010fc0: 5f6b 6579 0d0a 2020 2020 2020 2020 7d0d  _key..        }.
+00010fd0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+00010fe0: 7061 7265 2061 6e64 2065 7865 6375 7465  pare and execute
+00010ff0: 2072 6571 7565 7374 0d0a 2020 2020 2020   request..      
+00011000: 2020 5f72 6571 7565 7374 203d 2073 656c    _request = sel
+00011010: 662e 6874 7470 5f63 6c69 656e 742e 7061  f.http_client.pa
+00011020: 7463 6828 5f71 7565 7279 5f75 726c 2c20  tch(_query_url, 
+00011030: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
+00011040: 2c20 7061 7261 6d65 7465 7273 3d41 5049  , parameters=API
+00011050: 4865 6c70 6572 2e6a 736f 6e5f 7365 7269  Helper.json_seri
+00011060: 616c 697a 6528 626f 6479 2929 0d0a 2020  alize(body))..  
+00011070: 2020 2020 2020 4261 7369 6341 7574 682e        BasicAuth.
+00011080: 6170 706c 7928 5f72 6571 7565 7374 290d  apply(_request).
+00011090: 0a20 2020 2020 2020 205f 636f 6e74 6578  .        _contex
+000110a0: 7420 3d20 7365 6c66 2e65 7865 6375 7465  t = self.execute
+000110b0: 5f72 6571 7565 7374 285f 7265 7175 6573  _request(_reques
+000110c0: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
+000110d0: 456e 6470 6f69 6e74 2061 6e64 2067 6c6f  Endpoint and glo
+000110e0: 6261 6c20 6572 726f 7220 6861 6e64 6c69  bal error handli
+000110f0: 6e67 2075 7369 6e67 2048 5454 5020 7374  ng using HTTP st
+00011100: 6174 7573 2063 6f64 6573 2e0d 0a20 2020  atus codes...   
+00011110: 2020 2020 2069 6620 5f63 6f6e 7465 7874       if _context
+00011120: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00011130: 5f63 6f64 6520 3d3d 2034 3030 3a0d 0a20  _code == 400:.. 
+00011140: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00011150: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00011160: 2749 6e76 616c 6964 2072 6571 7565 7374  'Invalid request
+00011170: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00011180: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+00011190: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+000111a0: 7475 735f 636f 6465 203d 3d20 3430 313a  tus_code == 401:
+000111b0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+000111c0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+000111d0: 6f6e 2827 496e 7661 6c69 6420 4150 4920  on('Invalid API 
+000111e0: 6b65 7927 2c20 5f63 6f6e 7465 7874 290d  key', _context).
+000111f0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00011200: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00011210: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00011220: 3034 3a0d 0a20 2020 2020 2020 2020 2020  04:..           
+00011230: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00011240: 7074 696f 6e28 2741 6e20 696e 666f 726d  ption('An inform
+00011250: 6564 2072 6573 6f75 7263 6520 7761 7320  ed resource was 
+00011260: 6e6f 7420 666f 756e 6427 2c20 5f63 6f6e  not found', _con
+00011270: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+00011280: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+00011290: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+000112a0: 6520 3d3d 2034 3132 3a0d 0a20 2020 2020  e == 412:..     
+000112b0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+000112c0: 6f72 4578 6365 7074 696f 6e28 2742 7573  orException('Bus
+000112d0: 696e 6573 7320 7661 6c69 6461 7469 6f6e  iness validation
+000112e0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+000112f0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+00011300: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00011310: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00011320: 3d20 3432 323a 0d0a 2020 2020 2020 2020  = 422:..        
+00011330: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00011340: 7863 6570 7469 6f6e 2827 436f 6e74 7261  xception('Contra
+00011350: 6374 2076 616c 6964 6174 696f 6e20 6572  ct validation er
+00011360: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
+00011370: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00011380: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00011390: 7374 6174 7573 5f63 6f64 6520 3d3d 2035  status_code == 5
+000113a0: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
+000113b0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+000113c0: 7074 696f 6e28 2749 6e74 6572 6e61 6c20  ption('Internal 
+000113d0: 7365 7276 6572 2065 7272 6f72 272c 205f  server error', _
+000113e0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+000113f0: 2020 7365 6c66 2e76 616c 6964 6174 655f    self.validate_
+00011400: 7265 7370 6f6e 7365 285f 636f 6e74 6578  response(_contex
+00011410: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
+00011420: 5265 7475 726e 2061 7070 726f 7072 6961  Return appropria
+00011430: 7465 2074 7970 650d 0a20 2020 2020 2020  te type..       
+00011440: 2072 6574 7572 6e20 4150 4948 656c 7065   return APIHelpe
+00011450: 722e 6a73 6f6e 5f64 6573 6572 6961 6c69  r.json_deseriali
+00011460: 7a65 285f 636f 6e74 6578 742e 7265 7370  ze(_context.resp
+00011470: 6f6e 7365 2e72 6177 5f62 6f64 792c 2047  onse.raw_body, G
+00011480: 6574 5375 6273 6372 6970 7469 6f6e 5265  etSubscriptionRe
+00011490: 7370 6f6e 7365 2e66 726f 6d5f 6469 6374  sponse.from_dict
+000114a0: 696f 6e61 7279 290d 0a0d 0a20 2020 2064  ionary)....    d
+000114b0: 6566 2067 6574 5f64 6973 636f 756e 7473  ef get_discounts
+000114c0: 2873 656c 662c 0d0a 2020 2020 2020 2020  (self,..        
+000114d0: 2020 2020 2020 2020 2020 2020 2020 7375                su
+000114e0: 6273 6372 6970 7469 6f6e 5f69 642c 0d0a  bscription_id,..
+000114f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011500: 2020 2020 2020 7061 6765 2c0d 0a20 2020        page,..   
+00011510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011520: 2020 2073 697a 6529 3a0d 0a20 2020 2020     size):..     
+00011530: 2020 2022 2222 446f 6573 2061 2047 4554     """Does a GET
+00011540: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
+00011550: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
+00011560: 6372 6970 7469 6f6e 5f69 647d 2f64 6973  cription_id}/dis
+00011570: 636f 756e 7473 2f2e 0d0a 0d0a 2020 2020  counts/.....    
+00011580: 2020 2020 4765 7444 6973 636f 756e 7473      GetDiscounts
+00011590: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
+000115a0: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
+000115b0: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
+000115c0: 7374 7269 6e67 293a 2054 6865 2073 7562  string): The sub
+000115d0: 7363 7269 7074 696f 6e20 6964 0d0a 2020  scription id..  
+000115e0: 2020 2020 2020 2020 2020 7061 6765 2028            page (
+000115f0: 696e 7429 3a20 5061 6765 206e 756d 6265  int): Page numbe
+00011600: 720d 0a20 2020 2020 2020 2020 2020 2073  r..            s
+00011610: 697a 6520 2869 6e74 293a 2050 6167 6520  ize (int): Page 
+00011620: 7369 7a65 0d0a 0d0a 2020 2020 2020 2020  size....        
+00011630: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
+00011640: 2020 2020 2020 4c69 7374 4469 7363 6f75        ListDiscou
+00011650: 6e74 7352 6573 706f 6e73 653a 2052 6573  ntsResponse: Res
+00011660: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
+00011670: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
+00011680: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
+00011690: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
+000116a0: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
+000116b0: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
+000116c0: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
+000116d0: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
+000116e0: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
+000116f0: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
+00011700: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
+00011710: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
+00011720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011730: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
+00011740: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
+00011750: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
+00011760: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
+00011770: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011780: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
+00011790: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
+000117a0: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+000117b0: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
+000117c0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+000117d0: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
+000117e0: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
+000117f0: 647d 2f64 6973 636f 756e 7473 2f27 0d0a  d}/discounts/'..
+00011800: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
+00011810: 6820 3d20 4150 4948 656c 7065 722e 6170  h = APIHelper.ap
+00011820: 7065 6e64 5f75 726c 5f77 6974 685f 7465  pend_url_with_te
+00011830: 6d70 6c61 7465 5f70 6172 616d 6574 6572  mplate_parameter
+00011840: 7328 5f75 726c 5f70 6174 682c 207b 200d  s(_url_path, { .
+00011850: 0a20 2020 2020 2020 2020 2020 2027 7375  .            'su
+00011860: 6273 6372 6970 7469 6f6e 5f69 6427 3a20  bscription_id': 
+00011870: 7375 6273 6372 6970 7469 6f6e 5f69 640d  subscription_id.
+00011880: 0a20 2020 2020 2020 207d 290d 0a20 2020  .        })..   
+00011890: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+000118a0: 6465 7220 3d20 436f 6e66 6967 7572 6174  der = Configurat
+000118b0: 696f 6e2e 6261 7365 5f75 7269 0d0a 2020  ion.base_uri..  
+000118c0: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
+000118d0: 6c64 6572 202b 3d20 5f75 726c 5f70 6174  lder += _url_pat
+000118e0: 680d 0a20 2020 2020 2020 205f 7175 6572  h..        _quer
+000118f0: 795f 7061 7261 6d65 7465 7273 203d 207b  y_parameters = {
+00011900: 0d0a 2020 2020 2020 2020 2020 2020 2770  ..            'p
+00011910: 6167 6527 3a20 7061 6765 2c0d 0a20 2020  age': page,..   
+00011920: 2020 2020 2020 2020 2027 7369 7a65 273a           'size':
+00011930: 2073 697a 650d 0a20 2020 2020 2020 207d   size..        }
+00011940: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00011950: 5f62 7569 6c64 6572 203d 2041 5049 4865  _builder = APIHe
+00011960: 6c70 6572 2e61 7070 656e 645f 7572 6c5f  lper.append_url_
+00011970: 7769 7468 5f71 7565 7279 5f70 6172 616d  with_query_param
+00011980: 6574 6572 7328 5f71 7565 7279 5f62 7569  eters(_query_bui
+00011990: 6c64 6572 2c0d 0a20 2020 2020 2020 2020  lder,..         
+000119a0: 2020 205f 7175 6572 795f 7061 7261 6d65     _query_parame
+000119b0: 7465 7273 2c20 436f 6e66 6967 7572 6174  ters, Configurat
+000119c0: 696f 6e2e 6172 7261 795f 7365 7269 616c  ion.array_serial
+000119d0: 697a 6174 696f 6e29 0d0a 2020 2020 2020  ization)..      
+000119e0: 2020 5f71 7565 7279 5f75 726c 203d 2041    _query_url = A
+000119f0: 5049 4865 6c70 6572 2e63 6c65 616e 5f75  PIHelper.clean_u
+00011a00: 726c 285f 7175 6572 795f 6275 696c 6465  rl(_query_builde
+00011a10: 7229 0d0a 0d0a 2020 2020 2020 2020 2320  r)....        # 
+00011a20: 5072 6570 6172 6520 6865 6164 6572 730d  Prepare headers.
+00011a30: 0a20 2020 2020 2020 205f 6865 6164 6572  .        _header
+00011a40: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
+00011a50: 2020 2027 6163 6365 7074 273a 2027 6170     'accept': 'ap
+00011a60: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
+00011a70: 0d0a 2020 2020 2020 2020 2020 2020 2753  ..            'S
+00011a80: 6572 7669 6365 5265 6665 7265 724e 616d  erviceRefererNam
+00011a90: 6527 3a20 436f 6e66 6967 7572 6174 696f  e': Configuratio
+00011aa0: 6e2e 7365 7276 6963 655f 7265 6665 7265  n.service_refere
+00011ab0: 725f 6e61 6d65 0d0a 2020 2020 2020 2020  r_name..        
+00011ac0: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
+00011ad0: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
+00011ae0: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
+00011af0: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
+00011b00: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
+00011b10: 6765 7428 5f71 7565 7279 5f75 726c 2c20  get(_query_url, 
+00011b20: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
+00011b30: 290d 0a20 2020 2020 2020 2042 6173 6963  )..        Basic
+00011b40: 4175 7468 2e61 7070 6c79 285f 7265 7175  Auth.apply(_requ
+00011b50: 6573 7429 0d0a 2020 2020 2020 2020 5f63  est)..        _c
+00011b60: 6f6e 7465 7874 203d 2073 656c 662e 6578  ontext = self.ex
+00011b70: 6563 7574 655f 7265 7175 6573 7428 5f72  ecute_request(_r
+00011b80: 6571 7565 7374 290d 0a0d 0a20 2020 2020  equest)....     
+00011b90: 2020 2023 2045 6e64 706f 696e 7420 616e     # Endpoint an
+00011ba0: 6420 676c 6f62 616c 2065 7272 6f72 2068  d global error h
+00011bb0: 616e 646c 696e 6720 7573 696e 6720 4854  andling using HT
+00011bc0: 5450 2073 7461 7475 7320 636f 6465 732e  TP status codes.
+00011bd0: 0d0a 2020 2020 2020 2020 6966 205f 636f  ..        if _co
+00011be0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00011bf0: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+00011c00: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+00011c10: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00011c20: 7469 6f6e 2827 496e 7661 6c69 6420 7265  tion('Invalid re
+00011c30: 7175 6573 7427 2c20 5f63 6f6e 7465 7874  quest', _context
+00011c40: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00011c50: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00011c60: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00011c70: 2034 3031 3a0d 0a20 2020 2020 2020 2020   401:..         
+00011c80: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00011c90: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+00011ca0: 2041 5049 206b 6579 272c 205f 636f 6e74   API key', _cont
+00011cb0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00011cc0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00011cd0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00011ce0: 203d 3d20 3430 343a 0d0a 2020 2020 2020   == 404:..      
+00011cf0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00011d00: 7245 7863 6570 7469 6f6e 2827 416e 2069  rException('An i
+00011d10: 6e66 6f72 6d65 6420 7265 736f 7572 6365  nformed resource
+00011d20: 2077 6173 206e 6f74 2066 6f75 6e64 272c   was not found',
+00011d30: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00011d40: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00011d50: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00011d60: 735f 636f 6465 203d 3d20 3431 323a 0d0a  s_code == 412:..
+00011d70: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00011d80: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00011d90: 2827 4275 7369 6e65 7373 2076 616c 6964  ('Business valid
+00011da0: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+00011db0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00011dc0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00011dd0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00011de0: 6f64 6520 3d3d 2034 3232 3a0d 0a20 2020  ode == 422:..   
+00011df0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00011e00: 7272 6f72 4578 6365 7074 696f 6e28 2743  rrorException('C
+00011e10: 6f6e 7472 6163 7420 7661 6c69 6461 7469  ontract validati
+00011e20: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
+00011e30: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00011e40: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00011e50: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00011e60: 203d 3d20 3530 303a 0d0a 2020 2020 2020   == 500:..      
+00011e70: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00011e80: 7245 7863 6570 7469 6f6e 2827 496e 7465  rException('Inte
+00011e90: 726e 616c 2073 6572 7665 7220 6572 726f  rnal server erro
+00011ea0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+00011eb0: 2020 2020 2020 2073 656c 662e 7661 6c69         self.vali
+00011ec0: 6461 7465 5f72 6573 706f 6e73 6528 5f63  date_response(_c
+00011ed0: 6f6e 7465 7874 290d 0a0d 0a20 2020 2020  ontext)....     
+00011ee0: 2020 2023 2052 6574 7572 6e20 6170 7072     # Return appr
+00011ef0: 6f70 7269 6174 6520 7479 7065 0d0a 2020  opriate type..  
+00011f00: 2020 2020 2020 7265 7475 726e 2041 5049        return API
+00011f10: 4865 6c70 6572 2e6a 736f 6e5f 6465 7365  Helper.json_dese
+00011f20: 7269 616c 697a 6528 5f63 6f6e 7465 7874  rialize(_context
+00011f30: 2e72 6573 706f 6e73 652e 7261 775f 626f  .response.raw_bo
+00011f40: 6479 2c20 4c69 7374 4469 7363 6f75 6e74  dy, ListDiscount
+00011f50: 7352 6573 706f 6e73 652e 6672 6f6d 5f64  sResponse.from_d
+00011f60: 6963 7469 6f6e 6172 7929 0d0a 0d0a 2020  ictionary)....  
+00011f70: 2020 6465 6620 7570 6461 7465 5f73 7562    def update_sub
+00011f80: 7363 7269 7074 696f 6e5f 6d69 6e69 756d  scription_minium
+00011f90: 5f70 7269 6365 2873 656c 662c 0d0a 2020  _price(self,..  
+00011fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011fc0: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
+00011fd0: 696f 6e5f 6964 2c0d 0a20 2020 2020 2020  ion_id,..       
+00011fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012000: 2020 626f 6479 2c0d 0a20 2020 2020 2020    body,..       
+00012010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012030: 2020 6964 656d 706f 7465 6e63 795f 6b65    idempotency_ke
+00012040: 793d 4e6f 6e65 293a 0d0a 2020 2020 2020  y=None):..      
+00012050: 2020 2222 2244 6f65 7320 6120 5041 5443    """Does a PATC
+00012060: 4820 7265 7175 6573 7420 746f 202f 7375  H request to /su
+00012070: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
+00012080: 7363 7269 7074 696f 6e5f 6964 7d2f 6d69  scription_id}/mi
+00012090: 6e69 6d75 6d5f 7072 6963 652e 0d0a 0d0a  nimum_price.....
+000120a0: 2020 2020 2020 2020 4174 7561 6c69 7a61          Atualiza
+000120b0: c3a7 c3a3 6f20 646f 2076 616c 6f72 206d  ....o do valor m
+000120c0: c3ad 6e69 6d6f 2064 6120 6173 7369 6e61  ..nimo da assina
+000120d0: 7475 7261 0d0a 0d0a 2020 2020 2020 2020  tura....        
+000120e0: 4172 6773 3a0d 0a20 2020 2020 2020 2020  Args:..         
+000120f0: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
+00012100: 6964 2028 7374 7269 6e67 293a 2053 7562  id (string): Sub
+00012110: 7363 7269 7074 696f 6e20 4964 0d0a 2020  scription Id..  
+00012120: 2020 2020 2020 2020 2020 626f 6479 2028            body (
+00012130: 5570 6461 7465 5375 6273 6372 6970 7469  UpdateSubscripti
+00012140: 6f6e 4d69 6e69 6d75 6d50 7269 6365 5265  onMinimumPriceRe
+00012150: 7175 6573 7429 3a20 5265 7175 6573 7420  quest): Request 
+00012160: 6461 0d0a 2020 2020 2020 2020 2020 2020  da..            
+00012170: 2020 2020 7265 7175 6973 69c3 a7c3 a36f      requisi....o
+00012180: 2063 6f6d 206f 2076 616c 6f72 206d c3ad   com o valor m..
+00012190: 6e69 6d6f 2071 7565 2073 6572 c3a1 2063  nimo que ser.. c
+000121a0: 6f6e 6669 6775 7261 646f 0d0a 2020 2020  onfigurado..    
+000121b0: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+000121c0: 6e63 795f 6b65 7920 2873 7472 696e 672c  ncy_key (string,
+000121d0: 206f 7074 696f 6e61 6c29 3a20 544f 444f   optional): TODO
+000121e0: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
+000121f0: 6f6e 2068 6572 652e 0d0a 2020 2020 2020  on here...      
+00012200: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
+00012210: 653a 200d 0a0d 0a20 2020 2020 2020 2052  e: ....        R
+00012220: 6574 7572 6e73 3a0d 0a20 2020 2020 2020  eturns:..       
+00012230: 2020 2020 2047 6574 5375 6273 6372 6970       GetSubscrip
+00012240: 7469 6f6e 5265 7370 6f6e 7365 3a20 5265  tionResponse: Re
+00012250: 7370 6f6e 7365 2066 726f 6d20 7468 6520  sponse from the 
+00012260: 4150 492e 200d 0a0d 0a20 2020 2020 2020  API. ....       
+00012270: 2052 6169 7365 733a 0d0a 2020 2020 2020   Raises:..      
+00012280: 2020 2020 2020 4150 4945 7863 6570 7469        APIExcepti
+00012290: 6f6e 3a20 5768 656e 2061 6e20 6572 726f  on: When an erro
+000122a0: 7220 6f63 6375 7273 2077 6869 6c65 2066  r occurs while f
+000122b0: 6574 6368 696e 6720 7468 6520 6461 7461  etching the data
+000122c0: 2066 726f 6d0d 0a20 2020 2020 2020 2020   from..         
+000122d0: 2020 2020 2020 2074 6865 2072 656d 6f74         the remot
+000122e0: 6520 4150 492e 2054 6869 7320 6578 6365  e API. This exce
+000122f0: 7074 696f 6e20 696e 636c 7564 6573 2074  ption includes t
+00012300: 6865 2048 5454 5020 5265 7370 6f6e 7365  he HTTP Response
+00012310: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00012320: 2020 636f 6465 2c20 616e 2065 7272 6f72    code, an error
+00012330: 206d 6573 7361 6765 2c20 616e 6420 7468   message, and th
+00012340: 6520 4854 5450 2062 6f64 7920 7468 6174  e HTTP body that
+00012350: 2077 6173 2072 6563 6569 7665 6420 696e   was received in
+00012360: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00012370: 2020 7468 6520 7265 7175 6573 742e 0d0a    the request...
+00012380: 0d0a 2020 2020 2020 2020 2222 220d 0a0d  ..        """...
+00012390: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
+000123a0: 7265 2071 7565 7279 2055 524c 0d0a 2020  re query URL..  
+000123b0: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
+000123c0: 3d20 272f 7375 6273 6372 6970 7469 6f6e  = '/subscription
+000123d0: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
+000123e0: 6964 7d2f 6d69 6e69 6d75 6d5f 7072 6963  id}/minimum_pric
+000123f0: 6527 0d0a 2020 2020 2020 2020 5f75 726c  e'..        _url
+00012400: 5f70 6174 6820 3d20 4150 4948 656c 7065  _path = APIHelpe
+00012410: 722e 6170 7065 6e64 5f75 726c 5f77 6974  r.append_url_wit
+00012420: 685f 7465 6d70 6c61 7465 5f70 6172 616d  h_template_param
+00012430: 6574 6572 7328 5f75 726c 5f70 6174 682c  eters(_url_path,
+00012440: 207b 200d 0a20 2020 2020 2020 2020 2020   { ..           
+00012450: 2027 7375 6273 6372 6970 7469 6f6e 5f69   'subscription_i
+00012460: 6427 3a20 7375 6273 6372 6970 7469 6f6e  d': subscription
+00012470: 5f69 640d 0a20 2020 2020 2020 207d 290d  _id..        }).
+00012480: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00012490: 6275 696c 6465 7220 3d20 436f 6e66 6967  builder = Config
+000124a0: 7572 6174 696f 6e2e 6261 7365 5f75 7269  uration.base_uri
+000124b0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+000124c0: 5f62 7569 6c64 6572 202b 3d20 5f75 726c  _builder += _url
+000124d0: 5f70 6174 680d 0a20 2020 2020 2020 205f  _path..        _
+000124e0: 7175 6572 795f 7572 6c20 3d20 4150 4948  query_url = APIH
+000124f0: 656c 7065 722e 636c 6561 6e5f 7572 6c28  elper.clean_url(
+00012500: 5f71 7565 7279 5f62 7569 6c64 6572 290d  _query_builder).
+00012510: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+00012520: 7061 7265 2068 6561 6465 7273 0d0a 2020  pare headers..  
+00012530: 2020 2020 2020 5f68 6561 6465 7273 203d        _headers =
+00012540: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+00012550: 2761 6363 6570 7427 3a20 2761 7070 6c69  'accept': 'appli
+00012560: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
+00012570: 2020 2020 2020 2020 2020 2027 5365 7276             'Serv
+00012580: 6963 6552 6566 6572 6572 4e61 6d65 273a  iceRefererName':
+00012590: 2043 6f6e 6669 6775 7261 7469 6f6e 2e73   Configuration.s
+000125a0: 6572 7669 6365 5f72 6566 6572 6572 5f6e  ervice_referer_n
+000125b0: 616d 652c 0d0a 2020 2020 2020 2020 2020  ame,..          
+000125c0: 2020 2743 6f6e 7465 6e74 2d54 7970 6527    'Content-Type'
+000125d0: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
+000125e0: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
+000125f0: 2020 2027 6964 656d 706f 7465 6e63 792d     'idempotency-
+00012600: 6b65 7927 3a20 6964 656d 706f 7465 6e63  key': idempotenc
+00012610: 795f 6b65 790d 0a20 2020 2020 2020 207d  y_key..        }
+00012620: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+00012630: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
+00012640: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
+00012650: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
+00012660: 6c66 2e68 7474 705f 636c 6965 6e74 2e70  lf.http_client.p
+00012670: 6174 6368 285f 7175 6572 795f 7572 6c2c  atch(_query_url,
+00012680: 2068 6561 6465 7273 3d5f 6865 6164 6572   headers=_header
+00012690: 732c 2070 6172 616d 6574 6572 733d 4150  s, parameters=AP
+000126a0: 4948 656c 7065 722e 6a73 6f6e 5f73 6572  IHelper.json_ser
+000126b0: 6961 6c69 7a65 2862 6f64 7929 290d 0a20  ialize(body)).. 
+000126c0: 2020 2020 2020 2042 6173 6963 4175 7468         BasicAuth
+000126d0: 2e61 7070 6c79 285f 7265 7175 6573 7429  .apply(_request)
+000126e0: 0d0a 2020 2020 2020 2020 5f63 6f6e 7465  ..        _conte
+000126f0: 7874 203d 2073 656c 662e 6578 6563 7574  xt = self.execut
+00012700: 655f 7265 7175 6573 7428 5f72 6571 7565  e_request(_reque
+00012710: 7374 290d 0a0d 0a20 2020 2020 2020 2023  st)....        #
+00012720: 2045 6e64 706f 696e 7420 616e 6420 676c   Endpoint and gl
+00012730: 6f62 616c 2065 7272 6f72 2068 616e 646c  obal error handl
+00012740: 696e 6720 7573 696e 6720 4854 5450 2073  ing using HTTP s
+00012750: 7461 7475 7320 636f 6465 732e 0d0a 2020  tatus codes...  
+00012760: 2020 2020 2020 6966 205f 636f 6e74 6578        if _contex
+00012770: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00012780: 735f 636f 6465 203d 3d20 3430 303a 0d0a  s_code == 400:..
+00012790: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000127a0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+000127b0: 2827 496e 7661 6c69 6420 7265 7175 6573  ('Invalid reques
+000127c0: 7427 2c20 5f63 6f6e 7465 7874 290d 0a20  t', _context).. 
+000127d0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+000127e0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+000127f0: 6174 7573 5f63 6f64 6520 3d3d 2034 3031  atus_code == 401
+00012800: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00012810: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00012820: 696f 6e28 2749 6e76 616c 6964 2041 5049  ion('Invalid API
+00012830: 206b 6579 272c 205f 636f 6e74 6578 7429   key', _context)
+00012840: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00012850: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00012860: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00012870: 3430 343a 0d0a 2020 2020 2020 2020 2020  404:..          
+00012880: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00012890: 6570 7469 6f6e 2827 416e 2069 6e66 6f72  eption('An infor
+000128a0: 6d65 6420 7265 736f 7572 6365 2077 6173  med resource was
+000128b0: 206e 6f74 2066 6f75 6e64 272c 205f 636f   not found', _co
+000128c0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+000128d0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+000128e0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+000128f0: 6465 203d 3d20 3431 323a 0d0a 2020 2020  de == 412:..    
+00012900: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00012910: 726f 7245 7863 6570 7469 6f6e 2827 4275  rorException('Bu
+00012920: 7369 6e65 7373 2076 616c 6964 6174 696f  siness validatio
+00012930: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
+00012940: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00012950: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00012960: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00012970: 3d3d 2034 3232 3a0d 0a20 2020 2020 2020  == 422:..       
+00012980: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00012990: 4578 6365 7074 696f 6e28 2743 6f6e 7472  Exception('Contr
+000129a0: 6163 7420 7661 6c69 6461 7469 6f6e 2065  act validation e
+000129b0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+000129c0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+000129d0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+000129e0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+000129f0: 3530 303a 0d0a 2020 2020 2020 2020 2020  500:..          
+00012a00: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00012a10: 6570 7469 6f6e 2827 496e 7465 726e 616c  eption('Internal
+00012a20: 2073 6572 7665 7220 6572 726f 7227 2c20   server error', 
+00012a30: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00012a40: 2020 2073 656c 662e 7661 6c69 6461 7465     self.validate
+00012a50: 5f72 6573 706f 6e73 6528 5f63 6f6e 7465  _response(_conte
+00012a60: 7874 290d 0a0d 0a20 2020 2020 2020 2023  xt)....        #
+00012a70: 2052 6574 7572 6e20 6170 7072 6f70 7269   Return appropri
+00012a80: 6174 6520 7479 7065 0d0a 2020 2020 2020  ate type..      
+00012a90: 2020 7265 7475 726e 2041 5049 4865 6c70    return APIHelp
+00012aa0: 6572 2e6a 736f 6e5f 6465 7365 7269 616c  er.json_deserial
+00012ab0: 697a 6528 5f63 6f6e 7465 7874 2e72 6573  ize(_context.res
+00012ac0: 706f 6e73 652e 7261 775f 626f 6479 2c20  ponse.raw_body, 
+00012ad0: 4765 7453 7562 7363 7269 7074 696f 6e52  GetSubscriptionR
+00012ae0: 6573 706f 6e73 652e 6672 6f6d 5f64 6963  esponse.from_dic
+00012af0: 7469 6f6e 6172 7929 0d0a 0d0a 2020 2020  tionary)....    
+00012b00: 6465 6620 7570 6461 7465 5f73 706c 6974  def update_split
+00012b10: 5f73 7562 7363 7269 7074 696f 6e28 7365  _subscription(se
+00012b20: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
+00012b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b40: 2020 2020 2020 2069 642c 0d0a 2020 2020         id,..    
+00012b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b60: 2020 2020 2020 2020 2020 2020 2020 626f                bo
+00012b70: 6479 293a 0d0a 2020 2020 2020 2020 2222  dy):..        ""
+00012b80: 2244 6f65 7320 6120 5041 5443 4820 7265  "Does a PATCH re
+00012b90: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
+00012ba0: 6970 7469 6f6e 732f 7b69 647d 2f73 706c  iptions/{id}/spl
+00012bb0: 6974 2e0d 0a0d 0a20 2020 2020 2020 2055  it.....        U
+00012bc0: 7064 6174 6553 706c 6974 5375 6273 6372  pdateSplitSubscr
+00012bd0: 6970 7469 6f6e 0d0a 0d0a 2020 2020 2020  iption....      
+00012be0: 2020 4172 6773 3a0d 0a20 2020 2020 2020    Args:..       
+00012bf0: 2020 2020 2069 6420 2873 7472 696e 6729       id (string)
+00012c00: 3a20 5375 6273 6372 6970 7469 6f6e 2773  : Subscription's
+00012c10: 2069 640d 0a20 2020 2020 2020 2020 2020   id..           
+00012c20: 2062 6f64 7920 2855 7064 6174 6553 7562   body (UpdateSub
+00012c30: 7363 7269 7074 696f 6e53 706c 6974 5265  scriptionSplitRe
+00012c40: 7175 6573 7429 3a20 544f 444f 3a20 7479  quest): TODO: ty
+00012c50: 7065 2064 6573 6372 6970 7469 6f6e 0d0a  pe description..
+00012c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012c70: 6865 7265 2e20 4578 616d 706c 653a 200d  here. Example: .
+00012c80: 0a0d 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00012c90: 6e73 3a0d 0a20 2020 2020 2020 2020 2020  ns:..           
+00012ca0: 2047 6574 5375 6273 6372 6970 7469 6f6e   GetSubscription
+00012cb0: 5265 7370 6f6e 7365 3a20 5265 7370 6f6e  Response: Respon
+00012cc0: 7365 2066 726f 6d20 7468 6520 4150 492e  se from the API.
+00012cd0: 200d 0a0d 0a20 2020 2020 2020 2052 6169   ....        Rai
+00012ce0: 7365 733a 0d0a 2020 2020 2020 2020 2020  ses:..          
+00012cf0: 2020 4150 4945 7863 6570 7469 6f6e 3a20    APIException: 
+00012d00: 5768 656e 2061 6e20 6572 726f 7220 6f63  When an error oc
+00012d10: 6375 7273 2077 6869 6c65 2066 6574 6368  curs while fetch
+00012d20: 696e 6720 7468 6520 6461 7461 2066 726f  ing the data fro
+00012d30: 6d0d 0a20 2020 2020 2020 2020 2020 2020  m..             
+00012d40: 2020 2074 6865 2072 656d 6f74 6520 4150     the remote AP
+00012d50: 492e 2054 6869 7320 6578 6365 7074 696f  I. This exceptio
+00012d60: 6e20 696e 636c 7564 6573 2074 6865 2048  n includes the H
+00012d70: 5454 5020 5265 7370 6f6e 7365 0d0a 2020  TTP Response..  
+00012d80: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00012d90: 6465 2c20 616e 2065 7272 6f72 206d 6573  de, an error mes
+00012da0: 7361 6765 2c20 616e 6420 7468 6520 4854  sage, and the HT
+00012db0: 5450 2062 6f64 7920 7468 6174 2077 6173  TP body that was
+00012dc0: 2072 6563 6569 7665 6420 696e 0d0a 2020   received in..  
+00012dd0: 2020 2020 2020 2020 2020 2020 2020 7468                th
+00012de0: 6520 7265 7175 6573 742e 0d0a 0d0a 2020  e request.....  
+00012df0: 2020 2020 2020 2222 220d 0a0d 0a20 2020        """....   
+00012e00: 2020 2020 2023 2050 7265 7061 7265 2071       # Prepare q
+00012e10: 7565 7279 2055 524c 0d0a 2020 2020 2020  uery URL..      
+00012e20: 2020 5f75 726c 5f70 6174 6820 3d20 272f    _url_path = '/
+00012e30: 7375 6273 6372 6970 7469 6f6e 732f 7b69  subscriptions/{i
+00012e40: 647d 2f73 706c 6974 270d 0a20 2020 2020  d}/split'..     
+00012e50: 2020 205f 7572 6c5f 7061 7468 203d 2041     _url_path = A
+00012e60: 5049 4865 6c70 6572 2e61 7070 656e 645f  PIHelper.append_
+00012e70: 7572 6c5f 7769 7468 5f74 656d 706c 6174  url_with_templat
+00012e80: 655f 7061 7261 6d65 7465 7273 285f 7572  e_parameters(_ur
+00012e90: 6c5f 7061 7468 2c20 7b20 0d0a 2020 2020  l_path, { ..    
+00012ea0: 2020 2020 2020 2020 2769 6427 3a20 6964          'id': id
+00012eb0: 0d0a 2020 2020 2020 2020 7d29 0d0a 2020  ..        })..  
+00012ec0: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
+00012ed0: 6c64 6572 203d 2043 6f6e 6669 6775 7261  lder = Configura
+00012ee0: 7469 6f6e 2e62 6173 655f 7572 690d 0a20  tion.base_uri.. 
+00012ef0: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
+00012f00: 696c 6465 7220 2b3d 205f 7572 6c5f 7061  ilder += _url_pa
+00012f10: 7468 0d0a 2020 2020 2020 2020 5f71 7565  th..        _que
+00012f20: 7279 5f75 726c 203d 2041 5049 4865 6c70  ry_url = APIHelp
+00012f30: 6572 2e63 6c65 616e 5f75 726c 285f 7175  er.clean_url(_qu
+00012f40: 6572 795f 6275 696c 6465 7229 0d0a 0d0a  ery_builder)....
+00012f50: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+00012f60: 6520 6865 6164 6572 730d 0a20 2020 2020  e headers..     
+00012f70: 2020 205f 6865 6164 6572 7320 3d20 7b0d     _headers = {.
+00012f80: 0a20 2020 2020 2020 2020 2020 2027 6163  .            'ac
+00012f90: 6365 7074 273a 2027 6170 706c 6963 6174  cept': 'applicat
+00012fa0: 696f 6e2f 6a73 6f6e 272c 0d0a 2020 2020  ion/json',..    
+00012fb0: 2020 2020 2020 2020 2753 6572 7669 6365          'Service
+00012fc0: 5265 6665 7265 724e 616d 6527 3a20 436f  RefererName': Co
+00012fd0: 6e66 6967 7572 6174 696f 6e2e 7365 7276  nfiguration.serv
+00012fe0: 6963 655f 7265 6665 7265 725f 6e61 6d65  ice_referer_name
+00012ff0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+00013000: 436f 6e74 656e 742d 5479 7065 273a 2027  Content-Type': '
+00013010: 6170 706c 6963 6174 696f 6e2f 6a73 6f6e  application/json
+00013020: 270d 0a20 2020 2020 2020 207d 0d0a 0d0a  '..        }....
+00013030: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+00013040: 6520 616e 6420 6578 6563 7574 6520 7265  e and execute re
+00013050: 7175 6573 740d 0a20 2020 2020 2020 205f  quest..        _
+00013060: 7265 7175 6573 7420 3d20 7365 6c66 2e68  request = self.h
+00013070: 7474 705f 636c 6965 6e74 2e70 6174 6368  ttp_client.patch
+00013080: 285f 7175 6572 795f 7572 6c2c 2068 6561  (_query_url, hea
+00013090: 6465 7273 3d5f 6865 6164 6572 732c 2070  ders=_headers, p
+000130a0: 6172 616d 6574 6572 733d 4150 4948 656c  arameters=APIHel
+000130b0: 7065 722e 6a73 6f6e 5f73 6572 6961 6c69  per.json_seriali
+000130c0: 7a65 2862 6f64 7929 290d 0a20 2020 2020  ze(body))..     
+000130d0: 2020 2042 6173 6963 4175 7468 2e61 7070     BasicAuth.app
+000130e0: 6c79 285f 7265 7175 6573 7429 0d0a 2020  ly(_request)..  
+000130f0: 2020 2020 2020 5f63 6f6e 7465 7874 203d        _context =
+00013100: 2073 656c 662e 6578 6563 7574 655f 7265   self.execute_re
+00013110: 7175 6573 7428 5f72 6571 7565 7374 290d  quest(_request).
+00013120: 0a0d 0a20 2020 2020 2020 2023 2045 6e64  ...        # End
+00013130: 706f 696e 7420 616e 6420 676c 6f62 616c  point and global
+00013140: 2065 7272 6f72 2068 616e 646c 696e 6720   error handling 
+00013150: 7573 696e 6720 4854 5450 2073 7461 7475  using HTTP statu
+00013160: 7320 636f 6465 732e 0d0a 2020 2020 2020  s codes...      
+00013170: 2020 6966 205f 636f 6e74 6578 742e 7265    if _context.re
+00013180: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00013190: 6465 203d 3d20 3430 303a 0d0a 2020 2020  de == 400:..    
+000131a0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+000131b0: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+000131c0: 7661 6c69 6420 7265 7175 6573 7427 2c20  valid request', 
+000131d0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+000131e0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+000131f0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00013200: 5f63 6f64 6520 3d3d 2034 3031 3a0d 0a20  _code == 401:.. 
+00013210: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00013220: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00013230: 2749 6e76 616c 6964 2041 5049 206b 6579  'Invalid API key
+00013240: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00013250: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+00013260: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00013270: 7475 735f 636f 6465 203d 3d20 3430 343a  tus_code == 404:
+00013280: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00013290: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+000132a0: 6f6e 2827 416e 2069 6e66 6f72 6d65 6420  on('An informed 
+000132b0: 7265 736f 7572 6365 2077 6173 206e 6f74  resource was not
+000132c0: 2066 6f75 6e64 272c 205f 636f 6e74 6578   found', _contex
+000132d0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+000132e0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+000132f0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00013300: 3d20 3431 323a 0d0a 2020 2020 2020 2020  = 412:..        
+00013310: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00013320: 7863 6570 7469 6f6e 2827 4275 7369 6e65  xception('Busine
+00013330: 7373 2076 616c 6964 6174 696f 6e20 6572  ss validation er
+00013340: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
+00013350: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00013360: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00013370: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00013380: 3232 3a0d 0a20 2020 2020 2020 2020 2020  22:..           
+00013390: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+000133a0: 7074 696f 6e28 2743 6f6e 7472 6163 7420  ption('Contract 
+000133b0: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+000133c0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+000133d0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+000133e0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+000133f0: 7475 735f 636f 6465 203d 3d20 3530 303a  tus_code == 500:
+00013400: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00013410: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+00013420: 6f6e 2827 496e 7465 726e 616c 2073 6572  on('Internal ser
+00013430: 7665 7220 6572 726f 7227 2c20 5f63 6f6e  ver error', _con
+00013440: 7465 7874 290d 0a20 2020 2020 2020 2073  text)..        s
+00013450: 656c 662e 7661 6c69 6461 7465 5f72 6573  elf.validate_res
+00013460: 706f 6e73 6528 5f63 6f6e 7465 7874 290d  ponse(_context).
+00013470: 0a0d 0a20 2020 2020 2020 2023 2052 6574  ...        # Ret
+00013480: 7572 6e20 6170 7072 6f70 7269 6174 6520  urn appropriate 
+00013490: 7479 7065 0d0a 2020 2020 2020 2020 7265  type..        re
+000134a0: 7475 726e 2041 5049 4865 6c70 6572 2e6a  turn APIHelper.j
+000134b0: 736f 6e5f 6465 7365 7269 616c 697a 6528  son_deserialize(
+000134c0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+000134d0: 652e 7261 775f 626f 6479 2c20 4765 7453  e.raw_body, GetS
+000134e0: 7562 7363 7269 7074 696f 6e52 6573 706f  ubscriptionRespo
+000134f0: 6e73 652e 6672 6f6d 5f64 6963 7469 6f6e  nse.from_diction
+00013500: 6172 7929 0d0a 0d0a 2020 2020 6465 6620  ary)....    def 
+00013510: 6765 745f 7375 6273 6372 6970 7469 6f6e  get_subscription
+00013520: 7328 7365 6c66 2c0d 0a20 2020 2020 2020  s(self,..       
+00013530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013540: 2020 2070 6167 653d 4e6f 6e65 2c0d 0a20     page=None,.. 
+00013550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013560: 2020 2020 2020 2020 2073 697a 653d 4e6f           size=No
+00013570: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
+00013580: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00013590: 6f64 653d 4e6f 6e65 2c0d 0a20 2020 2020  ode=None,..     
+000135a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000135b0: 2020 2020 2062 696c 6c69 6e67 5f74 7970       billing_typ
+000135c0: 653d 4e6f 6e65 2c0d 0a20 2020 2020 2020  e=None,..       
+000135d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000135e0: 2020 2063 7573 746f 6d65 725f 6964 3d4e     customer_id=N
+000135f0: 6f6e 652c 0d0a 2020 2020 2020 2020 2020  one,..          
+00013600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013610: 706c 616e 5f69 643d 4e6f 6e65 2c0d 0a20  plan_id=None,.. 
+00013620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013630: 2020 2020 2020 2020 2063 6172 645f 6964           card_id
+00013640: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+00013650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013660: 2020 7374 6174 7573 3d4e 6f6e 652c 0d0a    status=None,..
+00013670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013680: 2020 2020 2020 2020 2020 6e65 7874 5f62            next_b
+00013690: 696c 6c69 6e67 5f73 696e 6365 3d4e 6f6e  illing_since=Non
+000136a0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+000136b0: 2020 2020 2020 2020 2020 2020 2020 6e65                ne
+000136c0: 7874 5f62 696c 6c69 6e67 5f75 6e74 696c  xt_billing_until
+000136d0: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+000136e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000136f0: 2020 6372 6561 7465 645f 7369 6e63 653d    created_since=
+00013700: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
+00013710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013720: 2063 7265 6174 6564 5f75 6e74 696c 3d4e   created_until=N
+00013730: 6f6e 6529 3a0d 0a20 2020 2020 2020 2022  one):..        "
+00013740: 2222 446f 6573 2061 2047 4554 2072 6571  ""Does a GET req
+00013750: 7565 7374 2074 6f20 2f73 7562 7363 7269  uest to /subscri
+00013760: 7074 696f 6e73 2e0d 0a0d 0a20 2020 2020  ptions.....     
+00013770: 2020 2047 6574 7320 616c 6c20 7375 6273     Gets all subs
+00013780: 6372 6970 7469 6f6e 730d 0a0d 0a20 2020  criptions....   
+00013790: 2020 2020 2041 7267 733a 0d0a 2020 2020       Args:..    
+000137a0: 2020 2020 2020 2020 7061 6765 2028 696e          page (in
+000137b0: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
+000137c0: 6765 206e 756d 6265 720d 0a20 2020 2020  ge number..     
+000137d0: 2020 2020 2020 2073 697a 6520 2869 6e74         size (int
+000137e0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+000137f0: 6520 7369 7a65 0d0a 2020 2020 2020 2020  e size..        
+00013800: 2020 2020 636f 6465 2028 7374 7269 6e67      code (string
+00013810: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00013820: 7465 7220 666f 7220 7375 6273 6372 6970  ter for subscrip
+00013830: 7469 6f6e 2773 2063 6f64 650d 0a20 2020  tion's code..   
+00013840: 2020 2020 2020 2020 2062 696c 6c69 6e67           billing
+00013850: 5f74 7970 6520 2873 7472 696e 672c 206f  _type (string, o
+00013860: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00013870: 2066 6f72 2073 7562 7363 7269 7074 696f   for subscriptio
+00013880: 6e27 7320 6269 6c6c 696e 670d 0a20 2020  n's billing..   
+00013890: 2020 2020 2020 2020 2020 2020 2074 7970               typ
+000138a0: 650d 0a20 2020 2020 2020 2020 2020 2063  e..            c
+000138b0: 7573 746f 6d65 725f 6964 2028 7374 7269  ustomer_id (stri
+000138c0: 6e67 2c20 6f70 7469 6f6e 616c 293a 2046  ng, optional): F
+000138d0: 696c 7465 7220 666f 7220 7375 6273 6372  ilter for subscr
+000138e0: 6970 7469 6f6e 2773 2063 7573 746f 6d65  iption's custome
+000138f0: 720d 0a20 2020 2020 2020 2020 2020 2020  r..             
+00013900: 2020 2069 640d 0a20 2020 2020 2020 2020     id..         
+00013910: 2020 2070 6c61 6e5f 6964 2028 7374 7269     plan_id (stri
+00013920: 6e67 2c20 6f70 7469 6f6e 616c 293a 2046  ng, optional): F
+00013930: 696c 7465 7220 666f 7220 7375 6273 6372  ilter for subscr
+00013940: 6970 7469 6f6e 2773 2070 6c61 6e20 6964  iption's plan id
+00013950: 0d0a 2020 2020 2020 2020 2020 2020 6361  ..            ca
+00013960: 7264 5f69 6420 2873 7472 696e 672c 206f  rd_id (string, o
+00013970: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00013980: 2066 6f72 2073 7562 7363 7269 7074 696f   for subscriptio
+00013990: 6e27 7320 6361 7264 2069 640d 0a20 2020  n's card id..   
+000139a0: 2020 2020 2020 2020 2073 7461 7475 7320           status 
+000139b0: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
+000139c0: 6c29 3a20 4669 6c74 6572 2066 6f72 2073  l): Filter for s
+000139d0: 7562 7363 7269 7074 696f 6e27 7320 7374  ubscription's st
+000139e0: 6174 7573 0d0a 2020 2020 2020 2020 2020  atus..          
+000139f0: 2020 6e65 7874 5f62 696c 6c69 6e67 5f73    next_billing_s
+00013a00: 696e 6365 2028 6461 7465 7469 6d65 2c20  ince (datetime, 
+00013a10: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+00013a20: 7220 666f 7220 7375 6273 6372 6970 7469  r for subscripti
+00013a30: 6f6e 2773 0d0a 2020 2020 2020 2020 2020  on's..          
+00013a40: 2020 2020 2020 6e65 7874 2062 696c 6c69        next billi
+00013a50: 6e67 2064 6174 6520 7374 6172 7420 7261  ng date start ra
+00013a60: 6e67 650d 0a20 2020 2020 2020 2020 2020  nge..           
+00013a70: 206e 6578 745f 6269 6c6c 696e 675f 756e   next_billing_un
+00013a80: 7469 6c20 2864 6174 6574 696d 652c 206f  til (datetime, o
+00013a90: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00013aa0: 2066 6f72 2073 7562 7363 7269 7074 696f   for subscriptio
+00013ab0: 6e27 730d 0a20 2020 2020 2020 2020 2020  n's..           
+00013ac0: 2020 2020 206e 6578 7420 6269 6c6c 696e       next billin
+00013ad0: 6720 6461 7465 2065 6e64 2072 616e 6765  g date end range
+00013ae0: 0d0a 2020 2020 2020 2020 2020 2020 6372  ..            cr
+00013af0: 6561 7465 645f 7369 6e63 6520 2864 6174  eated_since (dat
+00013b00: 6574 696d 652c 206f 7074 696f 6e61 6c29  etime, optional)
+00013b10: 3a20 4669 6c74 6572 2066 6f72 2073 7562  : Filter for sub
+00013b20: 7363 7269 7074 696f 6e27 730d 0a20 2020  scription's..   
+00013b30: 2020 2020 2020 2020 2020 2020 2063 7265               cre
+00013b40: 6174 696f 6e20 6461 7465 2073 7461 7274  ation date start
+00013b50: 2072 616e 6765 0d0a 2020 2020 2020 2020   range..        
+00013b60: 2020 2020 6372 6561 7465 645f 756e 7469      created_unti
+00013b70: 6c20 2864 6174 6574 696d 652c 206f 7074  l (datetime, opt
+00013b80: 696f 6e61 6c29 3a20 4669 6c74 6572 2066  ional): Filter f
+00013b90: 6f72 2073 7562 7363 7269 7074 696f 6e73  or subscriptions
+00013ba0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00013bb0: 2020 6372 6561 7469 6f6e 2064 6174 6520    creation date 
+00013bc0: 656e 6420 7261 6e67 650d 0a0d 0a20 2020  end range....   
+00013bd0: 2020 2020 2052 6574 7572 6e73 3a0d 0a20       Returns:.. 
+00013be0: 2020 2020 2020 2020 2020 204c 6973 7453             ListS
+00013bf0: 7562 7363 7269 7074 696f 6e73 5265 7370  ubscriptionsResp
+00013c00: 6f6e 7365 3a20 5265 7370 6f6e 7365 2066  onse: Response f
+00013c10: 726f 6d20 7468 6520 4150 492e 200d 0a0d  rom the API. ...
+00013c20: 0a20 2020 2020 2020 2052 6169 7365 733a  .        Raises:
+00013c30: 0d0a 2020 2020 2020 2020 2020 2020 4150  ..            AP
+00013c40: 4945 7863 6570 7469 6f6e 3a20 5768 656e  IException: When
+00013c50: 2061 6e20 6572 726f 7220 6f63 6375 7273   an error occurs
+00013c60: 2077 6869 6c65 2066 6574 6368 696e 6720   while fetching 
+00013c70: 7468 6520 6461 7461 2066 726f 6d0d 0a20  the data from.. 
+00013c80: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00013c90: 6865 2072 656d 6f74 6520 4150 492e 2054  he remote API. T
+00013ca0: 6869 7320 6578 6365 7074 696f 6e20 696e  his exception in
+00013cb0: 636c 7564 6573 2074 6865 2048 5454 5020  cludes the HTTP 
+00013cc0: 5265 7370 6f6e 7365 0d0a 2020 2020 2020  Response..      
+00013cd0: 2020 2020 2020 2020 2020 636f 6465 2c20            code, 
+00013ce0: 616e 2065 7272 6f72 206d 6573 7361 6765  an error message
+00013cf0: 2c20 616e 6420 7468 6520 4854 5450 2062  , and the HTTP b
+00013d00: 6f64 7920 7468 6174 2077 6173 2072 6563  ody that was rec
+00013d10: 6569 7665 6420 696e 0d0a 2020 2020 2020  eived in..      
+00013d20: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+00013d30: 7175 6573 742e 0d0a 0d0a 2020 2020 2020  quest.....      
+00013d40: 2020 2222 220d 0a0d 0a20 2020 2020 2020    """....       
+00013d50: 2023 2050 7265 7061 7265 2071 7565 7279   # Prepare query
+00013d60: 2055 524c 0d0a 2020 2020 2020 2020 5f75   URL..        _u
+00013d70: 726c 5f70 6174 6820 3d20 272f 7375 6273  rl_path = '/subs
+00013d80: 6372 6970 7469 6f6e 7327 0d0a 2020 2020  criptions'..    
+00013d90: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+00013da0: 6572 203d 2043 6f6e 6669 6775 7261 7469  er = Configurati
+00013db0: 6f6e 2e62 6173 655f 7572 690d 0a20 2020  on.base_uri..   
+00013dc0: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+00013dd0: 6465 7220 2b3d 205f 7572 6c5f 7061 7468  der += _url_path
+00013de0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00013df0: 5f70 6172 616d 6574 6572 7320 3d20 7b0d  _parameters = {.
+00013e00: 0a20 2020 2020 2020 2020 2020 2027 7061  .            'pa
+00013e10: 6765 273a 2070 6167 652c 0d0a 2020 2020  ge': page,..    
+00013e20: 2020 2020 2020 2020 2773 697a 6527 3a20          'size': 
+00013e30: 7369 7a65 2c0d 0a20 2020 2020 2020 2020  size,..         
+00013e40: 2020 2027 636f 6465 273a 2063 6f64 652c     'code': code,
+00013e50: 0d0a 2020 2020 2020 2020 2020 2020 2762  ..            'b
+00013e60: 696c 6c69 6e67 5f74 7970 6527 3a20 6269  illing_type': bi
+00013e70: 6c6c 696e 675f 7479 7065 2c0d 0a20 2020  lling_type,..   
+00013e80: 2020 2020 2020 2020 2027 6375 7374 6f6d           'custom
+00013e90: 6572 5f69 6427 3a20 6375 7374 6f6d 6572  er_id': customer
+00013ea0: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+00013eb0: 2020 2770 6c61 6e5f 6964 273a 2070 6c61    'plan_id': pla
+00013ec0: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
+00013ed0: 2020 2027 6361 7264 5f69 6427 3a20 6361     'card_id': ca
+00013ee0: 7264 5f69 642c 0d0a 2020 2020 2020 2020  rd_id,..        
+00013ef0: 2020 2020 2773 7461 7475 7327 3a20 7374      'status': st
+00013f00: 6174 7573 2c0d 0a20 2020 2020 2020 2020  atus,..         
+00013f10: 2020 2027 6e65 7874 5f62 696c 6c69 6e67     'next_billing
+00013f20: 5f73 696e 6365 273a 2041 5049 4865 6c70  _since': APIHelp
+00013f30: 6572 2e77 6865 6e5f 6465 6669 6e65 6428  er.when_defined(
+00013f40: 4150 4948 656c 7065 722e 5246 4333 3333  APIHelper.RFC333
+00013f50: 3944 6174 6554 696d 652c 206e 6578 745f  9DateTime, next_
+00013f60: 6269 6c6c 696e 675f 7369 6e63 6529 2c0d  billing_since),.
+00013f70: 0a20 2020 2020 2020 2020 2020 2027 6e65  .            'ne
+00013f80: 7874 5f62 696c 6c69 6e67 5f75 6e74 696c  xt_billing_until
+00013f90: 273a 2041 5049 4865 6c70 6572 2e77 6865  ': APIHelper.whe
+00013fa0: 6e5f 6465 6669 6e65 6428 4150 4948 656c  n_defined(APIHel
+00013fb0: 7065 722e 5246 4333 3333 3944 6174 6554  per.RFC3339DateT
+00013fc0: 696d 652c 206e 6578 745f 6269 6c6c 696e  ime, next_billin
+00013fd0: 675f 756e 7469 6c29 2c0d 0a20 2020 2020  g_until),..     
+00013fe0: 2020 2020 2020 2027 6372 6561 7465 645f         'created_
+00013ff0: 7369 6e63 6527 3a20 4150 4948 656c 7065  since': APIHelpe
+00014000: 722e 7768 656e 5f64 6566 696e 6564 2841  r.when_defined(A
+00014010: 5049 4865 6c70 6572 2e52 4643 3333 3339  PIHelper.RFC3339
+00014020: 4461 7465 5469 6d65 2c20 6372 6561 7465  DateTime, create
+00014030: 645f 7369 6e63 6529 2c0d 0a20 2020 2020  d_since),..     
+00014040: 2020 2020 2020 2027 6372 6561 7465 645f         'created_
+00014050: 756e 7469 6c27 3a20 4150 4948 656c 7065  until': APIHelpe
+00014060: 722e 7768 656e 5f64 6566 696e 6564 2841  r.when_defined(A
+00014070: 5049 4865 6c70 6572 2e52 4643 3333 3339  PIHelper.RFC3339
+00014080: 4461 7465 5469 6d65 2c20 6372 6561 7465  DateTime, create
+00014090: 645f 756e 7469 6c29 0d0a 2020 2020 2020  d_until)..      
+000140a0: 2020 7d0d 0a20 2020 2020 2020 205f 7175    }..        _qu
+000140b0: 6572 795f 6275 696c 6465 7220 3d20 4150  ery_builder = AP
+000140c0: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
+000140d0: 726c 5f77 6974 685f 7175 6572 795f 7061  rl_with_query_pa
+000140e0: 7261 6d65 7465 7273 285f 7175 6572 795f  rameters(_query_
+000140f0: 6275 696c 6465 722c 0d0a 2020 2020 2020  builder,..      
+00014100: 2020 2020 2020 5f71 7565 7279 5f70 6172        _query_par
+00014110: 616d 6574 6572 732c 2043 6f6e 6669 6775  ameters, Configu
+00014120: 7261 7469 6f6e 2e61 7272 6179 5f73 6572  ration.array_ser
+00014130: 6961 6c69 7a61 7469 6f6e 290d 0a20 2020  ialization)..   
+00014140: 2020 2020 205f 7175 6572 795f 7572 6c20       _query_url 
+00014150: 3d20 4150 4948 656c 7065 722e 636c 6561  = APIHelper.clea
+00014160: 6e5f 7572 6c28 5f71 7565 7279 5f62 7569  n_url(_query_bui
+00014170: 6c64 6572 290d 0a0d 0a20 2020 2020 2020  lder)....       
+00014180: 2023 2050 7265 7061 7265 2068 6561 6465   # Prepare heade
+00014190: 7273 0d0a 2020 2020 2020 2020 5f68 6561  rs..        _hea
+000141a0: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
+000141b0: 2020 2020 2020 2761 6363 6570 7427 3a20        'accept': 
+000141c0: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
+000141d0: 6e27 2c0d 0a20 2020 2020 2020 2020 2020  n',..           
+000141e0: 2027 5365 7276 6963 6552 6566 6572 6572   'ServiceReferer
+000141f0: 4e61 6d65 273a 2043 6f6e 6669 6775 7261  Name': Configura
+00014200: 7469 6f6e 2e73 6572 7669 6365 5f72 6566  tion.service_ref
+00014210: 6572 6572 5f6e 616d 650d 0a20 2020 2020  erer_name..     
+00014220: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
+00014230: 2320 5072 6570 6172 6520 616e 6420 6578  # Prepare and ex
+00014240: 6563 7574 6520 7265 7175 6573 740d 0a20  ecute request.. 
+00014250: 2020 2020 2020 205f 7265 7175 6573 7420         _request 
+00014260: 3d20 7365 6c66 2e68 7474 705f 636c 6965  = self.http_clie
+00014270: 6e74 2e67 6574 285f 7175 6572 795f 7572  nt.get(_query_ur
+00014280: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
+00014290: 6572 7329 0d0a 2020 2020 2020 2020 4261  ers)..        Ba
+000142a0: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
+000142b0: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
+000142c0: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
+000142d0: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
+000142e0: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
+000142f0: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
+00014300: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
+00014310: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
+00014320: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
+00014330: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
+00014340: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00014350: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00014360: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
+00014370: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00014380: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+00014390: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
+000143a0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+000143b0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+000143c0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+000143d0: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
+000143e0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+000143f0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+00014400: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
+00014410: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00014420: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00014430: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00014440: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
+00014450: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00014460: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
+00014470: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
+00014480: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
+00014490: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
+000144a0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+000144b0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+000144c0: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
+000144d0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+000144e0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+000144f0: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
+00014500: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+00014510: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00014520: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00014530: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00014540: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
+00014550: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00014560: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00014570: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
+00014580: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+00014590: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+000145a0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+000145b0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+000145c0: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
+000145d0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+000145e0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+000145f0: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
+00014600: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+00014610: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
+00014620: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
+00014630: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
+00014640: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
+00014650: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
+00014660: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00014670: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
+00014680: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
+00014690: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
+000146a0: 5f62 6f64 792c 204c 6973 7453 7562 7363  _body, ListSubsc
+000146b0: 7269 7074 696f 6e73 5265 7370 6f6e 7365  riptionsResponse
+000146c0: 2e66 726f 6d5f 6469 6374 696f 6e61 7279  .from_dictionary
+000146d0: 290d 0a0d 0a20 2020 2064 6566 2067 6574  )....    def get
+000146e0: 5f73 7562 7363 7269 7074 696f 6e28 7365  _subscription(se
+000146f0: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
+00014700: 2020 2020 2020 2020 2020 2020 2020 7375                su
+00014710: 6273 6372 6970 7469 6f6e 5f69 6429 3a0d  bscription_id):.
+00014720: 0a20 2020 2020 2020 2022 2222 446f 6573  .        """Does
+00014730: 2061 2047 4554 2072 6571 7565 7374 2074   a GET request t
+00014740: 6f20 2f73 7562 7363 7269 7074 696f 6e73  o /subscriptions
+00014750: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
+00014760: 647d 2e0d 0a0d 0a20 2020 2020 2020 2047  d}.....        G
+00014770: 6574 7320 6120 7375 6273 6372 6970 7469  ets a subscripti
+00014780: 6f6e 0d0a 0d0a 2020 2020 2020 2020 4172  on....        Ar
+00014790: 6773 3a0d 0a20 2020 2020 2020 2020 2020  gs:..           
+000147a0: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+000147b0: 2028 7374 7269 6e67 293a 2053 7562 7363   (string): Subsc
+000147c0: 7269 7074 696f 6e20 6964 0d0a 0d0a 2020  ription id....  
+000147d0: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
+000147e0: 2020 2020 2020 2020 2020 2020 4765 7453              GetS
+000147f0: 7562 7363 7269 7074 696f 6e52 6573 706f  ubscriptionRespo
+00014800: 6e73 653a 2052 6573 706f 6e73 6520 6672  nse: Response fr
+00014810: 6f6d 2074 6865 2041 5049 2e20 0d0a 0d0a  om the API. ....
+00014820: 2020 2020 2020 2020 5261 6973 6573 3a0d          Raises:.
+00014830: 0a20 2020 2020 2020 2020 2020 2041 5049  .            API
+00014840: 4578 6365 7074 696f 6e3a 2057 6865 6e20  Exception: When 
+00014850: 616e 2065 7272 6f72 206f 6363 7572 7320  an error occurs 
+00014860: 7768 696c 6520 6665 7463 6869 6e67 2074  while fetching t
+00014870: 6865 2064 6174 6120 6672 6f6d 0d0a 2020  he data from..  
+00014880: 2020 2020 2020 2020 2020 2020 2020 7468                th
+00014890: 6520 7265 6d6f 7465 2041 5049 2e20 5468  e remote API. Th
+000148a0: 6973 2065 7863 6570 7469 6f6e 2069 6e63  is exception inc
+000148b0: 6c75 6465 7320 7468 6520 4854 5450 2052  ludes the HTTP R
+000148c0: 6573 706f 6e73 650d 0a20 2020 2020 2020  esponse..       
+000148d0: 2020 2020 2020 2020 2063 6f64 652c 2061           code, a
+000148e0: 6e20 6572 726f 7220 6d65 7373 6167 652c  n error message,
+000148f0: 2061 6e64 2074 6865 2048 5454 5020 626f   and the HTTP bo
+00014900: 6479 2074 6861 7420 7761 7320 7265 6365  dy that was rece
+00014910: 6976 6564 2069 6e0d 0a20 2020 2020 2020  ived in..       
+00014920: 2020 2020 2020 2020 2074 6865 2072 6571           the req
+00014930: 7565 7374 2e0d 0a0d 0a20 2020 2020 2020  uest.....       
+00014940: 2022 2222 0d0a 0d0a 2020 2020 2020 2020   """....        
+00014950: 2320 5072 6570 6172 6520 7175 6572 7920  # Prepare query 
+00014960: 5552 4c0d 0a20 2020 2020 2020 205f 7572  URL..        _ur
+00014970: 6c5f 7061 7468 203d 2027 2f73 7562 7363  l_path = '/subsc
+00014980: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
+00014990: 6970 7469 6f6e 5f69 647d 270d 0a20 2020  iption_id}'..   
+000149a0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+000149b0: 2041 5049 4865 6c70 6572 2e61 7070 656e   APIHelper.appen
+000149c0: 645f 7572 6c5f 7769 7468 5f74 656d 706c  d_url_with_templ
+000149d0: 6174 655f 7061 7261 6d65 7465 7273 285f  ate_parameters(_
+000149e0: 7572 6c5f 7061 7468 2c20 7b20 0d0a 2020  url_path, { ..  
+000149f0: 2020 2020 2020 2020 2020 2773 7562 7363            'subsc
+00014a00: 7269 7074 696f 6e5f 6964 273a 2073 7562  ription_id': sub
+00014a10: 7363 7269 7074 696f 6e5f 6964 0d0a 2020  scription_id..  
+00014a20: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
+00014a30: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
+00014a40: 203d 2043 6f6e 6669 6775 7261 7469 6f6e   = Configuration
+00014a50: 2e62 6173 655f 7572 690d 0a20 2020 2020  .base_uri..     
+00014a60: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
+00014a70: 7220 2b3d 205f 7572 6c5f 7061 7468 0d0a  r += _url_path..
+00014a80: 2020 2020 2020 2020 5f71 7565 7279 5f75          _query_u
+00014a90: 726c 203d 2041 5049 4865 6c70 6572 2e63  rl = APIHelper.c
+00014aa0: 6c65 616e 5f75 726c 285f 7175 6572 795f  lean_url(_query_
+00014ab0: 6275 696c 6465 7229 0d0a 0d0a 2020 2020  builder)....    
+00014ac0: 2020 2020 2320 5072 6570 6172 6520 6865      # Prepare he
+00014ad0: 6164 6572 730d 0a20 2020 2020 2020 205f  aders..        _
+00014ae0: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
+00014af0: 2020 2020 2020 2020 2027 6163 6365 7074           'accept
+00014b00: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
+00014b10: 6a73 6f6e 272c 0d0a 2020 2020 2020 2020  json',..        
+00014b20: 2020 2020 2753 6572 7669 6365 5265 6665      'ServiceRefe
+00014b30: 7265 724e 616d 6527 3a20 436f 6e66 6967  rerName': Config
+00014b40: 7572 6174 696f 6e2e 7365 7276 6963 655f  uration.service_
+00014b50: 7265 6665 7265 725f 6e61 6d65 0d0a 2020  referer_name..  
+00014b60: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
+00014b70: 2020 2023 2050 7265 7061 7265 2061 6e64     # Prepare and
+00014b80: 2065 7865 6375 7465 2072 6571 7565 7374   execute request
+00014b90: 0d0a 2020 2020 2020 2020 5f72 6571 7565  ..        _reque
+00014ba0: 7374 203d 2073 656c 662e 6874 7470 5f63  st = self.http_c
+00014bb0: 6c69 656e 742e 6765 7428 5f71 7565 7279  lient.get(_query
+00014bc0: 5f75 726c 2c20 6865 6164 6572 733d 5f68  _url, headers=_h
+00014bd0: 6561 6465 7273 290d 0a20 2020 2020 2020  eaders)..       
+00014be0: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
+00014bf0: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
+00014c00: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
+00014c10: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
+00014c20: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
+00014c30: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
+00014c40: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
+00014c50: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
+00014c60: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
+00014c70: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
+00014c80: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00014c90: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00014ca0: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
+00014cb0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00014cc0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+00014cd0: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
+00014ce0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00014cf0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00014d00: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00014d10: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
+00014d20: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00014d30: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+00014d40: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
+00014d50: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00014d60: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00014d70: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00014d80: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
+00014d90: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00014da0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00014db0: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
+00014dc0: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
+00014dd0: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
+00014de0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00014df0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00014e00: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00014e10: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
+00014e20: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00014e30: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
+00014e40: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
+00014e50: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+00014e60: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+00014e70: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00014e80: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
+00014e90: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00014ea0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00014eb0: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
+00014ec0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+00014ed0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00014ee0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00014ef0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00014f00: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
+00014f10: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00014f20: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00014f30: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
+00014f40: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
+00014f50: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
+00014f60: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
+00014f70: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
+00014f80: 0a20 2020 2020 2020 2023 2052 6574 7572  .        # Retur
+00014f90: 6e20 6170 7072 6f70 7269 6174 6520 7479  n appropriate ty
+00014fa0: 7065 0d0a 2020 2020 2020 2020 7265 7475  pe..        retu
+00014fb0: 726e 2041 5049 4865 6c70 6572 2e6a 736f  rn APIHelper.jso
+00014fc0: 6e5f 6465 7365 7269 616c 697a 6528 5f63  n_deserialize(_c
+00014fd0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00014fe0: 7261 775f 626f 6479 2c20 4765 7453 7562  raw_body, GetSub
+00014ff0: 7363 7269 7074 696f 6e52 6573 706f 6e73  scriptionRespons
+00015000: 652e 6672 6f6d 5f64 6963 7469 6f6e 6172  e.from_dictionar
+00015010: 7929 0d0a 0d0a 2020 2020 6465 6620 6465  y)....    def de
+00015020: 6c65 7465 5f69 6e63 7265 6d65 6e74 2873  lete_increment(s
+00015030: 656c 662c 0d0a 2020 2020 2020 2020 2020  elf,..          
+00015040: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00015050: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
+00015060: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015070: 2020 2020 2020 2020 2020 696e 6372 656d            increm
+00015080: 656e 745f 6964 2c0d 0a20 2020 2020 2020  ent_id,..       
+00015090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000150a0: 2020 6964 656d 706f 7465 6e63 795f 6b65    idempotency_ke
+000150b0: 793d 4e6f 6e65 293a 0d0a 2020 2020 2020  y=None):..      
+000150c0: 2020 2222 2244 6f65 7320 6120 4445 4c45    """Does a DELE
+000150d0: 5445 2072 6571 7565 7374 2074 6f20 2f73  TE request to /s
+000150e0: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
+000150f0: 6273 6372 6970 7469 6f6e 5f69 647d 2f69  bscription_id}/i
+00015100: 6e63 7265 6d65 6e74 732f 7b69 6e63 7265  ncrements/{incre
+00015110: 6d65 6e74 5f69 647d 2e0d 0a0d 0a20 2020  ment_id}.....   
+00015120: 2020 2020 2044 656c 6574 6573 2061 2069       Deletes a i
+00015130: 6e63 7265 6d65 6e74 0d0a 0d0a 2020 2020  ncrement....    
+00015140: 2020 2020 4172 6773 3a0d 0a20 2020 2020      Args:..     
+00015150: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
+00015160: 696f 6e5f 6964 2028 7374 7269 6e67 293a  ion_id (string):
+00015170: 2053 7562 7363 7269 7074 696f 6e20 6964   Subscription id
+00015180: 0d0a 2020 2020 2020 2020 2020 2020 696e  ..            in
+00015190: 6372 656d 656e 745f 6964 2028 7374 7269  crement_id (stri
+000151a0: 6e67 293a 2049 6e63 7265 6d65 6e74 2069  ng): Increment i
+000151b0: 640d 0a20 2020 2020 2020 2020 2020 2069  d..            i
+000151c0: 6465 6d70 6f74 656e 6379 5f6b 6579 2028  dempotency_key (
+000151d0: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
+000151e0: 293a 2054 4f44 4f3a 2074 7970 6520 6465  ): TODO: type de
+000151f0: 7363 7269 7074 696f 6e20 6865 7265 2e0d  scription here..
+00015200: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015210: 2045 7861 6d70 6c65 3a20 0d0a 0d0a 2020   Example: ....  
+00015220: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
+00015230: 2020 2020 2020 2020 2020 2020 4765 7449              GetI
+00015240: 6e63 7265 6d65 6e74 5265 7370 6f6e 7365  ncrementResponse
+00015250: 3a20 5265 7370 6f6e 7365 2066 726f 6d20  : Response from 
+00015260: 7468 6520 4150 492e 200d 0a0d 0a20 2020  the API. ....   
+00015270: 2020 2020 2052 6169 7365 733a 0d0a 2020       Raises:..  
+00015280: 2020 2020 2020 2020 2020 4150 4945 7863            APIExc
+00015290: 6570 7469 6f6e 3a20 5768 656e 2061 6e20  eption: When an 
+000152a0: 6572 726f 7220 6f63 6375 7273 2077 6869  error occurs whi
+000152b0: 6c65 2066 6574 6368 696e 6720 7468 6520  le fetching the 
+000152c0: 6461 7461 2066 726f 6d0d 0a20 2020 2020  data from..     
+000152d0: 2020 2020 2020 2020 2020 2074 6865 2072             the r
+000152e0: 656d 6f74 6520 4150 492e 2054 6869 7320  emote API. This 
+000152f0: 6578 6365 7074 696f 6e20 696e 636c 7564  exception includ
+00015300: 6573 2074 6865 2048 5454 5020 5265 7370  es the HTTP Resp
+00015310: 6f6e 7365 0d0a 2020 2020 2020 2020 2020  onse..          
+00015320: 2020 2020 2020 636f 6465 2c20 616e 2065        code, an e
+00015330: 7272 6f72 206d 6573 7361 6765 2c20 616e  rror message, an
+00015340: 6420 7468 6520 4854 5450 2062 6f64 7920  d the HTTP body 
+00015350: 7468 6174 2077 6173 2072 6563 6569 7665  that was receive
+00015360: 6420 696e 0d0a 2020 2020 2020 2020 2020  d in..          
+00015370: 2020 2020 2020 7468 6520 7265 7175 6573        the reques
+00015380: 742e 0d0a 0d0a 2020 2020 2020 2020 2222  t.....        ""
+00015390: 220d 0a0d 0a20 2020 2020 2020 2023 2050  "....        # P
+000153a0: 7265 7061 7265 2071 7565 7279 2055 524c  repare query URL
+000153b0: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
+000153c0: 6174 6820 3d20 272f 7375 6273 6372 6970  ath = '/subscrip
+000153d0: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
+000153e0: 696f 6e5f 6964 7d2f 696e 6372 656d 656e  ion_id}/incremen
+000153f0: 7473 2f7b 696e 6372 656d 656e 745f 6964  ts/{increment_id
+00015400: 7d27 0d0a 2020 2020 2020 2020 5f75 726c  }'..        _url
+00015410: 5f70 6174 6820 3d20 4150 4948 656c 7065  _path = APIHelpe
+00015420: 722e 6170 7065 6e64 5f75 726c 5f77 6974  r.append_url_wit
+00015430: 685f 7465 6d70 6c61 7465 5f70 6172 616d  h_template_param
+00015440: 6574 6572 7328 5f75 726c 5f70 6174 682c  eters(_url_path,
+00015450: 207b 200d 0a20 2020 2020 2020 2020 2020   { ..           
+00015460: 2027 7375 6273 6372 6970 7469 6f6e 5f69   'subscription_i
+00015470: 6427 3a20 7375 6273 6372 6970 7469 6f6e  d': subscription
+00015480: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+00015490: 2020 2769 6e63 7265 6d65 6e74 5f69 6427    'increment_id'
+000154a0: 3a20 696e 6372 656d 656e 745f 6964 0d0a  : increment_id..
+000154b0: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
+000154c0: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+000154d0: 6572 203d 2043 6f6e 6669 6775 7261 7469  er = Configurati
+000154e0: 6f6e 2e62 6173 655f 7572 690d 0a20 2020  on.base_uri..   
+000154f0: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+00015500: 6465 7220 2b3d 205f 7572 6c5f 7061 7468  der += _url_path
+00015510: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00015520: 5f75 726c 203d 2041 5049 4865 6c70 6572  _url = APIHelper
+00015530: 2e63 6c65 616e 5f75 726c 285f 7175 6572  .clean_url(_quer
+00015540: 795f 6275 696c 6465 7229 0d0a 0d0a 2020  y_builder)....  
+00015550: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+00015560: 6865 6164 6572 730d 0a20 2020 2020 2020  headers..       
+00015570: 205f 6865 6164 6572 7320 3d20 7b0d 0a20   _headers = {.. 
+00015580: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
+00015590: 7074 273a 2027 6170 706c 6963 6174 696f  pt': 'applicatio
+000155a0: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
+000155b0: 2020 2020 2020 2753 6572 7669 6365 5265        'ServiceRe
+000155c0: 6665 7265 724e 616d 6527 3a20 436f 6e66  fererName': Conf
+000155d0: 6967 7572 6174 696f 6e2e 7365 7276 6963  iguration.servic
+000155e0: 655f 7265 6665 7265 725f 6e61 6d65 2c0d  e_referer_name,.
+000155f0: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
+00015600: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
+00015610: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
+00015620: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
+00015630: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+00015640: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
+00015650: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
+00015660: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
+00015670: 705f 636c 6965 6e74 2e64 656c 6574 6528  p_client.delete(
+00015680: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
+00015690: 6572 733d 5f68 6561 6465 7273 290d 0a20  ers=_headers).. 
+000156a0: 2020 2020 2020 2042 6173 6963 4175 7468         BasicAuth
+000156b0: 2e61 7070 6c79 285f 7265 7175 6573 7429  .apply(_request)
+000156c0: 0d0a 2020 2020 2020 2020 5f63 6f6e 7465  ..        _conte
+000156d0: 7874 203d 2073 656c 662e 6578 6563 7574  xt = self.execut
+000156e0: 655f 7265 7175 6573 7428 5f72 6571 7565  e_request(_reque
+000156f0: 7374 290d 0a0d 0a20 2020 2020 2020 2023  st)....        #
+00015700: 2045 6e64 706f 696e 7420 616e 6420 676c   Endpoint and gl
+00015710: 6f62 616c 2065 7272 6f72 2068 616e 646c  obal error handl
+00015720: 696e 6720 7573 696e 6720 4854 5450 2073  ing using HTTP s
+00015730: 7461 7475 7320 636f 6465 732e 0d0a 2020  tatus codes...  
+00015740: 2020 2020 2020 6966 205f 636f 6e74 6578        if _contex
+00015750: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00015760: 735f 636f 6465 203d 3d20 3430 303a 0d0a  s_code == 400:..
+00015770: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00015780: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00015790: 2827 496e 7661 6c69 6420 7265 7175 6573  ('Invalid reques
+000157a0: 7427 2c20 5f63 6f6e 7465 7874 290d 0a20  t', _context).. 
+000157b0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+000157c0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+000157d0: 6174 7573 5f63 6f64 6520 3d3d 2034 3031  atus_code == 401
+000157e0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+000157f0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00015800: 696f 6e28 2749 6e76 616c 6964 2041 5049  ion('Invalid API
+00015810: 206b 6579 272c 205f 636f 6e74 6578 7429   key', _context)
+00015820: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00015830: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00015840: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00015850: 3430 343a 0d0a 2020 2020 2020 2020 2020  404:..          
+00015860: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00015870: 6570 7469 6f6e 2827 416e 2069 6e66 6f72  eption('An infor
+00015880: 6d65 6420 7265 736f 7572 6365 2077 6173  med resource was
+00015890: 206e 6f74 2066 6f75 6e64 272c 205f 636f   not found', _co
+000158a0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+000158b0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+000158c0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+000158d0: 6465 203d 3d20 3431 323a 0d0a 2020 2020  de == 412:..    
+000158e0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+000158f0: 726f 7245 7863 6570 7469 6f6e 2827 4275  rorException('Bu
+00015900: 7369 6e65 7373 2076 616c 6964 6174 696f  siness validatio
+00015910: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
+00015920: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00015930: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00015940: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00015950: 3d3d 2034 3232 3a0d 0a20 2020 2020 2020  == 422:..       
+00015960: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00015970: 4578 6365 7074 696f 6e28 2743 6f6e 7472  Exception('Contr
+00015980: 6163 7420 7661 6c69 6461 7469 6f6e 2065  act validation e
+00015990: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
 000159a0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
 000159b0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
 000159c0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-000159d0: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
+000159d0: 3530 303a 0d0a 2020 2020 2020 2020 2020  500:..          
 000159e0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-000159f0: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-00015a00: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
-00015a10: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00015a20: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00015a30: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00015a40: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
-00015a50: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00015a60: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
-00015a70: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
-00015a80: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
-00015a90: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00015aa0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00015ab0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00015ac0: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
-00015ad0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00015ae0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00015af0: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
-00015b00: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-00015b10: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00015b20: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00015b30: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00015b40: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
-00015b50: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00015b60: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
-00015b70: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
-00015b80: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
-00015b90: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00015ba0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00015bb0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00015bc0: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
-00015bd0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00015be0: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
-00015bf0: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
-00015c00: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00015c10: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
-00015c20: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
-00015c30: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
-00015c40: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
-00015c50: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
-00015c60: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
-00015c70: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
-00015c80: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
-00015c90: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
-00015ca0: 792c 2047 6574 5375 6273 6372 6970 7469  y, GetSubscripti
-00015cb0: 6f6e 5265 7370 6f6e 7365 2e66 726f 6d5f  onResponse.from_
-00015cc0: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
-00015cd0: 2020 2064 6566 2075 7064 6174 655f 7375     def update_su
-00015ce0: 6273 6372 6970 7469 6f6e 5f6d 696e 6975  bscription_miniu
-00015cf0: 6d5f 7072 6963 6528 7365 6c66 2c0d 0a20  m_price(self,.. 
+000159f0: 6570 7469 6f6e 2827 496e 7465 726e 616c  eption('Internal
+00015a00: 2073 6572 7665 7220 6572 726f 7227 2c20   server error', 
+00015a10: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00015a20: 2020 2073 656c 662e 7661 6c69 6461 7465     self.validate
+00015a30: 5f72 6573 706f 6e73 6528 5f63 6f6e 7465  _response(_conte
+00015a40: 7874 290d 0a0d 0a20 2020 2020 2020 2023  xt)....        #
+00015a50: 2052 6574 7572 6e20 6170 7072 6f70 7269   Return appropri
+00015a60: 6174 6520 7479 7065 0d0a 2020 2020 2020  ate type..      
+00015a70: 2020 7265 7475 726e 2041 5049 4865 6c70    return APIHelp
+00015a80: 6572 2e6a 736f 6e5f 6465 7365 7269 616c  er.json_deserial
+00015a90: 697a 6528 5f63 6f6e 7465 7874 2e72 6573  ize(_context.res
+00015aa0: 706f 6e73 652e 7261 775f 626f 6479 2c20  ponse.raw_body, 
+00015ab0: 4765 7449 6e63 7265 6d65 6e74 5265 7370  GetIncrementResp
+00015ac0: 6f6e 7365 2e66 726f 6d5f 6469 6374 696f  onse.from_dictio
+00015ad0: 6e61 7279 290d 0a0d 0a20 2020 2064 6566  nary)....    def
+00015ae0: 2067 6574 5f69 6e63 7265 6d65 6e74 5f62   get_increment_b
+00015af0: 795f 6964 2873 656c 662c 0d0a 2020 2020  y_id(self,..    
+00015b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015b10: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+00015b20: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
+00015b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015b40: 2020 2020 2020 696e 6372 656d 656e 745f        increment_
+00015b50: 6964 293a 0d0a 2020 2020 2020 2020 2222  id):..        ""
+00015b60: 2244 6f65 7320 6120 4745 5420 7265 7175  "Does a GET requ
+00015b70: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
+00015b80: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
+00015b90: 696f 6e5f 6964 7d2f 696e 6372 656d 656e  ion_id}/incremen
+00015ba0: 7473 2f7b 696e 6372 656d 656e 745f 6964  ts/{increment_id
+00015bb0: 7d2e 0d0a 0d0a 2020 2020 2020 2020 4765  }.....        Ge
+00015bc0: 7449 6e63 7265 6d65 6e74 4279 4964 0d0a  tIncrementById..
+00015bd0: 0d0a 2020 2020 2020 2020 4172 6773 3a0d  ..        Args:.
+00015be0: 0a20 2020 2020 2020 2020 2020 2073 7562  .            sub
+00015bf0: 7363 7269 7074 696f 6e5f 6964 2028 7374  scription_id (st
+00015c00: 7269 6e67 293a 2054 6865 2073 7562 7363  ring): The subsc
+00015c10: 7269 7074 696f 6e20 4964 0d0a 2020 2020  ription Id..    
+00015c20: 2020 2020 2020 2020 696e 6372 656d 656e          incremen
+00015c30: 745f 6964 2028 7374 7269 6e67 293a 2054  t_id (string): T
+00015c40: 6865 2069 6e63 7265 6d65 6e74 2049 640d  he increment Id.
+00015c50: 0a0d 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00015c60: 6e73 3a0d 0a20 2020 2020 2020 2020 2020  ns:..           
+00015c70: 2047 6574 496e 6372 656d 656e 7452 6573   GetIncrementRes
+00015c80: 706f 6e73 653a 2052 6573 706f 6e73 6520  ponse: Response 
+00015c90: 6672 6f6d 2074 6865 2041 5049 2e20 0d0a  from the API. ..
+00015ca0: 0d0a 2020 2020 2020 2020 5261 6973 6573  ..        Raises
+00015cb0: 3a0d 0a20 2020 2020 2020 2020 2020 2041  :..            A
+00015cc0: 5049 4578 6365 7074 696f 6e3a 2057 6865  PIException: Whe
+00015cd0: 6e20 616e 2065 7272 6f72 206f 6363 7572  n an error occur
+00015ce0: 7320 7768 696c 6520 6665 7463 6869 6e67  s while fetching
+00015cf0: 2074 6865 2064 6174 6120 6672 6f6d 0d0a   the data from..
 00015d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015d20: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-00015d30: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-00015d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015d60: 2020 2062 6f64 792c 0d0a 2020 2020 2020     body,..      
-00015d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015d90: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
-00015da0: 6579 3d4e 6f6e 6529 3a0d 0a20 2020 2020  ey=None):..     
-00015db0: 2020 2022 2222 446f 6573 2061 2050 4154     """Does a PAT
-00015dc0: 4348 2072 6571 7565 7374 2074 6f20 2f73  CH request to /s
-00015dd0: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-00015de0: 6273 6372 6970 7469 6f6e 5f69 647d 2f6d  bscription_id}/m
-00015df0: 696e 696d 756d 5f70 7269 6365 2e0d 0a0d  inimum_price....
-00015e00: 0a20 2020 2020 2020 2041 7475 616c 697a  .        Atualiz
-00015e10: 61c3 a7c3 a36f 2064 6f20 7661 6c6f 7220  a....o do valor 
-00015e20: 6dc3 ad6e 696d 6f20 6461 2061 7373 696e  m..nimo da assin
-00015e30: 6174 7572 610d 0a0d 0a20 2020 2020 2020  atura....       
-00015e40: 2041 7267 733a 0d0a 2020 2020 2020 2020   Args:..        
-00015e50: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
-00015e60: 5f69 6420 2873 7472 696e 6729 3a20 5375  _id (string): Su
-00015e70: 6273 6372 6970 7469 6f6e 2049 640d 0a20  bscription Id.. 
-00015e80: 2020 2020 2020 2020 2020 2062 6f64 7920             body 
-00015e90: 2855 7064 6174 6553 7562 7363 7269 7074  (UpdateSubscript
-00015ea0: 696f 6e4d 696e 696d 756d 5072 6963 6552  ionMinimumPriceR
-00015eb0: 6571 7565 7374 293a 2052 6571 7565 7374  equest): Request
-00015ec0: 2064 610d 0a20 2020 2020 2020 2020 2020   da..           
-00015ed0: 2020 2020 2072 6571 7569 7369 c3a7 c3a3       requisi....
-00015ee0: 6f20 636f 6d20 6f20 7661 6c6f 7220 6dc3  o com o valor m.
-00015ef0: ad6e 696d 6f20 7175 6520 7365 72c3 a120  .nimo que ser.. 
-00015f00: 636f 6e66 6967 7572 6164 6f0d 0a20 2020  configurado..   
-00015f10: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
-00015f20: 656e 6379 5f6b 6579 2028 7374 7269 6e67  ency_key (string
-00015f30: 2c20 6f70 7469 6f6e 616c 293a 2054 4f44  , optional): TOD
-00015f40: 4f3a 2074 7970 6520 6465 7363 7269 7074  O: type descript
-00015f50: 696f 6e20 6865 7265 2e0d 0a20 2020 2020  ion here...     
-00015f60: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
-00015f70: 6c65 3a20 0d0a 0d0a 2020 2020 2020 2020  le: ....        
-00015f80: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
-00015f90: 2020 2020 2020 4765 7453 7562 7363 7269        GetSubscri
-00015fa0: 7074 696f 6e52 6573 706f 6e73 653a 2052  ptionResponse: R
-00015fb0: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
-00015fc0: 2041 5049 2e20 0d0a 0d0a 2020 2020 2020   API. ....      
-00015fd0: 2020 5261 6973 6573 3a0d 0a20 2020 2020    Raises:..     
-00015fe0: 2020 2020 2020 2041 5049 4578 6365 7074         APIExcept
-00015ff0: 696f 6e3a 2057 6865 6e20 616e 2065 7272  ion: When an err
-00016000: 6f72 206f 6363 7572 7320 7768 696c 6520  or occurs while 
-00016010: 6665 7463 6869 6e67 2074 6865 2064 6174  fetching the dat
-00016020: 6120 6672 6f6d 0d0a 2020 2020 2020 2020  a from..        
-00016030: 2020 2020 2020 2020 7468 6520 7265 6d6f          the remo
-00016040: 7465 2041 5049 2e20 5468 6973 2065 7863  te API. This exc
-00016050: 6570 7469 6f6e 2069 6e63 6c75 6465 7320  eption includes 
-00016060: 7468 6520 4854 5450 2052 6573 706f 6e73  the HTTP Respons
-00016070: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-00016080: 2020 2063 6f64 652c 2061 6e20 6572 726f     code, an erro
-00016090: 7220 6d65 7373 6167 652c 2061 6e64 2074  r message, and t
-000160a0: 6865 2048 5454 5020 626f 6479 2074 6861  he HTTP body tha
-000160b0: 7420 7761 7320 7265 6365 6976 6564 2069  t was received i
-000160c0: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
-000160d0: 2020 2074 6865 2072 6571 7565 7374 2e0d     the request..
-000160e0: 0a0d 0a20 2020 2020 2020 2022 2222 0d0a  ...        """..
-000160f0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-00016100: 6172 6520 7175 6572 7920 5552 4c0d 0a20  are query URL.. 
-00016110: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
-00016120: 203d 2027 2f73 7562 7363 7269 7074 696f   = '/subscriptio
-00016130: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
-00016140: 5f69 647d 2f6d 696e 696d 756d 5f70 7269  _id}/minimum_pri
-00016150: 6365 270d 0a20 2020 2020 2020 205f 7572  ce'..        _ur
-00016160: 6c5f 7061 7468 203d 2041 5049 4865 6c70  l_path = APIHelp
-00016170: 6572 2e61 7070 656e 645f 7572 6c5f 7769  er.append_url_wi
-00016180: 7468 5f74 656d 706c 6174 655f 7061 7261  th_template_para
-00016190: 6d65 7465 7273 285f 7572 6c5f 7061 7468  meters(_url_path
-000161a0: 2c20 7b20 0d0a 2020 2020 2020 2020 2020  , { ..          
-000161b0: 2020 2773 7562 7363 7269 7074 696f 6e5f    'subscription_
-000161c0: 6964 273a 2073 7562 7363 7269 7074 696f  id': subscriptio
-000161d0: 6e5f 6964 0d0a 2020 2020 2020 2020 7d29  n_id..        })
-000161e0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
-000161f0: 5f62 7569 6c64 6572 203d 2043 6f6e 6669  _builder = Confi
-00016200: 6775 7261 7469 6f6e 2e62 6173 655f 7572  guration.base_ur
-00016210: 690d 0a20 2020 2020 2020 205f 7175 6572  i..        _quer
-00016220: 795f 6275 696c 6465 7220 2b3d 205f 7572  y_builder += _ur
-00016230: 6c5f 7061 7468 0d0a 2020 2020 2020 2020  l_path..        
-00016240: 5f71 7565 7279 5f75 726c 203d 2041 5049  _query_url = API
-00016250: 4865 6c70 6572 2e63 6c65 616e 5f75 726c  Helper.clean_url
-00016260: 285f 7175 6572 795f 6275 696c 6465 7229  (_query_builder)
-00016270: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-00016280: 6570 6172 6520 6865 6164 6572 730d 0a20  epare headers.. 
-00016290: 2020 2020 2020 205f 6865 6164 6572 7320         _headers 
-000162a0: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-000162b0: 2027 6163 6365 7074 273a 2027 6170 706c   'accept': 'appl
-000162c0: 6963 6174 696f 6e2f 6a73 6f6e 272c 0d0a  ication/json',..
-000162d0: 2020 2020 2020 2020 2020 2020 2743 6f6e              'Con
-000162e0: 7465 6e74 2d54 7970 6527 3a20 2761 7070  tent-Type': 'app
-000162f0: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
-00016300: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
-00016310: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
-00016320: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
-00016330: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
-00016340: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00016350: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
-00016360: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
-00016370: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
-00016380: 705f 636c 6965 6e74 2e70 6174 6368 285f  p_client.patch(_
-00016390: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
-000163a0: 7273 3d5f 6865 6164 6572 732c 2070 6172  rs=_headers, par
-000163b0: 616d 6574 6572 733d 4150 4948 656c 7065  ameters=APIHelpe
-000163c0: 722e 6a73 6f6e 5f73 6572 6961 6c69 7a65  r.json_serialize
-000163d0: 2862 6f64 7929 290d 0a20 2020 2020 2020  (body))..       
-000163e0: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
-000163f0: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
-00016400: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
-00016410: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
-00016420: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
-00016430: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
-00016440: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
-00016450: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
-00016460: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
-00016470: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
-00016480: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00016490: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-000164a0: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
-000164b0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-000164c0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-000164d0: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
-000164e0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-000164f0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00016500: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00016510: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
-00016520: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00016530: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00016540: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
-00016550: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00016560: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00016570: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00016580: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
-00016590: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-000165a0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-000165b0: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
-000165c0: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
-000165d0: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
-000165e0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-000165f0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00016600: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00016610: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
-00016620: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00016630: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
-00016640: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-00016650: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-00016660: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00016670: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00016680: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
-00016690: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-000166a0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-000166b0: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
-000166c0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-000166d0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-000166e0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-000166f0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00016700: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
-00016710: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00016720: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00016730: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
-00016740: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
-00016750: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
-00016760: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
-00016770: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
-00016780: 0a20 2020 2020 2020 2023 2052 6574 7572  .        # Retur
-00016790: 6e20 6170 7072 6f70 7269 6174 6520 7479  n appropriate ty
-000167a0: 7065 0d0a 2020 2020 2020 2020 7265 7475  pe..        retu
-000167b0: 726e 2041 5049 4865 6c70 6572 2e6a 736f  rn APIHelper.jso
-000167c0: 6e5f 6465 7365 7269 616c 697a 6528 5f63  n_deserialize(_c
-000167d0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-000167e0: 7261 775f 626f 6479 2c20 4765 7453 7562  raw_body, GetSub
-000167f0: 7363 7269 7074 696f 6e52 6573 706f 6e73  scriptionRespons
-00016800: 652e 6672 6f6d 5f64 6963 7469 6f6e 6172  e.from_dictionar
-00016810: 7929 0d0a 0d0a 2020 2020 6465 6620 6765  y)....    def ge
-00016820: 745f 7375 6273 6372 6970 7469 6f6e 5f63  t_subscription_c
-00016830: 7963 6c65 5f62 795f 6964 2873 656c 662c  ycle_by_id(self,
-00016840: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00016850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016860: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
-00016870: 696f 6e5f 6964 2c0d 0a20 2020 2020 2020  ion_id,..       
-00016880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016890: 2020 2020 2020 2020 2020 2020 2020 6379                cy
-000168a0: 636c 655f 6964 293a 0d0a 2020 2020 2020  cle_id):..      
-000168b0: 2020 2222 2244 6f65 7320 6120 4745 5420    """Does a GET 
-000168c0: 7265 7175 6573 7420 746f 202f 7375 6273  request to /subs
-000168d0: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
-000168e0: 7269 7074 696f 6e5f 6964 7d2f 6379 636c  ription_id}/cycl
-000168f0: 6573 2f7b 6379 636c 6549 647d 2e0d 0a0d  es/{cycleId}....
-00016900: 0a20 2020 2020 2020 2047 6574 5375 6273  .        GetSubs
-00016910: 6372 6970 7469 6f6e 4379 636c 6542 7949  criptionCycleByI
-00016920: 640d 0a0d 0a20 2020 2020 2020 2041 7267  d....        Arg
-00016930: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00016940: 7375 6273 6372 6970 7469 6f6e 5f69 6420  subscription_id 
-00016950: 2873 7472 696e 6729 3a20 5468 6520 7375  (string): The su
-00016960: 6273 6372 6970 7469 6f6e 2069 640d 0a20  bscription id.. 
-00016970: 2020 2020 2020 2020 2020 2063 7963 6c65             cycle
-00016980: 5f69 6420 2873 7472 696e 6729 3a20 544f  _id (string): TO
-00016990: 444f 3a20 7479 7065 2064 6573 6372 6970  DO: type descrip
-000169a0: 7469 6f6e 2068 6572 652e 2045 7861 6d70  tion here. Examp
-000169b0: 6c65 3a20 0d0a 0d0a 2020 2020 2020 2020  le: ....        
-000169c0: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
-000169d0: 2020 2020 2020 4765 7450 6572 696f 6452        GetPeriodR
-000169e0: 6573 706f 6e73 653a 2052 6573 706f 6e73  esponse: Respons
-000169f0: 6520 6672 6f6d 2074 6865 2041 5049 2e20  e from the API. 
-00016a00: 0d0a 0d0a 2020 2020 2020 2020 5261 6973  ....        Rais
-00016a10: 6573 3a0d 0a20 2020 2020 2020 2020 2020  es:..           
-00016a20: 2041 5049 4578 6365 7074 696f 6e3a 2057   APIException: W
-00016a30: 6865 6e20 616e 2065 7272 6f72 206f 6363  hen an error occ
-00016a40: 7572 7320 7768 696c 6520 6665 7463 6869  urs while fetchi
-00016a50: 6e67 2074 6865 2064 6174 6120 6672 6f6d  ng the data from
-00016a60: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00016a70: 2020 7468 6520 7265 6d6f 7465 2041 5049    the remote API
-00016a80: 2e20 5468 6973 2065 7863 6570 7469 6f6e  . This exception
-00016a90: 2069 6e63 6c75 6465 7320 7468 6520 4854   includes the HT
-00016aa0: 5450 2052 6573 706f 6e73 650d 0a20 2020  TP Response..   
-00016ab0: 2020 2020 2020 2020 2020 2020 2063 6f64               cod
-00016ac0: 652c 2061 6e20 6572 726f 7220 6d65 7373  e, an error mess
-00016ad0: 6167 652c 2061 6e64 2074 6865 2048 5454  age, and the HTT
-00016ae0: 5020 626f 6479 2074 6861 7420 7761 7320  P body that was 
-00016af0: 7265 6365 6976 6564 2069 6e0d 0a20 2020  received in..   
-00016b00: 2020 2020 2020 2020 2020 2020 2074 6865               the
-00016b10: 2072 6571 7565 7374 2e0d 0a0d 0a20 2020   request.....   
-00016b20: 2020 2020 2022 2222 0d0a 0d0a 2020 2020       """....    
-00016b30: 2020 2020 2320 5072 6570 6172 6520 7175      # Prepare qu
-00016b40: 6572 7920 5552 4c0d 0a20 2020 2020 2020  ery URL..       
-00016b50: 205f 7572 6c5f 7061 7468 203d 2027 2f73   _url_path = '/s
-00016b60: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-00016b70: 6273 6372 6970 7469 6f6e 5f69 647d 2f63  bscription_id}/c
-00016b80: 7963 6c65 732f 7b63 7963 6c65 4964 7d27  ycles/{cycleId}'
-00016b90: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
-00016ba0: 6174 6820 3d20 4150 4948 656c 7065 722e  ath = APIHelper.
-00016bb0: 6170 7065 6e64 5f75 726c 5f77 6974 685f  append_url_with_
-00016bc0: 7465 6d70 6c61 7465 5f70 6172 616d 6574  template_paramet
-00016bd0: 6572 7328 5f75 726c 5f70 6174 682c 207b  ers(_url_path, {
-00016be0: 200d 0a20 2020 2020 2020 2020 2020 2027   ..            '
-00016bf0: 7375 6273 6372 6970 7469 6f6e 5f69 6427  subscription_id'
-00016c00: 3a20 7375 6273 6372 6970 7469 6f6e 5f69  : subscription_i
-00016c10: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
-00016c20: 2763 7963 6c65 4964 273a 2063 7963 6c65  'cycleId': cycle
-00016c30: 5f69 640d 0a20 2020 2020 2020 207d 290d  _id..        }).
-00016c40: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00016c50: 6275 696c 6465 7220 3d20 436f 6e66 6967  builder = Config
-00016c60: 7572 6174 696f 6e2e 6261 7365 5f75 7269  uration.base_uri
-00016c70: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
-00016c80: 5f62 7569 6c64 6572 202b 3d20 5f75 726c  _builder += _url
-00016c90: 5f70 6174 680d 0a20 2020 2020 2020 205f  _path..        _
-00016ca0: 7175 6572 795f 7572 6c20 3d20 4150 4948  query_url = APIH
-00016cb0: 656c 7065 722e 636c 6561 6e5f 7572 6c28  elper.clean_url(
-00016cc0: 5f71 7565 7279 5f62 7569 6c64 6572 290d  _query_builder).
-00016cd0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
-00016ce0: 7061 7265 2068 6561 6465 7273 0d0a 2020  pare headers..  
-00016cf0: 2020 2020 2020 5f68 6561 6465 7273 203d        _headers =
-00016d00: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-00016d10: 2761 6363 6570 7427 3a20 2761 7070 6c69  'accept': 'appli
-00016d20: 6361 7469 6f6e 2f6a 736f 6e27 0d0a 2020  cation/json'..  
-00016d30: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
-00016d40: 2020 2023 2050 7265 7061 7265 2061 6e64     # Prepare and
-00016d50: 2065 7865 6375 7465 2072 6571 7565 7374   execute request
-00016d60: 0d0a 2020 2020 2020 2020 5f72 6571 7565  ..        _reque
-00016d70: 7374 203d 2073 656c 662e 6874 7470 5f63  st = self.http_c
-00016d80: 6c69 656e 742e 6765 7428 5f71 7565 7279  lient.get(_query
-00016d90: 5f75 726c 2c20 6865 6164 6572 733d 5f68  _url, headers=_h
-00016da0: 6561 6465 7273 290d 0a20 2020 2020 2020  eaders)..       
-00016db0: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
-00016dc0: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
-00016dd0: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
-00016de0: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
-00016df0: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
-00016e00: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
-00016e10: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
-00016e20: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
-00016e30: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
-00016e40: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
-00016e50: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00016e60: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00016e70: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
-00016e80: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-00016e90: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-00016ea0: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
-00016eb0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00016ec0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00016ed0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00016ee0: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
-00016ef0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00016f00: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00016f10: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
-00016f20: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00016f30: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00016f40: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00016f50: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
-00016f60: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00016f70: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00016f80: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
-00016f90: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
-00016fa0: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
-00016fb0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00016fc0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00016fd0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00016fe0: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
-00016ff0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00017000: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
-00017010: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-00017020: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-00017030: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00017040: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00017050: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
-00017060: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00017070: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00017080: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
-00017090: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-000170a0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-000170b0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-000170c0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-000170d0: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
-000170e0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-000170f0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00017100: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
-00017110: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
-00017120: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
-00017130: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
-00017140: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
-00017150: 0a20 2020 2020 2020 2023 2052 6574 7572  .        # Retur
-00017160: 6e20 6170 7072 6f70 7269 6174 6520 7479  n appropriate ty
-00017170: 7065 0d0a 2020 2020 2020 2020 7265 7475  pe..        retu
-00017180: 726e 2041 5049 4865 6c70 6572 2e6a 736f  rn APIHelper.jso
-00017190: 6e5f 6465 7365 7269 616c 697a 6528 5f63  n_deserialize(_c
-000171a0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-000171b0: 7261 775f 626f 6479 2c20 4765 7450 6572  raw_body, GetPer
-000171c0: 696f 6452 6573 706f 6e73 652e 6672 6f6d  iodResponse.from
-000171d0: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
-000171e0: 2020 2020 6465 6620 6765 745f 7573 6167      def get_usag
-000171f0: 655f 7265 706f 7274 2873 656c 662c 0d0a  e_report(self,..
-00017200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017210: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-00017220: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
-00017230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017240: 2020 2020 7065 7269 6f64 5f69 6429 3a0d      period_id):.
-00017250: 0a20 2020 2020 2020 2022 2222 446f 6573  .        """Does
-00017260: 2061 2047 4554 2072 6571 7565 7374 2074   a GET request t
-00017270: 6f20 2f73 7562 7363 7269 7074 696f 6e73  o /subscriptions
-00017280: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-00017290: 647d 2f70 6572 696f 6473 2f7b 7065 7269  d}/periods/{peri
-000172a0: 6f64 5f69 647d 2f75 7361 6765 732f 7265  od_id}/usages/re
-000172b0: 706f 7274 2e0d 0a0d 0a20 2020 2020 2020  port.....       
-000172c0: 2047 6574 5573 6167 6552 6570 6f72 740d   GetUsageReport.
-000172d0: 0a0d 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-000172e0: 0d0a 2020 2020 2020 2020 2020 2020 7375  ..            su
-000172f0: 6273 6372 6970 7469 6f6e 5f69 6420 2873  bscription_id (s
-00017300: 7472 696e 6729 3a20 5468 6520 7375 6273  tring): The subs
-00017310: 6372 6970 7469 6f6e 2049 640d 0a20 2020  cription Id..   
-00017320: 2020 2020 2020 2020 2070 6572 696f 645f           period_
-00017330: 6964 2028 7374 7269 6e67 293a 2054 6865  id (string): The
-00017340: 2070 6572 696f 6420 4964 0d0a 0d0a 2020   period Id....  
-00017350: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
-00017360: 2020 2020 2020 2020 2020 2020 4765 7455              GetU
-00017370: 7361 6765 5265 706f 7274 5265 7370 6f6e  sageReportRespon
-00017380: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
-00017390: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
-000173a0: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
-000173b0: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
-000173c0: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
-000173d0: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
-000173e0: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
-000173f0: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
-00017400: 2020 2020 2020 2020 2020 2020 2074 6865               the
-00017410: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
-00017420: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
-00017430: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
-00017440: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
-00017450: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
-00017460: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
-00017470: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
-00017480: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
-00017490: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
-000174a0: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
-000174b0: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
-000174c0: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
-000174d0: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
-000174e0: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
-000174f0: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
-00017500: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
-00017510: 7074 696f 6e5f 6964 7d2f 7065 7269 6f64  ption_id}/period
-00017520: 732f 7b70 6572 696f 645f 6964 7d2f 7573  s/{period_id}/us
-00017530: 6167 6573 2f72 6570 6f72 7427 0d0a 2020  ages/report'..  
-00017540: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-00017550: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
-00017560: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
-00017570: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
-00017580: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
-00017590: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
-000175a0: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
-000175b0: 6273 6372 6970 7469 6f6e 5f69 642c 0d0a  bscription_id,..
-000175c0: 2020 2020 2020 2020 2020 2020 2770 6572              'per
-000175d0: 696f 645f 6964 273a 2070 6572 696f 645f  iod_id': period_
-000175e0: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
-000175f0: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-00017600: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
-00017610: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
-00017620: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00017630: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
-00017640: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
-00017650: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
-00017660: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
-00017670: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
-00017680: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-00017690: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
-000176a0: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
-000176b0: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
-000176c0: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
-000176d0: 6174 696f 6e2f 6a73 6f6e 270d 0a20 2020  ation/json'..   
-000176e0: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
-000176f0: 2020 2320 5072 6570 6172 6520 616e 6420    # Prepare and 
-00017700: 6578 6563 7574 6520 7265 7175 6573 740d  execute request.
-00017710: 0a20 2020 2020 2020 205f 7265 7175 6573  .        _reques
-00017720: 7420 3d20 7365 6c66 2e68 7474 705f 636c  t = self.http_cl
-00017730: 6965 6e74 2e67 6574 285f 7175 6572 795f  ient.get(_query_
-00017740: 7572 6c2c 2068 6561 6465 7273 3d5f 6865  url, headers=_he
-00017750: 6164 6572 7329 0d0a 2020 2020 2020 2020  aders)..        
-00017760: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
-00017770: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
-00017780: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
-00017790: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
-000177a0: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
-000177b0: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
-000177c0: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
-000177d0: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
-000177e0: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
-000177f0: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
-00017800: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00017810: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00017820: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
-00017830: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00017840: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
-00017850: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
-00017860: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00017870: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00017880: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00017890: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
-000178a0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-000178b0: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-000178c0: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
-000178d0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-000178e0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-000178f0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00017900: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
-00017910: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00017920: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00017930: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
-00017940: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
-00017950: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
-00017960: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00017970: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00017980: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-00017990: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
-000179a0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-000179b0: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
-000179c0: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
-000179d0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-000179e0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-000179f0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00017a00: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
-00017a10: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00017a20: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00017a30: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
-00017a40: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
-00017a50: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00017a60: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00017a70: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00017a80: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
-00017a90: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00017aa0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00017ab0: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
-00017ac0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-00017ad0: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
-00017ae0: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
-00017af0: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
-00017b00: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
-00017b10: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
-00017b20: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
-00017b30: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
-00017b40: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
-00017b50: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
-00017b60: 6177 5f62 6f64 792c 2047 6574 5573 6167  aw_body, GetUsag
-00017b70: 6552 6570 6f72 7452 6573 706f 6e73 652e  eReportResponse.
-00017b80: 6672 6f6d 5f64 6963 7469 6f6e 6172 7929  from_dictionary)
-00017b90: 0d0a 0d0a 2020 2020 6465 6620 7570 6461  ....    def upda
-00017ba0: 7465 5f73 706c 6974 5f73 7562 7363 7269  te_split_subscri
-00017bb0: 7074 696f 6e28 7365 6c66 2c0d 0a20 2020  ption(self,..   
-00017bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017bd0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00017be0: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
-00017bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c00: 2020 2020 2020 626f 6479 293a 0d0a 2020        body):..  
-00017c10: 2020 2020 2020 2222 2244 6f65 7320 6120        """Does a 
-00017c20: 5041 5443 4820 7265 7175 6573 7420 746f  PATCH request to
-00017c30: 202f 7375 6273 6372 6970 7469 6f6e 732f   /subscriptions/
-00017c40: 7b69 647d 2f73 706c 6974 2e0d 0a0d 0a20  {id}/split..... 
-00017c50: 2020 2020 2020 2055 7064 6174 6553 706c         UpdateSpl
-00017c60: 6974 5375 6273 6372 6970 7469 6f6e 0d0a  itSubscription..
-00017c70: 0d0a 2020 2020 2020 2020 4172 6773 3a0d  ..        Args:.
-00017c80: 0a20 2020 2020 2020 2020 2020 2069 6420  .            id 
-00017c90: 2873 7472 696e 6729 3a20 5375 6273 6372  (string): Subscr
-00017ca0: 6970 7469 6f6e 2773 2069 640d 0a20 2020  iption's id..   
-00017cb0: 2020 2020 2020 2020 2062 6f64 7920 2855           body (U
-00017cc0: 7064 6174 6553 7562 7363 7269 7074 696f  pdateSubscriptio
-00017cd0: 6e53 706c 6974 5265 7175 6573 7429 3a20  nSplitRequest): 
-00017ce0: 544f 444f 3a20 7479 7065 2064 6573 6372  TODO: type descr
-00017cf0: 6970 7469 6f6e 0d0a 2020 2020 2020 2020  iption..        
-00017d00: 2020 2020 2020 2020 6865 7265 2e20 4578          here. Ex
-00017d10: 616d 706c 653a 200d 0a0d 0a20 2020 2020  ample: ....     
-00017d20: 2020 2052 6574 7572 6e73 3a0d 0a20 2020     Returns:..   
-00017d30: 2020 2020 2020 2020 2047 6574 5375 6273           GetSubs
-00017d40: 6372 6970 7469 6f6e 5265 7370 6f6e 7365  criptionResponse
-00017d50: 3a20 5265 7370 6f6e 7365 2066 726f 6d20  : Response from 
-00017d60: 7468 6520 4150 492e 200d 0a0d 0a20 2020  the API. ....   
-00017d70: 2020 2020 2052 6169 7365 733a 0d0a 2020       Raises:..  
-00017d80: 2020 2020 2020 2020 2020 4150 4945 7863            APIExc
-00017d90: 6570 7469 6f6e 3a20 5768 656e 2061 6e20  eption: When an 
-00017da0: 6572 726f 7220 6f63 6375 7273 2077 6869  error occurs whi
-00017db0: 6c65 2066 6574 6368 696e 6720 7468 6520  le fetching the 
-00017dc0: 6461 7461 2066 726f 6d0d 0a20 2020 2020  data from..     
-00017dd0: 2020 2020 2020 2020 2020 2074 6865 2072             the r
-00017de0: 656d 6f74 6520 4150 492e 2054 6869 7320  emote API. This 
-00017df0: 6578 6365 7074 696f 6e20 696e 636c 7564  exception includ
-00017e00: 6573 2074 6865 2048 5454 5020 5265 7370  es the HTTP Resp
-00017e10: 6f6e 7365 0d0a 2020 2020 2020 2020 2020  onse..          
-00017e20: 2020 2020 2020 636f 6465 2c20 616e 2065        code, an e
-00017e30: 7272 6f72 206d 6573 7361 6765 2c20 616e  rror message, an
-00017e40: 6420 7468 6520 4854 5450 2062 6f64 7920  d the HTTP body 
-00017e50: 7468 6174 2077 6173 2072 6563 6569 7665  that was receive
-00017e60: 6420 696e 0d0a 2020 2020 2020 2020 2020  d in..          
-00017e70: 2020 2020 2020 7468 6520 7265 7175 6573        the reques
-00017e80: 742e 0d0a 0d0a 2020 2020 2020 2020 2222  t.....        ""
-00017e90: 220d 0a0d 0a20 2020 2020 2020 2023 2050  "....        # P
-00017ea0: 7265 7061 7265 2071 7565 7279 2055 524c  repare query URL
-00017eb0: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
-00017ec0: 6174 6820 3d20 272f 7375 6273 6372 6970  ath = '/subscrip
-00017ed0: 7469 6f6e 732f 7b69 647d 2f73 706c 6974  tions/{id}/split
-00017ee0: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
-00017ef0: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
-00017f00: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
-00017f10: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
-00017f20: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
-00017f30: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
-00017f40: 2769 6427 3a20 6964 0d0a 2020 2020 2020  'id': id..      
-00017f50: 2020 7d29 0d0a 2020 2020 2020 2020 5f71    })..        _q
-00017f60: 7565 7279 5f62 7569 6c64 6572 203d 2043  uery_builder = C
-00017f70: 6f6e 6669 6775 7261 7469 6f6e 2e62 6173  onfiguration.bas
-00017f80: 655f 7572 690d 0a20 2020 2020 2020 205f  e_uri..        _
-00017f90: 7175 6572 795f 6275 696c 6465 7220 2b3d  query_builder +=
-00017fa0: 205f 7572 6c5f 7061 7468 0d0a 2020 2020   _url_path..    
-00017fb0: 2020 2020 5f71 7565 7279 5f75 726c 203d      _query_url =
-00017fc0: 2041 5049 4865 6c70 6572 2e63 6c65 616e   APIHelper.clean
-00017fd0: 5f75 726c 285f 7175 6572 795f 6275 696c  _url(_query_buil
-00017fe0: 6465 7229 0d0a 0d0a 2020 2020 2020 2020  der)....        
-00017ff0: 2320 5072 6570 6172 6520 6865 6164 6572  # Prepare header
-00018000: 730d 0a20 2020 2020 2020 205f 6865 6164  s..        _head
-00018010: 6572 7320 3d20 7b0d 0a20 2020 2020 2020  ers = {..       
-00018020: 2020 2020 2027 6163 6365 7074 273a 2027       'accept': '
-00018030: 6170 706c 6963 6174 696f 6e2f 6a73 6f6e  application/json
-00018040: 272c 0d0a 2020 2020 2020 2020 2020 2020  ',..            
-00018050: 2743 6f6e 7465 6e74 2d54 7970 6527 3a20  'Content-Type': 
-00018060: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
-00018070: 6e27 0d0a 2020 2020 2020 2020 7d0d 0a0d  n'..        }...
-00018080: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-00018090: 7265 2061 6e64 2065 7865 6375 7465 2072  re and execute r
-000180a0: 6571 7565 7374 0d0a 2020 2020 2020 2020  equest..        
-000180b0: 5f72 6571 7565 7374 203d 2073 656c 662e  _request = self.
-000180c0: 6874 7470 5f63 6c69 656e 742e 7061 7463  http_client.patc
-000180d0: 6828 5f71 7565 7279 5f75 726c 2c20 6865  h(_query_url, he
-000180e0: 6164 6572 733d 5f68 6561 6465 7273 2c20  aders=_headers, 
-000180f0: 7061 7261 6d65 7465 7273 3d41 5049 4865  parameters=APIHe
-00018100: 6c70 6572 2e6a 736f 6e5f 7365 7269 616c  lper.json_serial
-00018110: 697a 6528 626f 6479 2929 0d0a 2020 2020  ize(body))..    
-00018120: 2020 2020 4261 7369 6341 7574 682e 6170      BasicAuth.ap
-00018130: 706c 7928 5f72 6571 7565 7374 290d 0a20  ply(_request).. 
-00018140: 2020 2020 2020 205f 636f 6e74 6578 7420         _context 
-00018150: 3d20 7365 6c66 2e65 7865 6375 7465 5f72  = self.execute_r
-00018160: 6571 7565 7374 285f 7265 7175 6573 7429  equest(_request)
-00018170: 0d0a 0d0a 2020 2020 2020 2020 2320 456e  ....        # En
-00018180: 6470 6f69 6e74 2061 6e64 2067 6c6f 6261  dpoint and globa
-00018190: 6c20 6572 726f 7220 6861 6e64 6c69 6e67  l error handling
-000181a0: 2075 7369 6e67 2048 5454 5020 7374 6174   using HTTP stat
-000181b0: 7573 2063 6f64 6573 2e0d 0a20 2020 2020  us codes...     
-000181c0: 2020 2069 6620 5f63 6f6e 7465 7874 2e72     if _context.r
-000181d0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-000181e0: 6f64 6520 3d3d 2034 3030 3a0d 0a20 2020  ode == 400:..   
-000181f0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00018200: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00018210: 6e76 616c 6964 2072 6571 7565 7374 272c  nvalid request',
-00018220: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00018230: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00018240: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00018250: 735f 636f 6465 203d 3d20 3430 313a 0d0a  s_code == 401:..
-00018260: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00018270: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00018280: 2827 496e 7661 6c69 6420 4150 4920 6b65  ('Invalid API ke
-00018290: 7927 2c20 5f63 6f6e 7465 7874 290d 0a20  y', _context).. 
-000182a0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-000182b0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-000182c0: 6174 7573 5f63 6f64 6520 3d3d 2034 3034  atus_code == 404
-000182d0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-000182e0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-000182f0: 696f 6e28 2741 6e20 696e 666f 726d 6564  ion('An informed
-00018300: 2072 6573 6f75 7263 6520 7761 7320 6e6f   resource was no
-00018310: 7420 666f 756e 6427 2c20 5f63 6f6e 7465  t found', _conte
-00018320: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00018330: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00018340: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00018350: 3d3d 2034 3132 3a0d 0a20 2020 2020 2020  == 412:..       
-00018360: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00018370: 4578 6365 7074 696f 6e28 2742 7573 696e  Exception('Busin
-00018380: 6573 7320 7661 6c69 6461 7469 6f6e 2065  ess validation e
-00018390: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-000183a0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-000183b0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-000183c0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-000183d0: 3432 323a 0d0a 2020 2020 2020 2020 2020  422:..          
-000183e0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-000183f0: 6570 7469 6f6e 2827 436f 6e74 7261 6374  eption('Contract
-00018400: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-00018410: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-00018420: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00018430: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00018440: 6174 7573 5f63 6f64 6520 3d3d 2035 3030  atus_code == 500
-00018450: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00018460: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00018470: 696f 6e28 2749 6e74 6572 6e61 6c20 7365  ion('Internal se
-00018480: 7276 6572 2065 7272 6f72 272c 205f 636f  rver error', _co
-00018490: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-000184a0: 7365 6c66 2e76 616c 6964 6174 655f 7265  self.validate_re
-000184b0: 7370 6f6e 7365 285f 636f 6e74 6578 7429  sponse(_context)
-000184c0: 0d0a 0d0a 2020 2020 2020 2020 2320 5265  ....        # Re
-000184d0: 7475 726e 2061 7070 726f 7072 6961 7465  turn appropriate
-000184e0: 2074 7970 650d 0a20 2020 2020 2020 2072   type..        r
-000184f0: 6574 7572 6e20 4150 4948 656c 7065 722e  eturn APIHelper.
-00018500: 6a73 6f6e 5f64 6573 6572 6961 6c69 7a65  json_deserialize
-00018510: 285f 636f 6e74 6578 742e 7265 7370 6f6e  (_context.respon
-00018520: 7365 2e72 6177 5f62 6f64 792c 2047 6574  se.raw_body, Get
-00018530: 5375 6273 6372 6970 7469 6f6e 5265 7370  SubscriptionResp
-00018540: 6f6e 7365 2e66 726f 6d5f 6469 6374 696f  onse.from_dictio
-00018550: 6e61 7279 290d 0a                        nary)..
+00015d10: 7468 6520 7265 6d6f 7465 2041 5049 2e20  the remote API. 
+00015d20: 5468 6973 2065 7863 6570 7469 6f6e 2069  This exception i
+00015d30: 6e63 6c75 6465 7320 7468 6520 4854 5450  ncludes the HTTP
+00015d40: 2052 6573 706f 6e73 650d 0a20 2020 2020   Response..     
+00015d50: 2020 2020 2020 2020 2020 2063 6f64 652c             code,
+00015d60: 2061 6e20 6572 726f 7220 6d65 7373 6167   an error messag
+00015d70: 652c 2061 6e64 2074 6865 2048 5454 5020  e, and the HTTP 
+00015d80: 626f 6479 2074 6861 7420 7761 7320 7265  body that was re
+00015d90: 6365 6976 6564 2069 6e0d 0a20 2020 2020  ceived in..     
+00015da0: 2020 2020 2020 2020 2020 2074 6865 2072             the r
+00015db0: 6571 7565 7374 2e0d 0a0d 0a20 2020 2020  equest.....     
+00015dc0: 2020 2022 2222 0d0a 0d0a 2020 2020 2020     """....      
+00015dd0: 2020 2320 5072 6570 6172 6520 7175 6572    # Prepare quer
+00015de0: 7920 5552 4c0d 0a20 2020 2020 2020 205f  y URL..        _
+00015df0: 7572 6c5f 7061 7468 203d 2027 2f73 7562  url_path = '/sub
+00015e00: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
+00015e10: 6372 6970 7469 6f6e 5f69 647d 2f69 6e63  cription_id}/inc
+00015e20: 7265 6d65 6e74 732f 7b69 6e63 7265 6d65  rements/{increme
+00015e30: 6e74 5f69 647d 270d 0a20 2020 2020 2020  nt_id}'..       
+00015e40: 205f 7572 6c5f 7061 7468 203d 2041 5049   _url_path = API
+00015e50: 4865 6c70 6572 2e61 7070 656e 645f 7572  Helper.append_ur
+00015e60: 6c5f 7769 7468 5f74 656d 706c 6174 655f  l_with_template_
+00015e70: 7061 7261 6d65 7465 7273 285f 7572 6c5f  parameters(_url_
+00015e80: 7061 7468 2c20 7b20 0d0a 2020 2020 2020  path, { ..      
+00015e90: 2020 2020 2020 2773 7562 7363 7269 7074        'subscript
+00015ea0: 696f 6e5f 6964 273a 2073 7562 7363 7269  ion_id': subscri
+00015eb0: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
+00015ec0: 2020 2020 2020 2027 696e 6372 656d 656e         'incremen
+00015ed0: 745f 6964 273a 2069 6e63 7265 6d65 6e74  t_id': increment
+00015ee0: 5f69 640d 0a20 2020 2020 2020 207d 290d  _id..        }).
+00015ef0: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00015f00: 6275 696c 6465 7220 3d20 436f 6e66 6967  builder = Config
+00015f10: 7572 6174 696f 6e2e 6261 7365 5f75 7269  uration.base_uri
+00015f20: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00015f30: 5f62 7569 6c64 6572 202b 3d20 5f75 726c  _builder += _url
+00015f40: 5f70 6174 680d 0a20 2020 2020 2020 205f  _path..        _
+00015f50: 7175 6572 795f 7572 6c20 3d20 4150 4948  query_url = APIH
+00015f60: 656c 7065 722e 636c 6561 6e5f 7572 6c28  elper.clean_url(
+00015f70: 5f71 7565 7279 5f62 7569 6c64 6572 290d  _query_builder).
+00015f80: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+00015f90: 7061 7265 2068 6561 6465 7273 0d0a 2020  pare headers..  
+00015fa0: 2020 2020 2020 5f68 6561 6465 7273 203d        _headers =
+00015fb0: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+00015fc0: 2761 6363 6570 7427 3a20 2761 7070 6c69  'accept': 'appli
+00015fd0: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
+00015fe0: 2020 2020 2020 2020 2020 2027 5365 7276             'Serv
+00015ff0: 6963 6552 6566 6572 6572 4e61 6d65 273a  iceRefererName':
+00016000: 2043 6f6e 6669 6775 7261 7469 6f6e 2e73   Configuration.s
+00016010: 6572 7669 6365 5f72 6566 6572 6572 5f6e  ervice_referer_n
+00016020: 616d 650d 0a20 2020 2020 2020 207d 0d0a  ame..        }..
+00016030: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00016040: 6172 6520 616e 6420 6578 6563 7574 6520  are and execute 
+00016050: 7265 7175 6573 740d 0a20 2020 2020 2020  request..       
+00016060: 205f 7265 7175 6573 7420 3d20 7365 6c66   _request = self
+00016070: 2e68 7474 705f 636c 6965 6e74 2e67 6574  .http_client.get
+00016080: 285f 7175 6572 795f 7572 6c2c 2068 6561  (_query_url, hea
+00016090: 6465 7273 3d5f 6865 6164 6572 7329 0d0a  ders=_headers)..
+000160a0: 2020 2020 2020 2020 4261 7369 6341 7574          BasicAut
+000160b0: 682e 6170 706c 7928 5f72 6571 7565 7374  h.apply(_request
+000160c0: 290d 0a20 2020 2020 2020 205f 636f 6e74  )..        _cont
+000160d0: 6578 7420 3d20 7365 6c66 2e65 7865 6375  ext = self.execu
+000160e0: 7465 5f72 6571 7565 7374 285f 7265 7175  te_request(_requ
+000160f0: 6573 7429 0d0a 0d0a 2020 2020 2020 2020  est)....        
+00016100: 2320 456e 6470 6f69 6e74 2061 6e64 2067  # Endpoint and g
+00016110: 6c6f 6261 6c20 6572 726f 7220 6861 6e64  lobal error hand
+00016120: 6c69 6e67 2075 7369 6e67 2048 5454 5020  ling using HTTP 
+00016130: 7374 6174 7573 2063 6f64 6573 2e0d 0a20  status codes... 
+00016140: 2020 2020 2020 2069 6620 5f63 6f6e 7465         if _conte
+00016150: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00016160: 7573 5f63 6f64 6520 3d3d 2034 3030 3a0d  us_code == 400:.
+00016170: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00016180: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00016190: 6e28 2749 6e76 616c 6964 2072 6571 7565  n('Invalid reque
+000161a0: 7374 272c 205f 636f 6e74 6578 7429 0d0a  st', _context)..
+000161b0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+000161c0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+000161d0: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+000161e0: 313a 0d0a 2020 2020 2020 2020 2020 2020  1:..            
+000161f0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00016200: 7469 6f6e 2827 496e 7661 6c69 6420 4150  tion('Invalid AP
+00016210: 4920 6b65 7927 2c20 5f63 6f6e 7465 7874  I key', _context
+00016220: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00016230: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00016240: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00016250: 2034 3034 3a0d 0a20 2020 2020 2020 2020   404:..         
+00016260: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00016270: 6365 7074 696f 6e28 2741 6e20 696e 666f  ception('An info
+00016280: 726d 6564 2072 6573 6f75 7263 6520 7761  rmed resource wa
+00016290: 7320 6e6f 7420 666f 756e 6427 2c20 5f63  s not found', _c
+000162a0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+000162b0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+000162c0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+000162d0: 6f64 6520 3d3d 2034 3132 3a0d 0a20 2020  ode == 412:..   
+000162e0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+000162f0: 7272 6f72 4578 6365 7074 696f 6e28 2742  rrorException('B
+00016300: 7573 696e 6573 7320 7661 6c69 6461 7469  usiness validati
+00016310: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
+00016320: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00016330: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00016340: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00016350: 203d 3d20 3432 323a 0d0a 2020 2020 2020   == 422:..      
+00016360: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00016370: 7245 7863 6570 7469 6f6e 2827 436f 6e74  rException('Cont
+00016380: 7261 6374 2076 616c 6964 6174 696f 6e20  ract validation 
+00016390: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+000163a0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+000163b0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+000163c0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+000163d0: 2035 3030 3a0d 0a20 2020 2020 2020 2020   500:..         
+000163e0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+000163f0: 6365 7074 696f 6e28 2749 6e74 6572 6e61  ception('Interna
+00016400: 6c20 7365 7276 6572 2065 7272 6f72 272c  l server error',
+00016410: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00016420: 2020 2020 7365 6c66 2e76 616c 6964 6174      self.validat
+00016430: 655f 7265 7370 6f6e 7365 285f 636f 6e74  e_response(_cont
+00016440: 6578 7429 0d0a 0d0a 2020 2020 2020 2020  ext)....        
+00016450: 2320 5265 7475 726e 2061 7070 726f 7072  # Return appropr
+00016460: 6961 7465 2074 7970 650d 0a20 2020 2020  iate type..     
+00016470: 2020 2072 6574 7572 6e20 4150 4948 656c     return APIHel
+00016480: 7065 722e 6a73 6f6e 5f64 6573 6572 6961  per.json_deseria
+00016490: 6c69 7a65 285f 636f 6e74 6578 742e 7265  lize(_context.re
+000164a0: 7370 6f6e 7365 2e72 6177 5f62 6f64 792c  sponse.raw_body,
+000164b0: 2047 6574 496e 6372 656d 656e 7452 6573   GetIncrementRes
+000164c0: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
+000164d0: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
+000164e0: 6620 6765 745f 7375 6273 6372 6970 7469  f get_subscripti
+000164f0: 6f6e 5f63 7963 6c65 7328 7365 6c66 2c0d  on_cycles(self,.
+00016500: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016520: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+00016530: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00016540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016550: 2020 2070 6167 652c 0d0a 2020 2020 2020     page,..      
+00016560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016570: 2020 2020 2020 2020 2020 7369 7a65 293a            size):
+00016580: 0d0a 2020 2020 2020 2020 2222 2244 6f65  ..        """Doe
+00016590: 7320 6120 4745 5420 7265 7175 6573 7420  s a GET request 
+000165a0: 746f 202f 7375 6273 6372 6970 7469 6f6e  to /subscription
+000165b0: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
+000165c0: 6964 7d2f 6379 636c 6573 2e0d 0a0d 0a20  id}/cycles..... 
+000165d0: 2020 2020 2020 2047 6574 5375 6273 6372         GetSubscr
+000165e0: 6970 7469 6f6e 4379 636c 6573 0d0a 0d0a  iptionCycles....
+000165f0: 2020 2020 2020 2020 4172 6773 3a0d 0a20          Args:.. 
+00016600: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
+00016610: 7269 7074 696f 6e5f 6964 2028 7374 7269  ription_id (stri
+00016620: 6e67 293a 2053 7562 7363 7269 7074 696f  ng): Subscriptio
+00016630: 6e20 4964 0d0a 2020 2020 2020 2020 2020  n Id..          
+00016640: 2020 7061 6765 2028 7374 7269 6e67 293a    page (string):
+00016650: 2050 6167 6520 6e75 6d62 6572 0d0a 2020   Page number..  
+00016660: 2020 2020 2020 2020 2020 7369 7a65 2028            size (
+00016670: 7374 7269 6e67 293a 2050 6167 6520 7369  string): Page si
+00016680: 7a65 0d0a 0d0a 2020 2020 2020 2020 5265  ze....        Re
+00016690: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
+000166a0: 2020 2020 4c69 7374 4379 636c 6573 5265      ListCyclesRe
+000166b0: 7370 6f6e 7365 3a20 5265 7370 6f6e 7365  sponse: Response
+000166c0: 2066 726f 6d20 7468 6520 4150 492e 200d   from the API. .
+000166d0: 0a0d 0a20 2020 2020 2020 2052 6169 7365  ...        Raise
+000166e0: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+000166f0: 4150 4945 7863 6570 7469 6f6e 3a20 5768  APIException: Wh
+00016700: 656e 2061 6e20 6572 726f 7220 6f63 6375  en an error occu
+00016710: 7273 2077 6869 6c65 2066 6574 6368 696e  rs while fetchin
+00016720: 6720 7468 6520 6461 7461 2066 726f 6d0d  g the data from.
+00016730: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016740: 2074 6865 2072 656d 6f74 6520 4150 492e   the remote API.
+00016750: 2054 6869 7320 6578 6365 7074 696f 6e20   This exception 
+00016760: 696e 636c 7564 6573 2074 6865 2048 5454  includes the HTT
+00016770: 5020 5265 7370 6f6e 7365 0d0a 2020 2020  P Response..    
+00016780: 2020 2020 2020 2020 2020 2020 636f 6465              code
+00016790: 2c20 616e 2065 7272 6f72 206d 6573 7361  , an error messa
+000167a0: 6765 2c20 616e 6420 7468 6520 4854 5450  ge, and the HTTP
+000167b0: 2062 6f64 7920 7468 6174 2077 6173 2072   body that was r
+000167c0: 6563 6569 7665 6420 696e 0d0a 2020 2020  eceived in..    
+000167d0: 2020 2020 2020 2020 2020 2020 7468 6520              the 
+000167e0: 7265 7175 6573 742e 0d0a 0d0a 2020 2020  request.....    
+000167f0: 2020 2020 2222 220d 0a0d 0a20 2020 2020      """....     
+00016800: 2020 2023 2050 7265 7061 7265 2071 7565     # Prepare que
+00016810: 7279 2055 524c 0d0a 2020 2020 2020 2020  ry URL..        
+00016820: 5f75 726c 5f70 6174 6820 3d20 272f 7375  _url_path = '/su
+00016830: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
+00016840: 7363 7269 7074 696f 6e5f 6964 7d2f 6379  scription_id}/cy
+00016850: 636c 6573 270d 0a20 2020 2020 2020 205f  cles'..        _
+00016860: 7572 6c5f 7061 7468 203d 2041 5049 4865  url_path = APIHe
+00016870: 6c70 6572 2e61 7070 656e 645f 7572 6c5f  lper.append_url_
+00016880: 7769 7468 5f74 656d 706c 6174 655f 7061  with_template_pa
+00016890: 7261 6d65 7465 7273 285f 7572 6c5f 7061  rameters(_url_pa
+000168a0: 7468 2c20 7b20 0d0a 2020 2020 2020 2020  th, { ..        
+000168b0: 2020 2020 2773 7562 7363 7269 7074 696f      'subscriptio
+000168c0: 6e5f 6964 273a 2073 7562 7363 7269 7074  n_id': subscript
+000168d0: 696f 6e5f 6964 0d0a 2020 2020 2020 2020  ion_id..        
+000168e0: 7d29 0d0a 2020 2020 2020 2020 5f71 7565  })..        _que
+000168f0: 7279 5f62 7569 6c64 6572 203d 2043 6f6e  ry_builder = Con
+00016900: 6669 6775 7261 7469 6f6e 2e62 6173 655f  figuration.base_
+00016910: 7572 690d 0a20 2020 2020 2020 205f 7175  uri..        _qu
+00016920: 6572 795f 6275 696c 6465 7220 2b3d 205f  ery_builder += _
+00016930: 7572 6c5f 7061 7468 0d0a 2020 2020 2020  url_path..      
+00016940: 2020 5f71 7565 7279 5f70 6172 616d 6574    _query_paramet
+00016950: 6572 7320 3d20 7b0d 0a20 2020 2020 2020  ers = {..       
+00016960: 2020 2020 2027 7061 6765 273a 2070 6167       'page': pag
+00016970: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+00016980: 2773 697a 6527 3a20 7369 7a65 0d0a 2020  'size': size..  
+00016990: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+000169a0: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+000169b0: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
+000169c0: 6e64 5f75 726c 5f77 6974 685f 7175 6572  nd_url_with_quer
+000169d0: 795f 7061 7261 6d65 7465 7273 285f 7175  y_parameters(_qu
+000169e0: 6572 795f 6275 696c 6465 722c 0d0a 2020  ery_builder,..  
+000169f0: 2020 2020 2020 2020 2020 5f71 7565 7279            _query
+00016a00: 5f70 6172 616d 6574 6572 732c 2043 6f6e  _parameters, Con
+00016a10: 6669 6775 7261 7469 6f6e 2e61 7272 6179  figuration.array
+00016a20: 5f73 6572 6961 6c69 7a61 7469 6f6e 290d  _serialization).
+00016a30: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00016a40: 7572 6c20 3d20 4150 4948 656c 7065 722e  url = APIHelper.
+00016a50: 636c 6561 6e5f 7572 6c28 5f71 7565 7279  clean_url(_query
+00016a60: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
+00016a70: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
+00016a80: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
+00016a90: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
+00016aa0: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
+00016ab0: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
+00016ac0: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
+00016ad0: 2020 2020 2027 5365 7276 6963 6552 6566       'ServiceRef
+00016ae0: 6572 6572 4e61 6d65 273a 2043 6f6e 6669  ererName': Confi
+00016af0: 6775 7261 7469 6f6e 2e73 6572 7669 6365  guration.service
+00016b00: 5f72 6566 6572 6572 5f6e 616d 650d 0a20  _referer_name.. 
+00016b10: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
+00016b20: 2020 2020 2320 5072 6570 6172 6520 616e      # Prepare an
+00016b30: 6420 6578 6563 7574 6520 7265 7175 6573  d execute reques
+00016b40: 740d 0a20 2020 2020 2020 205f 7265 7175  t..        _requ
+00016b50: 6573 7420 3d20 7365 6c66 2e68 7474 705f  est = self.http_
+00016b60: 636c 6965 6e74 2e67 6574 285f 7175 6572  client.get(_quer
+00016b70: 795f 7572 6c2c 2068 6561 6465 7273 3d5f  y_url, headers=_
+00016b80: 6865 6164 6572 7329 0d0a 2020 2020 2020  headers)..      
+00016b90: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
+00016ba0: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
+00016bb0: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
+00016bc0: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
+00016bd0: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
+00016be0: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
+00016bf0: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
+00016c00: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
+00016c10: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
+00016c20: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
+00016c30: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
+00016c40: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00016c50: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
+00016c60: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00016c70: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+00016c80: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
+00016c90: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00016ca0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00016cb0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00016cc0: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
+00016cd0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00016ce0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00016cf0: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
+00016d00: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00016d10: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00016d20: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00016d30: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
+00016d40: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00016d50: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00016d60: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
+00016d70: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
+00016d80: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
+00016d90: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00016da0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00016db0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00016dc0: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
+00016dd0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00016de0: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
+00016df0: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
+00016e00: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+00016e10: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00016e20: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00016e30: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
+00016e40: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+00016e50: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00016e60: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
+00016e70: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+00016e80: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00016e90: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00016ea0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00016eb0: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
+00016ec0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00016ed0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00016ee0: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
+00016ef0: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
+00016f00: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
+00016f10: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
+00016f20: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
+00016f30: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
+00016f40: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
+00016f50: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
+00016f60: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
+00016f70: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
+00016f80: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00016f90: 2e72 6177 5f62 6f64 792c 204c 6973 7443  .raw_body, ListC
+00016fa0: 7963 6c65 7352 6573 706f 6e73 652e 6672  yclesResponse.fr
+00016fb0: 6f6d 5f64 6963 7469 6f6e 6172 7929 0d0a  om_dictionary)..
+00016fc0: 0d0a 2020 2020 6465 6620 7265 6e65 775f  ..    def renew_
+00016fd0: 7375 6273 6372 6970 7469 6f6e 2873 656c  subscription(sel
+00016fe0: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
+00016ff0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00017000: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
+00017010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017020: 2020 2020 2020 2020 2020 2020 6964 656d              idem
+00017030: 706f 7465 6e63 795f 6b65 793d 4e6f 6e65  potency_key=None
+00017040: 293a 0d0a 2020 2020 2020 2020 2222 2244  ):..        """D
+00017050: 6f65 7320 6120 504f 5354 2072 6571 7565  oes a POST reque
+00017060: 7374 2074 6f20 2f73 7562 7363 7269 7074  st to /subscript
+00017070: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
+00017080: 6f6e 5f69 647d 2f63 7963 6c65 732e 0d0a  on_id}/cycles...
+00017090: 0d0a 2020 2020 2020 2020 5265 6e65 7753  ..        RenewS
+000170a0: 7562 7363 7269 7074 696f 6e0d 0a0d 0a20  ubscription.... 
+000170b0: 2020 2020 2020 2041 7267 733a 0d0a 2020         Args:..  
+000170c0: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
+000170d0: 6970 7469 6f6e 5f69 6420 2873 7472 696e  iption_id (strin
+000170e0: 6729 3a20 544f 444f 3a20 7479 7065 2064  g): TODO: type d
+000170f0: 6573 6372 6970 7469 6f6e 2068 6572 652e  escription here.
+00017100: 2045 7861 6d70 6c65 3a20 0d0a 2020 2020   Example: ..    
+00017110: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+00017120: 6e63 795f 6b65 7920 2873 7472 696e 672c  ncy_key (string,
+00017130: 206f 7074 696f 6e61 6c29 3a20 544f 444f   optional): TODO
+00017140: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
+00017150: 6f6e 2068 6572 652e 0d0a 2020 2020 2020  on here...      
+00017160: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
+00017170: 653a 200d 0a0d 0a20 2020 2020 2020 2052  e: ....        R
+00017180: 6574 7572 6e73 3a0d 0a20 2020 2020 2020  eturns:..       
+00017190: 2020 2020 2047 6574 5065 7269 6f64 5265       GetPeriodRe
+000171a0: 7370 6f6e 7365 3a20 5265 7370 6f6e 7365  sponse: Response
+000171b0: 2066 726f 6d20 7468 6520 4150 492e 200d   from the API. .
+000171c0: 0a0d 0a20 2020 2020 2020 2052 6169 7365  ...        Raise
+000171d0: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+000171e0: 4150 4945 7863 6570 7469 6f6e 3a20 5768  APIException: Wh
+000171f0: 656e 2061 6e20 6572 726f 7220 6f63 6375  en an error occu
+00017200: 7273 2077 6869 6c65 2066 6574 6368 696e  rs while fetchin
+00017210: 6720 7468 6520 6461 7461 2066 726f 6d0d  g the data from.
+00017220: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017230: 2074 6865 2072 656d 6f74 6520 4150 492e   the remote API.
+00017240: 2054 6869 7320 6578 6365 7074 696f 6e20   This exception 
+00017250: 696e 636c 7564 6573 2074 6865 2048 5454  includes the HTT
+00017260: 5020 5265 7370 6f6e 7365 0d0a 2020 2020  P Response..    
+00017270: 2020 2020 2020 2020 2020 2020 636f 6465              code
+00017280: 2c20 616e 2065 7272 6f72 206d 6573 7361  , an error messa
+00017290: 6765 2c20 616e 6420 7468 6520 4854 5450  ge, and the HTTP
+000172a0: 2062 6f64 7920 7468 6174 2077 6173 2072   body that was r
+000172b0: 6563 6569 7665 6420 696e 0d0a 2020 2020  eceived in..    
+000172c0: 2020 2020 2020 2020 2020 2020 7468 6520              the 
+000172d0: 7265 7175 6573 742e 0d0a 0d0a 2020 2020  request.....    
+000172e0: 2020 2020 2222 220d 0a0d 0a20 2020 2020      """....     
+000172f0: 2020 2023 2050 7265 7061 7265 2071 7565     # Prepare que
+00017300: 7279 2055 524c 0d0a 2020 2020 2020 2020  ry URL..        
+00017310: 5f75 726c 5f70 6174 6820 3d20 272f 7375  _url_path = '/su
+00017320: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
+00017330: 7363 7269 7074 696f 6e5f 6964 7d2f 6379  scription_id}/cy
+00017340: 636c 6573 270d 0a20 2020 2020 2020 205f  cles'..        _
+00017350: 7572 6c5f 7061 7468 203d 2041 5049 4865  url_path = APIHe
+00017360: 6c70 6572 2e61 7070 656e 645f 7572 6c5f  lper.append_url_
+00017370: 7769 7468 5f74 656d 706c 6174 655f 7061  with_template_pa
+00017380: 7261 6d65 7465 7273 285f 7572 6c5f 7061  rameters(_url_pa
+00017390: 7468 2c20 7b20 0d0a 2020 2020 2020 2020  th, { ..        
+000173a0: 2020 2020 2773 7562 7363 7269 7074 696f      'subscriptio
+000173b0: 6e5f 6964 273a 2073 7562 7363 7269 7074  n_id': subscript
+000173c0: 696f 6e5f 6964 0d0a 2020 2020 2020 2020  ion_id..        
+000173d0: 7d29 0d0a 2020 2020 2020 2020 5f71 7565  })..        _que
+000173e0: 7279 5f62 7569 6c64 6572 203d 2043 6f6e  ry_builder = Con
+000173f0: 6669 6775 7261 7469 6f6e 2e62 6173 655f  figuration.base_
+00017400: 7572 690d 0a20 2020 2020 2020 205f 7175  uri..        _qu
+00017410: 6572 795f 6275 696c 6465 7220 2b3d 205f  ery_builder += _
+00017420: 7572 6c5f 7061 7468 0d0a 2020 2020 2020  url_path..      
+00017430: 2020 5f71 7565 7279 5f75 726c 203d 2041    _query_url = A
+00017440: 5049 4865 6c70 6572 2e63 6c65 616e 5f75  PIHelper.clean_u
+00017450: 726c 285f 7175 6572 795f 6275 696c 6465  rl(_query_builde
+00017460: 7229 0d0a 0d0a 2020 2020 2020 2020 2320  r)....        # 
+00017470: 5072 6570 6172 6520 6865 6164 6572 730d  Prepare headers.
+00017480: 0a20 2020 2020 2020 205f 6865 6164 6572  .        _header
+00017490: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
+000174a0: 2020 2027 6163 6365 7074 273a 2027 6170     'accept': 'ap
+000174b0: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
+000174c0: 0d0a 2020 2020 2020 2020 2020 2020 2753  ..            'S
+000174d0: 6572 7669 6365 5265 6665 7265 724e 616d  erviceRefererNam
+000174e0: 6527 3a20 436f 6e66 6967 7572 6174 696f  e': Configuratio
+000174f0: 6e2e 7365 7276 6963 655f 7265 6665 7265  n.service_refere
+00017500: 725f 6e61 6d65 2c0d 0a20 2020 2020 2020  r_name,..       
+00017510: 2020 2020 2027 6964 656d 706f 7465 6e63       'idempotenc
+00017520: 792d 6b65 7927 3a20 6964 656d 706f 7465  y-key': idempote
+00017530: 6e63 795f 6b65 790d 0a20 2020 2020 2020  ncy_key..       
+00017540: 207d 0d0a 0d0a 2020 2020 2020 2020 2320   }....        # 
+00017550: 5072 6570 6172 6520 616e 6420 6578 6563  Prepare and exec
+00017560: 7574 6520 7265 7175 6573 740d 0a20 2020  ute request..   
+00017570: 2020 2020 205f 7265 7175 6573 7420 3d20       _request = 
+00017580: 7365 6c66 2e68 7474 705f 636c 6965 6e74  self.http_client
+00017590: 2e70 6f73 7428 5f71 7565 7279 5f75 726c  .post(_query_url
+000175a0: 2c20 6865 6164 6572 733d 5f68 6561 6465  , headers=_heade
+000175b0: 7273 290d 0a20 2020 2020 2020 2042 6173  rs)..        Bas
+000175c0: 6963 4175 7468 2e61 7070 6c79 285f 7265  icAuth.apply(_re
+000175d0: 7175 6573 7429 0d0a 2020 2020 2020 2020  quest)..        
+000175e0: 5f63 6f6e 7465 7874 203d 2073 656c 662e  _context = self.
+000175f0: 6578 6563 7574 655f 7265 7175 6573 7428  execute_request(
+00017600: 5f72 6571 7565 7374 290d 0a0d 0a20 2020  _request)....   
+00017610: 2020 2020 2023 2045 6e64 706f 696e 7420       # Endpoint 
+00017620: 616e 6420 676c 6f62 616c 2065 7272 6f72  and global error
+00017630: 2068 616e 646c 696e 6720 7573 696e 6720   handling using 
+00017640: 4854 5450 2073 7461 7475 7320 636f 6465  HTTP status code
+00017650: 732e 0d0a 2020 2020 2020 2020 6966 205f  s...        if _
+00017660: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00017670: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00017680: 3430 303a 0d0a 2020 2020 2020 2020 2020  400:..          
+00017690: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+000176a0: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
+000176b0: 7265 7175 6573 7427 2c20 5f63 6f6e 7465  request', _conte
+000176c0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+000176d0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+000176e0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+000176f0: 3d3d 2034 3031 3a0d 0a20 2020 2020 2020  == 401:..       
+00017700: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00017710: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+00017720: 6964 2041 5049 206b 6579 272c 205f 636f  id API key', _co
+00017730: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00017740: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00017750: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00017760: 6465 203d 3d20 3430 343a 0d0a 2020 2020  de == 404:..    
+00017770: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00017780: 726f 7245 7863 6570 7469 6f6e 2827 416e  rorException('An
+00017790: 2069 6e66 6f72 6d65 6420 7265 736f 7572   informed resour
+000177a0: 6365 2077 6173 206e 6f74 2066 6f75 6e64  ce was not found
+000177b0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+000177c0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+000177d0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+000177e0: 7475 735f 636f 6465 203d 3d20 3431 323a  tus_code == 412:
+000177f0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00017800: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+00017810: 6f6e 2827 4275 7369 6e65 7373 2076 616c  on('Business val
+00017820: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+00017830: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00017840: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00017850: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00017860: 5f63 6f64 6520 3d3d 2034 3232 3a0d 0a20  _code == 422:.. 
+00017870: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00017880: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00017890: 2743 6f6e 7472 6163 7420 7661 6c69 6461  'Contract valida
+000178a0: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
+000178b0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+000178c0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+000178d0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+000178e0: 6465 203d 3d20 3530 303a 0d0a 2020 2020  de == 500:..    
+000178f0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00017900: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+00017910: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
+00017920: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
+00017930: 0a20 2020 2020 2020 2073 656c 662e 7661  .        self.va
+00017940: 6c69 6461 7465 5f72 6573 706f 6e73 6528  lidate_response(
+00017950: 5f63 6f6e 7465 7874 290d 0a0d 0a20 2020  _context)....   
+00017960: 2020 2020 2023 2052 6574 7572 6e20 6170       # Return ap
+00017970: 7072 6f70 7269 6174 6520 7479 7065 0d0a  propriate type..
+00017980: 2020 2020 2020 2020 7265 7475 726e 2041          return A
+00017990: 5049 4865 6c70 6572 2e6a 736f 6e5f 6465  PIHelper.json_de
+000179a0: 7365 7269 616c 697a 6528 5f63 6f6e 7465  serialize(_conte
+000179b0: 7874 2e72 6573 706f 6e73 652e 7261 775f  xt.response.raw_
+000179c0: 626f 6479 2c20 4765 7450 6572 696f 6452  body, GetPeriodR
+000179d0: 6573 706f 6e73 652e 6672 6f6d 5f64 6963  esponse.from_dic
+000179e0: 7469 6f6e 6172 7929 0d0a 0d0a 2020 2020  tionary)....    
+000179f0: 6465 6620 6465 6c65 7465 5f73 7562 7363  def delete_subsc
+00017a00: 7269 7074 696f 6e5f 6974 656d 2873 656c  ription_item(sel
+00017a10: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
+00017a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a30: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
+00017a40: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
+00017a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a60: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+00017a70: 7469 6f6e 5f69 7465 6d5f 6964 2c0d 0a20  tion_item_id,.. 
+00017a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017aa0: 6964 656d 706f 7465 6e63 795f 6b65 793d  idempotency_key=
+00017ab0: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
+00017ac0: 2222 2244 6f65 7320 6120 4445 4c45 5445  """Does a DELETE
+00017ad0: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
+00017ae0: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
+00017af0: 6372 6970 7469 6f6e 5f69 647d 2f69 7465  cription_id}/ite
+00017b00: 6d73 2f7b 7375 6273 6372 6970 7469 6f6e  ms/{subscription
+00017b10: 5f69 7465 6d5f 6964 7d2e 0d0a 0d0a 2020  _item_id}.....  
+00017b20: 2020 2020 2020 4465 6c65 7465 7320 6120        Deletes a 
+00017b30: 7375 6273 6372 6970 7469 6f6e 2069 7465  subscription ite
+00017b40: 6d0d 0a0d 0a20 2020 2020 2020 2041 7267  m....        Arg
+00017b50: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00017b60: 7375 6273 6372 6970 7469 6f6e 5f69 6420  subscription_id 
+00017b70: 2873 7472 696e 6729 3a20 5375 6273 6372  (string): Subscr
+00017b80: 6970 7469 6f6e 2069 640d 0a20 2020 2020  iption id..     
+00017b90: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
+00017ba0: 696f 6e5f 6974 656d 5f69 6420 2873 7472  ion_item_id (str
+00017bb0: 696e 6729 3a20 5375 6273 6372 6970 7469  ing): Subscripti
+00017bc0: 6f6e 2069 7465 6d20 6964 0d0a 2020 2020  on item id..    
+00017bd0: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+00017be0: 6e63 795f 6b65 7920 2873 7472 696e 672c  ncy_key (string,
+00017bf0: 206f 7074 696f 6e61 6c29 3a20 544f 444f   optional): TODO
+00017c00: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
+00017c10: 6f6e 2068 6572 652e 0d0a 2020 2020 2020  on here...      
+00017c20: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
+00017c30: 653a 200d 0a0d 0a20 2020 2020 2020 2052  e: ....        R
+00017c40: 6574 7572 6e73 3a0d 0a20 2020 2020 2020  eturns:..       
+00017c50: 2020 2020 2047 6574 5375 6273 6372 6970       GetSubscrip
+00017c60: 7469 6f6e 4974 656d 5265 7370 6f6e 7365  tionItemResponse
+00017c70: 3a20 5265 7370 6f6e 7365 2066 726f 6d20  : Response from 
+00017c80: 7468 6520 4150 492e 200d 0a0d 0a20 2020  the API. ....   
+00017c90: 2020 2020 2052 6169 7365 733a 0d0a 2020       Raises:..  
+00017ca0: 2020 2020 2020 2020 2020 4150 4945 7863            APIExc
+00017cb0: 6570 7469 6f6e 3a20 5768 656e 2061 6e20  eption: When an 
+00017cc0: 6572 726f 7220 6f63 6375 7273 2077 6869  error occurs whi
+00017cd0: 6c65 2066 6574 6368 696e 6720 7468 6520  le fetching the 
+00017ce0: 6461 7461 2066 726f 6d0d 0a20 2020 2020  data from..     
+00017cf0: 2020 2020 2020 2020 2020 2074 6865 2072             the r
+00017d00: 656d 6f74 6520 4150 492e 2054 6869 7320  emote API. This 
+00017d10: 6578 6365 7074 696f 6e20 696e 636c 7564  exception includ
+00017d20: 6573 2074 6865 2048 5454 5020 5265 7370  es the HTTP Resp
+00017d30: 6f6e 7365 0d0a 2020 2020 2020 2020 2020  onse..          
+00017d40: 2020 2020 2020 636f 6465 2c20 616e 2065        code, an e
+00017d50: 7272 6f72 206d 6573 7361 6765 2c20 616e  rror message, an
+00017d60: 6420 7468 6520 4854 5450 2062 6f64 7920  d the HTTP body 
+00017d70: 7468 6174 2077 6173 2072 6563 6569 7665  that was receive
+00017d80: 6420 696e 0d0a 2020 2020 2020 2020 2020  d in..          
+00017d90: 2020 2020 2020 7468 6520 7265 7175 6573        the reques
+00017da0: 742e 0d0a 0d0a 2020 2020 2020 2020 2222  t.....        ""
+00017db0: 220d 0a0d 0a20 2020 2020 2020 2023 2050  "....        # P
+00017dc0: 7265 7061 7265 2071 7565 7279 2055 524c  repare query URL
+00017dd0: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
+00017de0: 6174 6820 3d20 272f 7375 6273 6372 6970  ath = '/subscrip
+00017df0: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
+00017e00: 696f 6e5f 6964 7d2f 6974 656d 732f 7b73  ion_id}/items/{s
+00017e10: 7562 7363 7269 7074 696f 6e5f 6974 656d  ubscription_item
+00017e20: 5f69 647d 270d 0a20 2020 2020 2020 205f  _id}'..        _
+00017e30: 7572 6c5f 7061 7468 203d 2041 5049 4865  url_path = APIHe
+00017e40: 6c70 6572 2e61 7070 656e 645f 7572 6c5f  lper.append_url_
+00017e50: 7769 7468 5f74 656d 706c 6174 655f 7061  with_template_pa
+00017e60: 7261 6d65 7465 7273 285f 7572 6c5f 7061  rameters(_url_pa
+00017e70: 7468 2c20 7b20 0d0a 2020 2020 2020 2020  th, { ..        
+00017e80: 2020 2020 2773 7562 7363 7269 7074 696f      'subscriptio
+00017e90: 6e5f 6964 273a 2073 7562 7363 7269 7074  n_id': subscript
+00017ea0: 696f 6e5f 6964 2c0d 0a20 2020 2020 2020  ion_id,..       
+00017eb0: 2020 2020 2027 7375 6273 6372 6970 7469       'subscripti
+00017ec0: 6f6e 5f69 7465 6d5f 6964 273a 2073 7562  on_item_id': sub
+00017ed0: 7363 7269 7074 696f 6e5f 6974 656d 5f69  scription_item_i
+00017ee0: 640d 0a20 2020 2020 2020 207d 290d 0a20  d..        }).. 
+00017ef0: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
+00017f00: 696c 6465 7220 3d20 436f 6e66 6967 7572  ilder = Configur
+00017f10: 6174 696f 6e2e 6261 7365 5f75 7269 0d0a  ation.base_uri..
+00017f20: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
+00017f30: 7569 6c64 6572 202b 3d20 5f75 726c 5f70  uilder += _url_p
+00017f40: 6174 680d 0a20 2020 2020 2020 205f 7175  ath..        _qu
+00017f50: 6572 795f 7572 6c20 3d20 4150 4948 656c  ery_url = APIHel
+00017f60: 7065 722e 636c 6561 6e5f 7572 6c28 5f71  per.clean_url(_q
+00017f70: 7565 7279 5f62 7569 6c64 6572 290d 0a0d  uery_builder)...
+00017f80: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
+00017f90: 7265 2068 6561 6465 7273 0d0a 2020 2020  re headers..    
+00017fa0: 2020 2020 5f68 6561 6465 7273 203d 207b      _headers = {
+00017fb0: 0d0a 2020 2020 2020 2020 2020 2020 2761  ..            'a
+00017fc0: 6363 6570 7427 3a20 2761 7070 6c69 6361  ccept': 'applica
+00017fd0: 7469 6f6e 2f6a 736f 6e27 2c0d 0a20 2020  tion/json',..   
+00017fe0: 2020 2020 2020 2020 2027 5365 7276 6963           'Servic
+00017ff0: 6552 6566 6572 6572 4e61 6d65 273a 2043  eRefererName': C
+00018000: 6f6e 6669 6775 7261 7469 6f6e 2e73 6572  onfiguration.ser
+00018010: 7669 6365 5f72 6566 6572 6572 5f6e 616d  vice_referer_nam
+00018020: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+00018030: 2769 6465 6d70 6f74 656e 6379 2d6b 6579  'idempotency-key
+00018040: 273a 2069 6465 6d70 6f74 656e 6379 5f6b  ': idempotency_k
+00018050: 6579 0d0a 2020 2020 2020 2020 7d0d 0a0d  ey..        }...
+00018060: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
+00018070: 7265 2061 6e64 2065 7865 6375 7465 2072  re and execute r
+00018080: 6571 7565 7374 0d0a 2020 2020 2020 2020  equest..        
+00018090: 5f72 6571 7565 7374 203d 2073 656c 662e  _request = self.
+000180a0: 6874 7470 5f63 6c69 656e 742e 6465 6c65  http_client.dele
+000180b0: 7465 285f 7175 6572 795f 7572 6c2c 2068  te(_query_url, h
+000180c0: 6561 6465 7273 3d5f 6865 6164 6572 7329  eaders=_headers)
+000180d0: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
+000180e0: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
+000180f0: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
+00018100: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
+00018110: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
+00018120: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
+00018130: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
+00018140: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
+00018150: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
+00018160: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
+00018170: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
+00018180: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00018190: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
+000181a0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+000181b0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+000181c0: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
+000181d0: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
+000181e0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+000181f0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00018200: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00018210: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
+00018220: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00018230: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
+00018240: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
+00018250: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00018260: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00018270: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00018280: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
+00018290: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+000182a0: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
+000182b0: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
+000182c0: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
+000182d0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+000182e0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+000182f0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00018300: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
+00018310: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00018320: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00018330: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
+00018340: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
+00018350: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00018360: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00018370: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00018380: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
+00018390: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+000183a0: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
+000183b0: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
+000183c0: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
+000183d0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+000183e0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+000183f0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00018400: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
+00018410: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00018420: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
+00018430: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
+00018440: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00018450: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
+00018460: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
+00018470: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
+00018480: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
+00018490: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
+000184a0: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
+000184b0: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
+000184c0: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
+000184d0: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
+000184e0: 792c 2047 6574 5375 6273 6372 6970 7469  y, GetSubscripti
+000184f0: 6f6e 4974 656d 5265 7370 6f6e 7365 2e66  onItemResponse.f
+00018500: 726f 6d5f 6469 6374 696f 6e61 7279 290d  rom_dictionary).
+00018510: 0a0d 0a20 2020 2064 6566 2067 6574 5f75  ...    def get_u
+00018520: 7361 6765 5f72 6570 6f72 7428 7365 6c66  sage_report(self
+00018530: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00018540: 2020 2020 2020 2020 2020 2020 7375 6273              subs
+00018550: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
+00018560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018570: 2020 2020 2020 2070 6572 696f 645f 6964         period_id
+00018580: 293a 0d0a 2020 2020 2020 2020 2222 2244  ):..        """D
+00018590: 6f65 7320 6120 4745 5420 7265 7175 6573  oes a GET reques
+000185a0: 7420 746f 202f 7375 6273 6372 6970 7469  t to /subscripti
+000185b0: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
+000185c0: 6e5f 6964 7d2f 7065 7269 6f64 732f 7b70  n_id}/periods/{p
+000185d0: 6572 696f 645f 6964 7d2f 7573 6167 6573  eriod_id}/usages
+000185e0: 2f72 6570 6f72 742e 0d0a 0d0a 2020 2020  /report.....    
+000185f0: 2020 2020 4765 7455 7361 6765 5265 706f      GetUsageRepo
+00018600: 7274 0d0a 0d0a 2020 2020 2020 2020 4172  rt....        Ar
+00018610: 6773 3a0d 0a20 2020 2020 2020 2020 2020  gs:..           
+00018620: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+00018630: 2028 7374 7269 6e67 293a 2054 6865 2073   (string): The s
+00018640: 7562 7363 7269 7074 696f 6e20 4964 0d0a  ubscription Id..
+00018650: 2020 2020 2020 2020 2020 2020 7065 7269              peri
+00018660: 6f64 5f69 6420 2873 7472 696e 6729 3a20  od_id (string): 
+00018670: 5468 6520 7065 7269 6f64 2049 640d 0a0d  The period Id...
+00018680: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00018690: 3a0d 0a20 2020 2020 2020 2020 2020 2047  :..            G
+000186a0: 6574 5573 6167 6552 6570 6f72 7452 6573  etUsageReportRes
+000186b0: 706f 6e73 653a 2052 6573 706f 6e73 6520  ponse: Response 
+000186c0: 6672 6f6d 2074 6865 2041 5049 2e20 0d0a  from the API. ..
+000186d0: 0d0a 2020 2020 2020 2020 5261 6973 6573  ..        Raises
+000186e0: 3a0d 0a20 2020 2020 2020 2020 2020 2041  :..            A
+000186f0: 5049 4578 6365 7074 696f 6e3a 2057 6865  PIException: Whe
+00018700: 6e20 616e 2065 7272 6f72 206f 6363 7572  n an error occur
+00018710: 7320 7768 696c 6520 6665 7463 6869 6e67  s while fetching
+00018720: 2074 6865 2064 6174 6120 6672 6f6d 0d0a   the data from..
+00018730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018740: 7468 6520 7265 6d6f 7465 2041 5049 2e20  the remote API. 
+00018750: 5468 6973 2065 7863 6570 7469 6f6e 2069  This exception i
+00018760: 6e63 6c75 6465 7320 7468 6520 4854 5450  ncludes the HTTP
+00018770: 2052 6573 706f 6e73 650d 0a20 2020 2020   Response..     
+00018780: 2020 2020 2020 2020 2020 2063 6f64 652c             code,
+00018790: 2061 6e20 6572 726f 7220 6d65 7373 6167   an error messag
+000187a0: 652c 2061 6e64 2074 6865 2048 5454 5020  e, and the HTTP 
+000187b0: 626f 6479 2074 6861 7420 7761 7320 7265  body that was re
+000187c0: 6365 6976 6564 2069 6e0d 0a20 2020 2020  ceived in..     
+000187d0: 2020 2020 2020 2020 2020 2074 6865 2072             the r
+000187e0: 6571 7565 7374 2e0d 0a0d 0a20 2020 2020  equest.....     
+000187f0: 2020 2022 2222 0d0a 0d0a 2020 2020 2020     """....      
+00018800: 2020 2320 5072 6570 6172 6520 7175 6572    # Prepare quer
+00018810: 7920 5552 4c0d 0a20 2020 2020 2020 205f  y URL..        _
+00018820: 7572 6c5f 7061 7468 203d 2027 2f73 7562  url_path = '/sub
+00018830: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
+00018840: 6372 6970 7469 6f6e 5f69 647d 2f70 6572  cription_id}/per
+00018850: 696f 6473 2f7b 7065 7269 6f64 5f69 647d  iods/{period_id}
+00018860: 2f75 7361 6765 732f 7265 706f 7274 270d  /usages/report'.
+00018870: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
+00018880: 7468 203d 2041 5049 4865 6c70 6572 2e61  th = APIHelper.a
+00018890: 7070 656e 645f 7572 6c5f 7769 7468 5f74  ppend_url_with_t
+000188a0: 656d 706c 6174 655f 7061 7261 6d65 7465  emplate_paramete
+000188b0: 7273 285f 7572 6c5f 7061 7468 2c20 7b20  rs(_url_path, { 
+000188c0: 0d0a 2020 2020 2020 2020 2020 2020 2773  ..            's
+000188d0: 7562 7363 7269 7074 696f 6e5f 6964 273a  ubscription_id':
+000188e0: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+000188f0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+00018900: 7065 7269 6f64 5f69 6427 3a20 7065 7269  period_id': peri
+00018910: 6f64 5f69 640d 0a20 2020 2020 2020 207d  od_id..        }
+00018920: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
+00018930: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
+00018940: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
+00018950: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
+00018960: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
+00018970: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
+00018980: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
+00018990: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
+000189a0: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
+000189b0: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
+000189c0: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
+000189d0: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
+000189e0: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+000189f0: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
+00018a00: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+00018a10: 0a20 2020 2020 2020 2020 2020 2027 5365  .            'Se
+00018a20: 7276 6963 6552 6566 6572 6572 4e61 6d65  rviceRefererName
+00018a30: 273a 2043 6f6e 6669 6775 7261 7469 6f6e  ': Configuration
+00018a40: 2e73 6572 7669 6365 5f72 6566 6572 6572  .service_referer
+00018a50: 5f6e 616d 650d 0a20 2020 2020 2020 207d  _name..        }
+00018a60: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+00018a70: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
+00018a80: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
+00018a90: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
+00018aa0: 6c66 2e68 7474 705f 636c 6965 6e74 2e67  lf.http_client.g
+00018ab0: 6574 285f 7175 6572 795f 7572 6c2c 2068  et(_query_url, h
+00018ac0: 6561 6465 7273 3d5f 6865 6164 6572 7329  eaders=_headers)
+00018ad0: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
+00018ae0: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
+00018af0: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
+00018b00: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
+00018b10: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
+00018b20: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
+00018b30: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
+00018b40: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
+00018b50: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
+00018b60: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
+00018b70: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
+00018b80: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00018b90: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
+00018ba0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00018bb0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00018bc0: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
+00018bd0: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
+00018be0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00018bf0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00018c00: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00018c10: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
+00018c20: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00018c30: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
+00018c40: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
+00018c50: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00018c60: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00018c70: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00018c80: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
+00018c90: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00018ca0: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
+00018cb0: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
+00018cc0: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
+00018cd0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00018ce0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00018cf0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00018d00: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
+00018d10: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00018d20: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00018d30: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
+00018d40: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
+00018d50: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00018d60: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00018d70: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00018d80: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
+00018d90: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00018da0: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
+00018db0: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
+00018dc0: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
+00018dd0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00018de0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00018df0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00018e00: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
+00018e10: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00018e20: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
+00018e30: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
+00018e40: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00018e50: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
+00018e60: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
+00018e70: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
+00018e80: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
+00018e90: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
+00018ea0: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
+00018eb0: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
+00018ec0: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
+00018ed0: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
+00018ee0: 792c 2047 6574 5573 6167 6552 6570 6f72  y, GetUsageRepor
+00018ef0: 7452 6573 706f 6e73 652e 6672 6f6d 5f64  tResponse.from_d
+00018f00: 6963 7469 6f6e 6172 7929 0d0a            ictionary)..
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/recipients_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/recipients_controller.py`

 * *Files 15% similar despite different names*

```diff
@@ -8,22 +8,22 @@
 
 from pagarmecoreapi.api_helper import APIHelper
 from pagarmecoreapi.configuration import Configuration
 from pagarmecoreapi.controllers.base_controller import BaseController
 from pagarmecoreapi.http.auth.basic_auth import BasicAuth
 from pagarmecoreapi.models.get_transfer_response import GetTransferResponse
 from pagarmecoreapi.models.get_recipient_response import GetRecipientResponse
-from pagarmecoreapi.models.get_anticipation_response import GetAnticipationResponse
+from pagarmecoreapi.models.get_balance_response import GetBalanceResponse
 from pagarmecoreapi.models.list_anticipation_response import ListAnticipationResponse
+from pagarmecoreapi.models.get_withdraw_response import GetWithdrawResponse
+from pagarmecoreapi.models.get_anticipation_response import GetAnticipationResponse
 from pagarmecoreapi.models.get_anticipation_limit_response import GetAnticipationLimitResponse
 from pagarmecoreapi.models.list_recipient_response import ListRecipientResponse
-from pagarmecoreapi.models.get_withdraw_response import GetWithdrawResponse
 from pagarmecoreapi.models.list_transfer_response import ListTransferResponse
 from pagarmecoreapi.models.list_withdrawals import ListWithdrawals
-from pagarmecoreapi.models.get_balance_response import GetBalanceResponse
 from pagarmecoreapi.exceptions.error_exception import ErrorException
 
 class RecipientsController(BaseController):
 
     """A Controller to access Endpoints in the pagarmecoreapi API."""
 
 
@@ -57,15 +57,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -83,27 +84,22 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetTransferResponse.from_dictionary)
 
-    def update_recipient(self,
-                         recipient_id,
-                         body,
-                         idempotency_key=None):
-        """Does a PUT request to /recipients/{recipient_id}.
+    def get_recipient(self,
+                      recipient_id):
+        """Does a GET request to /recipients/{recipient_id}.
 
-        Updates a recipient
+        Retrieves recipient information
 
         Args:
-            recipient_id (string): Recipient id
-            body (UpdateRecipientRequest): Recipient data
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
+            recipient_id (string): Recipiend id
 
         Returns:
             GetRecipientResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
@@ -120,20 +116,19 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -147,50 +142,58 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetRecipientResponse.from_dictionary)
 
-    def get_recipient(self,
-                      recipient_id):
-        """Does a GET request to /recipients/{recipient_id}.
+    def update_recipient_metadata(self,
+                                  recipient_id,
+                                  body,
+                                  idempotency_key=None):
+        """Does a PATCH request to /recipients/{recipient_id}/metadata.
 
-        Retrieves recipient information
+        Updates recipient metadata
 
         Args:
-            recipient_id (string): Recipiend id
+            recipient_id (string): Recipient id
+            body (UpdateMetadataRequest): Metadata
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
             GetRecipientResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}'
+        _url_path = '/recipients/{recipient_id}/metadata'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -204,51 +207,52 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetRecipientResponse.from_dictionary)
 
-    def create_anticipation(self,
-                            recipient_id,
-                            body,
-                            idempotency_key=None):
-        """Does a POST request to /recipients/{recipient_id}/anticipations.
+    def create_transfer(self,
+                        recipient_id,
+                        body,
+                        idempotency_key=None):
+        """Does a POST request to /recipients/{recipient_id}/transfers.
 
-        Creates an anticipation
+        Creates a transfer for a recipient
 
         Args:
-            recipient_id (string): Recipient id
-            body (CreateAnticipationRequest): Anticipation data
+            recipient_id (string): Recipient Id
+            body (CreateTransferRequest): Transfer data
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetAnticipationResponse: Response from the API. 
+            GetTransferResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/anticipations'
+        _url_path = '/recipients/{recipient_id}/transfers'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -266,84 +270,60 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetAnticipationResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetTransferResponse.from_dictionary)
 
-    def get_anticipations(self,
-                          recipient_id,
-                          page=None,
-                          size=None,
-                          status=None,
-                          timeframe=None,
-                          payment_date_since=None,
-                          payment_date_until=None,
-                          created_since=None,
-                          created_until=None):
-        """Does a GET request to /recipients/{recipient_id}/anticipations.
+    def update_automatic_anticipation_settings(self,
+                                               recipient_id,
+                                               body,
+                                               idempotency_key=None):
+        """Does a PATCH request to /recipients/{recipient_id}/automatic-anticipation-settings.
 
-        Retrieves a paginated list of anticipations from a recipient
+        Updates recipient metadata
 
         Args:
             recipient_id (string): Recipient id
-            page (int, optional): Page number
-            size (int, optional): Page size
-            status (string, optional): Filter for anticipation status
-            timeframe (string, optional): Filter for anticipation timeframe
-            payment_date_since (datetime, optional): Filter for start range
-                for anticipation payment date
-            payment_date_until (datetime, optional): Filter for end range for
-                anticipation payment date
-            created_since (datetime, optional): Filter for start range for
-                anticipation creation date
-            created_until (datetime, optional): Filter for end range for
-                anticipation creation date
+            body (UpdateAutomaticAnticipationSettingsRequest): Metadata
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
-            ListAnticipationResponse: Response from the API. 
+            GetRecipientResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/anticipations'
+        _url_path = '/recipients/{recipient_id}/automatic-anticipation-settings'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
-        _query_parameters = {
-            'page': page,
-            'size': size,
-            'status': status,
-            'timeframe': timeframe,
-            'payment_date_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, payment_date_since),
-            'payment_date_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, payment_date_until),
-            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
-            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
-        }
-        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
-            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -355,58 +335,49 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListAnticipationResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetRecipientResponse.from_dictionary)
 
-    def get_anticipation_limits(self,
-                                recipient_id,
-                                timeframe,
-                                payment_date):
-        """Does a GET request to /recipients/{recipient_id}/anticipation_limits.
+    def get_balance(self,
+                    recipient_id):
+        """Does a GET request to /recipients/{recipient_id}/balance.
 
-        Gets the anticipation limits for a recipient
+        Get balance information for a recipient
 
         Args:
             recipient_id (string): Recipient id
-            timeframe (string): Timeframe
-            payment_date (datetime): Anticipation payment date
 
         Returns:
-            GetAnticipationLimitResponse: Response from the API. 
+            GetBalanceResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/anticipation_limits'
+        _url_path = '/recipients/{recipient_id}/balance'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
-        _query_parameters = {
-            'timeframe': timeframe,
-            'payment_date': APIHelper.when_defined(APIHelper.RFC3339DateTime, payment_date)
-        }
-        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
-            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -422,53 +393,81 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetAnticipationLimitResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetBalanceResponse.from_dictionary)
 
-    def get_recipients(self,
-                       page=None,
-                       size=None):
-        """Does a GET request to /recipients.
+    def get_anticipations(self,
+                          recipient_id,
+                          page=None,
+                          size=None,
+                          status=None,
+                          timeframe=None,
+                          payment_date_since=None,
+                          payment_date_until=None,
+                          created_since=None,
+                          created_until=None):
+        """Does a GET request to /recipients/{recipient_id}/anticipations.
 
-        Retrieves paginated recipients information
+        Retrieves a paginated list of anticipations from a recipient
 
         Args:
+            recipient_id (string): Recipient id
             page (int, optional): Page number
             size (int, optional): Page size
+            status (string, optional): Filter for anticipation status
+            timeframe (string, optional): Filter for anticipation timeframe
+            payment_date_since (datetime, optional): Filter for start range
+                for anticipation payment date
+            payment_date_until (datetime, optional): Filter for end range for
+                anticipation payment date
+            created_since (datetime, optional): Filter for start range for
+                anticipation creation date
+            created_until (datetime, optional): Filter for end range for
+                anticipation creation date
 
         Returns:
-            ListRecipientResponse: Response from the API. 
+            ListAnticipationResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients'
+        _url_path = '/recipients/{recipient_id}/anticipations'
+        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
+            'recipient_id': recipient_id
+        })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_parameters = {
             'page': page,
-            'size': size
+            'size': size,
+            'status': status,
+            'timeframe': timeframe,
+            'payment_date_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, payment_date_since),
+            'payment_date_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, payment_date_until),
+            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
+            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -484,54 +483,56 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListRecipientResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListAnticipationResponse.from_dictionary)
 
-    def create_recipient(self,
-                         body,
-                         idempotency_key=None):
-        """Does a POST request to /recipients.
+    def get_withdraw_by_id(self,
+                           recipient_id,
+                           withdrawal_id):
+        """Does a GET request to /recipients/{recipient_id}/withdrawals/{withdrawal_id}.
 
-        Creates a new recipient
+        GetWithdrawById
 
         Args:
-            body (CreateRecipientRequest): Recipient data
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
+            recipient_id (string): TODO: type description here. Example: 
+            withdrawal_id (string): TODO: type description here. Example: 
 
         Returns:
-            GetRecipientResponse: Response from the API. 
+            GetWithdrawResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients'
+        _url_path = '/recipients/{recipient_id}/withdrawals/{withdrawal_id}'
+        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
+            'recipient_id': recipient_id,
+            'withdrawal_id': withdrawal_id
+        })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -543,55 +544,57 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetRecipientResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetWithdrawResponse.from_dictionary)
 
-    def get_withdraw_by_id(self,
-                           recipient_id,
-                           withdrawal_id):
-        """Does a GET request to /recipients/{recipient_id}/withdrawals/{withdrawal_id}.
+    def create_withdraw(self,
+                        recipient_id,
+                        body):
+        """Does a POST request to /recipients/{recipient_id}/withdrawals.
 
-        GetWithdrawById
+        CreateWithdraw
 
         Args:
             recipient_id (string): TODO: type description here. Example: 
-            withdrawal_id (string): TODO: type description here. Example: 
+            body (CreateWithdrawRequest): TODO: type description here.
+                Example: 
 
         Returns:
             GetWithdrawResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/withdrawals/{withdrawal_id}'
+        _url_path = '/recipients/{recipient_id}/withdrawals'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'recipient_id': recipient_id,
-            'withdrawal_id': withdrawal_id
+            'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json'
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -605,25 +608,25 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetWithdrawResponse.from_dictionary)
 
-    def update_recipient_default_bank_account(self,
-                                              recipient_id,
-                                              body,
-                                              idempotency_key=None):
-        """Does a PATCH request to /recipients/{recipient_id}/default-bank-account.
+    def update_recipient(self,
+                         recipient_id,
+                         body,
+                         idempotency_key=None):
+        """Does a PUT request to /recipients/{recipient_id}.
 
-        Updates the default bank account from a recipient
+        Updates a recipient
 
         Args:
             recipient_id (string): Recipient id
-            body (UpdateRecipientBankAccountRequest): Bank account data
+            body (UpdateRecipientRequest): Recipient data
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
             GetRecipientResponse: Response from the API. 
 
         Raises:
@@ -631,31 +634,32 @@
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/default-bank-account'
+        _url_path = '/recipients/{recipient_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -669,57 +673,58 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetRecipientResponse.from_dictionary)
 
-    def update_recipient_metadata(self,
-                                  recipient_id,
-                                  body,
-                                  idempotency_key=None):
-        """Does a PATCH request to /recipients/{recipient_id}/metadata.
+    def create_anticipation(self,
+                            recipient_id,
+                            body,
+                            idempotency_key=None):
+        """Does a POST request to /recipients/{recipient_id}/anticipations.
 
-        Updates recipient metadata
+        Creates an anticipation
 
         Args:
             recipient_id (string): Recipient id
-            body (UpdateMetadataRequest): Metadata
+            body (CreateAnticipationRequest): Anticipation data
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetRecipientResponse: Response from the API. 
+            GetAnticipationResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/metadata'
+        _url_path = '/recipients/{recipient_id}/anticipations'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -731,73 +736,60 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetRecipientResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetAnticipationResponse.from_dictionary)
 
-    def get_transfers(self,
-                      recipient_id,
-                      page=None,
-                      size=None,
-                      status=None,
-                      created_since=None,
-                      created_until=None):
-        """Does a GET request to /recipients/{recipient_id}/transfers.
+    def update_recipient_default_bank_account(self,
+                                              recipient_id,
+                                              body,
+                                              idempotency_key=None):
+        """Does a PATCH request to /recipients/{recipient_id}/default-bank-account.
 
-        Gets a paginated list of transfers for the recipient
+        Updates the default bank account from a recipient
 
         Args:
             recipient_id (string): Recipient id
-            page (int, optional): Page number
-            size (int, optional): Page size
-            status (string, optional): Filter for transfer status
-            created_since (datetime, optional): Filter for start range of
-                transfer creation date
-            created_until (datetime, optional): Filter for end range of
-                transfer creation date
+            body (UpdateRecipientBankAccountRequest): Bank account data
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
-            ListTransferResponse: Response from the API. 
+            GetRecipientResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/transfers'
+        _url_path = '/recipients/{recipient_id}/default-bank-account'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
-        _query_parameters = {
-            'page': page,
-            'size': size,
-            'status': status,
-            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
-            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
-        }
-        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
-            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -809,59 +801,53 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListTransferResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetRecipientResponse.from_dictionary)
 
-    def create_transfer(self,
-                        recipient_id,
-                        body,
-                        idempotency_key=None):
-        """Does a POST request to /recipients/{recipient_id}/transfers.
+    def get_recipient_by_code(self,
+                              code):
+        """Does a GET request to /recipients/{code}.
 
-        Creates a transfer for a recipient
+        Retrieves recipient information
 
         Args:
-            recipient_id (string): Recipient Id
-            body (CreateTransferRequest): Transfer data
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
+            code (string): Recipient code
 
         Returns:
-            GetTransferResponse: Response from the API. 
+            GetRecipientResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/transfers'
+        _url_path = '/recipients/{code}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'recipient_id': recipient_id
+            'code': code
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -873,56 +859,63 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetTransferResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetRecipientResponse.from_dictionary)
 
-    def create_withdraw(self,
-                        recipient_id,
-                        body):
-        """Does a POST request to /recipients/{recipient_id}/withdrawals.
+    def get_anticipation_limits(self,
+                                recipient_id,
+                                timeframe,
+                                payment_date):
+        """Does a GET request to /recipients/{recipient_id}/anticipation_limits.
 
-        CreateWithdraw
+        Gets the anticipation limits for a recipient
 
         Args:
-            recipient_id (string): TODO: type description here. Example: 
-            body (CreateWithdrawRequest): TODO: type description here.
-                Example: 
+            recipient_id (string): Recipient id
+            timeframe (string): Timeframe
+            payment_date (datetime): Anticipation payment date
 
         Returns:
-            GetWithdrawResponse: Response from the API. 
+            GetAnticipationLimitResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/withdrawals'
+        _url_path = '/recipients/{recipient_id}/anticipation_limits'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
+        _query_parameters = {
+            'timeframe': timeframe,
+            'payment_date': APIHelper.when_defined(APIHelper.RFC3339DateTime, payment_date)
+        }
+        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
+            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json'
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -934,69 +927,54 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetWithdrawResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetAnticipationLimitResponse.from_dictionary)
 
-    def get_withdrawals(self,
-                        recipient_id,
-                        page=None,
-                        size=None,
-                        status=None,
-                        created_since=None,
-                        created_until=None):
-        """Does a GET request to /recipients/{recipient_id}/withdrawals.
+    def get_recipients(self,
+                       page=None,
+                       size=None):
+        """Does a GET request to /recipients.
 
-        Gets a paginated list of transfers for the recipient
+        Retrieves paginated recipients information
 
         Args:
-            recipient_id (string): TODO: type description here. Example: 
-            page (int, optional): TODO: type description here. Example: 
-            size (int, optional): TODO: type description here. Example: 
-            status (string, optional): TODO: type description here. Example: 
-            created_since (datetime, optional): TODO: type description here.
-                Example: 
-            created_until (datetime, optional): TODO: type description here.
-                Example: 
+            page (int, optional): Page number
+            size (int, optional): Page size
 
         Returns:
-            ListWithdrawals: Response from the API. 
+            ListRecipientResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/withdrawals'
-        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'recipient_id': recipient_id
-        })
+        _url_path = '/recipients'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_parameters = {
             'page': page,
-            'size': size,
-            'status': status,
-            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
-            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
+            'size': size
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -1012,27 +990,25 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListWithdrawals.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListRecipientResponse.from_dictionary)
 
-    def update_automatic_anticipation_settings(self,
-                                               recipient_id,
-                                               body,
-                                               idempotency_key=None):
-        """Does a PATCH request to /recipients/{recipient_id}/automatic-anticipation-settings.
+    def create_recipient(self,
+                         body,
+                         idempotency_key=None):
+        """Does a POST request to /recipients.
 
-        Updates recipient metadata
+        Creates a new recipient
 
         Args:
-            recipient_id (string): Recipient id
-            body (UpdateAutomaticAnticipationSettingsRequest): Metadata
+            body (CreateRecipientRequest): Recipient data
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
             GetRecipientResponse: Response from the API. 
 
         Raises:
@@ -1040,31 +1016,29 @@
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/automatic-anticipation-settings'
-        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'recipient_id': recipient_id
-        })
+        _url_path = '/recipients'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -1078,49 +1052,68 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetRecipientResponse.from_dictionary)
 
-    def get_anticipation(self,
-                         recipient_id,
-                         anticipation_id):
-        """Does a GET request to /recipients/{recipient_id}/anticipations/{anticipation_id}.
+    def get_transfers(self,
+                      recipient_id,
+                      page=None,
+                      size=None,
+                      status=None,
+                      created_since=None,
+                      created_until=None):
+        """Does a GET request to /recipients/{recipient_id}/transfers.
 
-        Gets an anticipation
+        Gets a paginated list of transfers for the recipient
 
         Args:
             recipient_id (string): Recipient id
-            anticipation_id (string): Anticipation id
+            page (int, optional): Page number
+            size (int, optional): Page size
+            status (string, optional): Filter for transfer status
+            created_since (datetime, optional): Filter for start range of
+                transfer creation date
+            created_until (datetime, optional): Filter for end range of
+                transfer creation date
 
         Returns:
-            GetAnticipationResponse: Response from the API. 
+            ListTransferResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/anticipations/{anticipation_id}'
+        _url_path = '/recipients/{recipient_id}/transfers'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'recipient_id': recipient_id,
-            'anticipation_id': anticipation_id
+            'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
+        _query_parameters = {
+            'page': page,
+            'size': size,
+            'status': status,
+            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
+            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
+        }
+        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
+            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -1136,60 +1129,74 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetAnticipationResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListTransferResponse.from_dictionary)
 
-    def update_recipient_transfer_settings(self,
-                                           recipient_id,
-                                           body,
-                                           idempotency_key=None):
-        """Does a PATCH request to /recipients/{recipient_id}/transfer-settings.
+    def get_withdrawals(self,
+                        recipient_id,
+                        page=None,
+                        size=None,
+                        status=None,
+                        created_since=None,
+                        created_until=None):
+        """Does a GET request to /recipients/{recipient_id}/withdrawals.
 
-        UpdateRecipientTransferSettings
+        Gets a paginated list of transfers for the recipient
 
         Args:
-            recipient_id (string): Recipient Identificator
-            body (UpdateTransferSettingsRequest): TODO: type description here.
+            recipient_id (string): TODO: type description here. Example: 
+            page (int, optional): TODO: type description here. Example: 
+            size (int, optional): TODO: type description here. Example: 
+            status (string, optional): TODO: type description here. Example: 
+            created_since (datetime, optional): TODO: type description here.
                 Example: 
-            idempotency_key (string, optional): TODO: type description here.
+            created_until (datetime, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetRecipientResponse: Response from the API. 
+            ListWithdrawals: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/transfer-settings'
+        _url_path = '/recipients/{recipient_id}/withdrawals'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
+        _query_parameters = {
+            'page': page,
+            'size': size,
+            'status': status,
+            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
+            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
+        }
+        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
+            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -1201,48 +1208,52 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetRecipientResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListWithdrawals.from_dictionary)
 
-    def get_balance(self,
-                    recipient_id):
-        """Does a GET request to /recipients/{recipient_id}/balance.
+    def get_anticipation(self,
+                         recipient_id,
+                         anticipation_id):
+        """Does a GET request to /recipients/{recipient_id}/anticipations/{anticipation_id}.
 
-        Get balance information for a recipient
+        Gets an anticipation
 
         Args:
             recipient_id (string): Recipient id
+            anticipation_id (string): Anticipation id
 
         Returns:
-            GetBalanceResponse: Response from the API. 
+            GetAnticipationResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{recipient_id}/balance'
+        _url_path = '/recipients/{recipient_id}/anticipations/{anticipation_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'recipient_id': recipient_id
+            'recipient_id': recipient_id,
+            'anticipation_id': anticipation_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -1258,52 +1269,61 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetBalanceResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetAnticipationResponse.from_dictionary)
 
-    def get_recipient_by_code(self,
-                              code):
-        """Does a GET request to /recipients/{code}.
+    def update_recipient_transfer_settings(self,
+                                           recipient_id,
+                                           body,
+                                           idempotency_key=None):
+        """Does a PATCH request to /recipients/{recipient_id}/transfer-settings.
 
-        Retrieves recipient information
+        UpdateRecipientTransferSettings
 
         Args:
-            code (string): Recipient code
+            recipient_id (string): Recipient Identificator
+            body (UpdateTransferSettingsRequest): TODO: type description here.
+                Example: 
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
             GetRecipientResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/recipients/{code}'
+        _url_path = '/recipients/{recipient_id}/transfer-settings'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'code': code
+            'recipient_id': recipient_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -1341,15 +1361,16 @@
         _url_path = '/recipients/default'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/transactions_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/transactions_controller.py`

 * *Files 6% similar despite different names*

```diff
@@ -45,15 +45,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/invoices_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/invoices_controller.py`

 * *Files 14% similar despite different names*

```diff
@@ -15,71 +15,14 @@
 from pagarmecoreapi.exceptions.error_exception import ErrorException
 
 class InvoicesController(BaseController):
 
     """A Controller to access Endpoints in the pagarmecoreapi API."""
 
 
-    def get_partial_invoice(self,
-                            subscription_id):
-        """Does a GET request to /subscriptions/{subscription_id}/partial-invoice.
-
-        GetPartialInvoice
-
-        Args:
-            subscription_id (string): Subscription Id
-
-        Returns:
-            GetInvoiceResponse: Response from the API. 
-
-        Raises:
-            APIException: When an error occurs while fetching the data from
-                the remote API. This exception includes the HTTP Response
-                code, an error message, and the HTTP body that was received in
-                the request.
-
-        """
-
-        # Prepare query URL
-        _url_path = '/subscriptions/{subscription_id}/partial-invoice'
-        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'subscription_id': subscription_id
-        })
-        _query_builder = Configuration.base_uri
-        _query_builder += _url_path
-        _query_url = APIHelper.clean_url(_query_builder)
-
-        # Prepare headers
-        _headers = {
-            'accept': 'application/json'
-        }
-
-        # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
-        BasicAuth.apply(_request)
-        _context = self.execute_request(_request)
-
-        # Endpoint and global error handling using HTTP status codes.
-        if _context.response.status_code == 400:
-            raise ErrorException('Invalid request', _context)
-        elif _context.response.status_code == 401:
-            raise ErrorException('Invalid API key', _context)
-        elif _context.response.status_code == 404:
-            raise ErrorException('An informed resource was not found', _context)
-        elif _context.response.status_code == 412:
-            raise ErrorException('Business validation error', _context)
-        elif _context.response.status_code == 422:
-            raise ErrorException('Contract validation error', _context)
-        elif _context.response.status_code == 500:
-            raise ErrorException('Internal server error', _context)
-        self.validate_response(_context)
-
-        # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetInvoiceResponse.from_dictionary)
-
     def cancel_invoice(self,
                        invoice_id,
                        idempotency_key=None):
         """Does a DELETE request to /invoices/{invoice_id}.
 
         Cancels an invoice
 
@@ -107,14 +50,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -164,15 +108,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -231,14 +176,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -296,14 +242,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -392,15 +339,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -418,14 +366,72 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, ListInvoicesResponse.from_dictionary)
 
+    def get_partial_invoice(self,
+                            subscription_id):
+        """Does a GET request to /subscriptions/{subscription_id}/partial-invoice.
+
+        GetPartialInvoice
+
+        Args:
+            subscription_id (string): Subscription Id
+
+        Returns:
+            GetInvoiceResponse: Response from the API. 
+
+        Raises:
+            APIException: When an error occurs while fetching the data from
+                the remote API. This exception includes the HTTP Response
+                code, an error message, and the HTTP body that was received in
+                the request.
+
+        """
+
+        # Prepare query URL
+        _url_path = '/subscriptions/{subscription_id}/partial-invoice'
+        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
+            'subscription_id': subscription_id
+        })
+        _query_builder = Configuration.base_uri
+        _query_builder += _url_path
+        _query_url = APIHelper.clean_url(_query_builder)
+
+        # Prepare headers
+        _headers = {
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
+        }
+
+        # Prepare and execute request
+        _request = self.http_client.get(_query_url, headers=_headers)
+        BasicAuth.apply(_request)
+        _context = self.execute_request(_request)
+
+        # Endpoint and global error handling using HTTP status codes.
+        if _context.response.status_code == 400:
+            raise ErrorException('Invalid request', _context)
+        elif _context.response.status_code == 401:
+            raise ErrorException('Invalid API key', _context)
+        elif _context.response.status_code == 404:
+            raise ErrorException('An informed resource was not found', _context)
+        elif _context.response.status_code == 412:
+            raise ErrorException('Business validation error', _context)
+        elif _context.response.status_code == 422:
+            raise ErrorException('Contract validation error', _context)
+        elif _context.response.status_code == 500:
+            raise ErrorException('Internal server error', _context)
+        self.validate_response(_context)
+
+        # Return appropriate type
+        return APIHelper.json_deserialize(_context.response.raw_body, GetInvoiceResponse.from_dictionary)
+
     def update_invoice_status(self,
                               invoice_id,
                               body,
                               idempotency_key=None):
         """Does a PATCH request to /invoices/{invoice_id}/status.
 
         Updates the status from an invoice
@@ -456,14 +462,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/plans_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/plans_controller.py`

 * *Files 3% similar despite different names*

```diff
@@ -47,15 +47,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -73,25 +74,23 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetPlanResponse.from_dictionary)
 
-    def update_plan(self,
-                    plan_id,
+    def create_plan(self,
                     body,
                     idempotency_key=None):
-        """Does a PUT request to /plans/{plan_id}.
+        """Does a POST request to /plans.
 
-        Updates a plan
+        Creates a new plan
 
         Args:
-            plan_id (string): Plan id
-            body (UpdatePlanRequest): Request for updating a plan
+            body (CreatePlanRequest): Request for creating a plan
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
             GetPlanResponse: Response from the API. 
 
         Raises:
@@ -99,31 +98,29 @@
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/plans/{plan_id}'
-        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'plan_id': plan_id
-        })
+        _url_path = '/plans'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -137,23 +134,25 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetPlanResponse.from_dictionary)
 
-    def delete_plan(self,
+    def update_plan(self,
                     plan_id,
+                    body,
                     idempotency_key=None):
-        """Does a DELETE request to /plans/{plan_id}.
+        """Does a PUT request to /plans/{plan_id}.
 
-        Deletes a plan
+        Updates a plan
 
         Args:
             plan_id (string): Plan id
+            body (UpdatePlanRequest): Request for updating a plan
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
             GetPlanResponse: Response from the API. 
 
         Raises:
@@ -172,19 +171,21 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.delete(_query_url, headers=_headers)
+        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -198,58 +199,54 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetPlanResponse.from_dictionary)
 
-    def update_plan_metadata(self,
-                             plan_id,
-                             body,
-                             idempotency_key=None):
-        """Does a PATCH request to /Plans/{plan_id}/metadata.
+    def get_plan_item(self,
+                      plan_id,
+                      plan_item_id):
+        """Does a GET request to /plans/{plan_id}/items/{plan_item_id}.
 
-        Updates the metadata from a plan
+        Gets a plan item
 
         Args:
-            plan_id (string): The plan id
-            body (UpdateMetadataRequest): Request for updating the plan
-                metadata
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
+            plan_id (string): Plan id
+            plan_item_id (string): Plan item id
 
         Returns:
-            GetPlanResponse: Response from the API. 
+            GetPlanItemResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/Plans/{plan_id}/metadata'
+        _url_path = '/plans/{plan_id}/items/{plan_item_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'plan_id': plan_id
+            'plan_id': plan_id,
+            'plan_item_id': plan_item_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -261,29 +258,27 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetPlanResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetPlanItemResponse.from_dictionary)
 
-    def update_plan_item(self,
+    def create_plan_item(self,
                          plan_id,
-                         plan_item_id,
                          body,
                          idempotency_key=None):
-        """Does a PUT request to /plans/{plan_id}/items/{plan_item_id}.
+        """Does a POST request to /plans/{plan_id}/items.
 
-        Updates a plan item
+        Adds a new item to a plan
 
         Args:
             plan_id (string): Plan id
-            plan_item_id (string): Plan item id
-            body (UpdatePlanItemRequest): Request for updating the plan item
+            body (CreatePlanItemRequest): Request for creating a plan item
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
             GetPlanItemResponse: Response from the API. 
 
         Raises:
@@ -291,32 +286,32 @@
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/plans/{plan_id}/items/{plan_item_id}'
+        _url_path = '/plans/{plan_id}/items'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'plan_id': plan_id,
-            'plan_item_id': plan_item_id
+            'plan_id': plan_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -330,49 +325,69 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetPlanItemResponse.from_dictionary)
 
-    def get_plan_item(self,
-                      plan_id,
-                      plan_item_id):
-        """Does a GET request to /plans/{plan_id}/items/{plan_item_id}.
+    def get_plans(self,
+                  page=None,
+                  size=None,
+                  name=None,
+                  status=None,
+                  billing_type=None,
+                  created_since=None,
+                  created_until=None):
+        """Does a GET request to /plans.
 
-        Gets a plan item
+        Gets all plans
 
         Args:
-            plan_id (string): Plan id
-            plan_item_id (string): Plan item id
+            page (int, optional): Page number
+            size (int, optional): Page size
+            name (string, optional): Filter for Plan's name
+            status (string, optional): Filter for Plan's status
+            billing_type (string, optional): Filter for plan's billing type
+            created_since (datetime, optional): Filter for plan's creation
+                date start range
+            created_until (datetime, optional): Filter for plan's creation
+                date end range
 
         Returns:
-            GetPlanItemResponse: Response from the API. 
+            ListPlansResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/plans/{plan_id}/items/{plan_item_id}'
-        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'plan_id': plan_id,
-            'plan_item_id': plan_item_id
-        })
+        _url_path = '/plans'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
+        _query_parameters = {
+            'page': page,
+            'size': size,
+            'name': name,
+            'status': status,
+            'billing_type': billing_type,
+            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
+            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
+        }
+        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
+            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -388,54 +403,52 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetPlanItemResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, ListPlansResponse.from_dictionary)
 
-    def delete_plan_item(self,
-                         plan_id,
-                         plan_item_id,
-                         idempotency_key=None):
-        """Does a DELETE request to /plans/{plan_id}/items/{plan_item_id}.
+    def delete_plan(self,
+                    plan_id,
+                    idempotency_key=None):
+        """Does a DELETE request to /plans/{plan_id}.
 
-        Removes an item from a plan
+        Deletes a plan
 
         Args:
             plan_id (string): Plan id
-            plan_item_id (string): Plan item id
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetPlanItemResponse: Response from the API. 
+            GetPlanResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/plans/{plan_id}/items/{plan_item_id}'
+        _url_path = '/plans/{plan_id}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'plan_id': plan_id,
-            'plan_item_id': plan_item_id
+            'plan_id': plan_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -452,59 +465,61 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetPlanItemResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetPlanResponse.from_dictionary)
 
-    def create_plan_item(self,
-                         plan_id,
-                         body,
-                         idempotency_key=None):
-        """Does a POST request to /plans/{plan_id}/items.
+    def update_plan_metadata(self,
+                             plan_id,
+                             body,
+                             idempotency_key=None):
+        """Does a PATCH request to /Plans/{plan_id}/metadata.
 
-        Adds a new item to a plan
+        Updates the metadata from a plan
 
         Args:
-            plan_id (string): Plan id
-            body (CreatePlanItemRequest): Request for creating a plan item
+            plan_id (string): The plan id
+            body (UpdateMetadataRequest): Request for updating the plan
+                metadata
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetPlanItemResponse: Response from the API. 
+            GetPlanResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/plans/{plan_id}/items'
+        _url_path = '/Plans/{plan_id}/metadata'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
             'plan_id': plan_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -516,54 +531,63 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetPlanItemResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetPlanResponse.from_dictionary)
 
-    def create_plan(self,
-                    body,
-                    idempotency_key=None):
-        """Does a POST request to /plans.
+    def update_plan_item(self,
+                         plan_id,
+                         plan_item_id,
+                         body,
+                         idempotency_key=None):
+        """Does a PUT request to /plans/{plan_id}/items/{plan_item_id}.
 
-        Creates a new plan
+        Updates a plan item
 
         Args:
-            body (CreatePlanRequest): Request for creating a plan
+            plan_id (string): Plan id
+            plan_item_id (string): Plan item id
+            body (UpdatePlanItemRequest): Request for updating the plan item
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetPlanResponse: Response from the API. 
+            GetPlanItemResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/plans'
+        _url_path = '/plans/{plan_id}/items/{plan_item_id}'
+        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
+            'plan_id': plan_id,
+            'plan_item_id': plan_item_id
+        })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -575,74 +599,60 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetPlanResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetPlanItemResponse.from_dictionary)
 
-    def get_plans(self,
-                  page=None,
-                  size=None,
-                  name=None,
-                  status=None,
-                  billing_type=None,
-                  created_since=None,
-                  created_until=None):
-        """Does a GET request to /plans.
+    def delete_plan_item(self,
+                         plan_id,
+                         plan_item_id,
+                         idempotency_key=None):
+        """Does a DELETE request to /plans/{plan_id}/items/{plan_item_id}.
 
-        Gets all plans
+        Removes an item from a plan
 
         Args:
-            page (int, optional): Page number
-            size (int, optional): Page size
-            name (string, optional): Filter for Plan's name
-            status (string, optional): Filter for Plan's status
-            billing_type (string, optional): Filter for plan's billing type
-            created_since (datetime, optional): Filter for plan's creation
-                date start range
-            created_until (datetime, optional): Filter for plan's creation
-                date end range
+            plan_id (string): Plan id
+            plan_item_id (string): Plan item id
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
-            ListPlansResponse: Response from the API. 
+            GetPlanItemResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/plans'
+        _url_path = '/plans/{plan_id}/items/{plan_item_id}'
+        _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
+            'plan_id': plan_id,
+            'plan_item_id': plan_item_id
+        })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
-        _query_parameters = {
-            'page': page,
-            'size': size,
-            'name': name,
-            'status': status,
-            'billing_type': billing_type,
-            'created_since': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_since),
-            'created_until': APIHelper.when_defined(APIHelper.RFC3339DateTime, created_until)
-        }
-        _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
-            _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -654,8 +664,8 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, ListPlansResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetPlanItemResponse.from_dictionary)
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/orders_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/orders_controller.py`

 * *Files 2% similar despite different names*

```diff
@@ -69,15 +69,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -127,14 +128,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -154,28 +156,30 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetOrderResponse.from_dictionary)
 
-    def delete_all_order_items(self,
-                               order_id,
-                               idempotency_key=None):
-        """Does a DELETE request to /orders/{orderId}/items.
+    def create_order_item(self,
+                          order_id,
+                          body,
+                          idempotency_key=None):
+        """Does a POST request to /orders/{orderId}/items.
 
-        DeleteAllOrderItems
+        CreateOrderItem
 
         Args:
             order_id (string): Order Id
+            body (CreateOrderItemRequest): Order Item Model
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetOrderResponse: Response from the API. 
+            GetOrderItemResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
@@ -189,19 +193,21 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.delete(_query_url, headers=_headers)
+        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -213,59 +219,56 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetOrderResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetOrderItemResponse.from_dictionary)
 
-    def create_order_item(self,
-                          order_id,
-                          body,
-                          idempotency_key=None):
-        """Does a POST request to /orders/{orderId}/items.
+    def get_order_item(self,
+                       order_id,
+                       item_id):
+        """Does a GET request to /orders/{orderId}/items/{itemId}.
 
-        CreateOrderItem
+        GetOrderItem
 
         Args:
             order_id (string): Order Id
-            body (CreateOrderItemRequest): Order Item Model
-            idempotency_key (string, optional): TODO: type description here.
-                Example: 
+            item_id (string): Item Id
 
         Returns:
             GetOrderItemResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/orders/{orderId}/items'
+        _url_path = '/orders/{orderId}/items/{itemId}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'orderId': order_id
+            'orderId': order_id,
+            'itemId': item_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
-            'idempotency-key': idempotency_key
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
-        _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -279,27 +282,25 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetOrderItemResponse.from_dictionary)
 
-    def update_order_item(self,
+    def delete_order_item(self,
                           order_id,
                           item_id,
-                          body,
                           idempotency_key=None):
-        """Does a PUT request to /orders/{orderId}/items/{itemId}.
+        """Does a DELETE request to /orders/{orderId}/items/{itemId}.
 
-        UpdateOrderItem
+        DeleteOrderItem
 
         Args:
             order_id (string): Order Id
             item_id (string): Item Id
-            body (UpdateOrderItemRequest): Item Model
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
             GetOrderItemResponse: Response from the API. 
 
         Raises:
@@ -319,20 +320,20 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
-            'Content-Type': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -346,57 +347,59 @@
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
         return APIHelper.json_deserialize(_context.response.raw_body, GetOrderItemResponse.from_dictionary)
 
-    def delete_order_item(self,
-                          order_id,
-                          item_id,
-                          idempotency_key=None):
-        """Does a DELETE request to /orders/{orderId}/items/{itemId}.
+    def update_order_metadata(self,
+                              order_id,
+                              body,
+                              idempotency_key=None):
+        """Does a PATCH request to /Orders/{order_id}/metadata.
 
-        DeleteOrderItem
+        Updates the metadata from an order
 
         Args:
-            order_id (string): Order Id
-            item_id (string): Item Id
+            order_id (string): The order id
+            body (UpdateMetadataRequest): Request for updating the order
+                metadata
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetOrderItemResponse: Response from the API. 
+            GetOrderResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/orders/{orderId}/items/{itemId}'
+        _url_path = '/Orders/{order_id}/metadata'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'orderId': order_id,
-            'itemId': item_id
+            'order_id': order_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.delete(_query_url, headers=_headers)
+        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -408,55 +411,57 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetOrderItemResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetOrderResponse.from_dictionary)
 
-    def get_order_item(self,
-                       order_id,
-                       item_id):
-        """Does a GET request to /orders/{orderId}/items/{itemId}.
+    def delete_all_order_items(self,
+                               order_id,
+                               idempotency_key=None):
+        """Does a DELETE request to /orders/{orderId}/items.
 
-        GetOrderItem
+        DeleteAllOrderItems
 
         Args:
             order_id (string): Order Id
-            item_id (string): Item Id
+            idempotency_key (string, optional): TODO: type description here.
+                Example: 
 
         Returns:
-            GetOrderItemResponse: Response from the API. 
+            GetOrderResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/orders/{orderId}/items/{itemId}'
+        _url_path = '/orders/{orderId}/items'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'orderId': order_id,
-            'itemId': item_id
+            'orderId': order_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
+            'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.get(_query_url, headers=_headers)
+        _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -468,59 +473,63 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetOrderItemResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetOrderResponse.from_dictionary)
 
-    def close_order(self,
-                    id,
-                    body,
-                    idempotency_key=None):
-        """Does a PATCH request to /orders/{id}/closed.
+    def update_order_item(self,
+                          order_id,
+                          item_id,
+                          body,
+                          idempotency_key=None):
+        """Does a PUT request to /orders/{orderId}/items/{itemId}.
 
-        CloseOrder
+        UpdateOrderItem
 
         Args:
-            id (string): Order Id
-            body (UpdateOrderStatusRequest): Update Order Model
+            order_id (string): Order Id
+            item_id (string): Item Id
+            body (UpdateOrderItemRequest): Item Model
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
-            GetOrderResponse: Response from the API. 
+            GetOrderItemResponse: Response from the API. 
 
         Raises:
             APIException: When an error occurs while fetching the data from
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/orders/{id}/closed'
+        _url_path = '/orders/{orderId}/items/{itemId}'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'id': id
+            'orderId': order_id,
+            'itemId': item_id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
-        _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
+        _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
         if _context.response.status_code == 400:
             raise ErrorException('Invalid request', _context)
         elif _context.response.status_code == 401:
@@ -532,28 +541,27 @@
         elif _context.response.status_code == 422:
             raise ErrorException('Contract validation error', _context)
         elif _context.response.status_code == 500:
             raise ErrorException('Internal server error', _context)
         self.validate_response(_context)
 
         # Return appropriate type
-        return APIHelper.json_deserialize(_context.response.raw_body, GetOrderResponse.from_dictionary)
+        return APIHelper.json_deserialize(_context.response.raw_body, GetOrderItemResponse.from_dictionary)
 
-    def update_order_metadata(self,
-                              order_id,
-                              body,
-                              idempotency_key=None):
-        """Does a PATCH request to /Orders/{order_id}/metadata.
+    def close_order(self,
+                    id,
+                    body,
+                    idempotency_key=None):
+        """Does a PATCH request to /orders/{id}/closed.
 
-        Updates the metadata from an order
+        CloseOrder
 
         Args:
-            order_id (string): The order id
-            body (UpdateMetadataRequest): Request for updating the order
-                metadata
+            id (string): Order Id
+            body (UpdateOrderStatusRequest): Update Order Model
             idempotency_key (string, optional): TODO: type description here.
                 Example: 
 
         Returns:
             GetOrderResponse: Response from the API. 
 
         Raises:
@@ -561,25 +569,26 @@
                 the remote API. This exception includes the HTTP Response
                 code, an error message, and the HTTP body that was received in
                 the request.
 
         """
 
         # Prepare query URL
-        _url_path = '/Orders/{order_id}/metadata'
+        _url_path = '/orders/{id}/closed'
         _url_path = APIHelper.append_url_with_template_parameters(_url_path, { 
-            'order_id': order_id
+            'id': id
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -630,15 +639,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/base_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/base_controller.py`

 * *Files 1% similar despite different names*

```diff
@@ -28,15 +28,15 @@
     """
 
     http_client = RequestsClient()
 
     http_call_back = None
 
     global_headers = {
-        'user-agent': 'PagarmeCoreApi - Python 5.7.4'
+        'user-agent': 'PagarmeCoreApi - Python 5.7.5'
     }
 
     def __init__(self, client=None, call_back=None):
         if client != None:
             self.http_client = client
         if call_back != None:
             self.http_call_back = call_back
```

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/controllers/sellers_controller.py` & `pagarme-python-5.7.5/pagarmecoreapi/controllers/sellers_controller.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/http/requests_client.py` & `pagarme-python-5.7.5/pagarmecoreapi/http/requests_client.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/http/http_method_enum.py` & `pagarme-python-5.7.5/pagarmecoreapi/http/http_method_enum.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/http/auth/basic_auth.py` & `pagarme-python-5.7.5/pagarmecoreapi/http/auth/basic_auth.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/http/http_request.py` & `pagarme-python-5.7.5/pagarmecoreapi/http/http_request.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/http/http_context.py` & `pagarme-python-5.7.5/pagarmecoreapi/http/http_context.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/http/http_client.py` & `pagarme-python-5.7.5/pagarmecoreapi/http/http_client.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/http/http_call_back.py` & `pagarme-python-5.7.5/pagarmecoreapi/http/http_call_back.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/http/http_response.py` & `pagarme-python-5.7.5/pagarmecoreapi/http/http_response.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/pagarmecoreapi/decorators.py` & `pagarme-python-5.7.5/pagarmecoreapi/decorators.py`

 * *Files identical despite different names*

### Comparing `pagarme-python-5.7.4/README.md` & `pagarme-python-5.7.5/README.md`

 * *Files 0% similar despite different names*

```diff
@@ -84,27 +84,29 @@
 ## Initialization
 
 ### Authentication
 In order to setup authentication and initialization of the API client, you need the following information.
 
 | Parameter | Description |
 |-----------|-------------|
+| service_referer_name | TODO: add a description |
 | basic_auth_user_name | The username to use with basic authentication |
 | basic_auth_password | The password to use with basic authentication |
 
 
 
 API client can be initialized as following.
 
 ```python
 # Configuration parameters and credentials
+service_referer_name = 'service_referer_name'
 basic_auth_user_name = 'basic_auth_user_name' # The username to use with basic authentication
 basic_auth_password = 'basic_auth_password' # The password to use with basic authentication
 
-client = PagarmecoreapiClient(basic_auth_user_name, basic_auth_password)
+client = PagarmecoreapiClient(service_referer_name, basic_auth_user_name, basic_auth_password)
 ```
 
 
 
 # Class Reference
 
 ## <a name="list_of_controllers"></a>List of Controllers
@@ -113,16 +115,16 @@
 * [OrdersController](#orders_controller)
 * [PlansController](#plans_controller)
 * [InvoicesController](#invoices_controller)
 * [CustomersController](#customers_controller)
 * [ChargesController](#charges_controller)
 * [RecipientsController](#recipients_controller)
 * [TokensController](#tokens_controller)
-* [TransactionsController](#transactions_controller)
 * [TransfersController](#transfers_controller)
+* [TransactionsController](#transactions_controller)
 
 ## <a name="subscriptions_controller"></a>![Class: ](https://apidocs.io/img/class.png ".SubscriptionsController") SubscriptionsController
 
 ### Get controller instance
 
 An instance of the ``` SubscriptionsController ``` class can be accessed from the API Client.
 
@@ -172,46 +174,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_usage"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.delete_usage") delete_usage
+### <a name="create_an_usage"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.create_an_usage") create_an_usage
 
-> Deletes a usage
+> Create Usage
 
 ```python
-def delete_usage(self,
-                     subscription_id,
-                     item_id,
-                     usage_id,
-                     idempotency_key=None)
+def create_an_usage(self,
+                        subscription_id,
+                        item_id,
+                        idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | The subscription id |
-| itemId |  ``` Required ```  | The subscription item id |
-| usageId |  ``` Required ```  | The usage id |
+| subscriptionId |  ``` Required ```  | Subscription id |
+| itemId |  ``` Required ```  | Item id |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
 item_id = 'item_id'
-usage_id = 'usage_id'
 idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.delete_usage(subscription_id, item_id, usage_id, idempotency_key)
+result = subscriptions_controller.create_an_usage(subscription_id, item_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -221,43 +220,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_discount"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.create_discount") create_discount
+### <a name="update_subscription_payment_method"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_payment_method") update_subscription_payment_method
 
-> Creates a discount
+> Updates the payment method from a subscription
 
 ```python
-def create_discount(self,
-                        subscription_id,
-                        body,
-                        idempotency_key=None)
+def update_subscription_payment_method(self,
+                                           subscription_id,
+                                           body,
+                                           idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | subscriptionId |  ``` Required ```  | Subscription id |
-| body |  ``` Required ```  | Request for creating a discount |
+| body |  ``` Required ```  | Request for updating the paymentmethod from a subscription |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = CreateDiscountRequest()
+body = UpdateSubscriptionPaymentMethodRequest()
 idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.create_discount(subscription_id, body, idempotency_key)
+result = subscriptions_controller.update_subscription_payment_method(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -267,43 +266,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_an_usage"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.create_an_usage") create_an_usage
+### <a name="create_subscription_item"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.create_subscription_item") create_subscription_item
 
-> Create Usage
+> Creates a new Subscription item
 
 ```python
-def create_an_usage(self,
-                        subscription_id,
-                        item_id,
-                        idempotency_key=None)
+def create_subscription_item(self,
+                                 subscription_id,
+                                 body,
+                                 idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | subscriptionId |  ``` Required ```  | Subscription id |
-| itemId |  ``` Required ```  | Item id |
+| body |  ``` Required ```  | Request for creating a subscription item |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-item_id = 'item_id'
+body = CreateSubscriptionItemRequest()
 idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.create_an_usage(subscription_id, item_id, idempotency_key)
+result = subscriptions_controller.create_subscription_item(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -313,58 +312,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_usages"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_usages") get_usages
+### <a name="get_subscription_item"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscription_item") get_subscription_item
 
-> Lists all usages from a subscription item
+> Get Subscription Item
 
 ```python
-def get_usages(self,
-                   subscription_id,
-                   item_id,
-                   page=None,
-                   size=None,
-                   code=None,
-                   group=None,
-                   used_since=None,
-                   used_until=None)
+def get_subscription_item(self,
+                              subscription_id,
+                              item_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | The subscription id |
-| itemId |  ``` Required ```  | The subscription item id |
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
-| code |  ``` Optional ```  | Identification code in the client system |
-| group |  ``` Optional ```  | Identification group in the client system |
-| usedSince |  ``` Optional ```  | TODO: Add a parameter description |
-| usedUntil |  ``` Optional ```  | TODO: Add a parameter description |
+| subscriptionId |  ``` Required ```  | Subscription Id |
+| itemId |  ``` Required ```  | Item id |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
 item_id = 'item_id'
-page = 55
-size = 55
-code = 'code'
-group = 'group'
-used_since = datetime.now()
-used_until = datetime.now()
 
-result = subscriptions_controller.get_usages(subscription_id, item_id, page, size, code, group, used_since, used_until)
+result = subscriptions_controller.get_subscription_item(subscription_id, item_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -374,43 +355,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_current_cycle_status"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_current_cycle_status") update_current_cycle_status
+### <a name="update_subscription_affiliation_id"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_affiliation_id") update_subscription_affiliation_id
 
-> UpdateCurrentCycleStatus
+> UpdateSubscriptionAffiliationId
 
 ```python
-def update_current_cycle_status(self,
-                                    subscription_id,
-                                    body,
-                                    idempotency_key=None)
+def update_subscription_affiliation_id(self,
+                                           subscription_id,
+                                           body,
+                                           idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription Id |
-| body |  ``` Required ```  | Request for updating the end date of the subscription current status |
+| subscriptionId |  ``` Required ```  | TODO: Add a parameter description |
+| body |  ``` Required ```  | Request for updating a subscription affiliation id |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = UpdateCurrentCycleStatusRequest()
+body = UpdateSubscriptionAffiliationIdRequest()
 idempotency_key = 'idempotency-key'
 
-subscriptions_controller.update_current_cycle_status(subscription_id, body, idempotency_key)
+result = subscriptions_controller.update_subscription_affiliation_id(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -420,43 +401,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_subscription_payment_method"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_payment_method") update_subscription_payment_method
+### <a name="get_increments"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_increments") get_increments
 
-> Updates the payment method from a subscription
+> GetIncrements
 
 ```python
-def update_subscription_payment_method(self,
-                                           subscription_id,
-                                           body,
-                                           idempotency_key=None)
+def get_increments(self,
+                       subscription_id,
+                       page=None,
+                       size=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription id |
-| body |  ``` Required ```  | Request for updating the paymentmethod from a subscription |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| subscriptionId |  ``` Required ```  | The subscription id |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = UpdateSubscriptionPaymentMethodRequest()
-idempotency_key = 'idempotency-key'
+page = 185
+size = 185
 
-result = subscriptions_controller.update_subscription_payment_method(subscription_id, body, idempotency_key)
+result = subscriptions_controller.get_increments(subscription_id, page, size)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -466,43 +447,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_discount"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.delete_discount") delete_discount
+### <a name="update_subscription_due_days"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_due_days") update_subscription_due_days
 
-> Deletes a discount
+> Updates the boleto due days from a subscription
 
 ```python
-def delete_discount(self,
-                        subscription_id,
-                        discount_id,
-                        idempotency_key=None)
+def update_subscription_due_days(self,
+                                     subscription_id,
+                                     body,
+                                     idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription id |
-| discountId |  ``` Required ```  | Discount Id |
+| subscriptionId |  ``` Required ```  | Subscription Id |
+| body |  ``` Required ```  | TODO: Add a parameter description |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-discount_id = 'discount_id'
+body = UpdateSubscriptionDueDaysRequest()
 idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.delete_discount(subscription_id, discount_id, idempotency_key)
+result = subscriptions_controller.update_subscription_due_days(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -512,61 +493,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_subscription_items"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscription_items") get_subscription_items
+### <a name="update_subscription_start_at"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_start_at") update_subscription_start_at
 
-> Get Subscription Items
+> Updates the start at date from a subscription
 
 ```python
-def get_subscription_items(self,
-                               subscription_id,
-                               page=None,
-                               size=None,
-                               name=None,
-                               code=None,
-                               status=None,
-                               description=None,
-                               created_since=None,
-                               created_until=None)
+def update_subscription_start_at(self,
+                                     subscription_id,
+                                     body,
+                                     idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | subscriptionId |  ``` Required ```  | The subscription id |
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
-| name |  ``` Optional ```  | The item name |
-| code |  ``` Optional ```  | Identification code in the client system |
-| status |  ``` Optional ```  | The item statis |
-| description |  ``` Optional ```  | The item description |
-| createdSince |  ``` Optional ```  | Filter for item's creation date start range |
-| createdUntil |  ``` Optional ```  | Filter for item's creation date end range |
+| body |  ``` Required ```  | Request for updating the subscription start date |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-page = 55
-size = 55
-name = 'name'
-code = 'code'
-status = 'status'
-description = 'description'
-created_since = 'created_since'
-created_until = 'created_until'
+body = UpdateSubscriptionStartAtRequest()
+idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.get_subscription_items(subscription_id, page, size, name, code, status, description, created_since, created_until)
+result = subscriptions_controller.update_subscription_start_at(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -576,43 +539,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_subscription_item"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.create_subscription_item") create_subscription_item
+### <a name="get_subscription_cycle_by_id"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscription_cycle_by_id") get_subscription_cycle_by_id
 
-> Creates a new Subscription item
+> GetSubscriptionCycleById
 
 ```python
-def create_subscription_item(self,
-                                 subscription_id,
-                                 body,
-                                 idempotency_key=None)
+def get_subscription_cycle_by_id(self,
+                                     subscription_id,
+                                     cycle_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription id |
-| body |  ``` Required ```  | Request for creating a subscription item |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| subscriptionId |  ``` Required ```  | The subscription id |
+| cycleId |  ``` Required ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = CreateSubscriptionItemRequest()
-idempotency_key = 'idempotency-key'
+cycle_id = 'cycleId'
 
-result = subscriptions_controller.create_subscription_item(subscription_id, body, idempotency_key)
+result = subscriptions_controller.get_subscription_cycle_by_id(subscription_id, cycle_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -622,40 +582,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_subscription_item"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscription_item") get_subscription_item
+### <a name="delete_discount"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.delete_discount") delete_discount
 
-> Get Subscription Item
+> Deletes a discount
 
 ```python
-def get_subscription_item(self,
-                              subscription_id,
-                              item_id)
+def delete_discount(self,
+                        subscription_id,
+                        discount_id,
+                        idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription Id |
-| itemId |  ``` Required ```  | Item id |
+| subscriptionId |  ``` Required ```  | Subscription id |
+| discountId |  ``` Required ```  | Discount Id |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-item_id = 'item_id'
+discount_id = 'discount_id'
+idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.get_subscription_item(subscription_id, item_id)
+result = subscriptions_controller.delete_discount(subscription_id, discount_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -665,46 +628,61 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_subscription_item"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_item") update_subscription_item
+### <a name="get_subscription_items"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscription_items") get_subscription_items
 
-> Updates a subscription item
+> Get Subscription Items
 
 ```python
-def update_subscription_item(self,
-                                 subscription_id,
-                                 item_id,
-                                 body,
-                                 idempotency_key=None)
+def get_subscription_items(self,
+                               subscription_id,
+                               page=None,
+                               size=None,
+                               name=None,
+                               code=None,
+                               status=None,
+                               description=None,
+                               created_since=None,
+                               created_until=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription Id |
-| itemId |  ``` Required ```  | Item id |
-| body |  ``` Required ```  | Request for updating a subscription item |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| subscriptionId |  ``` Required ```  | The subscription id |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
+| name |  ``` Optional ```  | The item name |
+| code |  ``` Optional ```  | Identification code in the client system |
+| status |  ``` Optional ```  | The item statis |
+| description |  ``` Optional ```  | The item description |
+| createdSince |  ``` Optional ```  | Filter for item's creation date start range |
+| createdUntil |  ``` Optional ```  | Filter for item's creation date end range |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-item_id = 'item_id'
-body = UpdateSubscriptionItemRequest()
-idempotency_key = 'idempotency-key'
+page = 185
+size = 185
+name = 'name'
+code = 'code'
+status = 'status'
+description = 'description'
+created_since = 'created_since'
+created_until = 'created_until'
 
-result = subscriptions_controller.update_subscription_item(subscription_id, item_id, body, idempotency_key)
+result = subscriptions_controller.get_subscription_items(subscription_id, page, size, name, code, status, description, created_since, created_until)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -714,70 +692,46 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_subscriptions"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscriptions") get_subscriptions
+### <a name="update_subscription_item"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_item") update_subscription_item
 
-> Gets all subscriptions
+> Updates a subscription item
 
 ```python
-def get_subscriptions(self,
-                          page=None,
-                          size=None,
-                          code=None,
-                          billing_type=None,
-                          customer_id=None,
-                          plan_id=None,
-                          card_id=None,
-                          status=None,
-                          next_billing_since=None,
-                          next_billing_until=None,
-                          created_since=None,
-                          created_until=None)
+def update_subscription_item(self,
+                                 subscription_id,
+                                 item_id,
+                                 body,
+                                 idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
-| code |  ``` Optional ```  | Filter for subscription's code |
-| billingType |  ``` Optional ```  | Filter for subscription's billing type |
-| customerId |  ``` Optional ```  | Filter for subscription's customer id |
-| planId |  ``` Optional ```  | Filter for subscription's plan id |
-| cardId |  ``` Optional ```  | Filter for subscription's card id |
-| status |  ``` Optional ```  | Filter for subscription's status |
-| nextBillingSince |  ``` Optional ```  | Filter for subscription's next billing date start range |
-| nextBillingUntil |  ``` Optional ```  | Filter for subscription's next billing date end range |
-| createdSince |  ``` Optional ```  | Filter for subscription's creation date start range |
-| createdUntil |  ``` Optional ```  | Filter for subscriptions creation date end range |
+| subscriptionId |  ``` Required ```  | Subscription Id |
+| itemId |  ``` Required ```  | Item id |
+| body |  ``` Required ```  | Request for updating a subscription item |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-page = 55
-size = 55
-code = 'code'
-billing_type = 'billing_type'
-customer_id = 'customer_id'
-plan_id = 'plan_id'
-card_id = 'card_id'
-status = 'status'
-next_billing_since = datetime.now()
-next_billing_until = datetime.now()
-created_since = datetime.now()
-created_until = datetime.now()
+subscription_id = 'subscription_id'
+item_id = 'item_id'
+body = UpdateSubscriptionItemRequest()
+idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.get_subscriptions(page, size, code, billing_type, customer_id, plan_id, card_id, status, next_billing_since, next_billing_until, created_since, created_until)
+result = subscriptions_controller.update_subscription_item(subscription_id, item_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -830,43 +784,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="cancel_subscription"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.cancel_subscription") cancel_subscription
+### <a name="get_discount_by_id"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_discount_by_id") get_discount_by_id
 
-> Cancels a subscription
+> GetDiscountById
 
 ```python
-def cancel_subscription(self,
-                            subscription_id,
-                            idempotency_key=None,
-                            body=None)
+def get_discount_by_id(self,
+                           subscription_id,
+                           discount_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription id |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
-| body |  ``` Optional ```  | Request for cancelling a subscription |
+| subscriptionId |  ``` Required ```  | The subscription id |
+| discountId |  ``` Required ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-idempotency_key = 'idempotency-key'
-body = CreateCancelSubscriptionRequest()
+discount_id = 'discountId'
 
-result = subscriptions_controller.cancel_subscription(subscription_id, idempotency_key, body)
+result = subscriptions_controller.get_discount_by_id(subscription_id, discount_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -876,37 +827,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_subscription"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscription") get_subscription
+### <a name="update_subscription_billing_date"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_billing_date") update_subscription_billing_date
 
-> Gets a subscription
+> Updates the billing date from a subscription
 
 ```python
-def get_subscription(self,
-                         subscription_id)
+def update_subscription_billing_date(self,
+                                         subscription_id,
+                                         body,
+                                         idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription id |
+| subscriptionId |  ``` Required ```  | The subscription id |
+| body |  ``` Required ```  | Request for updating the subscription billing date |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
+body = UpdateSubscriptionBillingDateRequest()
+idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.get_subscription(subscription_id)
+result = subscriptions_controller.update_subscription_billing_date(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -916,43 +873,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_increment"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.create_increment") create_increment
+### <a name="update_latest_period_end_at"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_latest_period_end_at") update_latest_period_end_at
 
-> Creates a increment
+> UpdateLatestPeriodEndAt
 
 ```python
-def create_increment(self,
-                         subscription_id,
-                         body,
-                         idempotency_key=None)
+def update_latest_period_end_at(self,
+                                    subscription_id,
+                                    body,
+                                    idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription id |
-| body |  ``` Required ```  | Request for creating a increment |
+| subscriptionId |  ``` Required ```  | TODO: Add a parameter description |
+| body |  ``` Required ```  | Request for updating the end date of the current signature cycle |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = CreateIncrementRequest()
+body = UpdateCurrentCycleEndDateRequest()
 idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.create_increment(subscription_id, body, idempotency_key)
+result = subscriptions_controller.update_latest_period_end_at(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -962,40 +919,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_discount_by_id"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_discount_by_id") get_discount_by_id
+### <a name="create_discount"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.create_discount") create_discount
 
-> GetDiscountById
+> Creates a discount
 
 ```python
-def get_discount_by_id(self,
-                           subscription_id,
-                           discount_id)
+def create_discount(self,
+                        subscription_id,
+                        body,
+                        idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | The subscription id |
-| discountId |  ``` Required ```  | TODO: Add a parameter description |
+| subscriptionId |  ``` Required ```  | Subscription id |
+| body |  ``` Required ```  | Request for creating a discount |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-discount_id = 'discountId'
+body = CreateDiscountRequest()
+idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.get_discount_by_id(subscription_id, discount_id)
+result = subscriptions_controller.create_discount(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1005,43 +965,46 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_subscription_affiliation_id"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_affiliation_id") update_subscription_affiliation_id
+### <a name="delete_usage"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.delete_usage") delete_usage
 
-> UpdateSubscriptionAffiliationId
+> Deletes a usage
 
 ```python
-def update_subscription_affiliation_id(self,
-                                           subscription_id,
-                                           body,
-                                           idempotency_key=None)
+def delete_usage(self,
+                     subscription_id,
+                     item_id,
+                     usage_id,
+                     idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | TODO: Add a parameter description |
-| body |  ``` Required ```  | Request for updating a subscription affiliation id |
+| subscriptionId |  ``` Required ```  | The subscription id |
+| itemId |  ``` Required ```  | The subscription item id |
+| usageId |  ``` Required ```  | The usage id |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = UpdateSubscriptionAffiliationIdRequest()
+item_id = 'item_id'
+usage_id = 'usage_id'
 idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.update_subscription_affiliation_id(subscription_id, body, idempotency_key)
+result = subscriptions_controller.delete_usage(subscription_id, item_id, usage_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1051,43 +1014,58 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_subscription_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_metadata") update_subscription_metadata
+### <a name="get_usages"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_usages") get_usages
 
-> Updates the metadata from a subscription
+> Lists all usages from a subscription item
 
 ```python
-def update_subscription_metadata(self,
-                                     subscription_id,
-                                     body,
-                                     idempotency_key=None)
+def get_usages(self,
+                   subscription_id,
+                   item_id,
+                   page=None,
+                   size=None,
+                   code=None,
+                   group=None,
+                   used_since=None,
+                   used_until=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | subscriptionId |  ``` Required ```  | The subscription id |
-| body |  ``` Required ```  | Request for updating the subscrption metadata |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| itemId |  ``` Required ```  | The subscription item id |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
+| code |  ``` Optional ```  | Identification code in the client system |
+| group |  ``` Optional ```  | Identification group in the client system |
+| usedSince |  ``` Optional ```  | TODO: Add a parameter description |
+| usedUntil |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = UpdateMetadataRequest()
-idempotency_key = 'idempotency-key'
+item_id = 'item_id'
+page = 185
+size = 185
+code = 'code'
+group = 'group'
+used_since = datetime.now()
+used_until = datetime.now()
 
-result = subscriptions_controller.update_subscription_metadata(subscription_id, body, idempotency_key)
+result = subscriptions_controller.get_usages(subscription_id, item_id, page, size, code, group, used_since, used_until)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1097,43 +1075,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_increment"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.delete_increment") delete_increment
+### <a name="update_current_cycle_status"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_current_cycle_status") update_current_cycle_status
 
-> Deletes a increment
+> UpdateCurrentCycleStatus
 
 ```python
-def delete_increment(self,
-                         subscription_id,
-                         increment_id,
-                         idempotency_key=None)
+def update_current_cycle_status(self,
+                                    subscription_id,
+                                    body,
+                                    idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription id |
-| incrementId |  ``` Required ```  | Increment id |
+| subscriptionId |  ``` Required ```  | Subscription Id |
+| body |  ``` Required ```  | Request for updating the end date of the subscription current status |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-increment_id = 'increment_id'
+body = UpdateCurrentCycleStatusRequest()
 idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.delete_increment(subscription_id, increment_id, idempotency_key)
+subscriptions_controller.update_current_cycle_status(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1143,40 +1121,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_increment_by_id"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_increment_by_id") get_increment_by_id
+### <a name="cancel_subscription"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.cancel_subscription") cancel_subscription
 
-> GetIncrementById
+> Cancels a subscription
 
 ```python
-def get_increment_by_id(self,
+def cancel_subscription(self,
                             subscription_id,
-                            increment_id)
+                            idempotency_key=None,
+                            body=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | The subscription Id |
-| incrementId |  ``` Required ```  | The increment Id |
+| subscriptionId |  ``` Required ```  | Subscription id |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| body |  ``` Optional ```  | Request for cancelling a subscription |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-increment_id = 'increment_id'
+idempotency_key = 'idempotency-key'
+body = CreateCancelSubscriptionRequest()
 
-result = subscriptions_controller.get_increment_by_id(subscription_id, increment_id)
+result = subscriptions_controller.cancel_subscription(subscription_id, idempotency_key, body)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1186,43 +1167,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_subscription_cycles"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscription_cycles") get_subscription_cycles
+### <a name="create_increment"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.create_increment") create_increment
 
-> GetSubscriptionCycles
+> Creates a increment
 
 ```python
-def get_subscription_cycles(self,
-                                subscription_id,
-                                page,
-                                size)
+def create_increment(self,
+                         subscription_id,
+                         body,
+                         idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription Id |
-| page |  ``` Required ```  | Page number |
-| size |  ``` Required ```  | Page size |
+| subscriptionId |  ``` Required ```  | Subscription id |
+| body |  ``` Required ```  | Request for creating a increment |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-page = 'page'
-size = 'size'
+body = CreateIncrementRequest()
+idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.get_subscription_cycles(subscription_id, page, size)
+result = subscriptions_controller.create_increment(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1232,40 +1213,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="renew_subscription"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.renew_subscription") renew_subscription
+### <a name="update_subscription_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_metadata") update_subscription_metadata
 
-> RenewSubscription
+> Updates the metadata from a subscription
 
 ```python
-def renew_subscription(self,
-                           subscription_id,
-                           idempotency_key=None)
+def update_subscription_metadata(self,
+                                     subscription_id,
+                                     body,
+                                     idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | TODO: Add a parameter description |
+| subscriptionId |  ``` Required ```  | The subscription id |
+| body |  ``` Required ```  | Request for updating the subscrption metadata |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
+body = UpdateMetadataRequest()
 idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.renew_subscription(subscription_id, idempotency_key)
+result = subscriptions_controller.update_subscription_metadata(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1300,16 +1284,16 @@
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-page = 55
-size = 55
+page = 185
+size = 185
 
 result = subscriptions_controller.get_discounts(subscription_id, page, size)
 
 ```
 
 #### Errors
 
@@ -1321,43 +1305,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_subscription_billing_date"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_billing_date") update_subscription_billing_date
+### <a name="update_subscription_minium_price"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_minium_price") update_subscription_minium_price
 
-> Updates the billing date from a subscription
+> Atualização do valor mínimo da assinatura
 
 ```python
-def update_subscription_billing_date(self,
+def update_subscription_minium_price(self,
                                          subscription_id,
                                          body,
                                          idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | The subscription id |
-| body |  ``` Required ```  | Request for updating the subscription billing date |
+| subscriptionId |  ``` Required ```  | Subscription Id |
+| body |  ``` Required ```  | Request da requisição com o valor mínimo que será configurado |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = UpdateSubscriptionBillingDateRequest()
+body = UpdateSubscriptionMinimumPriceRequest()
 idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.update_subscription_billing_date(subscription_id, body, idempotency_key)
+result = subscriptions_controller.update_subscription_minium_price(subscription_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1367,43 +1351,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_subscription_item"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.delete_subscription_item") delete_subscription_item
+### <a name="update_split_subscription"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_split_subscription") update_split_subscription
 
-> Deletes a subscription item
+> UpdateSplitSubscription
 
 ```python
-def delete_subscription_item(self,
-                                 subscription_id,
-                                 subscription_item_id,
-                                 idempotency_key=None)
+def update_split_subscription(self,
+                                  id,
+                                  body)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription id |
-| subscriptionItemId |  ``` Required ```  | Subscription item id |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| id |  ``` Required ```  | Subscription's id |
+| body |  ``` Required ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-subscription_id = 'subscription_id'
-subscription_item_id = 'subscription_item_id'
-idempotency_key = 'idempotency-key'
+id = 'id'
+body = UpdateSubscriptionSplitRequest()
 
-result = subscriptions_controller.delete_subscription_item(subscription_id, subscription_item_id, idempotency_key)
+result = subscriptions_controller.update_split_subscription(id, body)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1413,43 +1394,70 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_increments"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_increments") get_increments
+### <a name="get_subscriptions"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscriptions") get_subscriptions
 
-> GetIncrements
+> Gets all subscriptions
 
 ```python
-def get_increments(self,
-                       subscription_id,
-                       page=None,
-                       size=None)
+def get_subscriptions(self,
+                          page=None,
+                          size=None,
+                          code=None,
+                          billing_type=None,
+                          customer_id=None,
+                          plan_id=None,
+                          card_id=None,
+                          status=None,
+                          next_billing_since=None,
+                          next_billing_until=None,
+                          created_since=None,
+                          created_until=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | The subscription id |
 | page |  ``` Optional ```  | Page number |
 | size |  ``` Optional ```  | Page size |
+| code |  ``` Optional ```  | Filter for subscription's code |
+| billingType |  ``` Optional ```  | Filter for subscription's billing type |
+| customerId |  ``` Optional ```  | Filter for subscription's customer id |
+| planId |  ``` Optional ```  | Filter for subscription's plan id |
+| cardId |  ``` Optional ```  | Filter for subscription's card id |
+| status |  ``` Optional ```  | Filter for subscription's status |
+| nextBillingSince |  ``` Optional ```  | Filter for subscription's next billing date start range |
+| nextBillingUntil |  ``` Optional ```  | Filter for subscription's next billing date end range |
+| createdSince |  ``` Optional ```  | Filter for subscription's creation date start range |
+| createdUntil |  ``` Optional ```  | Filter for subscriptions creation date end range |
 
 
 
 #### Example Usage
 
 ```python
-subscription_id = 'subscription_id'
-page = 55
-size = 55
+page = 185
+size = 185
+code = 'code'
+billing_type = 'billing_type'
+customer_id = 'customer_id'
+plan_id = 'plan_id'
+card_id = 'card_id'
+status = 'status'
+next_billing_since = datetime.now()
+next_billing_until = datetime.now()
+created_since = datetime.now()
+created_until = datetime.now()
 
-result = subscriptions_controller.get_increments(subscription_id, page, size)
+result = subscriptions_controller.get_subscriptions(page, size, code, billing_type, customer_id, plan_id, card_id, status, next_billing_since, next_billing_until, created_since, created_until)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1459,43 +1467,37 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_subscription_due_days"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_due_days") update_subscription_due_days
+### <a name="get_subscription"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscription") get_subscription
 
-> Updates the boleto due days from a subscription
+> Gets a subscription
 
 ```python
-def update_subscription_due_days(self,
-                                     subscription_id,
-                                     body,
-                                     idempotency_key=None)
+def get_subscription(self,
+                         subscription_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription Id |
-| body |  ``` Required ```  | TODO: Add a parameter description |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| subscriptionId |  ``` Required ```  | Subscription id |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = UpdateSubscriptionDueDaysRequest()
-idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.update_subscription_due_days(subscription_id, body, idempotency_key)
+result = subscriptions_controller.get_subscription(subscription_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1505,43 +1507,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_subscription_start_at"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_start_at") update_subscription_start_at
+### <a name="delete_increment"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.delete_increment") delete_increment
 
-> Updates the start at date from a subscription
+> Deletes a increment
 
 ```python
-def update_subscription_start_at(self,
-                                     subscription_id,
-                                     body,
-                                     idempotency_key=None)
+def delete_increment(self,
+                         subscription_id,
+                         increment_id,
+                         idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | The subscription id |
-| body |  ``` Required ```  | Request for updating the subscription start date |
+| subscriptionId |  ``` Required ```  | Subscription id |
+| incrementId |  ``` Required ```  | Increment id |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = UpdateSubscriptionStartAtRequest()
+increment_id = 'increment_id'
 idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.update_subscription_start_at(subscription_id, body, idempotency_key)
+result = subscriptions_controller.delete_increment(subscription_id, increment_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1551,43 +1553,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_latest_period_end_at"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_latest_period_end_at") update_latest_period_end_at
+### <a name="get_increment_by_id"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_increment_by_id") get_increment_by_id
 
-> UpdateLatestPeriodEndAt
+> GetIncrementById
 
 ```python
-def update_latest_period_end_at(self,
-                                    subscription_id,
-                                    body,
-                                    idempotency_key=None)
+def get_increment_by_id(self,
+                            subscription_id,
+                            increment_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | TODO: Add a parameter description |
-| body |  ``` Required ```  | Request for updating the end date of the current signature cycle |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| subscriptionId |  ``` Required ```  | The subscription Id |
+| incrementId |  ``` Required ```  | The increment Id |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = UpdateCurrentCycleEndDateRequest()
-idempotency_key = 'idempotency-key'
+increment_id = 'increment_id'
 
-result = subscriptions_controller.update_latest_period_end_at(subscription_id, body, idempotency_key)
+result = subscriptions_controller.get_increment_by_id(subscription_id, increment_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1597,43 +1596,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_subscription_minium_price"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_subscription_minium_price") update_subscription_minium_price
+### <a name="get_subscription_cycles"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscription_cycles") get_subscription_cycles
 
-> Atualização do valor mínimo da assinatura
+> GetSubscriptionCycles
 
 ```python
-def update_subscription_minium_price(self,
-                                         subscription_id,
-                                         body,
-                                         idempotency_key=None)
+def get_subscription_cycles(self,
+                                subscription_id,
+                                page,
+                                size)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | subscriptionId |  ``` Required ```  | Subscription Id |
-| body |  ``` Required ```  | Request da requisição com o valor mínimo que será configurado |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| page |  ``` Required ```  | Page number |
+| size |  ``` Required ```  | Page size |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-body = UpdateSubscriptionMinimumPriceRequest()
-idempotency_key = 'idempotency-key'
+page = 'page'
+size = 'size'
 
-result = subscriptions_controller.update_subscription_minium_price(subscription_id, body, idempotency_key)
+result = subscriptions_controller.get_subscription_cycles(subscription_id, page, size)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1643,40 +1642,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_subscription_cycle_by_id"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_subscription_cycle_by_id") get_subscription_cycle_by_id
+### <a name="renew_subscription"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.renew_subscription") renew_subscription
 
-> GetSubscriptionCycleById
+> RenewSubscription
 
 ```python
-def get_subscription_cycle_by_id(self,
-                                     subscription_id,
-                                     cycle_id)
+def renew_subscription(self,
+                           subscription_id,
+                           idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | The subscription id |
-| cycleId |  ``` Required ```  | TODO: Add a parameter description |
+| subscriptionId |  ``` Required ```  | TODO: Add a parameter description |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-cycle_id = 'cycleId'
+idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.get_subscription_cycle_by_id(subscription_id, cycle_id)
+result = subscriptions_controller.renew_subscription(subscription_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1686,40 +1685,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_usage_report"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_usage_report") get_usage_report
+### <a name="delete_subscription_item"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.delete_subscription_item") delete_subscription_item
 
-> GetUsageReport
+> Deletes a subscription item
 
 ```python
-def get_usage_report(self,
-                         subscription_id,
-                         period_id)
+def delete_subscription_item(self,
+                                 subscription_id,
+                                 subscription_item_id,
+                                 idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | The subscription Id |
-| periodId |  ``` Required ```  | The period Id |
+| subscriptionId |  ``` Required ```  | Subscription id |
+| subscriptionItemId |  ``` Required ```  | Subscription item id |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-period_id = 'period_id'
+subscription_item_id = 'subscription_item_id'
+idempotency_key = 'idempotency-key'
 
-result = subscriptions_controller.get_usage_report(subscription_id, period_id)
+result = subscriptions_controller.delete_subscription_item(subscription_id, subscription_item_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1729,40 +1731,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_split_subscription"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.update_split_subscription") update_split_subscription
+### <a name="get_usage_report"></a>![Method: ](https://apidocs.io/img/method.png ".SubscriptionsController.get_usage_report") get_usage_report
 
-> UpdateSplitSubscription
+> GetUsageReport
 
 ```python
-def update_split_subscription(self,
-                                  id,
-                                  body)
+def get_usage_report(self,
+                         subscription_id,
+                         period_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| id |  ``` Required ```  | Subscription's id |
-| body |  ``` Required ```  | TODO: Add a parameter description |
+| subscriptionId |  ``` Required ```  | The subscription Id |
+| periodId |  ``` Required ```  | The period Id |
 
 
 
 #### Example Usage
 
 ```python
-id = 'id'
-body = UpdateSubscriptionSplitRequest()
+subscription_id = 'subscription_id'
+period_id = 'period_id'
 
-result = subscriptions_controller.update_split_subscription(id, body)
+result = subscriptions_controller.get_usage_report(subscription_id, period_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1816,16 +1818,16 @@
 | customerId |  ``` Optional ```  | Filter for order's customer id |
 
 
 
 #### Example Usage
 
 ```python
-page = 13
-size = 13
+page = 185
+size = 185
 code = 'code'
 status = 'status'
 created_since = datetime.now()
 created_until = datetime.now()
 customer_id = 'customer_id'
 
 result = orders_controller.get_orders(page, size, code, status, created_since, created_until, customer_id)
@@ -1885,40 +1887,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_all_order_items"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.delete_all_order_items") delete_all_order_items
+### <a name="create_order_item"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.create_order_item") create_order_item
 
-> DeleteAllOrderItems
+> CreateOrderItem
 
 ```python
-def delete_all_order_items(self,
-                               order_id,
-                               idempotency_key=None)
+def create_order_item(self,
+                          order_id,
+                          body,
+                          idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | orderId |  ``` Required ```  | Order Id |
+| body |  ``` Required ```  | Order Item Model |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 order_id = 'orderId'
+body = CreateOrderItemRequest()
 idempotency_key = 'idempotency-key'
 
-result = orders_controller.delete_all_order_items(order_id, idempotency_key)
+result = orders_controller.create_order_item(order_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1928,43 +1933,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_order_item"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.create_order_item") create_order_item
+### <a name="get_order_item"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.get_order_item") get_order_item
 
-> CreateOrderItem
+> GetOrderItem
 
 ```python
-def create_order_item(self,
-                          order_id,
-                          body,
-                          idempotency_key=None)
+def get_order_item(self,
+                       order_id,
+                       item_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | orderId |  ``` Required ```  | Order Id |
-| body |  ``` Required ```  | Order Item Model |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| itemId |  ``` Required ```  | Item Id |
 
 
 
 #### Example Usage
 
 ```python
 order_id = 'orderId'
-body = CreateOrderItemRequest()
-idempotency_key = 'idempotency-key'
+item_id = 'itemId'
 
-result = orders_controller.create_order_item(order_id, body, idempotency_key)
+result = orders_controller.get_order_item(order_id, item_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -1974,46 +1976,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_order_item"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.update_order_item") update_order_item
+### <a name="delete_order_item"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.delete_order_item") delete_order_item
 
-> UpdateOrderItem
+> DeleteOrderItem
 
 ```python
-def update_order_item(self,
+def delete_order_item(self,
                           order_id,
                           item_id,
-                          body,
                           idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | orderId |  ``` Required ```  | Order Id |
 | itemId |  ``` Required ```  | Item Id |
-| body |  ``` Required ```  | Item Model |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 order_id = 'orderId'
 item_id = 'itemId'
-body = UpdateOrderItemRequest()
 idempotency_key = 'idempotency-key'
 
-result = orders_controller.update_order_item(order_id, item_id, body, idempotency_key)
+result = orders_controller.delete_order_item(order_id, item_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2023,43 +2022,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_order_item"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.delete_order_item") delete_order_item
+### <a name="update_order_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.update_order_metadata") update_order_metadata
 
-> DeleteOrderItem
+> Updates the metadata from an order
 
 ```python
-def delete_order_item(self,
-                          order_id,
-                          item_id,
-                          idempotency_key=None)
+def update_order_metadata(self,
+                              order_id,
+                              body,
+                              idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| orderId |  ``` Required ```  | Order Id |
-| itemId |  ``` Required ```  | Item Id |
+| orderId |  ``` Required ```  | The order id |
+| body |  ``` Required ```  | Request for updating the order metadata |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-order_id = 'orderId'
-item_id = 'itemId'
+order_id = 'order_id'
+body = UpdateMetadataRequest()
 idempotency_key = 'idempotency-key'
 
-result = orders_controller.delete_order_item(order_id, item_id, idempotency_key)
+result = orders_controller.update_order_metadata(order_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2069,40 +2068,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_order_item"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.get_order_item") get_order_item
+### <a name="delete_all_order_items"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.delete_all_order_items") delete_all_order_items
 
-> GetOrderItem
+> DeleteAllOrderItems
 
 ```python
-def get_order_item(self,
-                       order_id,
-                       item_id)
+def delete_all_order_items(self,
+                               order_id,
+                               idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | orderId |  ``` Required ```  | Order Id |
-| itemId |  ``` Required ```  | Item Id |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 order_id = 'orderId'
-item_id = 'itemId'
+idempotency_key = 'idempotency-key'
 
-result = orders_controller.get_order_item(order_id, item_id)
+result = orders_controller.delete_all_order_items(order_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2112,43 +2111,46 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="close_order"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.close_order") close_order
+### <a name="update_order_item"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.update_order_item") update_order_item
 
-> CloseOrder
+> UpdateOrderItem
 
 ```python
-def close_order(self,
-                    id,
-                    body,
-                    idempotency_key=None)
+def update_order_item(self,
+                          order_id,
+                          item_id,
+                          body,
+                          idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| id |  ``` Required ```  | Order Id |
-| body |  ``` Required ```  | Update Order Model |
+| orderId |  ``` Required ```  | Order Id |
+| itemId |  ``` Required ```  | Item Id |
+| body |  ``` Required ```  | Item Model |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-id = 'id'
-body = UpdateOrderStatusRequest()
+order_id = 'orderId'
+item_id = 'itemId'
+body = UpdateOrderItemRequest()
 idempotency_key = 'idempotency-key'
 
-result = orders_controller.close_order(id, body, idempotency_key)
+result = orders_controller.update_order_item(order_id, item_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2158,43 +2160,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_order_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.update_order_metadata") update_order_metadata
+### <a name="close_order"></a>![Method: ](https://apidocs.io/img/method.png ".OrdersController.close_order") close_order
 
-> Updates the metadata from an order
+> CloseOrder
 
 ```python
-def update_order_metadata(self,
-                              order_id,
-                              body,
-                              idempotency_key=None)
+def close_order(self,
+                    id,
+                    body,
+                    idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| orderId |  ``` Required ```  | The order id |
-| body |  ``` Required ```  | Request for updating the order metadata |
+| id |  ``` Required ```  | Order Id |
+| body |  ``` Required ```  | Update Order Model |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-order_id = 'order_id'
-body = UpdateMetadataRequest()
+id = 'id'
+body = UpdateOrderStatusRequest()
 idempotency_key = 'idempotency-key'
 
-result = orders_controller.update_order_metadata(order_id, body, idempotency_key)
+result = orders_controller.close_order(id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2296,43 +2298,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_plan"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.update_plan") update_plan
+### <a name="create_plan"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.create_plan") create_plan
 
-> Updates a plan
+> Creates a new plan
 
 ```python
-def update_plan(self,
-                    plan_id,
+def create_plan(self,
                     body,
                     idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| planId |  ``` Required ```  | Plan id |
-| body |  ``` Required ```  | Request for updating a plan |
+| body |  ``` Required ```  | Request for creating a plan |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-plan_id = 'plan_id'
-body = UpdatePlanRequest()
+body = CreatePlanRequest()
 idempotency_key = 'idempotency-key'
 
-result = plans_controller.update_plan(plan_id, body, idempotency_key)
+result = plans_controller.create_plan(body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2342,40 +2341,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_plan"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.delete_plan") delete_plan
+### <a name="update_plan"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.update_plan") update_plan
 
-> Deletes a plan
+> Updates a plan
 
 ```python
-def delete_plan(self,
+def update_plan(self,
                     plan_id,
+                    body,
                     idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | planId |  ``` Required ```  | Plan id |
+| body |  ``` Required ```  | Request for updating a plan |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 plan_id = 'plan_id'
+body = UpdatePlanRequest()
 idempotency_key = 'idempotency-key'
 
-result = plans_controller.delete_plan(plan_id, idempotency_key)
+result = plans_controller.update_plan(plan_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2385,43 +2387,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_plan_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.update_plan_metadata") update_plan_metadata
+### <a name="get_plan_item"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.get_plan_item") get_plan_item
 
-> Updates the metadata from a plan
+> Gets a plan item
 
 ```python
-def update_plan_metadata(self,
-                             plan_id,
-                             body,
-                             idempotency_key=None)
+def get_plan_item(self,
+                      plan_id,
+                      plan_item_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| planId |  ``` Required ```  | The plan id |
-| body |  ``` Required ```  | Request for updating the plan metadata |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| planId |  ``` Required ```  | Plan id |
+| planItemId |  ``` Required ```  | Plan item id |
 
 
 
 #### Example Usage
 
 ```python
 plan_id = 'plan_id'
-body = UpdateMetadataRequest()
-idempotency_key = 'idempotency-key'
+plan_item_id = 'plan_item_id'
 
-result = plans_controller.update_plan_metadata(plan_id, body, idempotency_key)
+result = plans_controller.get_plan_item(plan_id, plan_item_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2431,46 +2430,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_plan_item"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.update_plan_item") update_plan_item
+### <a name="create_plan_item"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.create_plan_item") create_plan_item
 
-> Updates a plan item
+> Adds a new item to a plan
 
 ```python
-def update_plan_item(self,
+def create_plan_item(self,
                          plan_id,
-                         plan_item_id,
                          body,
                          idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | planId |  ``` Required ```  | Plan id |
-| planItemId |  ``` Required ```  | Plan item id |
-| body |  ``` Required ```  | Request for updating the plan item |
+| body |  ``` Required ```  | Request for creating a plan item |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 plan_id = 'plan_id'
-plan_item_id = 'plan_item_id'
-body = UpdatePlanItemRequest()
+body = CreatePlanItemRequest()
 idempotency_key = 'idempotency-key'
 
-result = plans_controller.update_plan_item(plan_id, plan_item_id, body, idempotency_key)
+result = plans_controller.create_plan_item(plan_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2480,40 +2476,55 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_plan_item"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.get_plan_item") get_plan_item
+### <a name="get_plans"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.get_plans") get_plans
 
-> Gets a plan item
+> Gets all plans
 
 ```python
-def get_plan_item(self,
-                      plan_id,
-                      plan_item_id)
+def get_plans(self,
+                  page=None,
+                  size=None,
+                  name=None,
+                  status=None,
+                  billing_type=None,
+                  created_since=None,
+                  created_until=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| planId |  ``` Required ```  | Plan id |
-| planItemId |  ``` Required ```  | Plan item id |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
+| name |  ``` Optional ```  | Filter for Plan's name |
+| status |  ``` Optional ```  | Filter for Plan's status |
+| billingType |  ``` Optional ```  | Filter for plan's billing type |
+| createdSince |  ``` Optional ```  | Filter for plan's creation date start range |
+| createdUntil |  ``` Optional ```  | Filter for plan's creation date end range |
 
 
 
 #### Example Usage
 
 ```python
-plan_id = 'plan_id'
-plan_item_id = 'plan_item_id'
+page = 94
+size = 94
+name = 'name'
+status = 'status'
+billing_type = 'billing_type'
+created_since = datetime.now()
+created_until = datetime.now()
 
-result = plans_controller.get_plan_item(plan_id, plan_item_id)
+result = plans_controller.get_plans(page, size, name, status, billing_type, created_since, created_until)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2523,43 +2534,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_plan_item"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.delete_plan_item") delete_plan_item
+### <a name="delete_plan"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.delete_plan") delete_plan
 
-> Removes an item from a plan
+> Deletes a plan
 
 ```python
-def delete_plan_item(self,
-                         plan_id,
-                         plan_item_id,
-                         idempotency_key=None)
+def delete_plan(self,
+                    plan_id,
+                    idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | planId |  ``` Required ```  | Plan id |
-| planItemId |  ``` Required ```  | Plan item id |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 plan_id = 'plan_id'
-plan_item_id = 'plan_item_id'
 idempotency_key = 'idempotency-key'
 
-result = plans_controller.delete_plan_item(plan_id, plan_item_id, idempotency_key)
+result = plans_controller.delete_plan(plan_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2569,43 +2577,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_plan_item"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.create_plan_item") create_plan_item
+### <a name="update_plan_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.update_plan_metadata") update_plan_metadata
 
-> Adds a new item to a plan
+> Updates the metadata from a plan
 
 ```python
-def create_plan_item(self,
-                         plan_id,
-                         body,
-                         idempotency_key=None)
+def update_plan_metadata(self,
+                             plan_id,
+                             body,
+                             idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| planId |  ``` Required ```  | Plan id |
-| body |  ``` Required ```  | Request for creating a plan item |
+| planId |  ``` Required ```  | The plan id |
+| body |  ``` Required ```  | Request for updating the plan metadata |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 plan_id = 'plan_id'
-body = CreatePlanItemRequest()
+body = UpdateMetadataRequest()
 idempotency_key = 'idempotency-key'
 
-result = plans_controller.create_plan_item(plan_id, body, idempotency_key)
+result = plans_controller.update_plan_metadata(plan_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2615,40 +2623,46 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_plan"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.create_plan") create_plan
+### <a name="update_plan_item"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.update_plan_item") update_plan_item
 
-> Creates a new plan
+> Updates a plan item
 
 ```python
-def create_plan(self,
-                    body,
-                    idempotency_key=None)
+def update_plan_item(self,
+                         plan_id,
+                         plan_item_id,
+                         body,
+                         idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| body |  ``` Required ```  | Request for creating a plan |
+| planId |  ``` Required ```  | Plan id |
+| planItemId |  ``` Required ```  | Plan item id |
+| body |  ``` Required ```  | Request for updating the plan item |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-body = CreatePlanRequest()
+plan_id = 'plan_id'
+plan_item_id = 'plan_item_id'
+body = UpdatePlanItemRequest()
 idempotency_key = 'idempotency-key'
 
-result = plans_controller.create_plan(body, idempotency_key)
+result = plans_controller.update_plan_item(plan_id, plan_item_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2658,55 +2672,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_plans"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.get_plans") get_plans
+### <a name="delete_plan_item"></a>![Method: ](https://apidocs.io/img/method.png ".PlansController.delete_plan_item") delete_plan_item
 
-> Gets all plans
+> Removes an item from a plan
 
 ```python
-def get_plans(self,
-                  page=None,
-                  size=None,
-                  name=None,
-                  status=None,
-                  billing_type=None,
-                  created_since=None,
-                  created_until=None)
+def delete_plan_item(self,
+                         plan_id,
+                         plan_item_id,
+                         idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
-| name |  ``` Optional ```  | Filter for Plan's name |
-| status |  ``` Optional ```  | Filter for Plan's status |
-| billingType |  ``` Optional ```  | Filter for plan's billing type |
-| createdSince |  ``` Optional ```  | Filter for plan's creation date start range |
-| createdUntil |  ``` Optional ```  | Filter for plan's creation date end range |
+| planId |  ``` Required ```  | Plan id |
+| planItemId |  ``` Required ```  | Plan item id |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-page = 13
-size = 13
-name = 'name'
-status = 'status'
-billing_type = 'billing_type'
-created_since = datetime.now()
-created_until = datetime.now()
+plan_id = 'plan_id'
+plan_item_id = 'plan_item_id'
+idempotency_key = 'idempotency-key'
 
-result = plans_controller.get_plans(page, size, name, status, billing_type, created_since, created_until)
+result = plans_controller.delete_plan_item(plan_id, plan_item_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -2728,54 +2730,14 @@
 
 An instance of the ``` InvoicesController ``` class can be accessed from the API Client.
 
 ```python
  invoices_controller = client.invoices
 ```
 
-### <a name="get_partial_invoice"></a>![Method: ](https://apidocs.io/img/method.png ".InvoicesController.get_partial_invoice") get_partial_invoice
-
-> GetPartialInvoice
-
-```python
-def get_partial_invoice(self,
-                            subscription_id)
-```
-
-#### Parameters
-
-| Parameter | Tags | Description |
-|-----------|------|-------------|
-| subscriptionId |  ``` Required ```  | Subscription Id |
-
-
-
-#### Example Usage
-
-```python
-subscription_id = 'subscription_id'
-
-result = invoices_controller.get_partial_invoice(subscription_id)
-
-```
-
-#### Errors
-
-| Error Code | Error Description |
-|------------|-------------------|
-| 400 | Invalid request |
-| 401 | Invalid API key |
-| 404 | An informed resource was not found |
-| 412 | Business validation error |
-| 422 | Contract validation error |
-| 500 | Internal server error |
-
-
-
-
 ### <a name="cancel_invoice"></a>![Method: ](https://apidocs.io/img/method.png ".InvoicesController.cancel_invoice") cancel_invoice
 
 > Cancels an invoice
 
 ```python
 def cancel_invoice(self,
                        invoice_id,
@@ -2986,16 +2948,16 @@
 | customerDocument |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-page = 13
-size = 13
+page = 94
+size = 94
 code = 'code'
 customer_id = 'customer_id'
 subscription_id = 'subscription_id'
 created_since = datetime.now()
 created_until = datetime.now()
 status = 'status'
 due_since = datetime.now()
@@ -3016,14 +2978,54 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
+### <a name="get_partial_invoice"></a>![Method: ](https://apidocs.io/img/method.png ".InvoicesController.get_partial_invoice") get_partial_invoice
+
+> GetPartialInvoice
+
+```python
+def get_partial_invoice(self,
+                            subscription_id)
+```
+
+#### Parameters
+
+| Parameter | Tags | Description |
+|-----------|------|-------------|
+| subscriptionId |  ``` Required ```  | Subscription Id |
+
+
+
+#### Example Usage
+
+```python
+subscription_id = 'subscription_id'
+
+result = invoices_controller.get_partial_invoice(subscription_id)
+
+```
+
+#### Errors
+
+| Error Code | Error Description |
+|------------|-------------------|
+| 400 | Invalid request |
+| 401 | Invalid API key |
+| 404 | An informed resource was not found |
+| 412 | Business validation error |
+| 422 | Contract validation error |
+| 500 | Internal server error |
+
+
+
+
 ### <a name="update_invoice_status"></a>![Method: ](https://apidocs.io/img/method.png ".InvoicesController.update_invoice_status") update_invoice_status
 
 > Updates the status from an invoice
 
 ```python
 def update_invoice_status(self,
                               invoice_id,
@@ -3074,46 +3076,43 @@
 
 An instance of the ``` CustomersController ``` class can be accessed from the API Client.
 
 ```python
  customers_controller = client.customers
 ```
 
-### <a name="update_card"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.update_card") update_card
+### <a name="delete_card"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.delete_card") delete_card
 
-> Updates a card
+> Delete a customer's card
 
 ```python
-def update_card(self,
+def delete_card(self,
                     customer_id,
                     card_id,
-                    body,
                     idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer Id |
-| cardId |  ``` Required ```  | Card id |
-| body |  ``` Required ```  | Request for updating a card |
+| cardId |  ``` Required ```  | Card Id |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
 card_id = 'card_id'
-body = UpdateCardRequest()
 idempotency_key = 'idempotency-key'
 
-result = customers_controller.update_card(customer_id, card_id, body, idempotency_key)
+result = customers_controller.delete_card(customer_id, card_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3123,43 +3122,46 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_card"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.delete_card") delete_card
+### <a name="update_address"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.update_address") update_address
 
-> Delete a customer's card
+> Updates an address
 
 ```python
-def delete_card(self,
-                    customer_id,
-                    card_id,
-                    idempotency_key=None)
+def update_address(self,
+                       customer_id,
+                       address_id,
+                       body,
+                       idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer Id |
-| cardId |  ``` Required ```  | Card Id |
+| addressId |  ``` Required ```  | Address Id |
+| body |  ``` Required ```  | Request for updating an address |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-card_id = 'card_id'
+address_id = 'address_id'
+body = UpdateAddressRequest()
 idempotency_key = 'idempotency-key'
 
-result = customers_controller.delete_card(customer_id, card_id, idempotency_key)
+result = customers_controller.update_address(customer_id, address_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3169,40 +3171,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_card"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_card") get_card
+### <a name="get_address"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_address") get_address
 
-> Get a customer's card
+> Get a customer's address
 
 ```python
-def get_card(self,
-                 customer_id,
-                 card_id)
+def get_address(self,
+                    customer_id,
+                    address_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer id |
-| cardId |  ``` Required ```  | Card id |
+| addressId |  ``` Required ```  | Address Id |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-card_id = 'card_id'
+address_id = 'address_id'
 
-result = customers_controller.get_card(customer_id, card_id)
+result = customers_controller.get_address(customer_id, address_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3212,46 +3214,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_address"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.update_address") update_address
+### <a name="get_access_tokens"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_access_tokens") get_access_tokens
 
-> Updates an address
+> Get all access tokens from a customer
 
 ```python
-def update_address(self,
-                       customer_id,
-                       address_id,
-                       body,
-                       idempotency_key=None)
+def get_access_tokens(self,
+                          customer_id,
+                          page=None,
+                          size=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer Id |
-| addressId |  ``` Required ```  | Address Id |
-| body |  ``` Required ```  | Request for updating an address |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-address_id = 'address_id'
-body = UpdateAddressRequest()
-idempotency_key = 'idempotency-key'
+page = 94
+size = 94
 
-result = customers_controller.update_address(customer_id, address_id, body, idempotency_key)
+result = customers_controller.get_access_tokens(customer_id, page, size)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3261,40 +3260,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_address"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_address") get_address
+### <a name="update_customer"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.update_customer") update_customer
 
-> Get a customer's address
+> Updates a customer
 
 ```python
-def get_address(self,
-                    customer_id,
-                    address_id)
+def update_customer(self,
+                        customer_id,
+                        body,
+                        idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer id |
-| addressId |  ``` Required ```  | Address Id |
+| body |  ``` Required ```  | Request for updating a customer |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-address_id = 'address_id'
+body = UpdateCustomerRequest()
+idempotency_key = 'idempotency-key'
 
-result = customers_controller.get_address(customer_id, address_id)
+result = customers_controller.update_customer(customer_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3304,43 +3306,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_address"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.delete_address") delete_address
+### <a name="renew_card"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.renew_card") renew_card
 
-> Delete a Customer's address
+> Renew a card
 
 ```python
-def delete_address(self,
-                       customer_id,
-                       address_id,
-                       idempotency_key=None)
+def renew_card(self,
+                   customer_id,
+                   card_id,
+                   idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| customerId |  ``` Required ```  | Customer Id |
-| addressId |  ``` Required ```  | Address Id |
+| customerId |  ``` Required ```  | Customer id |
+| cardId |  ``` Required ```  | Card Id |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-address_id = 'address_id'
+card_id = 'card_id'
 idempotency_key = 'idempotency-key'
 
-result = customers_controller.delete_address(customer_id, address_id, idempotency_key)
+result = customers_controller.renew_card(customer_id, card_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3350,43 +3352,52 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_access_token"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.delete_access_token") delete_access_token
+### <a name="get_customers"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_customers") get_customers
 
-> Delete a customer's access token
+> Get all Customers
 
 ```python
-def delete_access_token(self,
-                            customer_id,
-                            token_id,
-                            idempotency_key=None)
+def get_customers(self,
+                      name=None,
+                      document=None,
+                      page=1,
+                      size=10,
+                      email=None,
+                      code=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| customerId |  ``` Required ```  | Customer Id |
-| tokenId |  ``` Required ```  | Token Id |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| name |  ``` Optional ```  | Name of the Customer |
+| document |  ``` Optional ```  | Document of the Customer |
+| page |  ``` Optional ```  ``` DefaultValue ```  | Current page the the search |
+| size |  ``` Optional ```  ``` DefaultValue ```  | Quantity pages of the search |
+| email |  ``` Optional ```  | Customer's email |
+| code |  ``` Optional ```  | Customer's code |
 
 
 
 #### Example Usage
 
 ```python
-customer_id = 'customer_id'
-token_id = 'token_id'
-idempotency_key = 'idempotency-key'
+name = 'name'
+document = 'document'
+page = 1
+size = 10
+email = 'email'
+code = 'Code'
 
-result = customers_controller.delete_access_token(customer_id, token_id, idempotency_key)
+result = customers_controller.get_customers(name, document, page, size, email, code)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3396,40 +3407,37 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_access_token"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_access_token") get_access_token
+### <a name="delete_access_tokens"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.delete_access_tokens") delete_access_tokens
 
-> Get a Customer's access token
+> Delete a Customer's access tokens
 
 ```python
-def get_access_token(self,
-                         customer_id,
-                         token_id)
+def delete_access_tokens(self,
+                             customer_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer Id |
-| tokenId |  ``` Required ```  | Token Id |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-token_id = 'token_id'
 
-result = customers_controller.get_access_token(customer_id, token_id)
+result = customers_controller.delete_access_tokens(customer_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3439,43 +3447,37 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_access_token"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.create_access_token") create_access_token
+### <a name="get_customer"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_customer") get_customer
 
-> Creates a access token for a customer
+> Get a customer
 
 ```python
-def create_access_token(self,
-                            customer_id,
-                            body,
-                            idempotency_key=None)
+def get_customer(self,
+                     customer_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer Id |
-| body |  ``` Required ```  | Request for creating a access token |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-body = CreateAccessTokenRequest()
-idempotency_key = 'idempotency-key'
 
-result = customers_controller.create_access_token(customer_id, body, idempotency_key)
+result = customers_controller.get_customer(customer_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3485,43 +3487,46 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_access_tokens"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_access_tokens") get_access_tokens
+### <a name="update_card"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.update_card") update_card
 
-> Get all access tokens from a customer
+> Updates a card
 
 ```python
-def get_access_tokens(self,
-                          customer_id,
-                          page=None,
-                          size=None)
+def update_card(self,
+                    customer_id,
+                    card_id,
+                    body,
+                    idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer Id |
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
+| cardId |  ``` Required ```  | Card id |
+| body |  ``` Required ```  | Request for updating a card |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-page = 13
-size = 13
+card_id = 'card_id'
+body = UpdateCardRequest()
+idempotency_key = 'idempotency-key'
 
-result = customers_controller.get_access_tokens(customer_id, page, size)
+result = customers_controller.update_card(customer_id, card_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3531,43 +3536,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_address"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.create_address") create_address
+### <a name="delete_address"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.delete_address") delete_address
 
-> Creates a new address for a customer
+> Delete a Customer's address
 
 ```python
-def create_address(self,
+def delete_address(self,
                        customer_id,
-                       body,
+                       address_id,
                        idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer Id |
-| body |  ``` Required ```  | Request for creating an address |
+| addressId |  ``` Required ```  | Address Id |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-body = CreateAddressRequest()
+address_id = 'address_id'
 idempotency_key = 'idempotency-key'
 
-result = customers_controller.create_address(customer_id, body, idempotency_key)
+result = customers_controller.delete_address(customer_id, address_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3577,43 +3582,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_addresses"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_addresses") get_addresses
+### <a name="create_access_token"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.create_access_token") create_access_token
 
-> Gets all adressess from a customer
+> Creates a access token for a customer
 
 ```python
-def get_addresses(self,
-                      customer_id,
-                      page=None,
-                      size=None)
+def create_access_token(self,
+                            customer_id,
+                            body,
+                            idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| customerId |  ``` Required ```  | Customer id |
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
+| customerId |  ``` Required ```  | Customer Id |
+| body |  ``` Required ```  | Request for creating a access token |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-page = 13
-size = 13
+body = CreateAccessTokenRequest()
+idempotency_key = 'idempotency-key'
 
-result = customers_controller.get_addresses(customer_id, page, size)
+result = customers_controller.create_access_token(customer_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3623,40 +3628,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_customer"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.create_customer") create_customer
+### <a name="create_address"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.create_address") create_address
 
-> Creates a new customer
+> Creates a new address for a customer
 
 ```python
-def create_customer(self,
-                        body,
-                        idempotency_key=None)
+def create_address(self,
+                       customer_id,
+                       body,
+                       idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| body |  ``` Required ```  | Request for creating a customer |
+| customerId |  ``` Required ```  | Customer Id |
+| body |  ``` Required ```  | Request for creating an address |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-body = CreateCustomerRequest()
+customer_id = 'customer_id'
+body = CreateAddressRequest()
 idempotency_key = 'idempotency-key'
 
-result = customers_controller.create_customer(body, idempotency_key)
+result = customers_controller.create_address(customer_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3666,52 +3674,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_customers"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_customers") get_customers
+### <a name="get_cards"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_cards") get_cards
 
-> Get all Customers
+> Get all cards from a customer
 
 ```python
-def get_customers(self,
-                      name=None,
-                      document=None,
-                      page=1,
-                      size=10,
-                      email=None,
-                      code=None)
+def get_cards(self,
+                  customer_id,
+                  page=None,
+                  size=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| name |  ``` Optional ```  | Name of the Customer |
-| document |  ``` Optional ```  | Document of the Customer |
-| page |  ``` Optional ```  ``` DefaultValue ```  | Current page the the search |
-| size |  ``` Optional ```  ``` DefaultValue ```  | Quantity pages of the search |
-| email |  ``` Optional ```  | Customer's email |
-| code |  ``` Optional ```  | Customer's code |
+| customerId |  ``` Required ```  | Customer Id |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
 
 
 
 #### Example Usage
 
 ```python
-name = 'name'
-document = 'document'
-page = 1
-size = 10
-email = 'email'
-code = 'Code'
+customer_id = 'customer_id'
+page = 94
+size = 94
 
-result = customers_controller.get_customers(name, document, page, size, email, code)
+result = customers_controller.get_cards(customer_id, page, size)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3721,37 +3720,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="delete_access_tokens"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.delete_access_tokens") delete_access_tokens
+### <a name="update_customer_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.update_customer_metadata") update_customer_metadata
 
-> Delete a Customer's access tokens
+> Updates the metadata a customer
 
 ```python
-def delete_access_tokens(self,
-                             customer_id)
+def update_customer_metadata(self,
+                                 customer_id,
+                                 body,
+                                 idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| customerId |  ``` Required ```  | Customer Id |
+| customerId |  ``` Required ```  | The customer id |
+| body |  ``` Required ```  | Request for updating the customer metadata |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
+body = UpdateMetadataRequest()
+idempotency_key = 'idempotency-key'
 
-result = customers_controller.delete_access_tokens(customer_id)
+result = customers_controller.update_customer_metadata(customer_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3761,43 +3766,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_card"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.create_card") create_card
+### <a name="get_card"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_card") get_card
 
-> Creates a new card for a customer
+> Get a customer's card
 
 ```python
-def create_card(self,
-                    customer_id,
-                    body,
-                    idempotency_key=None)
+def get_card(self,
+                 customer_id,
+                 card_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer id |
-| body |  ``` Required ```  | Request for creating a card |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| cardId |  ``` Required ```  | Card id |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-body = CreateCardRequest()
-idempotency_key = 'idempotency-key'
+card_id = 'card_id'
 
-result = customers_controller.create_card(customer_id, body, idempotency_key)
+result = customers_controller.get_card(customer_id, card_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3807,43 +3809,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_cards"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_cards") get_cards
+### <a name="delete_access_token"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.delete_access_token") delete_access_token
 
-> Get all cards from a customer
+> Delete a customer's access token
 
 ```python
-def get_cards(self,
-                  customer_id,
-                  page=None,
-                  size=None)
+def delete_access_token(self,
+                            customer_id,
+                            token_id,
+                            idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | customerId |  ``` Required ```  | Customer Id |
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
+| tokenId |  ``` Required ```  | Token Id |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-page = 13
-size = 13
+token_id = 'token_id'
+idempotency_key = 'idempotency-key'
 
-result = customers_controller.get_cards(customer_id, page, size)
+result = customers_controller.delete_access_token(customer_id, token_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3853,43 +3855,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_customer"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.update_customer") update_customer
+### <a name="get_access_token"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_access_token") get_access_token
 
-> Updates a customer
+> Get a Customer's access token
 
 ```python
-def update_customer(self,
-                        customer_id,
-                        body,
-                        idempotency_key=None)
+def get_access_token(self,
+                         customer_id,
+                         token_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| customerId |  ``` Required ```  | Customer id |
-| body |  ``` Required ```  | Request for updating a customer |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| customerId |  ``` Required ```  | Customer Id |
+| tokenId |  ``` Required ```  | Token Id |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-body = UpdateCustomerRequest()
-idempotency_key = 'idempotency-key'
+token_id = 'token_id'
 
-result = customers_controller.update_customer(customer_id, body, idempotency_key)
+result = customers_controller.get_access_token(customer_id, token_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3899,37 +3898,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_customer"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_customer") get_customer
+### <a name="get_addresses"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.get_addresses") get_addresses
 
-> Get a customer
+> Gets all adressess from a customer
 
 ```python
-def get_customer(self,
-                     customer_id)
+def get_addresses(self,
+                      customer_id,
+                      page=None,
+                      size=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| customerId |  ``` Required ```  | Customer Id |
+| customerId |  ``` Required ```  | Customer id |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
+page = 136
+size = 136
 
-result = customers_controller.get_customer(customer_id)
+result = customers_controller.get_addresses(customer_id, page, size)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3939,43 +3944,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="renew_card"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.renew_card") renew_card
+### <a name="create_customer"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.create_customer") create_customer
 
-> Renew a card
+> Creates a new customer
 
 ```python
-def renew_card(self,
-                   customer_id,
-                   card_id,
-                   idempotency_key=None)
+def create_customer(self,
+                        body,
+                        idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| customerId |  ``` Required ```  | Customer id |
-| cardId |  ``` Required ```  | Card Id |
+| body |  ``` Required ```  | Request for creating a customer |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-customer_id = 'customer_id'
-card_id = 'card_id'
+body = CreateCustomerRequest()
 idempotency_key = 'idempotency-key'
 
-result = customers_controller.renew_card(customer_id, card_id, idempotency_key)
+result = customers_controller.create_customer(body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -3985,43 +3987,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_customer_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.update_customer_metadata") update_customer_metadata
+### <a name="create_card"></a>![Method: ](https://apidocs.io/img/method.png ".CustomersController.create_card") create_card
 
-> Updates the metadata a customer
+> Creates a new card for a customer
 
 ```python
-def update_customer_metadata(self,
-                                 customer_id,
-                                 body,
-                                 idempotency_key=None)
+def create_card(self,
+                    customer_id,
+                    body,
+                    idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| customerId |  ``` Required ```  | The customer id |
-| body |  ``` Required ```  | Request for updating the customer metadata |
+| customerId |  ``` Required ```  | Customer id |
+| body |  ``` Required ```  | Request for creating a card |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-body = UpdateMetadataRequest()
+body = CreateCardRequest()
 idempotency_key = 'idempotency-key'
 
-result = customers_controller.update_customer_metadata(customer_id, body, idempotency_key)
+result = customers_controller.create_card(customer_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4043,43 +4045,43 @@
 
 An instance of the ``` ChargesController ``` class can be accessed from the API Client.
 
 ```python
  charges_controller = client.charges
 ```
 
-### <a name="update_charge_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.update_charge_metadata") update_charge_metadata
+### <a name="capture_charge"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.capture_charge") capture_charge
 
-> Updates the metadata from a charge
+> Captures a charge
 
 ```python
-def update_charge_metadata(self,
-                               charge_id,
-                               body,
-                               idempotency_key=None)
+def capture_charge(self,
+                       charge_id,
+                       idempotency_key=None,
+                       body=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| chargeId |  ``` Required ```  | The charge id |
-| body |  ``` Required ```  | Request for updating the charge metadata |
+| chargeId |  ``` Required ```  | Charge id |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| body |  ``` Optional ```  | Request for capturing a charge |
 
 
 
 #### Example Usage
 
 ```python
 charge_id = 'charge_id'
-body = UpdateMetadataRequest()
 idempotency_key = 'idempotency-key'
+body = CreateCaptureChargeRequest()
 
-result = charges_controller.update_charge_metadata(charge_id, body, idempotency_key)
+result = charges_controller.capture_charge(charge_id, idempotency_key, body)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4089,43 +4091,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="capture_charge"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.capture_charge") capture_charge
+### <a name="get_charge_transactions"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.get_charge_transactions") get_charge_transactions
 
-> Captures a charge
+> GetChargeTransactions
 
 ```python
-def capture_charge(self,
-                       charge_id,
-                       idempotency_key=None,
-                       body=None)
+def get_charge_transactions(self,
+                                charge_id,
+                                page=None,
+                                size=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| chargeId |  ``` Required ```  | Charge id |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
-| body |  ``` Optional ```  | Request for capturing a charge |
+| chargeId |  ``` Required ```  | Charge Id |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
 
 
 
 #### Example Usage
 
 ```python
 charge_id = 'charge_id'
-idempotency_key = 'idempotency-key'
-body = CreateCaptureChargeRequest()
+page = 136
+size = 136
 
-result = charges_controller.capture_charge(charge_id, idempotency_key, body)
+result = charges_controller.get_charge_transactions(charge_id, page, size)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4135,43 +4137,61 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_charge_payment_method"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.update_charge_payment_method") update_charge_payment_method
+### <a name="get_charges"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.get_charges") get_charges
 
-> Updates a charge's payment method
+> Lists all charges
 
 ```python
-def update_charge_payment_method(self,
-                                     charge_id,
-                                     body,
-                                     idempotency_key=None)
+def get_charges(self,
+                    page=None,
+                    size=None,
+                    code=None,
+                    status=None,
+                    payment_method=None,
+                    customer_id=None,
+                    order_id=None,
+                    created_since=None,
+                    created_until=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| chargeId |  ``` Required ```  | Charge id |
-| body |  ``` Required ```  | Request for updating the payment method from a charge |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
+| code |  ``` Optional ```  | Filter for charge's code |
+| status |  ``` Optional ```  | Filter for charge's status |
+| paymentMethod |  ``` Optional ```  | Filter for charge's payment method |
+| customerId |  ``` Optional ```  | Filter for charge's customer id |
+| orderId |  ``` Optional ```  | Filter for charge's order id |
+| createdSince |  ``` Optional ```  | Filter for the beginning of the range for charge's creation |
+| createdUntil |  ``` Optional ```  | Filter for the end of the range for charge's creation |
 
 
 
 #### Example Usage
 
 ```python
-charge_id = 'charge_id'
-body = UpdateChargePaymentMethodRequest()
-idempotency_key = 'idempotency-key'
+page = 136
+size = 136
+code = 'code'
+status = 'status'
+payment_method = 'payment_method'
+customer_id = 'customer_id'
+order_id = 'order_id'
+created_since = datetime.now()
+created_until = datetime.now()
 
-result = charges_controller.update_charge_payment_method(charge_id, body, idempotency_key)
+result = charges_controller.get_charges(page, size, code, status, payment_method, customer_id, order_id, created_since, created_until)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4181,43 +4201,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_charge_transactions"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.get_charge_transactions") get_charge_transactions
+### <a name="update_charge_payment_method"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.update_charge_payment_method") update_charge_payment_method
 
-> GetChargeTransactions
+> Updates a charge's payment method
 
 ```python
-def get_charge_transactions(self,
-                                charge_id,
-                                page=None,
-                                size=None)
+def update_charge_payment_method(self,
+                                     charge_id,
+                                     body,
+                                     idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| chargeId |  ``` Required ```  | Charge Id |
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
+| chargeId |  ``` Required ```  | Charge id |
+| body |  ``` Required ```  | Request for updating the payment method from a charge |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 charge_id = 'charge_id'
-page = 104
-size = 104
+body = UpdateChargePaymentMethodRequest()
+idempotency_key = 'idempotency-key'
 
-result = charges_controller.get_charge_transactions(charge_id, page, size)
+result = charges_controller.update_charge_payment_method(charge_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4273,61 +4293,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_charges"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.get_charges") get_charges
+### <a name="confirm_payment"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.confirm_payment") confirm_payment
 
-> Lists all charges
+> ConfirmPayment
 
 ```python
-def get_charges(self,
-                    page=None,
-                    size=None,
-                    code=None,
-                    status=None,
-                    payment_method=None,
-                    customer_id=None,
-                    order_id=None,
-                    created_since=None,
-                    created_until=None)
+def confirm_payment(self,
+                        charge_id,
+                        idempotency_key=None,
+                        body=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
-| code |  ``` Optional ```  | Filter for charge's code |
-| status |  ``` Optional ```  | Filter for charge's status |
-| paymentMethod |  ``` Optional ```  | Filter for charge's payment method |
-| customerId |  ``` Optional ```  | Filter for charge's customer id |
-| orderId |  ``` Optional ```  | Filter for charge's order id |
-| createdSince |  ``` Optional ```  | Filter for the beginning of the range for charge's creation |
-| createdUntil |  ``` Optional ```  | Filter for the end of the range for charge's creation |
+| chargeId |  ``` Required ```  | TODO: Add a parameter description |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| body |  ``` Optional ```  | Request for confirm payment |
 
 
 
 #### Example Usage
 
 ```python
-page = 104
-size = 104
-code = 'code'
-status = 'status'
-payment_method = 'payment_method'
-customer_id = 'customer_id'
-order_id = 'order_id'
-created_since = datetime.now()
-created_until = datetime.now()
+charge_id = 'charge_id'
+idempotency_key = 'idempotency-key'
+body = CreateConfirmPaymentRequest()
 
-result = charges_controller.get_charges(page, size, code, status, payment_method, customer_id, order_id, created_since, created_until)
+result = charges_controller.confirm_payment(charge_id, idempotency_key, body)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4337,43 +4339,37 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_charge_card"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.update_charge_card") update_charge_card
+### <a name="get_charge"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.get_charge") get_charge
 
-> Updates the card from a charge
+> Get a charge from its id
 
 ```python
-def update_charge_card(self,
-                           charge_id,
-                           body,
-                           idempotency_key=None)
+def get_charge(self,
+                   charge_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | chargeId |  ``` Required ```  | Charge id |
-| body |  ``` Required ```  | Request for updating a charge's card |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 charge_id = 'charge_id'
-body = UpdateChargeCardRequest()
-idempotency_key = 'idempotency-key'
 
-result = charges_controller.update_charge_card(charge_id, body, idempotency_key)
+result = charges_controller.get_charge(charge_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4383,37 +4379,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_charge"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.get_charge") get_charge
+### <a name="retry_charge"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.retry_charge") retry_charge
 
-> Get a charge from its id
+> Retries a charge
 
 ```python
-def get_charge(self,
-                   charge_id)
+def retry_charge(self,
+                     charge_id,
+                     idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | chargeId |  ``` Required ```  | Charge id |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 charge_id = 'charge_id'
+idempotency_key = 'idempotency-key'
 
-result = charges_controller.get_charge(charge_id)
+result = charges_controller.retry_charge(charge_id, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4423,43 +4422,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="cancel_charge"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.cancel_charge") cancel_charge
+### <a name="update_charge_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.update_charge_metadata") update_charge_metadata
 
-> Cancel a charge
+> Updates the metadata from a charge
 
 ```python
-def cancel_charge(self,
-                      charge_id,
-                      idempotency_key=None,
-                      body=None)
+def update_charge_metadata(self,
+                               charge_id,
+                               body,
+                               idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| chargeId |  ``` Required ```  | Charge id |
+| chargeId |  ``` Required ```  | The charge id |
+| body |  ``` Required ```  | Request for updating the charge metadata |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
-| body |  ``` Optional ```  | Request for cancelling a charge |
 
 
 
 #### Example Usage
 
 ```python
 charge_id = 'charge_id'
+body = UpdateMetadataRequest()
 idempotency_key = 'idempotency-key'
-body = CreateCancelChargeRequest()
 
-result = charges_controller.cancel_charge(charge_id, idempotency_key, body)
+result = charges_controller.update_charge_metadata(charge_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4469,43 +4468,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_charges_summary"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.get_charges_summary") get_charges_summary
+### <a name="update_charge_card"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.update_charge_card") update_charge_card
 
-> GetChargesSummary
+> Updates the card from a charge
 
 ```python
-def get_charges_summary(self,
-                            status,
-                            created_since=None,
-                            created_until=None)
+def update_charge_card(self,
+                           charge_id,
+                           body,
+                           idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| status |  ``` Required ```  | TODO: Add a parameter description |
-| createdSince |  ``` Optional ```  | TODO: Add a parameter description |
-| createdUntil |  ``` Optional ```  | TODO: Add a parameter description |
+| chargeId |  ``` Required ```  | Charge id |
+| body |  ``` Required ```  | Request for updating a charge's card |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-status = 'status'
-created_since = datetime.now()
-created_until = datetime.now()
+charge_id = 'charge_id'
+body = UpdateChargeCardRequest()
+idempotency_key = 'idempotency-key'
 
-result = charges_controller.get_charges_summary(status, created_since, created_until)
+result = charges_controller.update_charge_card(charge_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4515,40 +4514,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="retry_charge"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.retry_charge") retry_charge
+### <a name="cancel_charge"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.cancel_charge") cancel_charge
 
-> Retries a charge
+> Cancel a charge
 
 ```python
-def retry_charge(self,
-                     charge_id,
-                     idempotency_key=None)
+def cancel_charge(self,
+                      charge_id,
+                      idempotency_key=None,
+                      body=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | chargeId |  ``` Required ```  | Charge id |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| body |  ``` Optional ```  | Request for cancelling a charge |
 
 
 
 #### Example Usage
 
 ```python
 charge_id = 'charge_id'
 idempotency_key = 'idempotency-key'
+body = CreateCancelChargeRequest()
 
-result = charges_controller.retry_charge(charge_id, idempotency_key)
+result = charges_controller.cancel_charge(charge_id, idempotency_key, body)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4558,40 +4560,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_charge"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.create_charge") create_charge
+### <a name="get_charges_summary"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.get_charges_summary") get_charges_summary
 
-> Creates a new charge
+> GetChargesSummary
 
 ```python
-def create_charge(self,
-                      body,
-                      idempotency_key=None)
+def get_charges_summary(self,
+                            status,
+                            created_since=None,
+                            created_until=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| body |  ``` Required ```  | Request for creating a charge |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| status |  ``` Required ```  | TODO: Add a parameter description |
+| createdSince |  ``` Optional ```  | TODO: Add a parameter description |
+| createdUntil |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-body = CreateChargeRequest()
-idempotency_key = 'idempotency-key'
+status = 'status'
+created_since = datetime.now()
+created_until = datetime.now()
 
-result = charges_controller.create_charge(body, idempotency_key)
+result = charges_controller.get_charges_summary(status, created_since, created_until)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4601,43 +4606,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="confirm_payment"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.confirm_payment") confirm_payment
+### <a name="create_charge"></a>![Method: ](https://apidocs.io/img/method.png ".ChargesController.create_charge") create_charge
 
-> ConfirmPayment
+> Creates a new charge
 
 ```python
-def confirm_payment(self,
-                        charge_id,
-                        idempotency_key=None,
-                        body=None)
+def create_charge(self,
+                      body,
+                      idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| chargeId |  ``` Required ```  | TODO: Add a parameter description |
+| body |  ``` Required ```  | Request for creating a charge |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
-| body |  ``` Optional ```  | Request for confirm payment |
 
 
 
 #### Example Usage
 
 ```python
-charge_id = 'charge_id'
+body = CreateChargeRequest()
 idempotency_key = 'idempotency-key'
-body = CreateConfirmPaymentRequest()
 
-result = charges_controller.confirm_payment(charge_id, idempotency_key, body)
+result = charges_controller.create_charge(body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4702,43 +4704,37 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_recipient"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.update_recipient") update_recipient
+### <a name="get_recipient"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_recipient") get_recipient
 
-> Updates a recipient
+> Retrieves recipient information
 
 ```python
-def update_recipient(self,
-                         recipient_id,
-                         body,
-                         idempotency_key=None)
+def get_recipient(self,
+                      recipient_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| recipientId |  ``` Required ```  | Recipient id |
-| body |  ``` Required ```  | Recipient data |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| recipientId |  ``` Required ```  | Recipiend id |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-body = UpdateRecipientRequest()
-idempotency_key = 'idempotency-key'
 
-result = recipients_controller.update_recipient(recipient_id, body, idempotency_key)
+result = recipients_controller.get_recipient(recipient_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4748,37 +4744,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_recipient"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_recipient") get_recipient
+### <a name="update_recipient_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.update_recipient_metadata") update_recipient_metadata
 
-> Retrieves recipient information
+> Updates recipient metadata
 
 ```python
-def get_recipient(self,
-                      recipient_id)
+def update_recipient_metadata(self,
+                                  recipient_id,
+                                  body,
+                                  idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| recipientId |  ``` Required ```  | Recipiend id |
+| recipientId |  ``` Required ```  | Recipient id |
+| body |  ``` Required ```  | Metadata |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
+body = UpdateMetadataRequest()
+idempotency_key = 'idempotency-key'
 
-result = recipients_controller.get_recipient(recipient_id)
+result = recipients_controller.update_recipient_metadata(recipient_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4788,43 +4790,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_anticipation"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.create_anticipation") create_anticipation
+### <a name="create_transfer"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.create_transfer") create_transfer
 
-> Creates an anticipation
+> Creates a transfer for a recipient
 
 ```python
-def create_anticipation(self,
-                            recipient_id,
-                            body,
-                            idempotency_key=None)
+def create_transfer(self,
+                        recipient_id,
+                        body,
+                        idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| recipientId |  ``` Required ```  | Recipient id |
-| body |  ``` Required ```  | Anticipation data |
+| recipientId |  ``` Required ```  | Recipient Id |
+| body |  ``` Required ```  | Transfer data |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-body = CreateAnticipationRequest()
+body = CreateTransferRequest()
 idempotency_key = 'idempotency-key'
 
-result = recipients_controller.create_anticipation(recipient_id, body, idempotency_key)
+result = recipients_controller.create_transfer(recipient_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4834,61 +4836,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_anticipations"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_anticipations") get_anticipations
+### <a name="update_automatic_anticipation_settings"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.update_automatic_anticipation_settings") update_automatic_anticipation_settings
 
-> Retrieves a paginated list of anticipations from a recipient
+> Updates recipient metadata
 
 ```python
-def get_anticipations(self,
-                          recipient_id,
-                          page=None,
-                          size=None,
-                          status=None,
-                          timeframe=None,
-                          payment_date_since=None,
-                          payment_date_until=None,
-                          created_since=None,
-                          created_until=None)
+def update_automatic_anticipation_settings(self,
+                                               recipient_id,
+                                               body,
+                                               idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | recipientId |  ``` Required ```  | Recipient id |
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
-| status |  ``` Optional ```  | Filter for anticipation status |
-| timeframe |  ``` Optional ```  | Filter for anticipation timeframe |
-| paymentDateSince |  ``` Optional ```  | Filter for start range for anticipation payment date |
-| paymentDateUntil |  ``` Optional ```  | Filter for end range for anticipation payment date |
-| createdSince |  ``` Optional ```  | Filter for start range for anticipation creation date |
-| createdUntil |  ``` Optional ```  | Filter for end range for anticipation creation date |
+| body |  ``` Required ```  | Metadata |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-page = 104
-size = 104
-status = 'status'
-timeframe = 'timeframe'
-payment_date_since = datetime.now()
-payment_date_until = datetime.now()
-created_since = datetime.now()
-created_until = datetime.now()
+body = UpdateAutomaticAnticipationSettingsRequest()
+idempotency_key = 'idempotency-key'
 
-result = recipients_controller.get_anticipations(recipient_id, page, size, status, timeframe, payment_date_since, payment_date_until, created_since, created_until)
+result = recipients_controller.update_automatic_anticipation_settings(recipient_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4898,43 +4882,37 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_anticipation_limits"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_anticipation_limits") get_anticipation_limits
+### <a name="get_balance"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_balance") get_balance
 
-> Gets the anticipation limits for a recipient
+> Get balance information for a recipient
 
 ```python
-def get_anticipation_limits(self,
-                                recipient_id,
-                                timeframe,
-                                payment_date)
+def get_balance(self,
+                    recipient_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | recipientId |  ``` Required ```  | Recipient id |
-| timeframe |  ``` Required ```  | Timeframe |
-| paymentDate |  ``` Required ```  | Anticipation payment date |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-timeframe = 'timeframe'
-payment_date = datetime.now()
 
-result = recipients_controller.get_anticipation_limits(recipient_id, timeframe, payment_date)
+result = recipients_controller.get_balance(recipient_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4944,40 +4922,61 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_recipients"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_recipients") get_recipients
+### <a name="get_anticipations"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_anticipations") get_anticipations
 
-> Retrieves paginated recipients information
+> Retrieves a paginated list of anticipations from a recipient
 
 ```python
-def get_recipients(self,
-                       page=None,
-                       size=None)
+def get_anticipations(self,
+                          recipient_id,
+                          page=None,
+                          size=None,
+                          status=None,
+                          timeframe=None,
+                          payment_date_since=None,
+                          payment_date_until=None,
+                          created_since=None,
+                          created_until=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
+| recipientId |  ``` Required ```  | Recipient id |
 | page |  ``` Optional ```  | Page number |
 | size |  ``` Optional ```  | Page size |
+| status |  ``` Optional ```  | Filter for anticipation status |
+| timeframe |  ``` Optional ```  | Filter for anticipation timeframe |
+| paymentDateSince |  ``` Optional ```  | Filter for start range for anticipation payment date |
+| paymentDateUntil |  ``` Optional ```  | Filter for end range for anticipation payment date |
+| createdSince |  ``` Optional ```  | Filter for start range for anticipation creation date |
+| createdUntil |  ``` Optional ```  | Filter for end range for anticipation creation date |
 
 
 
 #### Example Usage
 
 ```python
-page = 104
-size = 104
+recipient_id = 'recipient_id'
+page = 136
+size = 136
+status = 'status'
+timeframe = 'timeframe'
+payment_date_since = datetime.now()
+payment_date_until = datetime.now()
+created_since = datetime.now()
+created_until = datetime.now()
 
-result = recipients_controller.get_recipients(page, size)
+result = recipients_controller.get_anticipations(recipient_id, page, size, status, timeframe, payment_date_since, payment_date_until, created_since, created_until)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -4987,40 +4986,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_recipient"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.create_recipient") create_recipient
+### <a name="get_withdraw_by_id"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_withdraw_by_id") get_withdraw_by_id
 
-> Creates a new recipient
+> GetWithdrawById
 
 ```python
-def create_recipient(self,
-                         body,
-                         idempotency_key=None)
+def get_withdraw_by_id(self,
+                           recipient_id,
+                           withdrawal_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| body |  ``` Required ```  | Recipient data |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| recipientId |  ``` Required ```  | TODO: Add a parameter description |
+| withdrawalId |  ``` Required ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-body = CreateRecipientRequest()
-idempotency_key = 'idempotency-key'
+recipient_id = 'recipient_id'
+withdrawal_id = 'withdrawal_id'
 
-result = recipients_controller.create_recipient(body, idempotency_key)
+result = recipients_controller.get_withdraw_by_id(recipient_id, withdrawal_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5030,40 +5029,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_withdraw_by_id"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_withdraw_by_id") get_withdraw_by_id
+### <a name="create_withdraw"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.create_withdraw") create_withdraw
 
-> GetWithdrawById
+> CreateWithdraw
 
 ```python
-def get_withdraw_by_id(self,
-                           recipient_id,
-                           withdrawal_id)
+def create_withdraw(self,
+                        recipient_id,
+                        body)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | recipientId |  ``` Required ```  | TODO: Add a parameter description |
-| withdrawalId |  ``` Required ```  | TODO: Add a parameter description |
+| body |  ``` Required ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-withdrawal_id = 'withdrawal_id'
+body = CreateWithdrawRequest()
 
-result = recipients_controller.get_withdraw_by_id(recipient_id, withdrawal_id)
+result = recipients_controller.create_withdraw(recipient_id, body)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5073,43 +5072,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_recipient_default_bank_account"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.update_recipient_default_bank_account") update_recipient_default_bank_account
+### <a name="update_recipient"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.update_recipient") update_recipient
 
-> Updates the default bank account from a recipient
+> Updates a recipient
 
 ```python
-def update_recipient_default_bank_account(self,
-                                              recipient_id,
-                                              body,
-                                              idempotency_key=None)
+def update_recipient(self,
+                         recipient_id,
+                         body,
+                         idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | recipientId |  ``` Required ```  | Recipient id |
-| body |  ``` Required ```  | Bank account data |
+| body |  ``` Required ```  | Recipient data |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-body = UpdateRecipientBankAccountRequest()
+body = UpdateRecipientRequest()
 idempotency_key = 'idempotency-key'
 
-result = recipients_controller.update_recipient_default_bank_account(recipient_id, body, idempotency_key)
+result = recipients_controller.update_recipient(recipient_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5119,43 +5118,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_recipient_metadata"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.update_recipient_metadata") update_recipient_metadata
+### <a name="create_anticipation"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.create_anticipation") create_anticipation
 
-> Updates recipient metadata
+> Creates an anticipation
 
 ```python
-def update_recipient_metadata(self,
-                                  recipient_id,
-                                  body,
-                                  idempotency_key=None)
+def create_anticipation(self,
+                            recipient_id,
+                            body,
+                            idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | recipientId |  ``` Required ```  | Recipient id |
-| body |  ``` Required ```  | Metadata |
+| body |  ``` Required ```  | Anticipation data |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-body = UpdateMetadataRequest()
+body = CreateAnticipationRequest()
 idempotency_key = 'idempotency-key'
 
-result = recipients_controller.update_recipient_metadata(recipient_id, body, idempotency_key)
+result = recipients_controller.create_anticipation(recipient_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5165,52 +5164,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_transfers"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_transfers") get_transfers
+### <a name="update_recipient_default_bank_account"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.update_recipient_default_bank_account") update_recipient_default_bank_account
 
-> Gets a paginated list of transfers for the recipient
+> Updates the default bank account from a recipient
 
 ```python
-def get_transfers(self,
-                      recipient_id,
-                      page=None,
-                      size=None,
-                      status=None,
-                      created_since=None,
-                      created_until=None)
+def update_recipient_default_bank_account(self,
+                                              recipient_id,
+                                              body,
+                                              idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | recipientId |  ``` Required ```  | Recipient id |
-| page |  ``` Optional ```  | Page number |
-| size |  ``` Optional ```  | Page size |
-| status |  ``` Optional ```  | Filter for transfer status |
-| createdSince |  ``` Optional ```  | Filter for start range of transfer creation date |
-| createdUntil |  ``` Optional ```  | Filter for end range of transfer creation date |
+| body |  ``` Required ```  | Bank account data |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-page = 104
-size = 104
-status = 'status'
-created_since = datetime.now()
-created_until = datetime.now()
+body = UpdateRecipientBankAccountRequest()
+idempotency_key = 'idempotency-key'
 
-result = recipients_controller.get_transfers(recipient_id, page, size, status, created_since, created_until)
+result = recipients_controller.update_recipient_default_bank_account(recipient_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5220,43 +5210,37 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_transfer"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.create_transfer") create_transfer
+### <a name="get_recipient_by_code"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_recipient_by_code") get_recipient_by_code
 
-> Creates a transfer for a recipient
+> Retrieves recipient information
 
 ```python
-def create_transfer(self,
-                        recipient_id,
-                        body,
-                        idempotency_key=None)
+def get_recipient_by_code(self,
+                              code)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| recipientId |  ``` Required ```  | Recipient Id |
-| body |  ``` Required ```  | Transfer data |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| code |  ``` Required ```  | Recipient code |
 
 
 
 #### Example Usage
 
 ```python
-recipient_id = 'recipient_id'
-body = CreateTransferRequest()
-idempotency_key = 'idempotency-key'
+code = 'code'
 
-result = recipients_controller.create_transfer(recipient_id, body, idempotency_key)
+result = recipients_controller.get_recipient_by_code(code)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5266,40 +5250,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="create_withdraw"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.create_withdraw") create_withdraw
+### <a name="get_anticipation_limits"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_anticipation_limits") get_anticipation_limits
 
-> CreateWithdraw
+> Gets the anticipation limits for a recipient
 
 ```python
-def create_withdraw(self,
-                        recipient_id,
-                        body)
+def get_anticipation_limits(self,
+                                recipient_id,
+                                timeframe,
+                                payment_date)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| recipientId |  ``` Required ```  | TODO: Add a parameter description |
-| body |  ``` Required ```  | TODO: Add a parameter description |
+| recipientId |  ``` Required ```  | Recipient id |
+| timeframe |  ``` Required ```  | Timeframe |
+| paymentDate |  ``` Required ```  | Anticipation payment date |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-body = CreateWithdrawRequest()
+timeframe = 'timeframe'
+payment_date = datetime.now()
 
-result = recipients_controller.create_withdraw(recipient_id, body)
+result = recipients_controller.get_anticipation_limits(recipient_id, timeframe, payment_date)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5309,52 +5296,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_withdrawals"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_withdrawals") get_withdrawals
+### <a name="get_recipients"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_recipients") get_recipients
 
-> Gets a paginated list of transfers for the recipient
+> Retrieves paginated recipients information
 
 ```python
-def get_withdrawals(self,
-                        recipient_id,
-                        page=None,
-                        size=None,
-                        status=None,
-                        created_since=None,
-                        created_until=None)
+def get_recipients(self,
+                       page=None,
+                       size=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| recipientId |  ``` Required ```  | TODO: Add a parameter description |
-| page |  ``` Optional ```  | TODO: Add a parameter description |
-| size |  ``` Optional ```  | TODO: Add a parameter description |
-| status |  ``` Optional ```  | TODO: Add a parameter description |
-| createdSince |  ``` Optional ```  | TODO: Add a parameter description |
-| createdUntil |  ``` Optional ```  | TODO: Add a parameter description |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
 
 
 
 #### Example Usage
 
 ```python
-recipient_id = 'recipient_id'
-page = 104
-size = 104
-status = 'status'
-created_since = datetime.now()
-created_until = datetime.now()
+page = 136
+size = 136
 
-result = recipients_controller.get_withdrawals(recipient_id, page, size, status, created_since, created_until)
+result = recipients_controller.get_recipients(page, size)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5364,43 +5339,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_automatic_anticipation_settings"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.update_automatic_anticipation_settings") update_automatic_anticipation_settings
+### <a name="create_recipient"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.create_recipient") create_recipient
 
-> Updates recipient metadata
+> Creates a new recipient
 
 ```python
-def update_automatic_anticipation_settings(self,
-                                               recipient_id,
-                                               body,
-                                               idempotency_key=None)
+def create_recipient(self,
+                         body,
+                         idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| recipientId |  ``` Required ```  | Recipient id |
-| body |  ``` Required ```  | Metadata |
+| body |  ``` Required ```  | Recipient data |
 | idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-recipient_id = 'recipient_id'
-body = UpdateAutomaticAnticipationSettingsRequest()
+body = CreateRecipientRequest()
 idempotency_key = 'idempotency-key'
 
-result = recipients_controller.update_automatic_anticipation_settings(recipient_id, body, idempotency_key)
+result = recipients_controller.create_recipient(body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5410,40 +5382,52 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_anticipation"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_anticipation") get_anticipation
+### <a name="get_transfers"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_transfers") get_transfers
 
-> Gets an anticipation
+> Gets a paginated list of transfers for the recipient
 
 ```python
-def get_anticipation(self,
-                         recipient_id,
-                         anticipation_id)
+def get_transfers(self,
+                      recipient_id,
+                      page=None,
+                      size=None,
+                      status=None,
+                      created_since=None,
+                      created_until=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | recipientId |  ``` Required ```  | Recipient id |
-| anticipationId |  ``` Required ```  | Anticipation id |
+| page |  ``` Optional ```  | Page number |
+| size |  ``` Optional ```  | Page size |
+| status |  ``` Optional ```  | Filter for transfer status |
+| createdSince |  ``` Optional ```  | Filter for start range of transfer creation date |
+| createdUntil |  ``` Optional ```  | Filter for end range of transfer creation date |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-anticipation_id = 'anticipation_id'
+page = 136
+size = 136
+status = 'status'
+created_since = datetime.now()
+created_until = datetime.now()
 
-result = recipients_controller.get_anticipation(recipient_id, anticipation_id)
+result = recipients_controller.get_transfers(recipient_id, page, size, status, created_since, created_until)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5453,43 +5437,52 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="update_recipient_transfer_settings"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.update_recipient_transfer_settings") update_recipient_transfer_settings
+### <a name="get_withdrawals"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_withdrawals") get_withdrawals
 
-> UpdateRecipientTransferSettings
+> Gets a paginated list of transfers for the recipient
 
 ```python
-def update_recipient_transfer_settings(self,
-                                           recipient_id,
-                                           body,
-                                           idempotency_key=None)
+def get_withdrawals(self,
+                        recipient_id,
+                        page=None,
+                        size=None,
+                        status=None,
+                        created_since=None,
+                        created_until=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| recipientId |  ``` Required ```  | Recipient Identificator |
-| body |  ``` Required ```  | TODO: Add a parameter description |
-| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
+| recipientId |  ``` Required ```  | TODO: Add a parameter description |
+| page |  ``` Optional ```  | TODO: Add a parameter description |
+| size |  ``` Optional ```  | TODO: Add a parameter description |
+| status |  ``` Optional ```  | TODO: Add a parameter description |
+| createdSince |  ``` Optional ```  | TODO: Add a parameter description |
+| createdUntil |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-body = UpdateTransferSettingsRequest()
-idempotency_key = 'idempotency-key'
+page = 136
+size = 136
+status = 'status'
+created_since = datetime.now()
+created_until = datetime.now()
 
-result = recipients_controller.update_recipient_transfer_settings(recipient_id, body, idempotency_key)
+result = recipients_controller.get_withdrawals(recipient_id, page, size, status, created_since, created_until)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5499,37 +5492,40 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_balance"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_balance") get_balance
+### <a name="get_anticipation"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_anticipation") get_anticipation
 
-> Get balance information for a recipient
+> Gets an anticipation
 
 ```python
-def get_balance(self,
-                    recipient_id)
+def get_anticipation(self,
+                         recipient_id,
+                         anticipation_id)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
 | recipientId |  ``` Required ```  | Recipient id |
+| anticipationId |  ``` Required ```  | Anticipation id |
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
+anticipation_id = 'anticipation_id'
 
-result = recipients_controller.get_balance(recipient_id)
+result = recipients_controller.get_anticipation(recipient_id, anticipation_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5539,37 +5535,43 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_recipient_by_code"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.get_recipient_by_code") get_recipient_by_code
+### <a name="update_recipient_transfer_settings"></a>![Method: ](https://apidocs.io/img/method.png ".RecipientsController.update_recipient_transfer_settings") update_recipient_transfer_settings
 
-> Retrieves recipient information
+> UpdateRecipientTransferSettings
 
 ```python
-def get_recipient_by_code(self,
-                              code)
+def update_recipient_transfer_settings(self,
+                                           recipient_id,
+                                           body,
+                                           idempotency_key=None)
 ```
 
 #### Parameters
 
 | Parameter | Tags | Description |
 |-----------|------|-------------|
-| code |  ``` Required ```  | Recipient code |
+| recipientId |  ``` Required ```  | Recipient Identificator |
+| body |  ``` Required ```  | TODO: Add a parameter description |
+| idempotencyKey |  ``` Optional ```  | TODO: Add a parameter description |
 
 
 
 #### Example Usage
 
 ```python
-code = 'code'
+recipient_id = 'recipient_id'
+body = UpdateTransferSettingsRequest()
+idempotency_key = 'idempotency-key'
 
-result = recipients_controller.get_recipient_by_code(code)
+result = recipients_controller.update_recipient_transfer_settings(recipient_id, body, idempotency_key)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5722,47 +5724,37 @@
 | 500 | Internal server error |
 
 
 
 
 [Back to List of Controllers](#list_of_controllers)
 
-## <a name="transactions_controller"></a>![Class: ](https://apidocs.io/img/class.png ".TransactionsController") TransactionsController
+## <a name="transfers_controller"></a>![Class: ](https://apidocs.io/img/class.png ".TransfersController") TransfersController
 
 ### Get controller instance
 
-An instance of the ``` TransactionsController ``` class can be accessed from the API Client.
+An instance of the ``` TransfersController ``` class can be accessed from the API Client.
 
 ```python
- transactions_controller = client.transactions
+ transfers_controller = client.transfers
 ```
 
-### <a name="get_transaction"></a>![Method: ](https://apidocs.io/img/method.png ".TransactionsController.get_transaction") get_transaction
+### <a name="get_transfers_1"></a>![Method: ](https://apidocs.io/img/method.png ".TransfersController.get_transfers_1") get_transfers_1
 
-> GetTransaction
+> Gets all transfers
 
 ```python
-def get_transaction(self,
-                        transaction_id)
+def get_transfers_1(self)
 ```
 
-#### Parameters
-
-| Parameter | Tags | Description |
-|-----------|------|-------------|
-| transactionId |  ``` Required ```  | TODO: Add a parameter description |
-
-
-
 #### Example Usage
 
 ```python
-transaction_id = 'transaction_id'
 
-result = transactions_controller.get_transaction(transaction_id)
+result = transfers_controller.get_transfers_1()
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
@@ -5772,26 +5764,14 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-[Back to List of Controllers](#list_of_controllers)
-
-## <a name="transfers_controller"></a>![Class: ](https://apidocs.io/img/class.png ".TransfersController") TransfersController
-
-### Get controller instance
-
-An instance of the ``` TransfersController ``` class can be accessed from the API Client.
-
-```python
- transfers_controller = client.transfers
-```
-
 ### <a name="get_transfer_by_id"></a>![Method: ](https://apidocs.io/img/method.png ".TransfersController.get_transfer_by_id") get_transfer_by_id
 
 > GetTransferById
 
 ```python
 def get_transfer_by_id(self,
                            transfer_id)
@@ -5864,27 +5844,49 @@
 | 412 | Business validation error |
 | 422 | Contract validation error |
 | 500 | Internal server error |
 
 
 
 
-### <a name="get_transfers_1"></a>![Method: ](https://apidocs.io/img/method.png ".TransfersController.get_transfers_1") get_transfers_1
+[Back to List of Controllers](#list_of_controllers)
 
-> Gets all transfers
+## <a name="transactions_controller"></a>![Class: ](https://apidocs.io/img/class.png ".TransactionsController") TransactionsController
+
+### Get controller instance
+
+An instance of the ``` TransactionsController ``` class can be accessed from the API Client.
 
 ```python
-def get_transfers_1(self)
+ transactions_controller = client.transactions
+```
+
+### <a name="get_transaction"></a>![Method: ](https://apidocs.io/img/method.png ".TransactionsController.get_transaction") get_transaction
+
+> GetTransaction
+
+```python
+def get_transaction(self,
+                        transaction_id)
 ```
 
+#### Parameters
+
+| Parameter | Tags | Description |
+|-----------|------|-------------|
+| transactionId |  ``` Required ```  | TODO: Add a parameter description |
+
+
+
 #### Example Usage
 
 ```python
+transaction_id = 'transaction_id'
 
-result = transfers_controller.get_transfers_1()
+result = transactions_controller.get_transaction(transaction_id)
 
 ```
 
 #### Errors
 
 | Error Code | Error Description |
 |------------|-------------------|
```

